(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();var _s=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ep(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var nm={exports:{}},Hl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g_;function BE(){if(g_)return Hl;g_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,c){var u=null;if(c!==void 0&&(u=""+c),o.key!==void 0&&(u=""+o.key),"key"in o){c={};for(var f in o)f!=="key"&&(c[f]=o[f])}else c=o;return o=c.ref,{$$typeof:i,type:s,key:u,ref:o!==void 0?o:null,props:c}}return Hl.Fragment=e,Hl.jsx=n,Hl.jsxs=n,Hl}var y_;function FE(){return y_||(y_=1,nm.exports=BE()),nm.exports}var y=FE(),rm={exports:{}},Ye={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var __;function HE(){if(__)return Ye;__=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),E=Symbol.iterator;function w(V){return V===null||typeof V!="object"?null:(V=E&&V[E]||V["@@iterator"],typeof V=="function"?V:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,R={};function I(V,G,fe){this.props=V,this.context=G,this.refs=R,this.updater=fe||k}I.prototype.isReactComponent={},I.prototype.setState=function(V,G){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,G,"setState")},I.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function P(){}P.prototype=I.prototype;function z(V,G,fe){this.props=V,this.context=G,this.refs=R,this.updater=fe||k}var Y=z.prototype=new P;Y.constructor=z,A(Y,I.prototype),Y.isPureReactComponent=!0;var $=Array.isArray;function ie(){}var j={H:null,A:null,T:null,S:null},M=Object.prototype.hasOwnProperty;function O(V,G,fe){var de=fe.ref;return{$$typeof:i,type:V,key:G,ref:de!==void 0?de:null,props:fe}}function F(V,G){return O(V.type,G,V.props)}function B(V){return typeof V=="object"&&V!==null&&V.$$typeof===i}function N(V){var G={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(fe){return G[fe]})}var D=/\/+/g;function C(V,G){return typeof V=="object"&&V!==null&&V.key!=null?N(""+V.key):G.toString(36)}function ne(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(ie,ie):(V.status="pending",V.then(function(G){V.status==="pending"&&(V.status="fulfilled",V.value=G)},function(G){V.status==="pending"&&(V.status="rejected",V.reason=G)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function Z(V,G,fe,de,ge){var Ie=typeof V;(Ie==="undefined"||Ie==="boolean")&&(V=null);var Pe=!1;if(V===null)Pe=!0;else switch(Ie){case"bigint":case"string":case"number":Pe=!0;break;case"object":switch(V.$$typeof){case i:case e:Pe=!0;break;case _:return Pe=V._init,Z(Pe(V._payload),G,fe,de,ge)}}if(Pe)return ge=ge(V),Pe=de===""?"."+C(V,0):de,$(ge)?(fe="",Pe!=null&&(fe=Pe.replace(D,"$&/")+"/"),Z(ge,G,fe,"",function(_t){return _t})):ge!=null&&(B(ge)&&(ge=F(ge,fe+(ge.key==null||V&&V.key===ge.key?"":(""+ge.key).replace(D,"$&/")+"/")+Pe)),G.push(ge)),1;Pe=0;var Le=de===""?".":de+":";if($(V))for(var je=0;je<V.length;je++)de=V[je],Ie=Le+C(de,je),Pe+=Z(de,G,fe,Ie,ge);else if(je=w(V),typeof je=="function")for(V=je.call(V),je=0;!(de=V.next()).done;)de=de.value,Ie=Le+C(de,je++),Pe+=Z(de,G,fe,Ie,ge);else if(Ie==="object"){if(typeof V.then=="function")return Z(ne(V),G,fe,de,ge);throw G=String(V),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return Pe}function ee(V,G,fe){if(V==null)return V;var de=[],ge=0;return Z(V,de,"","",function(Ie){return G.call(fe,Ie,ge++)}),de}function Ce(V){if(V._status===-1){var G=V._result;G=G(),G.then(function(fe){(V._status===0||V._status===-1)&&(V._status=1,V._result=fe)},function(fe){(V._status===0||V._status===-1)&&(V._status=2,V._result=fe)}),V._status===-1&&(V._status=0,V._result=G)}if(V._status===1)return V._result.default;throw V._result}var ye=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},ke={map:ee,forEach:function(V,G,fe){ee(V,function(){G.apply(this,arguments)},fe)},count:function(V){var G=0;return ee(V,function(){G++}),G},toArray:function(V){return ee(V,function(G){return G})||[]},only:function(V){if(!B(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Ye.Activity=b,Ye.Children=ke,Ye.Component=I,Ye.Fragment=n,Ye.Profiler=o,Ye.PureComponent=z,Ye.StrictMode=s,Ye.Suspense=p,Ye.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,Ye.__COMPILER_RUNTIME={__proto__:null,c:function(V){return j.H.useMemoCache(V)}},Ye.cache=function(V){return function(){return V.apply(null,arguments)}},Ye.cacheSignal=function(){return null},Ye.cloneElement=function(V,G,fe){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var de=A({},V.props),ge=V.key;if(G!=null)for(Ie in G.key!==void 0&&(ge=""+G.key),G)!M.call(G,Ie)||Ie==="key"||Ie==="__self"||Ie==="__source"||Ie==="ref"&&G.ref===void 0||(de[Ie]=G[Ie]);var Ie=arguments.length-2;if(Ie===1)de.children=fe;else if(1<Ie){for(var Pe=Array(Ie),Le=0;Le<Ie;Le++)Pe[Le]=arguments[Le+2];de.children=Pe}return O(V.type,ge,de)},Ye.createContext=function(V){return V={$$typeof:u,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:c,_context:V},V},Ye.createElement=function(V,G,fe){var de,ge={},Ie=null;if(G!=null)for(de in G.key!==void 0&&(Ie=""+G.key),G)M.call(G,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(ge[de]=G[de]);var Pe=arguments.length-2;if(Pe===1)ge.children=fe;else if(1<Pe){for(var Le=Array(Pe),je=0;je<Pe;je++)Le[je]=arguments[je+2];ge.children=Le}if(V&&V.defaultProps)for(de in Pe=V.defaultProps,Pe)ge[de]===void 0&&(ge[de]=Pe[de]);return O(V,Ie,ge)},Ye.createRef=function(){return{current:null}},Ye.forwardRef=function(V){return{$$typeof:f,render:V}},Ye.isValidElement=B,Ye.lazy=function(V){return{$$typeof:_,_payload:{_status:-1,_result:V},_init:Ce}},Ye.memo=function(V,G){return{$$typeof:g,type:V,compare:G===void 0?null:G}},Ye.startTransition=function(V){var G=j.T,fe={};j.T=fe;try{var de=V(),ge=j.S;ge!==null&&ge(fe,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(ie,ye)}catch(Ie){ye(Ie)}finally{G!==null&&fe.types!==null&&(G.types=fe.types),j.T=G}},Ye.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},Ye.use=function(V){return j.H.use(V)},Ye.useActionState=function(V,G,fe){return j.H.useActionState(V,G,fe)},Ye.useCallback=function(V,G){return j.H.useCallback(V,G)},Ye.useContext=function(V){return j.H.useContext(V)},Ye.useDebugValue=function(){},Ye.useDeferredValue=function(V,G){return j.H.useDeferredValue(V,G)},Ye.useEffect=function(V,G){return j.H.useEffect(V,G)},Ye.useEffectEvent=function(V){return j.H.useEffectEvent(V)},Ye.useId=function(){return j.H.useId()},Ye.useImperativeHandle=function(V,G,fe){return j.H.useImperativeHandle(V,G,fe)},Ye.useInsertionEffect=function(V,G){return j.H.useInsertionEffect(V,G)},Ye.useLayoutEffect=function(V,G){return j.H.useLayoutEffect(V,G)},Ye.useMemo=function(V,G){return j.H.useMemo(V,G)},Ye.useOptimistic=function(V,G){return j.H.useOptimistic(V,G)},Ye.useReducer=function(V,G,fe){return j.H.useReducer(V,G,fe)},Ye.useRef=function(V){return j.H.useRef(V)},Ye.useState=function(V){return j.H.useState(V)},Ye.useSyncExternalStore=function(V,G,fe){return j.H.useSyncExternalStore(V,G,fe)},Ye.useTransition=function(){return j.H.useTransition()},Ye.version="19.2.3",Ye}var v_;function tp(){return v_||(v_=1,rm.exports=HE()),rm.exports}var W=tp();const qE=ep(W);var im={exports:{}},ql={},sm={exports:{}},am={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b_;function GE(){return b_||(b_=1,(function(i){function e(Z,ee){var Ce=Z.length;Z.push(ee);e:for(;0<Ce;){var ye=Ce-1>>>1,ke=Z[ye];if(0<o(ke,ee))Z[ye]=ee,Z[Ce]=ke,Ce=ye;else break e}}function n(Z){return Z.length===0?null:Z[0]}function s(Z){if(Z.length===0)return null;var ee=Z[0],Ce=Z.pop();if(Ce!==ee){Z[0]=Ce;e:for(var ye=0,ke=Z.length,V=ke>>>1;ye<V;){var G=2*(ye+1)-1,fe=Z[G],de=G+1,ge=Z[de];if(0>o(fe,Ce))de<ke&&0>o(ge,fe)?(Z[ye]=ge,Z[de]=Ce,ye=de):(Z[ye]=fe,Z[G]=Ce,ye=G);else if(de<ke&&0>o(ge,Ce))Z[ye]=ge,Z[de]=Ce,ye=de;else break e}}return ee}function o(Z,ee){var Ce=Z.sortIndex-ee.sortIndex;return Ce!==0?Ce:Z.id-ee.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var u=Date,f=u.now();i.unstable_now=function(){return u.now()-f}}var p=[],g=[],_=1,b=null,E=3,w=!1,k=!1,A=!1,R=!1,I=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function Y(Z){for(var ee=n(g);ee!==null;){if(ee.callback===null)s(g);else if(ee.startTime<=Z)s(g),ee.sortIndex=ee.expirationTime,e(p,ee);else break;ee=n(g)}}function $(Z){if(A=!1,Y(Z),!k)if(n(p)!==null)k=!0,ie||(ie=!0,N());else{var ee=n(g);ee!==null&&ne($,ee.startTime-Z)}}var ie=!1,j=-1,M=5,O=-1;function F(){return R?!0:!(i.unstable_now()-O<M)}function B(){if(R=!1,ie){var Z=i.unstable_now();O=Z;var ee=!0;try{e:{k=!1,A&&(A=!1,P(j),j=-1),w=!0;var Ce=E;try{t:{for(Y(Z),b=n(p);b!==null&&!(b.expirationTime>Z&&F());){var ye=b.callback;if(typeof ye=="function"){b.callback=null,E=b.priorityLevel;var ke=ye(b.expirationTime<=Z);if(Z=i.unstable_now(),typeof ke=="function"){b.callback=ke,Y(Z),ee=!0;break t}b===n(p)&&s(p),Y(Z)}else s(p);b=n(p)}if(b!==null)ee=!0;else{var V=n(g);V!==null&&ne($,V.startTime-Z),ee=!1}}break e}finally{b=null,E=Ce,w=!1}ee=void 0}}finally{ee?N():ie=!1}}}var N;if(typeof z=="function")N=function(){z(B)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,C=D.port2;D.port1.onmessage=B,N=function(){C.postMessage(null)}}else N=function(){I(B,0)};function ne(Z,ee){j=I(function(){Z(i.unstable_now())},ee)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Z){Z.callback=null},i.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<Z?Math.floor(1e3/Z):5},i.unstable_getCurrentPriorityLevel=function(){return E},i.unstable_next=function(Z){switch(E){case 1:case 2:case 3:var ee=3;break;default:ee=E}var Ce=E;E=ee;try{return Z()}finally{E=Ce}},i.unstable_requestPaint=function(){R=!0},i.unstable_runWithPriority=function(Z,ee){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var Ce=E;E=Z;try{return ee()}finally{E=Ce}},i.unstable_scheduleCallback=function(Z,ee,Ce){var ye=i.unstable_now();switch(typeof Ce=="object"&&Ce!==null?(Ce=Ce.delay,Ce=typeof Ce=="number"&&0<Ce?ye+Ce:ye):Ce=ye,Z){case 1:var ke=-1;break;case 2:ke=250;break;case 5:ke=1073741823;break;case 4:ke=1e4;break;default:ke=5e3}return ke=Ce+ke,Z={id:_++,callback:ee,priorityLevel:Z,startTime:Ce,expirationTime:ke,sortIndex:-1},Ce>ye?(Z.sortIndex=Ce,e(g,Z),n(p)===null&&Z===n(g)&&(A?(P(j),j=-1):A=!0,ne($,Ce-ye))):(Z.sortIndex=ke,e(p,Z),k||w||(k=!0,ie||(ie=!0,N()))),Z},i.unstable_shouldYield=F,i.unstable_wrapCallback=function(Z){var ee=E;return function(){var Ce=E;E=ee;try{return Z.apply(this,arguments)}finally{E=Ce}}}})(am)),am}var x_;function QE(){return x_||(x_=1,sm.exports=GE()),sm.exports}var om={exports:{}},An={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w_;function KE(){if(w_)return An;w_=1;var i=tp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(p,g,_){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:g,implementation:_}}var u=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return An.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,An.createPortal=function(p,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return c(p,g,null,_)},An.flushSync=function(p){var g=u.T,_=s.p;try{if(u.T=null,s.p=2,p)return p()}finally{u.T=g,s.p=_,s.d.f()}},An.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},An.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},An.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var _=g.as,b=f(_,g.crossOrigin),E=typeof g.integrity=="string"?g.integrity:void 0,w=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:E,fetchPriority:w}):_==="script"&&s.d.X(p,{crossOrigin:b,integrity:E,fetchPriority:w,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},An.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=f(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},An.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,b=f(_,g.crossOrigin);s.d.L(p,_,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},An.preloadModule=function(p,g){if(typeof p=="string")if(g){var _=f(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},An.requestFormReset=function(p){s.d.r(p)},An.unstable_batchedUpdates=function(p,g){return p(g)},An.useFormState=function(p,g,_){return u.H.useFormState(p,g,_)},An.useFormStatus=function(){return u.H.useHostTransitionStatus()},An.version="19.2.3",An}var E_;function YE(){if(E_)return om.exports;E_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),om.exports=KE(),om.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T_;function $E(){if(T_)return ql;T_=1;var i=QE(),e=tp(),n=YE();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function u(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function f(t){if(t.tag===31){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function p(t){if(c(t)!==t)throw Error(s(188))}function g(t){var r=t.alternate;if(!r){if(r=c(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var d=a.return;if(d===null)break;var m=d.alternate;if(m===null){if(l=d.return,l!==null){a=l;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===a)return p(d),t;if(m===l)return p(d),r;m=m.sibling}throw Error(s(188))}if(a.return!==l.return)a=d,l=m;else{for(var x=!1,L=d.child;L;){if(L===a){x=!0,a=d,l=m;break}if(L===l){x=!0,l=d,a=m;break}L=L.sibling}if(!x){for(L=m.child;L;){if(L===a){x=!0,a=m,l=d;break}if(L===l){x=!0,l=m,a=d;break}L=L.sibling}if(!x)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function _(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=_(t),r!==null)return r;t=t.sibling}return null}var b=Object.assign,E=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),P=Symbol.for("react.consumer"),z=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),ie=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),F=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function N(t){return t===null||typeof t!="object"?null:(t=B&&t[B]||t["@@iterator"],typeof t=="function"?t:null)}var D=Symbol.for("react.client.reference");function C(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===D?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case A:return"Fragment";case I:return"Profiler";case R:return"StrictMode";case $:return"Suspense";case ie:return"SuspenseList";case O:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case k:return"Portal";case z:return t.displayName||"Context";case P:return(t._context.displayName||"Context")+".Consumer";case Y:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case j:return r=t.displayName||null,r!==null?r:C(t.type)||"Memo";case M:r=t._payload,t=t._init;try{return C(t(r))}catch{}}return null}var ne=Array.isArray,Z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ce={pending:!1,data:null,method:null,action:null},ye=[],ke=-1;function V(t){return{current:t}}function G(t){0>ke||(t.current=ye[ke],ye[ke]=null,ke--)}function fe(t,r){ke++,ye[ke]=t.current,t.current=r}var de=V(null),ge=V(null),Ie=V(null),Pe=V(null);function Le(t,r){switch(fe(Ie,r),fe(ge,t),fe(de,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?z0(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=z0(r),t=U0(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}G(de),fe(de,t)}function je(){G(de),G(ge),G(Ie)}function _t(t){t.memoizedState!==null&&fe(Pe,t);var r=de.current,a=U0(r,t.type);r!==a&&(fe(ge,t),fe(de,a))}function ft(t){ge.current===t&&(G(de),G(ge)),Pe.current===t&&(G(Pe),zl._currentValue=Ce)}var Ht,Ut;function S(t){if(Ht===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Ht=r&&r[1]||"",Ut=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ht+t+Ut}var ve=!1;function ce(t,r){if(!t||ve)return"";ve=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var we=function(){throw Error()};if(Object.defineProperty(we.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(we,[])}catch(he){var le=he}Reflect.construct(t,[],we)}else{try{we.call()}catch(he){le=he}t.call(we.prototype)}}else{try{throw Error()}catch(he){le=he}(we=t())&&typeof we.catch=="function"&&we.catch(function(){})}}catch(he){if(he&&le&&typeof he.stack=="string")return[he.stack,le.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),x=m[0],L=m[1];if(x&&L){var K=x.split(`
`),oe=L.split(`
`);for(d=l=0;l<K.length&&!K[l].includes("DetermineComponentFrameRoot");)l++;for(;d<oe.length&&!oe[d].includes("DetermineComponentFrameRoot");)d++;if(l===K.length||d===oe.length)for(l=K.length-1,d=oe.length-1;1<=l&&0<=d&&K[l]!==oe[d];)d--;for(;1<=l&&0<=d;l--,d--)if(K[l]!==oe[d]){if(l!==1||d!==1)do if(l--,d--,0>d||K[l]!==oe[d]){var _e=`
`+K[l].replace(" at new "," at ");return t.displayName&&_e.includes("<anonymous>")&&(_e=_e.replace("<anonymous>",t.displayName)),_e}while(1<=l&&0<=d);break}}}finally{ve=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?S(a):""}function Q(t,r){switch(t.tag){case 26:case 27:case 5:return S(t.type);case 16:return S("Lazy");case 13:return t.child!==r&&r!==null?S("Suspense Fallback"):S("Suspense");case 19:return S("SuspenseList");case 0:case 15:return ce(t.type,!1);case 11:return ce(t.type.render,!1);case 1:return ce(t.type,!0);case 31:return S("Activity");default:return""}}function H(t){try{var r="",a=null;do r+=Q(t,a),a=t,t=t.return;while(t);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var q=Object.prototype.hasOwnProperty,se=i.unstable_scheduleCallback,pe=i.unstable_cancelCallback,te=i.unstable_shouldYield,Ee=i.unstable_requestPaint,Se=i.unstable_now,xe=i.unstable_getCurrentPriorityLevel,Ne=i.unstable_ImmediatePriority,Ge=i.unstable_UserBlockingPriority,Qe=i.unstable_NormalPriority,un=i.unstable_LowPriority,nr=i.unstable_IdlePriority,hn=i.log,rr=i.unstable_setDisableYieldValue,lt=null,jt=null;function rn(t){if(typeof hn=="function"&&rr(t),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(lt,t)}catch{}}var ut=Math.clz32?Math.clz32:Et,me=Math.log,Fe=Math.LN2;function Et(t){return t>>>=0,t===0?32:31-(me(t)/Fe|0)|0}var Je=256,Tt=262144,Xe=4194304;function It(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Sn(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var d=0,m=t.suspendedLanes,x=t.pingedLanes;t=t.warmLanes;var L=l&134217727;return L!==0?(l=L&~m,l!==0?d=It(l):(x&=L,x!==0?d=It(x):a||(a=L&~t,a!==0&&(d=It(a))))):(L=l&~m,L!==0?d=It(L):x!==0?d=It(x):a||(a=l&~t,a!==0&&(d=It(a)))),d===0?0:r!==0&&r!==d&&(r&m)===0&&(m=d&-d,a=r&-r,m>=a||m===32&&(a&4194048)!==0)?r:d}function sn(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function _r(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dt(){var t=Xe;return Xe<<=1,(Xe&62914560)===0&&(Xe=4194304),t}function Bn(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function Vs(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function ad(t,r,a,l,d,m){var x=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var L=t.entanglements,K=t.expirationTimes,oe=t.hiddenUpdates;for(a=x&~a;0<a;){var _e=31-ut(a),we=1<<_e;L[_e]=0,K[_e]=-1;var le=oe[_e];if(le!==null)for(oe[_e]=null,_e=0;_e<le.length;_e++){var he=le[_e];he!==null&&(he.lane&=-536870913)}a&=~we}l!==0&&Ps(t,l,0),m!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=m&~(x&~r))}function Ps(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-ut(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function qo(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-ut(a),d=1<<l;d&r|t[l]&r&&(t[l]|=r),a&=~d}}function Go(t,r){var a=r&-r;return a=(a&42)!==0?1:zs(a),(a&(t.suspendedLanes|r))!==0?0:a}function zs(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ai(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Sc(){var t=ee.p;return t!==0?t:(t=window.event,t===void 0?32:c_(t.type))}function vr(t,r){var a=ee.p;try{return ee.p=t,r()}finally{ee.p=a}}var br=Math.random().toString(36).slice(2),Yt="__reactFiber$"+br,dn="__reactProps$"+br,Lr="__reactContainer$"+br,Aa="__reactEvents$"+br,od="__reactListeners$"+br,Ac="__reactHandles$"+br,Cc="__reactResources$"+br,Vr="__reactMarker$"+br;function Ca(t){delete t[Yt],delete t[dn],delete t[Aa],delete t[od],delete t[Ac]}function Pr(t){var r=t[Yt];if(r)return r;for(var a=t.parentNode;a;){if(r=a[Lr]||a[Yt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=K0(t);t!==null;){if(a=t[Yt])return a;t=K0(t)}return r}t=a,a=t.parentNode}return null}function ir(t){if(t=t[Yt]||t[Lr]){var r=t.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return t}return null}function Fn(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function zr(t){var r=t[Cc];return r||(r=t[Cc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function $t(t){t[Vr]=!0}var Qo=new Set,Ko={};function Ur(t,r){Br(t,r),Br(t+"Capture",r)}function Br(t,r){for(Ko[t]=r,t=0;t<r.length;t++)Qo.add(r[t])}var Yo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$o={},Xo={};function Rc(t){return q.call(Xo,t)?!0:q.call($o,t)?!1:Yo.test(t)?Xo[t]=!0:($o[t]=!0,!1)}function Ra(t,r,a){if(Rc(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function Hn(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function Xt(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}function fn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ui(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Wo(t,r,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,r);if(!t.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var d=l.get,m=l.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return d.call(this)},set:function(x){a=""+x,m.call(this,x)}}),Object.defineProperty(t,r,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(x){a=""+x},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function bt(t){if(!t._valueTracker){var r=Ui(t)?"checked":"value";t._valueTracker=Wo(t,r,""+t[r])}}function Us(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=Ui(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function Fr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Bs=/[\n"\\]/g;function On(t){return t.replace(Bs,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Na(t,r,a,l,d,m,x,L){t.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?t.type=x:t.removeAttribute("type"),r!=null?x==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+fn(r)):t.value!==""+fn(r)&&(t.value=""+fn(r)):x!=="submit"&&x!=="reset"||t.removeAttribute("value"),r!=null?Zo(t,x,fn(r)):a!=null?Zo(t,x,fn(a)):l!=null&&t.removeAttribute("value"),d==null&&m!=null&&(t.defaultChecked=!!m),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?t.name=""+fn(L):t.removeAttribute("name")}function Nc(t,r,a,l,d,m,x,L){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),r!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||r!=null)){bt(t);return}a=a!=null?""+fn(a):"",r=r!=null?""+fn(r):a,L||r===t.value||(t.value=r),t.defaultValue=r}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=L?t.checked:!!l,t.defaultChecked=!!l,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(t.name=x),bt(t)}function Zo(t,r,a){r==="number"&&Fr(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Bi(t,r,a,l){if(t=t.options,r){r={};for(var d=0;d<a.length;d++)r["$"+a[d]]=!0;for(a=0;a<t.length;a++)d=r.hasOwnProperty("$"+t[a].value),t[a].selected!==d&&(t[a].selected=d),d&&l&&(t[a].defaultSelected=!0)}else{for(a=""+fn(a),r=null,d=0;d<t.length;d++){if(t[d].value===a){t[d].selected=!0,l&&(t[d].defaultSelected=!0);return}r!==null||t[d].disabled||(r=t[d])}r!==null&&(r.selected=!0)}}function kc(t,r,a){if(r!=null&&(r=""+fn(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+fn(a):""}function Fi(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(ne(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=fn(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),bt(t)}function jn(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var Ic=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Jo(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||Ic.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function el(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var d in r)l=r[d],r.hasOwnProperty(d)&&a[d]!==l&&Jo(t,d,l)}else for(var m in r)r.hasOwnProperty(m)&&Jo(t,m,r[m])}function ka(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Hi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ia(t){return Hi.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function xr(){}var tl=null;function sr(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var qi=null,Hr=null;function Fs(t){var r=ir(t);if(r&&(t=r.stateNode)){var a=t[dn]||null;e:switch(t=r.stateNode,r.type){case"input":if(Na(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+On(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var d=l[dn]||null;if(!d)throw Error(s(90));Na(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&Us(l)}break e;case"textarea":kc(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Bi(t,!!a.multiple,r,!1)}}}var Da=!1;function Gi(t,r,a){if(Da)return t(r,a);Da=!0;try{var l=t(r);return l}finally{if(Da=!1,(qi!==null||Hr!==null)&&(Su(),qi&&(r=qi,t=Hr,Hr=qi=null,Fs(r),t)))for(r=0;r<t.length;r++)Fs(t[r])}}function wr(t,r){var a=t.stateNode;if(a===null)return null;var l=a[dn]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var ar=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hs=!1;if(ar)try{var St={};Object.defineProperty(St,"passive",{get:function(){Hs=!0}}),window.addEventListener("test",St,St),window.removeEventListener("test",St,St)}catch{Hs=!1}var qr=null,nl=null,qs=null;function rl(){if(qs)return qs;var t,r=nl,a=r.length,l,d="value"in qr?qr.value:qr.textContent,m=d.length;for(t=0;t<a&&r[t]===d[t];t++);var x=a-t;for(l=1;l<=x&&r[a-l]===d[m-l];l++);return qs=d.slice(t,1<l?1-l:void 0)}function Gs(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function oi(){return!0}function Er(){return!1}function vn(t){function r(a,l,d,m,x){this._reactName=a,this._targetInst=d,this.type=l,this.nativeEvent=m,this.target=x,this.currentTarget=null;for(var L in t)t.hasOwnProperty(L)&&(a=t[L],this[L]=a?a(m):m[L]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?oi:Er,this.isPropagationStopped=Er,this}return b(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=oi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=oi)},persist:function(){},isPersistent:oi}),r}var li={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gr=vn(li),Qi=b({},li,{view:0,detail:0}),il=vn(Qi),Ki,Oa,Qr,ja=b({},Qi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yi,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Qr&&(Qr&&t.type==="mousemove"?(Ki=t.screenX-Qr.screenX,Oa=t.screenY-Qr.screenY):Oa=Ki=0,Qr=t),Ki)},movementY:function(t){return"movementY"in t?t.movementY:Oa}}),sl=vn(ja),Qs=b({},ja,{dataTransfer:0}),Oc=vn(Qs),jc=b({},Qi,{relatedTarget:0}),Ks=vn(jc),al=b({},li,{animationName:0,elapsedTime:0,pseudoElement:0}),Mc=vn(al),Ma=b({},li,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Lc=vn(Ma),Vc=b({},li,{data:0}),Kr=vn(Vc),Pc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Uc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bc(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Uc[t])?!!r[t]:!1}function Yi(){return Bc}var In=b({},Qi,{key:function(t){if(t.key){var r=Pc[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Gs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?zc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yi,charCode:function(t){return t.type==="keypress"?Gs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Gs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Fc=vn(In),Hc=b({},ja,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ci=vn(Hc),h=b({},Qi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yi}),v=vn(h),T=b({},li,{propertyName:0,elapsedTime:0,pseudoElement:0}),U=vn(T),re=b({},ja,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ue=vn(re),Re=b({},li,{newState:0,oldState:0}),We=vn(Re),qt=[9,13,27,32],gt=ar&&"CompositionEvent"in window,Mt=null;ar&&"documentMode"in document&&(Mt=document.documentMode);var or=ar&&"TextEvent"in window&&!Mt,Yr=ar&&(!gt||Mt&&8<Mt&&11>=Mt),Tr=" ",Sr=!1;function Ys(t,r){switch(t){case"keyup":return qt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function La(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Va=!1;function hw(t,r){switch(t){case"compositionend":return La(r);case"keypress":return r.which!==32?null:(Sr=!0,Tr);case"textInput":return t=r.data,t===Tr&&Sr?null:t;default:return null}}function dw(t,r){if(Va)return t==="compositionend"||!gt&&Ys(t,r)?(t=rl(),qs=nl=qr=null,Va=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Yr&&r.locale!=="ko"?null:r.data;default:return null}}var fw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xp(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!fw[t.type]:r==="textarea"}function Wp(t,r,a,l){qi?Hr?Hr.push(l):Hr=[l]:qi=l,r=Du(r,"onChange"),0<r.length&&(a=new Gr("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var ol=null,ll=null;function mw(t){O0(t,0)}function qc(t){var r=Fn(t);if(Us(r))return t}function Zp(t,r){if(t==="change")return r}var Jp=!1;if(ar){var ld;if(ar){var cd="oninput"in document;if(!cd){var eg=document.createElement("div");eg.setAttribute("oninput","return;"),cd=typeof eg.oninput=="function"}ld=cd}else ld=!1;Jp=ld&&(!document.documentMode||9<document.documentMode)}function tg(){ol&&(ol.detachEvent("onpropertychange",ng),ll=ol=null)}function ng(t){if(t.propertyName==="value"&&qc(ll)){var r=[];Wp(r,ll,t,sr(t)),Gi(mw,r)}}function pw(t,r,a){t==="focusin"?(tg(),ol=r,ll=a,ol.attachEvent("onpropertychange",ng)):t==="focusout"&&tg()}function gw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return qc(ll)}function yw(t,r){if(t==="click")return qc(r)}function _w(t,r){if(t==="input"||t==="change")return qc(r)}function vw(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var qn=typeof Object.is=="function"?Object.is:vw;function cl(t,r){if(qn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var d=a[l];if(!q.call(r,d)||!qn(t[d],r[d]))return!1}return!0}function rg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ig(t,r){var a=rg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=rg(a)}}function sg(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?sg(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function ag(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=Fr(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=Fr(t.document)}return r}function ud(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var bw=ar&&"documentMode"in document&&11>=document.documentMode,Pa=null,hd=null,ul=null,dd=!1;function og(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;dd||Pa==null||Pa!==Fr(l)||(l=Pa,"selectionStart"in l&&ud(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ul&&cl(ul,l)||(ul=l,l=Du(hd,"onSelect"),0<l.length&&(r=new Gr("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=Pa)))}function $s(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var za={animationend:$s("Animation","AnimationEnd"),animationiteration:$s("Animation","AnimationIteration"),animationstart:$s("Animation","AnimationStart"),transitionrun:$s("Transition","TransitionRun"),transitionstart:$s("Transition","TransitionStart"),transitioncancel:$s("Transition","TransitionCancel"),transitionend:$s("Transition","TransitionEnd")},fd={},lg={};ar&&(lg=document.createElement("div").style,"AnimationEvent"in window||(delete za.animationend.animation,delete za.animationiteration.animation,delete za.animationstart.animation),"TransitionEvent"in window||delete za.transitionend.transition);function Xs(t){if(fd[t])return fd[t];if(!za[t])return t;var r=za[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in lg)return fd[t]=r[a];return t}var cg=Xs("animationend"),ug=Xs("animationiteration"),hg=Xs("animationstart"),xw=Xs("transitionrun"),ww=Xs("transitionstart"),Ew=Xs("transitioncancel"),dg=Xs("transitionend"),fg=new Map,md="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");md.push("scrollEnd");function Ar(t,r){fg.set(t,r),Ur(r,[t])}var Gc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},lr=[],Ua=0,pd=0;function Qc(){for(var t=Ua,r=pd=Ua=0;r<t;){var a=lr[r];lr[r++]=null;var l=lr[r];lr[r++]=null;var d=lr[r];lr[r++]=null;var m=lr[r];if(lr[r++]=null,l!==null&&d!==null){var x=l.pending;x===null?d.next=d:(d.next=x.next,x.next=d),l.pending=d}m!==0&&mg(a,d,m)}}function Kc(t,r,a,l){lr[Ua++]=t,lr[Ua++]=r,lr[Ua++]=a,lr[Ua++]=l,pd|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function gd(t,r,a,l){return Kc(t,r,a,l),Yc(t)}function Ws(t,r){return Kc(t,null,null,r),Yc(t)}function mg(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var d=!1,m=t.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(d=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,d&&r!==null&&(d=31-ut(a),t=m.hiddenUpdates,l=t[d],l===null?t[d]=[r]:l.push(r),r.lane=a|536870912),m):null}function Yc(t){if(50<Dl)throw Dl=0,Af=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Ba={};function Tw(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gn(t,r,a,l){return new Tw(t,r,a,l)}function yd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ui(t,r){var a=t.alternate;return a===null?(a=Gn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function pg(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function $c(t,r,a,l,d,m){var x=0;if(l=t,typeof t=="function")yd(t)&&(x=1);else if(typeof t=="string")x=NE(t,a,de.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case O:return t=Gn(31,a,r,d),t.elementType=O,t.lanes=m,t;case A:return Zs(a.children,d,m,r);case R:x=8,d|=24;break;case I:return t=Gn(12,a,r,d|2),t.elementType=I,t.lanes=m,t;case $:return t=Gn(13,a,r,d),t.elementType=$,t.lanes=m,t;case ie:return t=Gn(19,a,r,d),t.elementType=ie,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case z:x=10;break e;case P:x=9;break e;case Y:x=11;break e;case j:x=14;break e;case M:x=16,l=null;break e}x=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=Gn(x,a,r,d),r.elementType=t,r.type=l,r.lanes=m,r}function Zs(t,r,a,l){return t=Gn(7,t,l,r),t.lanes=a,t}function _d(t,r,a){return t=Gn(6,t,null,r),t.lanes=a,t}function gg(t){var r=Gn(18,null,null,0);return r.stateNode=t,r}function vd(t,r,a){return r=Gn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var yg=new WeakMap;function cr(t,r){if(typeof t=="object"&&t!==null){var a=yg.get(t);return a!==void 0?a:(r={value:t,source:r,stack:H(r)},yg.set(t,r),r)}return{value:t,source:r,stack:H(r)}}var Fa=[],Ha=0,Xc=null,hl=0,ur=[],hr=0,$i=null,$r=1,Xr="";function hi(t,r){Fa[Ha++]=hl,Fa[Ha++]=Xc,Xc=t,hl=r}function _g(t,r,a){ur[hr++]=$r,ur[hr++]=Xr,ur[hr++]=$i,$i=t;var l=$r;t=Xr;var d=32-ut(l)-1;l&=~(1<<d),a+=1;var m=32-ut(r)+d;if(30<m){var x=d-d%5;m=(l&(1<<x)-1).toString(32),l>>=x,d-=x,$r=1<<32-ut(r)+d|a<<d|l,Xr=m+t}else $r=1<<m|a<<d|l,Xr=t}function bd(t){t.return!==null&&(hi(t,1),_g(t,1,0))}function xd(t){for(;t===Xc;)Xc=Fa[--Ha],Fa[Ha]=null,hl=Fa[--Ha],Fa[Ha]=null;for(;t===$i;)$i=ur[--hr],ur[hr]=null,Xr=ur[--hr],ur[hr]=null,$r=ur[--hr],ur[hr]=null}function vg(t,r){ur[hr++]=$r,ur[hr++]=Xr,ur[hr++]=$i,$r=r.id,Xr=r.overflow,$i=t}var bn=null,Dt=null,ct=!1,Xi=null,dr=!1,wd=Error(s(519));function Wi(t){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw dl(cr(r,t)),wd}function bg(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[Yt]=t,r[dn]=l,a){case"dialog":nt("cancel",r),nt("close",r);break;case"iframe":case"object":case"embed":nt("load",r);break;case"video":case"audio":for(a=0;a<jl.length;a++)nt(jl[a],r);break;case"source":nt("error",r);break;case"img":case"image":case"link":nt("error",r),nt("load",r);break;case"details":nt("toggle",r);break;case"input":nt("invalid",r),Nc(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":nt("invalid",r);break;case"textarea":nt("invalid",r),Fi(r,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||V0(r.textContent,a)?(l.popover!=null&&(nt("beforetoggle",r),nt("toggle",r)),l.onScroll!=null&&nt("scroll",r),l.onScrollEnd!=null&&nt("scrollend",r),l.onClick!=null&&(r.onclick=xr),r=!0):r=!1,r||Wi(t,!0)}function xg(t){for(bn=t.return;bn;)switch(bn.tag){case 5:case 31:case 13:dr=!1;return;case 27:case 3:dr=!0;return;default:bn=bn.return}}function qa(t){if(t!==bn)return!1;if(!ct)return xg(t),ct=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Bf(t.type,t.memoizedProps)),a=!a),a&&Dt&&Wi(t),xg(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));Dt=Q0(t)}else if(r===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));Dt=Q0(t)}else r===27?(r=Dt,hs(t.type)?(t=Qf,Qf=null,Dt=t):Dt=r):Dt=bn?mr(t.stateNode.nextSibling):null;return!0}function Js(){Dt=bn=null,ct=!1}function Ed(){var t=Xi;return t!==null&&(Pn===null?Pn=t:Pn.push.apply(Pn,t),Xi=null),t}function dl(t){Xi===null?Xi=[t]:Xi.push(t)}var Td=V(null),ea=null,di=null;function Zi(t,r,a){fe(Td,r._currentValue),r._currentValue=a}function fi(t){t._currentValue=Td.current,G(Td)}function Sd(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function Ad(t,r,a,l){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var m=d.dependencies;if(m!==null){var x=d.child;m=m.firstContext;e:for(;m!==null;){var L=m;m=d;for(var K=0;K<r.length;K++)if(L.context===r[K]){m.lanes|=a,L=m.alternate,L!==null&&(L.lanes|=a),Sd(m.return,a,t),l||(x=null);break e}m=L.next}}else if(d.tag===18){if(x=d.return,x===null)throw Error(s(341));x.lanes|=a,m=x.alternate,m!==null&&(m.lanes|=a),Sd(x,a,t),x=null}else x=d.child;if(x!==null)x.return=d;else for(x=d;x!==null;){if(x===t){x=null;break}if(d=x.sibling,d!==null){d.return=x.return,x=d;break}x=x.return}d=x}}function Ga(t,r,a,l){t=null;for(var d=r,m=!1;d!==null;){if(!m){if((d.flags&524288)!==0)m=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var x=d.alternate;if(x===null)throw Error(s(387));if(x=x.memoizedProps,x!==null){var L=d.type;qn(d.pendingProps.value,x.value)||(t!==null?t.push(L):t=[L])}}else if(d===Pe.current){if(x=d.alternate,x===null)throw Error(s(387));x.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(zl):t=[zl])}d=d.return}t!==null&&Ad(r,t,a,l),r.flags|=262144}function Wc(t){for(t=t.firstContext;t!==null;){if(!qn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ta(t){ea=t,di=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function xn(t){return wg(ea,t)}function Zc(t,r){return ea===null&&ta(t),wg(t,r)}function wg(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},di===null){if(t===null)throw Error(s(308));di=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else di=di.next=r;return a}var Sw=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},Aw=i.unstable_scheduleCallback,Cw=i.unstable_NormalPriority,Wt={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Cd(){return{controller:new Sw,data:new Map,refCount:0}}function fl(t){t.refCount--,t.refCount===0&&Aw(Cw,function(){t.controller.abort()})}var ml=null,Rd=0,Qa=0,Ka=null;function Rw(t,r){if(ml===null){var a=ml=[];Rd=0,Qa=Df(),Ka={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Rd++,r.then(Eg,Eg),r}function Eg(){if(--Rd===0&&ml!==null){Ka!==null&&(Ka.status="fulfilled");var t=ml;ml=null,Qa=0,Ka=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function Nw(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var d=0;d<a.length;d++)(0,a[d])(r)},function(d){for(l.status="rejected",l.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),l}var Tg=Z.S;Z.S=function(t,r){o0=Se(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&Rw(t,r),Tg!==null&&Tg(t,r)};var na=V(null);function Nd(){var t=na.current;return t!==null?t:Nt.pooledCache}function Jc(t,r){r===null?fe(na,na.current):fe(na,r.pool)}function Sg(){var t=Nd();return t===null?null:{parent:Wt._currentValue,pool:t}}var Ya=Error(s(460)),kd=Error(s(474)),eu=Error(s(542)),tu={then:function(){}};function Ag(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Cg(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(xr,xr),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Ng(t),t;default:if(typeof r.status=="string")r.then(xr,xr);else{if(t=Nt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var d=r;d.status="fulfilled",d.value=l}},function(l){if(r.status==="pending"){var d=r;d.status="rejected",d.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Ng(t),t}throw ia=r,Ya}}function ra(t){try{var r=t._init;return r(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ia=a,Ya):a}}var ia=null;function Rg(){if(ia===null)throw Error(s(459));var t=ia;return ia=null,t}function Ng(t){if(t===Ya||t===eu)throw Error(s(483))}var $a=null,pl=0;function nu(t){var r=pl;return pl+=1,$a===null&&($a=[]),Cg($a,t,r)}function gl(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function ru(t,r){throw r.$$typeof===E?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function kg(t){function r(J,X){if(t){var ae=J.deletions;ae===null?(J.deletions=[X],J.flags|=16):ae.push(X)}}function a(J,X){if(!t)return null;for(;X!==null;)r(J,X),X=X.sibling;return null}function l(J){for(var X=new Map;J!==null;)J.key!==null?X.set(J.key,J):X.set(J.index,J),J=J.sibling;return X}function d(J,X){return J=ui(J,X),J.index=0,J.sibling=null,J}function m(J,X,ae){return J.index=ae,t?(ae=J.alternate,ae!==null?(ae=ae.index,ae<X?(J.flags|=67108866,X):ae):(J.flags|=67108866,X)):(J.flags|=1048576,X)}function x(J){return t&&J.alternate===null&&(J.flags|=67108866),J}function L(J,X,ae,be){return X===null||X.tag!==6?(X=_d(ae,J.mode,be),X.return=J,X):(X=d(X,ae),X.return=J,X)}function K(J,X,ae,be){var ze=ae.type;return ze===A?_e(J,X,ae.props.children,be,ae.key):X!==null&&(X.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===M&&ra(ze)===X.type)?(X=d(X,ae.props),gl(X,ae),X.return=J,X):(X=$c(ae.type,ae.key,ae.props,null,J.mode,be),gl(X,ae),X.return=J,X)}function oe(J,X,ae,be){return X===null||X.tag!==4||X.stateNode.containerInfo!==ae.containerInfo||X.stateNode.implementation!==ae.implementation?(X=vd(ae,J.mode,be),X.return=J,X):(X=d(X,ae.children||[]),X.return=J,X)}function _e(J,X,ae,be,ze){return X===null||X.tag!==7?(X=Zs(ae,J.mode,be,ze),X.return=J,X):(X=d(X,ae),X.return=J,X)}function we(J,X,ae){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return X=_d(""+X,J.mode,ae),X.return=J,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case w:return ae=$c(X.type,X.key,X.props,null,J.mode,ae),gl(ae,X),ae.return=J,ae;case k:return X=vd(X,J.mode,ae),X.return=J,X;case M:return X=ra(X),we(J,X,ae)}if(ne(X)||N(X))return X=Zs(X,J.mode,ae,null),X.return=J,X;if(typeof X.then=="function")return we(J,nu(X),ae);if(X.$$typeof===z)return we(J,Zc(J,X),ae);ru(J,X)}return null}function le(J,X,ae,be){var ze=X!==null?X.key:null;if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return ze!==null?null:L(J,X,""+ae,be);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case w:return ae.key===ze?K(J,X,ae,be):null;case k:return ae.key===ze?oe(J,X,ae,be):null;case M:return ae=ra(ae),le(J,X,ae,be)}if(ne(ae)||N(ae))return ze!==null?null:_e(J,X,ae,be,null);if(typeof ae.then=="function")return le(J,X,nu(ae),be);if(ae.$$typeof===z)return le(J,X,Zc(J,ae),be);ru(J,ae)}return null}function he(J,X,ae,be,ze){if(typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint")return J=J.get(ae)||null,L(X,J,""+be,ze);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case w:return J=J.get(be.key===null?ae:be.key)||null,K(X,J,be,ze);case k:return J=J.get(be.key===null?ae:be.key)||null,oe(X,J,be,ze);case M:return be=ra(be),he(J,X,ae,be,ze)}if(ne(be)||N(be))return J=J.get(ae)||null,_e(X,J,be,ze,null);if(typeof be.then=="function")return he(J,X,ae,nu(be),ze);if(be.$$typeof===z)return he(J,X,ae,Zc(X,be),ze);ru(X,be)}return null}function Oe(J,X,ae,be){for(var ze=null,mt=null,Me=X,et=X=0,it=null;Me!==null&&et<ae.length;et++){Me.index>et?(it=Me,Me=null):it=Me.sibling;var pt=le(J,Me,ae[et],be);if(pt===null){Me===null&&(Me=it);break}t&&Me&&pt.alternate===null&&r(J,Me),X=m(pt,X,et),mt===null?ze=pt:mt.sibling=pt,mt=pt,Me=it}if(et===ae.length)return a(J,Me),ct&&hi(J,et),ze;if(Me===null){for(;et<ae.length;et++)Me=we(J,ae[et],be),Me!==null&&(X=m(Me,X,et),mt===null?ze=Me:mt.sibling=Me,mt=Me);return ct&&hi(J,et),ze}for(Me=l(Me);et<ae.length;et++)it=he(Me,J,et,ae[et],be),it!==null&&(t&&it.alternate!==null&&Me.delete(it.key===null?et:it.key),X=m(it,X,et),mt===null?ze=it:mt.sibling=it,mt=it);return t&&Me.forEach(function(gs){return r(J,gs)}),ct&&hi(J,et),ze}function Be(J,X,ae,be){if(ae==null)throw Error(s(151));for(var ze=null,mt=null,Me=X,et=X=0,it=null,pt=ae.next();Me!==null&&!pt.done;et++,pt=ae.next()){Me.index>et?(it=Me,Me=null):it=Me.sibling;var gs=le(J,Me,pt.value,be);if(gs===null){Me===null&&(Me=it);break}t&&Me&&gs.alternate===null&&r(J,Me),X=m(gs,X,et),mt===null?ze=gs:mt.sibling=gs,mt=gs,Me=it}if(pt.done)return a(J,Me),ct&&hi(J,et),ze;if(Me===null){for(;!pt.done;et++,pt=ae.next())pt=we(J,pt.value,be),pt!==null&&(X=m(pt,X,et),mt===null?ze=pt:mt.sibling=pt,mt=pt);return ct&&hi(J,et),ze}for(Me=l(Me);!pt.done;et++,pt=ae.next())pt=he(Me,J,et,pt.value,be),pt!==null&&(t&&pt.alternate!==null&&Me.delete(pt.key===null?et:pt.key),X=m(pt,X,et),mt===null?ze=pt:mt.sibling=pt,mt=pt);return t&&Me.forEach(function(UE){return r(J,UE)}),ct&&hi(J,et),ze}function Rt(J,X,ae,be){if(typeof ae=="object"&&ae!==null&&ae.type===A&&ae.key===null&&(ae=ae.props.children),typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case w:e:{for(var ze=ae.key;X!==null;){if(X.key===ze){if(ze=ae.type,ze===A){if(X.tag===7){a(J,X.sibling),be=d(X,ae.props.children),be.return=J,J=be;break e}}else if(X.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===M&&ra(ze)===X.type){a(J,X.sibling),be=d(X,ae.props),gl(be,ae),be.return=J,J=be;break e}a(J,X);break}else r(J,X);X=X.sibling}ae.type===A?(be=Zs(ae.props.children,J.mode,be,ae.key),be.return=J,J=be):(be=$c(ae.type,ae.key,ae.props,null,J.mode,be),gl(be,ae),be.return=J,J=be)}return x(J);case k:e:{for(ze=ae.key;X!==null;){if(X.key===ze)if(X.tag===4&&X.stateNode.containerInfo===ae.containerInfo&&X.stateNode.implementation===ae.implementation){a(J,X.sibling),be=d(X,ae.children||[]),be.return=J,J=be;break e}else{a(J,X);break}else r(J,X);X=X.sibling}be=vd(ae,J.mode,be),be.return=J,J=be}return x(J);case M:return ae=ra(ae),Rt(J,X,ae,be)}if(ne(ae))return Oe(J,X,ae,be);if(N(ae)){if(ze=N(ae),typeof ze!="function")throw Error(s(150));return ae=ze.call(ae),Be(J,X,ae,be)}if(typeof ae.then=="function")return Rt(J,X,nu(ae),be);if(ae.$$typeof===z)return Rt(J,X,Zc(J,ae),be);ru(J,ae)}return typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint"?(ae=""+ae,X!==null&&X.tag===6?(a(J,X.sibling),be=d(X,ae),be.return=J,J=be):(a(J,X),be=_d(ae,J.mode,be),be.return=J,J=be),x(J)):a(J,X)}return function(J,X,ae,be){try{pl=0;var ze=Rt(J,X,ae,be);return $a=null,ze}catch(Me){if(Me===Ya||Me===eu)throw Me;var mt=Gn(29,Me,null,J.mode);return mt.lanes=be,mt.return=J,mt}finally{}}}var sa=kg(!0),Ig=kg(!1),Ji=!1;function Id(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Dd(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function es(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ts(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(yt&2)!==0){var d=l.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),l.pending=r,r=Yc(t),mg(t,null,a),r}return Kc(t,l,r,a),Yc(t)}function yl(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,qo(t,a)}}function Od(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var d=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var x={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?d=m=x:m=m.next=x,a=a.next}while(a!==null);m===null?d=m=r:m=m.next=r}else d=m=r;a={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var jd=!1;function _l(){if(jd){var t=Ka;if(t!==null)throw t}}function vl(t,r,a,l){jd=!1;var d=t.updateQueue;Ji=!1;var m=d.firstBaseUpdate,x=d.lastBaseUpdate,L=d.shared.pending;if(L!==null){d.shared.pending=null;var K=L,oe=K.next;K.next=null,x===null?m=oe:x.next=oe,x=K;var _e=t.alternate;_e!==null&&(_e=_e.updateQueue,L=_e.lastBaseUpdate,L!==x&&(L===null?_e.firstBaseUpdate=oe:L.next=oe,_e.lastBaseUpdate=K))}if(m!==null){var we=d.baseState;x=0,_e=oe=K=null,L=m;do{var le=L.lane&-536870913,he=le!==L.lane;if(he?(rt&le)===le:(l&le)===le){le!==0&&le===Qa&&(jd=!0),_e!==null&&(_e=_e.next={lane:0,tag:L.tag,payload:L.payload,callback:null,next:null});e:{var Oe=t,Be=L;le=r;var Rt=a;switch(Be.tag){case 1:if(Oe=Be.payload,typeof Oe=="function"){we=Oe.call(Rt,we,le);break e}we=Oe;break e;case 3:Oe.flags=Oe.flags&-65537|128;case 0:if(Oe=Be.payload,le=typeof Oe=="function"?Oe.call(Rt,we,le):Oe,le==null)break e;we=b({},we,le);break e;case 2:Ji=!0}}le=L.callback,le!==null&&(t.flags|=64,he&&(t.flags|=8192),he=d.callbacks,he===null?d.callbacks=[le]:he.push(le))}else he={lane:le,tag:L.tag,payload:L.payload,callback:L.callback,next:null},_e===null?(oe=_e=he,K=we):_e=_e.next=he,x|=le;if(L=L.next,L===null){if(L=d.shared.pending,L===null)break;he=L,L=he.next,he.next=null,d.lastBaseUpdate=he,d.shared.pending=null}}while(!0);_e===null&&(K=we),d.baseState=K,d.firstBaseUpdate=oe,d.lastBaseUpdate=_e,m===null&&(d.shared.lanes=0),as|=x,t.lanes=x,t.memoizedState=we}}function Dg(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function Og(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Dg(a[t],r)}var Xa=V(null),iu=V(0);function jg(t,r){t=wi,fe(iu,t),fe(Xa,r),wi=t|r.baseLanes}function Md(){fe(iu,wi),fe(Xa,Xa.current)}function Ld(){wi=iu.current,G(Xa),G(iu)}var Qn=V(null),fr=null;function ns(t){var r=t.alternate;fe(Gt,Gt.current&1),fe(Qn,t),fr===null&&(r===null||Xa.current!==null||r.memoizedState!==null)&&(fr=t)}function Vd(t){fe(Gt,Gt.current),fe(Qn,t),fr===null&&(fr=t)}function Mg(t){t.tag===22?(fe(Gt,Gt.current),fe(Qn,t),fr===null&&(fr=t)):rs()}function rs(){fe(Gt,Gt.current),fe(Qn,Qn.current)}function Kn(t){G(Qn),fr===t&&(fr=null),G(Gt)}var Gt=V(0);function su(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||qf(a)||Gf(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var mi=0,Ze=null,At=null,Zt=null,au=!1,Wa=!1,aa=!1,ou=0,bl=0,Za=null,kw=0;function Bt(){throw Error(s(321))}function Pd(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!qn(t[a],r[a]))return!1;return!0}function zd(t,r,a,l,d,m){return mi=m,Ze=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Z.H=t===null||t.memoizedState===null?_y:ef,aa=!1,m=a(l,d),aa=!1,Wa&&(m=Vg(r,a,l,d)),Lg(t),m}function Lg(t){Z.H=El;var r=At!==null&&At.next!==null;if(mi=0,Zt=At=Ze=null,au=!1,bl=0,Za=null,r)throw Error(s(300));t===null||Jt||(t=t.dependencies,t!==null&&Wc(t)&&(Jt=!0))}function Vg(t,r,a,l){Ze=t;var d=0;do{if(Wa&&(Za=null),bl=0,Wa=!1,25<=d)throw Error(s(301));if(d+=1,Zt=At=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}Z.H=vy,m=r(a,l)}while(Wa);return m}function Iw(){var t=Z.H,r=t.useState()[0];return r=typeof r.then=="function"?xl(r):r,t=t.useState()[0],(At!==null?At.memoizedState:null)!==t&&(Ze.flags|=1024),r}function Ud(){var t=ou!==0;return ou=0,t}function Bd(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function Fd(t){if(au){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}au=!1}mi=0,Zt=At=Ze=null,Wa=!1,bl=ou=0,Za=null}function Dn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zt===null?Ze.memoizedState=Zt=t:Zt=Zt.next=t,Zt}function Qt(){if(At===null){var t=Ze.alternate;t=t!==null?t.memoizedState:null}else t=At.next;var r=Zt===null?Ze.memoizedState:Zt.next;if(r!==null)Zt=r,At=t;else{if(t===null)throw Ze.alternate===null?Error(s(467)):Error(s(310));At=t,t={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},Zt===null?Ze.memoizedState=Zt=t:Zt=Zt.next=t}return Zt}function lu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function xl(t){var r=bl;return bl+=1,Za===null&&(Za=[]),t=Cg(Za,t,r),r=Ze,(Zt===null?r.memoizedState:Zt.next)===null&&(r=r.alternate,Z.H=r===null||r.memoizedState===null?_y:ef),t}function cu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return xl(t);if(t.$$typeof===z)return xn(t)}throw Error(s(438,String(t)))}function Hd(t){var r=null,a=Ze.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Ze.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(d){return d.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=lu(),Ze.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=F;return r.index++,a}function pi(t,r){return typeof r=="function"?r(t):r}function uu(t){var r=Qt();return qd(r,At,t)}function qd(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var d=t.baseQueue,m=l.pending;if(m!==null){if(d!==null){var x=d.next;d.next=m.next,m.next=x}r.baseQueue=d=m,l.pending=null}if(m=t.baseState,d===null)t.memoizedState=m;else{r=d.next;var L=x=null,K=null,oe=r,_e=!1;do{var we=oe.lane&-536870913;if(we!==oe.lane?(rt&we)===we:(mi&we)===we){var le=oe.revertLane;if(le===0)K!==null&&(K=K.next={lane:0,revertLane:0,gesture:null,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null}),we===Qa&&(_e=!0);else if((mi&le)===le){oe=oe.next,le===Qa&&(_e=!0);continue}else we={lane:0,revertLane:oe.revertLane,gesture:null,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null},K===null?(L=K=we,x=m):K=K.next=we,Ze.lanes|=le,as|=le;we=oe.action,aa&&a(m,we),m=oe.hasEagerState?oe.eagerState:a(m,we)}else le={lane:we,revertLane:oe.revertLane,gesture:oe.gesture,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null},K===null?(L=K=le,x=m):K=K.next=le,Ze.lanes|=we,as|=we;oe=oe.next}while(oe!==null&&oe!==r);if(K===null?x=m:K.next=L,!qn(m,t.memoizedState)&&(Jt=!0,_e&&(a=Ka,a!==null)))throw a;t.memoizedState=m,t.baseState=x,t.baseQueue=K,l.lastRenderedState=m}return d===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Gd(t){var r=Qt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,d=a.pending,m=r.memoizedState;if(d!==null){a.pending=null;var x=d=d.next;do m=t(m,x.action),x=x.next;while(x!==d);qn(m,r.memoizedState)||(Jt=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),a.lastRenderedState=m}return[m,l]}function Pg(t,r,a){var l=Ze,d=Qt(),m=ct;if(m){if(a===void 0)throw Error(s(407));a=a()}else a=r();var x=!qn((At||d).memoizedState,a);if(x&&(d.memoizedState=a,Jt=!0),d=d.queue,Yd(Bg.bind(null,l,d,t),[t]),d.getSnapshot!==r||x||Zt!==null&&Zt.memoizedState.tag&1){if(l.flags|=2048,Ja(9,{destroy:void 0},Ug.bind(null,l,d,a,r),null),Nt===null)throw Error(s(349));m||(mi&127)!==0||zg(l,r,a)}return a}function zg(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=Ze.updateQueue,r===null?(r=lu(),Ze.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function Ug(t,r,a,l){r.value=a,r.getSnapshot=l,Fg(r)&&Hg(t)}function Bg(t,r,a){return a(function(){Fg(r)&&Hg(t)})}function Fg(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!qn(t,a)}catch{return!0}}function Hg(t){var r=Ws(t,2);r!==null&&zn(r,t,2)}function Qd(t){var r=Dn();if(typeof t=="function"){var a=t;if(t=a(),aa){rn(!0);try{a()}finally{rn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pi,lastRenderedState:t},r}function qg(t,r,a,l){return t.baseState=a,qd(t,At,typeof l=="function"?l:pi)}function Dw(t,r,a,l,d){if(fu(t))throw Error(s(485));if(t=r.action,t!==null){var m={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){m.listeners.push(x)}};Z.T!==null?a(!0):m.isTransition=!1,l(m),a=r.pending,a===null?(m.next=r.pending=m,Gg(r,m)):(m.next=a.next,r.pending=a.next=m)}}function Gg(t,r){var a=r.action,l=r.payload,d=t.state;if(r.isTransition){var m=Z.T,x={};Z.T=x;try{var L=a(d,l),K=Z.S;K!==null&&K(x,L),Qg(t,r,L)}catch(oe){Kd(t,r,oe)}finally{m!==null&&x.types!==null&&(m.types=x.types),Z.T=m}}else try{m=a(d,l),Qg(t,r,m)}catch(oe){Kd(t,r,oe)}}function Qg(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Kg(t,r,l)},function(l){return Kd(t,r,l)}):Kg(t,r,a)}function Kg(t,r,a){r.status="fulfilled",r.value=a,Yg(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,Gg(t,a)))}function Kd(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,Yg(r),r=r.next;while(r!==l)}t.action=null}function Yg(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function $g(t,r){return r}function Xg(t,r){if(ct){var a=Nt.formState;if(a!==null){e:{var l=Ze;if(ct){if(Dt){t:{for(var d=Dt,m=dr;d.nodeType!==8;){if(!m){d=null;break t}if(d=mr(d.nextSibling),d===null){d=null;break t}}m=d.data,d=m==="F!"||m==="F"?d:null}if(d){Dt=mr(d.nextSibling),l=d.data==="F!";break e}}Wi(l)}l=!1}l&&(r=a[0])}}return a=Dn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$g,lastRenderedState:r},a.queue=l,a=py.bind(null,Ze,l),l.dispatch=a,l=Qd(!1),m=Jd.bind(null,Ze,!1,l.queue),l=Dn(),d={state:r,dispatch:null,action:t,pending:null},l.queue=d,a=Dw.bind(null,Ze,d,m,a),d.dispatch=a,l.memoizedState=t,[r,a,!1]}function Wg(t){var r=Qt();return Zg(r,At,t)}function Zg(t,r,a){if(r=qd(t,r,$g)[0],t=uu(pi)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=xl(r)}catch(x){throw x===Ya?eu:x}else l=r;r=Qt();var d=r.queue,m=d.dispatch;return a!==r.memoizedState&&(Ze.flags|=2048,Ja(9,{destroy:void 0},Ow.bind(null,d,a),null)),[l,m,t]}function Ow(t,r){t.action=r}function Jg(t){var r=Qt(),a=At;if(a!==null)return Zg(r,a,t);Qt(),r=r.memoizedState,a=Qt();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function Ja(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=Ze.updateQueue,r===null&&(r=lu(),Ze.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function ey(){return Qt().memoizedState}function hu(t,r,a,l){var d=Dn();Ze.flags|=t,d.memoizedState=Ja(1|r,{destroy:void 0},a,l===void 0?null:l)}function du(t,r,a,l){var d=Qt();l=l===void 0?null:l;var m=d.memoizedState.inst;At!==null&&l!==null&&Pd(l,At.memoizedState.deps)?d.memoizedState=Ja(r,m,a,l):(Ze.flags|=t,d.memoizedState=Ja(1|r,m,a,l))}function ty(t,r){hu(8390656,8,t,r)}function Yd(t,r){du(2048,8,t,r)}function jw(t){Ze.flags|=4;var r=Ze.updateQueue;if(r===null)r=lu(),Ze.updateQueue=r,r.events=[t];else{var a=r.events;a===null?r.events=[t]:a.push(t)}}function ny(t){var r=Qt().memoizedState;return jw({ref:r,nextImpl:t}),function(){if((yt&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function ry(t,r){return du(4,2,t,r)}function iy(t,r){return du(4,4,t,r)}function sy(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function ay(t,r,a){a=a!=null?a.concat([t]):null,du(4,4,sy.bind(null,r,t),a)}function $d(){}function oy(t,r){var a=Qt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Pd(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function ly(t,r){var a=Qt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Pd(r,l[1]))return l[0];if(l=t(),aa){rn(!0);try{t()}finally{rn(!1)}}return a.memoizedState=[l,r],l}function Xd(t,r,a){return a===void 0||(mi&1073741824)!==0&&(rt&261930)===0?t.memoizedState=r:(t.memoizedState=a,t=c0(),Ze.lanes|=t,as|=t,a)}function cy(t,r,a,l){return qn(a,r)?a:Xa.current!==null?(t=Xd(t,a,l),qn(t,r)||(Jt=!0),t):(mi&42)===0||(mi&1073741824)!==0&&(rt&261930)===0?(Jt=!0,t.memoizedState=a):(t=c0(),Ze.lanes|=t,as|=t,r)}function uy(t,r,a,l,d){var m=ee.p;ee.p=m!==0&&8>m?m:8;var x=Z.T,L={};Z.T=L,Jd(t,!1,r,a);try{var K=d(),oe=Z.S;if(oe!==null&&oe(L,K),K!==null&&typeof K=="object"&&typeof K.then=="function"){var _e=Nw(K,l);wl(t,r,_e,Xn(t))}else wl(t,r,l,Xn(t))}catch(we){wl(t,r,{then:function(){},status:"rejected",reason:we},Xn())}finally{ee.p=m,x!==null&&L.types!==null&&(x.types=L.types),Z.T=x}}function Mw(){}function Wd(t,r,a,l){if(t.tag!==5)throw Error(s(476));var d=hy(t).queue;uy(t,d,r,Ce,a===null?Mw:function(){return dy(t),a(l)})}function hy(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:Ce,baseState:Ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pi,lastRenderedState:Ce},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pi,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function dy(t){var r=hy(t);r.next===null&&(r=t.alternate.memoizedState),wl(t,r.next.queue,{},Xn())}function Zd(){return xn(zl)}function fy(){return Qt().memoizedState}function my(){return Qt().memoizedState}function Lw(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=Xn();t=es(a);var l=ts(r,t,a);l!==null&&(zn(l,r,a),yl(l,r,a)),r={cache:Cd()},t.payload=r;return}r=r.return}}function Vw(t,r,a){var l=Xn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},fu(t)?gy(r,a):(a=gd(t,r,a,l),a!==null&&(zn(a,t,l),yy(a,r,l)))}function py(t,r,a){var l=Xn();wl(t,r,a,l)}function wl(t,r,a,l){var d={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(fu(t))gy(r,d);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var x=r.lastRenderedState,L=m(x,a);if(d.hasEagerState=!0,d.eagerState=L,qn(L,x))return Kc(t,r,d,0),Nt===null&&Qc(),!1}catch{}finally{}if(a=gd(t,r,d,l),a!==null)return zn(a,t,l),yy(a,r,l),!0}return!1}function Jd(t,r,a,l){if(l={lane:2,revertLane:Df(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},fu(t)){if(r)throw Error(s(479))}else r=gd(t,a,l,2),r!==null&&zn(r,t,2)}function fu(t){var r=t.alternate;return t===Ze||r!==null&&r===Ze}function gy(t,r){Wa=au=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function yy(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,qo(t,a)}}var El={readContext:xn,use:cu,useCallback:Bt,useContext:Bt,useEffect:Bt,useImperativeHandle:Bt,useLayoutEffect:Bt,useInsertionEffect:Bt,useMemo:Bt,useReducer:Bt,useRef:Bt,useState:Bt,useDebugValue:Bt,useDeferredValue:Bt,useTransition:Bt,useSyncExternalStore:Bt,useId:Bt,useHostTransitionStatus:Bt,useFormState:Bt,useActionState:Bt,useOptimistic:Bt,useMemoCache:Bt,useCacheRefresh:Bt};El.useEffectEvent=Bt;var _y={readContext:xn,use:cu,useCallback:function(t,r){return Dn().memoizedState=[t,r===void 0?null:r],t},useContext:xn,useEffect:ty,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,hu(4194308,4,sy.bind(null,r,t),a)},useLayoutEffect:function(t,r){return hu(4194308,4,t,r)},useInsertionEffect:function(t,r){hu(4,2,t,r)},useMemo:function(t,r){var a=Dn();r=r===void 0?null:r;var l=t();if(aa){rn(!0);try{t()}finally{rn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=Dn();if(a!==void 0){var d=a(r);if(aa){rn(!0);try{a(r)}finally{rn(!1)}}}else d=r;return l.memoizedState=l.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},l.queue=t,t=t.dispatch=Vw.bind(null,Ze,t),[l.memoizedState,t]},useRef:function(t){var r=Dn();return t={current:t},r.memoizedState=t},useState:function(t){t=Qd(t);var r=t.queue,a=py.bind(null,Ze,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:$d,useDeferredValue:function(t,r){var a=Dn();return Xd(a,t,r)},useTransition:function(){var t=Qd(!1);return t=uy.bind(null,Ze,t.queue,!0,!1),Dn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=Ze,d=Dn();if(ct){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),Nt===null)throw Error(s(349));(rt&127)!==0||zg(l,r,a)}d.memoizedState=a;var m={value:a,getSnapshot:r};return d.queue=m,ty(Bg.bind(null,l,m,t),[t]),l.flags|=2048,Ja(9,{destroy:void 0},Ug.bind(null,l,m,a,r),null),a},useId:function(){var t=Dn(),r=Nt.identifierPrefix;if(ct){var a=Xr,l=$r;a=(l&~(1<<32-ut(l)-1)).toString(32)+a,r="_"+r+"R_"+a,a=ou++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=kw++,r="_"+r+"r_"+a.toString(32)+"_";return t.memoizedState=r},useHostTransitionStatus:Zd,useFormState:Xg,useActionState:Xg,useOptimistic:function(t){var r=Dn();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Jd.bind(null,Ze,!0,a),a.dispatch=r,[t,r]},useMemoCache:Hd,useCacheRefresh:function(){return Dn().memoizedState=Lw.bind(null,Ze)},useEffectEvent:function(t){var r=Dn(),a={impl:t};return r.memoizedState=a,function(){if((yt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},ef={readContext:xn,use:cu,useCallback:oy,useContext:xn,useEffect:Yd,useImperativeHandle:ay,useInsertionEffect:ry,useLayoutEffect:iy,useMemo:ly,useReducer:uu,useRef:ey,useState:function(){return uu(pi)},useDebugValue:$d,useDeferredValue:function(t,r){var a=Qt();return cy(a,At.memoizedState,t,r)},useTransition:function(){var t=uu(pi)[0],r=Qt().memoizedState;return[typeof t=="boolean"?t:xl(t),r]},useSyncExternalStore:Pg,useId:fy,useHostTransitionStatus:Zd,useFormState:Wg,useActionState:Wg,useOptimistic:function(t,r){var a=Qt();return qg(a,At,t,r)},useMemoCache:Hd,useCacheRefresh:my};ef.useEffectEvent=ny;var vy={readContext:xn,use:cu,useCallback:oy,useContext:xn,useEffect:Yd,useImperativeHandle:ay,useInsertionEffect:ry,useLayoutEffect:iy,useMemo:ly,useReducer:Gd,useRef:ey,useState:function(){return Gd(pi)},useDebugValue:$d,useDeferredValue:function(t,r){var a=Qt();return At===null?Xd(a,t,r):cy(a,At.memoizedState,t,r)},useTransition:function(){var t=Gd(pi)[0],r=Qt().memoizedState;return[typeof t=="boolean"?t:xl(t),r]},useSyncExternalStore:Pg,useId:fy,useHostTransitionStatus:Zd,useFormState:Jg,useActionState:Jg,useOptimistic:function(t,r){var a=Qt();return At!==null?qg(a,At,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Hd,useCacheRefresh:my};vy.useEffectEvent=ny;function tf(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:b({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var nf={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=Xn(),d=es(l);d.payload=r,a!=null&&(d.callback=a),r=ts(t,d,l),r!==null&&(zn(r,t,l),yl(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=Xn(),d=es(l);d.tag=1,d.payload=r,a!=null&&(d.callback=a),r=ts(t,d,l),r!==null&&(zn(r,t,l),yl(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=Xn(),l=es(a);l.tag=2,r!=null&&(l.callback=r),r=ts(t,l,a),r!==null&&(zn(r,t,a),yl(r,t,a))}};function by(t,r,a,l,d,m,x){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,m,x):r.prototype&&r.prototype.isPureReactComponent?!cl(a,l)||!cl(d,m):!0}function xy(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&nf.enqueueReplaceState(r,r.state,null)}function oa(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=b({},a));for(var d in t)a[d]===void 0&&(a[d]=t[d])}return a}function wy(t){Gc(t)}function Ey(t){console.error(t)}function Ty(t){Gc(t)}function mu(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function Sy(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function rf(t,r,a){return a=es(a),a.tag=3,a.payload={element:null},a.callback=function(){mu(t,r)},a}function Ay(t){return t=es(t),t.tag=3,t}function Cy(t,r,a,l){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var m=l.value;t.payload=function(){return d(m)},t.callback=function(){Sy(r,a,l)}}var x=a.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(t.callback=function(){Sy(r,a,l),typeof d!="function"&&(os===null?os=new Set([this]):os.add(this));var L=l.stack;this.componentDidCatch(l.value,{componentStack:L!==null?L:""})})}function Pw(t,r,a,l,d){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&Ga(r,a,d,!0),a=Qn.current,a!==null){switch(a.tag){case 31:case 13:return fr===null?Au():a.alternate===null&&Ft===0&&(Ft=3),a.flags&=-257,a.flags|=65536,a.lanes=d,l===tu?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Nf(t,l,d)),!1;case 22:return a.flags|=65536,l===tu?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Nf(t,l,d)),!1}throw Error(s(435,a.tag))}return Nf(t,l,d),Au(),!1}if(ct)return r=Qn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=d,l!==wd&&(t=Error(s(422),{cause:l}),dl(cr(t,a)))):(l!==wd&&(r=Error(s(423),{cause:l}),dl(cr(r,a))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,l=cr(l,a),d=rf(t.stateNode,l,d),Od(t,d),Ft!==4&&(Ft=2)),!1;var m=Error(s(520),{cause:l});if(m=cr(m,a),Il===null?Il=[m]:Il.push(m),Ft!==4&&(Ft=2),r===null)return!0;l=cr(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=d&-d,a.lanes|=t,t=rf(a.stateNode,l,t),Od(a,t),!1;case 1:if(r=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(os===null||!os.has(m))))return a.flags|=65536,d&=-d,a.lanes|=d,d=Ay(d),Cy(d,t,a,l),Od(a,d),!1}a=a.return}while(a!==null);return!1}var sf=Error(s(461)),Jt=!1;function wn(t,r,a,l){r.child=t===null?Ig(r,null,a,l):sa(r,t.child,a,l)}function Ry(t,r,a,l,d){a=a.render;var m=r.ref;if("ref"in l){var x={};for(var L in l)L!=="ref"&&(x[L]=l[L])}else x=l;return ta(r),l=zd(t,r,a,x,m,d),L=Ud(),t!==null&&!Jt?(Bd(t,r,d),gi(t,r,d)):(ct&&L&&bd(r),r.flags|=1,wn(t,r,l,d),r.child)}function Ny(t,r,a,l,d){if(t===null){var m=a.type;return typeof m=="function"&&!yd(m)&&m.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=m,ky(t,r,m,l,d)):(t=$c(a.type,null,l,r,r.mode,d),t.ref=r.ref,t.return=r,r.child=t)}if(m=t.child,!ff(t,d)){var x=m.memoizedProps;if(a=a.compare,a=a!==null?a:cl,a(x,l)&&t.ref===r.ref)return gi(t,r,d)}return r.flags|=1,t=ui(m,l),t.ref=r.ref,t.return=r,r.child=t}function ky(t,r,a,l,d){if(t!==null){var m=t.memoizedProps;if(cl(m,l)&&t.ref===r.ref)if(Jt=!1,r.pendingProps=l=m,ff(t,d))(t.flags&131072)!==0&&(Jt=!0);else return r.lanes=t.lanes,gi(t,r,d)}return af(t,r,a,l,d)}function Iy(t,r,a,l){var d=l.children,m=t!==null?t.memoizedState:null;if(t===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((r.flags&128)!==0){if(m=m!==null?m.baseLanes|a:a,t!==null){for(l=r.child=t.child,d=0;l!==null;)d=d|l.lanes|l.childLanes,l=l.sibling;l=d&~m}else l=0,r.child=null;return Dy(t,r,m,a,l)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&Jc(r,m!==null?m.cachePool:null),m!==null?jg(r,m):Md(),Mg(r);else return l=r.lanes=536870912,Dy(t,r,m!==null?m.baseLanes|a:a,a,l)}else m!==null?(Jc(r,m.cachePool),jg(r,m),rs(),r.memoizedState=null):(t!==null&&Jc(r,null),Md(),rs());return wn(t,r,d,a),r.child}function Tl(t,r){return t!==null&&t.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Dy(t,r,a,l,d){var m=Nd();return m=m===null?null:{parent:Wt._currentValue,pool:m},r.memoizedState={baseLanes:a,cachePool:m},t!==null&&Jc(r,null),Md(),Mg(r),t!==null&&Ga(t,r,l,!0),r.childLanes=d,null}function pu(t,r){return r=yu({mode:r.mode,children:r.children},t.mode),r.ref=t.ref,t.child=r,r.return=t,r}function Oy(t,r,a){return sa(r,t.child,null,a),t=pu(r,r.pendingProps),t.flags|=2,Kn(r),r.memoizedState=null,t}function zw(t,r,a){var l=r.pendingProps,d=(r.flags&128)!==0;if(r.flags&=-129,t===null){if(ct){if(l.mode==="hidden")return t=pu(r,l),r.lanes=536870912,Tl(null,t);if(Vd(r),(t=Dt)?(t=G0(t,dr),t=t!==null&&t.data==="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:$i!==null?{id:$r,overflow:Xr}:null,retryLane:536870912,hydrationErrors:null},a=gg(t),a.return=r,r.child=a,bn=r,Dt=null)):t=null,t===null)throw Wi(r);return r.lanes=536870912,null}return pu(r,l)}var m=t.memoizedState;if(m!==null){var x=m.dehydrated;if(Vd(r),d)if(r.flags&256)r.flags&=-257,r=Oy(t,r,a);else if(r.memoizedState!==null)r.child=t.child,r.flags|=128,r=null;else throw Error(s(558));else if(Jt||Ga(t,r,a,!1),d=(a&t.childLanes)!==0,Jt||d){if(l=Nt,l!==null&&(x=Go(l,a),x!==0&&x!==m.retryLane))throw m.retryLane=x,Ws(t,x),zn(l,t,x),sf;Au(),r=Oy(t,r,a)}else t=m.treeContext,Dt=mr(x.nextSibling),bn=r,ct=!0,Xi=null,dr=!1,t!==null&&vg(r,t),r=pu(r,l),r.flags|=4096;return r}return t=ui(t.child,{mode:l.mode,children:l.children}),t.ref=r.ref,r.child=t,t.return=r,t}function gu(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function af(t,r,a,l,d){return ta(r),a=zd(t,r,a,l,void 0,d),l=Ud(),t!==null&&!Jt?(Bd(t,r,d),gi(t,r,d)):(ct&&l&&bd(r),r.flags|=1,wn(t,r,a,d),r.child)}function jy(t,r,a,l,d,m){return ta(r),r.updateQueue=null,a=Vg(r,l,a,d),Lg(t),l=Ud(),t!==null&&!Jt?(Bd(t,r,m),gi(t,r,m)):(ct&&l&&bd(r),r.flags|=1,wn(t,r,a,m),r.child)}function My(t,r,a,l,d){if(ta(r),r.stateNode===null){var m=Ba,x=a.contextType;typeof x=="object"&&x!==null&&(m=xn(x)),m=new a(l,m),r.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=nf,r.stateNode=m,m._reactInternals=r,m=r.stateNode,m.props=l,m.state=r.memoizedState,m.refs={},Id(r),x=a.contextType,m.context=typeof x=="object"&&x!==null?xn(x):Ba,m.state=r.memoizedState,x=a.getDerivedStateFromProps,typeof x=="function"&&(tf(r,a,x,l),m.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(x=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),x!==m.state&&nf.enqueueReplaceState(m,m.state,null),vl(r,l,m,d),_l(),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){m=r.stateNode;var L=r.memoizedProps,K=oa(a,L);m.props=K;var oe=m.context,_e=a.contextType;x=Ba,typeof _e=="object"&&_e!==null&&(x=xn(_e));var we=a.getDerivedStateFromProps;_e=typeof we=="function"||typeof m.getSnapshotBeforeUpdate=="function",L=r.pendingProps!==L,_e||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(L||oe!==x)&&xy(r,m,l,x),Ji=!1;var le=r.memoizedState;m.state=le,vl(r,l,m,d),_l(),oe=r.memoizedState,L||le!==oe||Ji?(typeof we=="function"&&(tf(r,a,we,l),oe=r.memoizedState),(K=Ji||by(r,a,K,l,le,oe,x))?(_e||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(r.flags|=4194308)):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=oe),m.props=l,m.state=oe,m.context=x,l=K):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{m=r.stateNode,Dd(t,r),x=r.memoizedProps,_e=oa(a,x),m.props=_e,we=r.pendingProps,le=m.context,oe=a.contextType,K=Ba,typeof oe=="object"&&oe!==null&&(K=xn(oe)),L=a.getDerivedStateFromProps,(oe=typeof L=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(x!==we||le!==K)&&xy(r,m,l,K),Ji=!1,le=r.memoizedState,m.state=le,vl(r,l,m,d),_l();var he=r.memoizedState;x!==we||le!==he||Ji||t!==null&&t.dependencies!==null&&Wc(t.dependencies)?(typeof L=="function"&&(tf(r,a,L,l),he=r.memoizedState),(_e=Ji||by(r,a,_e,l,le,he,K)||t!==null&&t.dependencies!==null&&Wc(t.dependencies))?(oe||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,he,K),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,he,K)),typeof m.componentDidUpdate=="function"&&(r.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof m.componentDidUpdate!="function"||x===t.memoizedProps&&le===t.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||x===t.memoizedProps&&le===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=he),m.props=l,m.state=he,m.context=K,l=_e):(typeof m.componentDidUpdate!="function"||x===t.memoizedProps&&le===t.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||x===t.memoizedProps&&le===t.memoizedState||(r.flags|=1024),l=!1)}return m=l,gu(t,r),l=(r.flags&128)!==0,m||l?(m=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),r.flags|=1,t!==null&&l?(r.child=sa(r,t.child,null,d),r.child=sa(r,null,a,d)):wn(t,r,a,d),r.memoizedState=m.state,t=r.child):t=gi(t,r,d),t}function Ly(t,r,a,l){return Js(),r.flags|=256,wn(t,r,a,l),r.child}var of={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function lf(t){return{baseLanes:t,cachePool:Sg()}}function cf(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=$n),t}function Vy(t,r,a){var l=r.pendingProps,d=!1,m=(r.flags&128)!==0,x;if((x=m)||(x=t!==null&&t.memoizedState===null?!1:(Gt.current&2)!==0),x&&(d=!0,r.flags&=-129),x=(r.flags&32)!==0,r.flags&=-33,t===null){if(ct){if(d?ns(r):rs(),(t=Dt)?(t=G0(t,dr),t=t!==null&&t.data!=="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:$i!==null?{id:$r,overflow:Xr}:null,retryLane:536870912,hydrationErrors:null},a=gg(t),a.return=r,r.child=a,bn=r,Dt=null)):t=null,t===null)throw Wi(r);return Gf(t)?r.lanes=32:r.lanes=536870912,null}var L=l.children;return l=l.fallback,d?(rs(),d=r.mode,L=yu({mode:"hidden",children:L},d),l=Zs(l,d,a,null),L.return=r,l.return=r,L.sibling=l,r.child=L,l=r.child,l.memoizedState=lf(a),l.childLanes=cf(t,x,a),r.memoizedState=of,Tl(null,l)):(ns(r),uf(r,L))}var K=t.memoizedState;if(K!==null&&(L=K.dehydrated,L!==null)){if(m)r.flags&256?(ns(r),r.flags&=-257,r=hf(t,r,a)):r.memoizedState!==null?(rs(),r.child=t.child,r.flags|=128,r=null):(rs(),L=l.fallback,d=r.mode,l=yu({mode:"visible",children:l.children},d),L=Zs(L,d,a,null),L.flags|=2,l.return=r,L.return=r,l.sibling=L,r.child=l,sa(r,t.child,null,a),l=r.child,l.memoizedState=lf(a),l.childLanes=cf(t,x,a),r.memoizedState=of,r=Tl(null,l));else if(ns(r),Gf(L)){if(x=L.nextSibling&&L.nextSibling.dataset,x)var oe=x.dgst;x=oe,l=Error(s(419)),l.stack="",l.digest=x,dl({value:l,source:null,stack:null}),r=hf(t,r,a)}else if(Jt||Ga(t,r,a,!1),x=(a&t.childLanes)!==0,Jt||x){if(x=Nt,x!==null&&(l=Go(x,a),l!==0&&l!==K.retryLane))throw K.retryLane=l,Ws(t,l),zn(x,t,l),sf;qf(L)||Au(),r=hf(t,r,a)}else qf(L)?(r.flags|=192,r.child=t.child,r=null):(t=K.treeContext,Dt=mr(L.nextSibling),bn=r,ct=!0,Xi=null,dr=!1,t!==null&&vg(r,t),r=uf(r,l.children),r.flags|=4096);return r}return d?(rs(),L=l.fallback,d=r.mode,K=t.child,oe=K.sibling,l=ui(K,{mode:"hidden",children:l.children}),l.subtreeFlags=K.subtreeFlags&65011712,oe!==null?L=ui(oe,L):(L=Zs(L,d,a,null),L.flags|=2),L.return=r,l.return=r,l.sibling=L,r.child=l,Tl(null,l),l=r.child,L=t.child.memoizedState,L===null?L=lf(a):(d=L.cachePool,d!==null?(K=Wt._currentValue,d=d.parent!==K?{parent:K,pool:K}:d):d=Sg(),L={baseLanes:L.baseLanes|a,cachePool:d}),l.memoizedState=L,l.childLanes=cf(t,x,a),r.memoizedState=of,Tl(t.child,l)):(ns(r),a=t.child,t=a.sibling,a=ui(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(x=r.deletions,x===null?(r.deletions=[t],r.flags|=16):x.push(t)),r.child=a,r.memoizedState=null,a)}function uf(t,r){return r=yu({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function yu(t,r){return t=Gn(22,t,null,r),t.lanes=0,t}function hf(t,r,a){return sa(r,t.child,null,a),t=uf(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Py(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),Sd(t.return,r,a)}function df(t,r,a,l,d,m){var x=t.memoizedState;x===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:d,treeForkCount:m}:(x.isBackwards=r,x.rendering=null,x.renderingStartTime=0,x.last=l,x.tail=a,x.tailMode=d,x.treeForkCount=m)}function zy(t,r,a){var l=r.pendingProps,d=l.revealOrder,m=l.tail;l=l.children;var x=Gt.current,L=(x&2)!==0;if(L?(x=x&1|2,r.flags|=128):x&=1,fe(Gt,x),wn(t,r,l,a),l=ct?hl:0,!L&&t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Py(t,a,r);else if(t.tag===19)Py(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(d){case"forwards":for(a=r.child,d=null;a!==null;)t=a.alternate,t!==null&&su(t)===null&&(d=a),a=a.sibling;a=d,a===null?(d=r.child,r.child=null):(d=a.sibling,a.sibling=null),df(r,!1,d,a,m,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,d=r.child,r.child=null;d!==null;){if(t=d.alternate,t!==null&&su(t)===null){r.child=d;break}t=d.sibling,d.sibling=a,a=d,d=t}df(r,!0,a,null,m,l);break;case"together":df(r,!1,null,null,void 0,l);break;default:r.memoizedState=null}return r.child}function gi(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),as|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(Ga(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=ui(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=ui(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function ff(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&Wc(t)))}function Uw(t,r,a){switch(r.tag){case 3:Le(r,r.stateNode.containerInfo),Zi(r,Wt,t.memoizedState.cache),Js();break;case 27:case 5:_t(r);break;case 4:Le(r,r.stateNode.containerInfo);break;case 10:Zi(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Vd(r),null;break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(ns(r),r.flags|=128,null):(a&r.child.childLanes)!==0?Vy(t,r,a):(ns(r),t=gi(t,r,a),t!==null?t.sibling:null);ns(r);break;case 19:var d=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(Ga(t,r,a,!1),l=(a&r.childLanes)!==0),d){if(l)return zy(t,r,a);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),fe(Gt,Gt.current),l)break;return null;case 22:return r.lanes=0,Iy(t,r,a,r.pendingProps);case 24:Zi(r,Wt,t.memoizedState.cache)}return gi(t,r,a)}function Uy(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)Jt=!0;else{if(!ff(t,a)&&(r.flags&128)===0)return Jt=!1,Uw(t,r,a);Jt=(t.flags&131072)!==0}else Jt=!1,ct&&(r.flags&1048576)!==0&&_g(r,hl,r.index);switch(r.lanes=0,r.tag){case 16:e:{var l=r.pendingProps;if(t=ra(r.elementType),r.type=t,typeof t=="function")yd(t)?(l=oa(t,l),r.tag=1,r=My(null,r,t,l,a)):(r.tag=0,r=af(null,r,t,l,a));else{if(t!=null){var d=t.$$typeof;if(d===Y){r.tag=11,r=Ry(null,r,t,l,a);break e}else if(d===j){r.tag=14,r=Ny(null,r,t,l,a);break e}}throw r=C(t)||t,Error(s(306,r,""))}}return r;case 0:return af(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,d=oa(l,r.pendingProps),My(t,r,l,d,a);case 3:e:{if(Le(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var m=r.memoizedState;d=m.element,Dd(t,r),vl(r,l,null,a);var x=r.memoizedState;if(l=x.cache,Zi(r,Wt,l),l!==m.cache&&Ad(r,[Wt],a,!0),_l(),l=x.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:x.cache},r.updateQueue.baseState=m,r.memoizedState=m,r.flags&256){r=Ly(t,r,l,a);break e}else if(l!==d){d=cr(Error(s(424)),r),dl(d),r=Ly(t,r,l,a);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Dt=mr(t.firstChild),bn=r,ct=!0,Xi=null,dr=!0,a=Ig(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Js(),l===d){r=gi(t,r,a);break e}wn(t,r,l,a)}r=r.child}return r;case 26:return gu(t,r),t===null?(a=W0(r.type,null,r.pendingProps,null))?r.memoizedState=a:ct||(a=r.type,t=r.pendingProps,l=Ou(Ie.current).createElement(a),l[Yt]=r,l[dn]=t,En(l,a,t),$t(l),r.stateNode=l):r.memoizedState=W0(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return _t(r),t===null&&ct&&(l=r.stateNode=Y0(r.type,r.pendingProps,Ie.current),bn=r,dr=!0,d=Dt,hs(r.type)?(Qf=d,Dt=mr(l.firstChild)):Dt=d),wn(t,r,r.pendingProps.children,a),gu(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&ct&&((d=l=Dt)&&(l=gE(l,r.type,r.pendingProps,dr),l!==null?(r.stateNode=l,bn=r,Dt=mr(l.firstChild),dr=!1,d=!0):d=!1),d||Wi(r)),_t(r),d=r.type,m=r.pendingProps,x=t!==null?t.memoizedProps:null,l=m.children,Bf(d,m)?l=null:x!==null&&Bf(d,x)&&(r.flags|=32),r.memoizedState!==null&&(d=zd(t,r,Iw,null,null,a),zl._currentValue=d),gu(t,r),wn(t,r,l,a),r.child;case 6:return t===null&&ct&&((t=a=Dt)&&(a=yE(a,r.pendingProps,dr),a!==null?(r.stateNode=a,bn=r,Dt=null,t=!0):t=!1),t||Wi(r)),null;case 13:return Vy(t,r,a);case 4:return Le(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=sa(r,null,l,a):wn(t,r,l,a),r.child;case 11:return Ry(t,r,r.type,r.pendingProps,a);case 7:return wn(t,r,r.pendingProps,a),r.child;case 8:return wn(t,r,r.pendingProps.children,a),r.child;case 12:return wn(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Zi(r,r.type,l.value),wn(t,r,l.children,a),r.child;case 9:return d=r.type._context,l=r.pendingProps.children,ta(r),d=xn(d),l=l(d),r.flags|=1,wn(t,r,l,a),r.child;case 14:return Ny(t,r,r.type,r.pendingProps,a);case 15:return ky(t,r,r.type,r.pendingProps,a);case 19:return zy(t,r,a);case 31:return zw(t,r,a);case 22:return Iy(t,r,a,r.pendingProps);case 24:return ta(r),l=xn(Wt),t===null?(d=Nd(),d===null&&(d=Nt,m=Cd(),d.pooledCache=m,m.refCount++,m!==null&&(d.pooledCacheLanes|=a),d=m),r.memoizedState={parent:l,cache:d},Id(r),Zi(r,Wt,d)):((t.lanes&a)!==0&&(Dd(t,r),vl(r,null,null,a),_l()),d=t.memoizedState,m=r.memoizedState,d.parent!==l?(d={parent:l,cache:l},r.memoizedState=d,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=d),Zi(r,Wt,l)):(l=m.cache,Zi(r,Wt,l),l!==d.cache&&Ad(r,[Wt],a,!0))),wn(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function yi(t){t.flags|=4}function mf(t,r,a,l,d){if((r=(t.mode&32)!==0)&&(r=!1),r){if(t.flags|=16777216,(d&335544128)===d)if(t.stateNode.complete)t.flags|=8192;else if(f0())t.flags|=8192;else throw ia=tu,kd}else t.flags&=-16777217}function By(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!n_(r))if(f0())t.flags|=8192;else throw ia=tu,kd}function _u(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?dt():536870912,t.lanes|=r,ro|=r)}function Sl(t,r){if(!ct)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Ot(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var d=t.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function Bw(t,r,a){var l=r.pendingProps;switch(xd(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(r),null;case 1:return Ot(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),fi(Wt),je(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(qa(r)?yi(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Ed())),Ot(r),null;case 26:var d=r.type,m=r.memoizedState;return t===null?(yi(r),m!==null?(Ot(r),By(r,m)):(Ot(r),mf(r,d,null,l,a))):m?m!==t.memoizedState?(yi(r),Ot(r),By(r,m)):(Ot(r),r.flags&=-16777217):(t=t.memoizedProps,t!==l&&yi(r),Ot(r),mf(r,d,t,l,a)),null;case 27:if(ft(r),a=Ie.current,d=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&yi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return Ot(r),null}t=de.current,qa(r)?bg(r):(t=Y0(d,l,a),r.stateNode=t,yi(r))}return Ot(r),null;case 5:if(ft(r),d=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&yi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return Ot(r),null}if(m=de.current,qa(r))bg(r);else{var x=Ou(Ie.current);switch(m){case 1:m=x.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:m=x.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":m=x.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":m=x.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":m=x.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof l.is=="string"?x.createElement("select",{is:l.is}):x.createElement("select"),l.multiple?m.multiple=!0:l.size&&(m.size=l.size);break;default:m=typeof l.is=="string"?x.createElement(d,{is:l.is}):x.createElement(d)}}m[Yt]=r,m[dn]=l;e:for(x=r.child;x!==null;){if(x.tag===5||x.tag===6)m.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===r)break e;for(;x.sibling===null;){if(x.return===null||x.return===r)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}r.stateNode=m;e:switch(En(m,d,l),d){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&yi(r)}}return Ot(r),mf(r,r.type,t===null?null:t.memoizedProps,r.pendingProps,a),null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&yi(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=Ie.current,qa(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,d=bn,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}t[Yt]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||V0(t.nodeValue,a)),t||Wi(r,!0)}else t=Ou(t).createTextNode(l),t[Yt]=r,r.stateNode=t}return Ot(r),null;case 31:if(a=r.memoizedState,t===null||t.memoizedState!==null){if(l=qa(r),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=r.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Yt]=r}else Js(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Ot(r),t=!1}else a=Ed(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return r.flags&256?(Kn(r),r):(Kn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return Ot(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=qa(r),l!==null&&l.dehydrated!==null){if(t===null){if(!d)throw Error(s(318));if(d=r.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[Yt]=r}else Js(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Ot(r),d=!1}else d=Ed(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return r.flags&256?(Kn(r),r):(Kn(r),null)}return Kn(r),(r.flags&128)!==0?(r.lanes=a,r):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=r.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==d&&(l.flags|=2048)),a!==t&&a&&(r.child.flags|=8192),_u(r,r.updateQueue),Ot(r),null);case 4:return je(),t===null&&Lf(r.stateNode.containerInfo),Ot(r),null;case 10:return fi(r.type),Ot(r),null;case 19:if(G(Gt),l=r.memoizedState,l===null)return Ot(r),null;if(d=(r.flags&128)!==0,m=l.rendering,m===null)if(d)Sl(l,!1);else{if(Ft!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(m=su(t),m!==null){for(r.flags|=128,Sl(l,!1),t=m.updateQueue,r.updateQueue=t,_u(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)pg(a,t),a=a.sibling;return fe(Gt,Gt.current&1|2),ct&&hi(r,l.treeForkCount),r.child}t=t.sibling}l.tail!==null&&Se()>Eu&&(r.flags|=128,d=!0,Sl(l,!1),r.lanes=4194304)}else{if(!d)if(t=su(m),t!==null){if(r.flags|=128,d=!0,t=t.updateQueue,r.updateQueue=t,_u(r,t),Sl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!m.alternate&&!ct)return Ot(r),null}else 2*Se()-l.renderingStartTime>Eu&&a!==536870912&&(r.flags|=128,d=!0,Sl(l,!1),r.lanes=4194304);l.isBackwards?(m.sibling=r.child,r.child=m):(t=l.last,t!==null?t.sibling=m:r.child=m,l.last=m)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Se(),t.sibling=null,a=Gt.current,fe(Gt,d?a&1|2:a&1),ct&&hi(r,l.treeForkCount),t):(Ot(r),null);case 22:case 23:return Kn(r),Ld(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(Ot(r),r.subtreeFlags&6&&(r.flags|=8192)):Ot(r),a=r.updateQueue,a!==null&&_u(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&G(na),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),fi(Wt),Ot(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function Fw(t,r){switch(xd(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return fi(Wt),je(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return ft(r),null;case 31:if(r.memoizedState!==null){if(Kn(r),r.alternate===null)throw Error(s(340));Js()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 13:if(Kn(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Js()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return G(Gt),null;case 4:return je(),null;case 10:return fi(r.type),null;case 22:case 23:return Kn(r),Ld(),t!==null&&G(na),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return fi(Wt),null;case 25:return null;default:return null}}function Fy(t,r){switch(xd(r),r.tag){case 3:fi(Wt),je();break;case 26:case 27:case 5:ft(r);break;case 4:je();break;case 31:r.memoizedState!==null&&Kn(r);break;case 13:Kn(r);break;case 19:G(Gt);break;case 10:fi(r.type);break;case 22:case 23:Kn(r),Ld(),t!==null&&G(na);break;case 24:fi(Wt)}}function Al(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var d=l.next;a=d;do{if((a.tag&t)===t){l=void 0;var m=a.create,x=a.inst;l=m(),x.destroy=l}a=a.next}while(a!==d)}}catch(L){wt(r,r.return,L)}}function is(t,r,a){try{var l=r.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var m=d.next;l=m;do{if((l.tag&t)===t){var x=l.inst,L=x.destroy;if(L!==void 0){x.destroy=void 0,d=r;var K=a,oe=L;try{oe()}catch(_e){wt(d,K,_e)}}}l=l.next}while(l!==m)}}catch(_e){wt(r,r.return,_e)}}function Hy(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{Og(r,a)}catch(l){wt(t,t.return,l)}}}function qy(t,r,a){a.props=oa(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){wt(t,r,l)}}function Cl(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(d){wt(t,r,d)}}function Wr(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(d){wt(t,r,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){wt(t,r,d)}else a.current=null}function Gy(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(d){wt(t,t.return,d)}}function pf(t,r,a){try{var l=t.stateNode;uE(l,t.type,a,r),l[dn]=r}catch(d){wt(t,t.return,d)}}function Qy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&hs(t.type)||t.tag===4}function gf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Qy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&hs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function yf(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=xr));else if(l!==4&&(l===27&&hs(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(yf(t,r,a),t=t.sibling;t!==null;)yf(t,r,a),t=t.sibling}function vu(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&hs(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(vu(t,r,a),t=t.sibling;t!==null;)vu(t,r,a),t=t.sibling}function Ky(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,d=r.attributes;d.length;)r.removeAttributeNode(d[0]);En(r,l,a),r[Yt]=t,r[dn]=a}catch(m){wt(t,t.return,m)}}var _i=!1,en=!1,_f=!1,Yy=typeof WeakSet=="function"?WeakSet:Set,mn=null;function Hw(t,r){if(t=t.containerInfo,zf=Uu,t=ag(t),ud(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var d=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var x=0,L=-1,K=-1,oe=0,_e=0,we=t,le=null;t:for(;;){for(var he;we!==a||d!==0&&we.nodeType!==3||(L=x+d),we!==m||l!==0&&we.nodeType!==3||(K=x+l),we.nodeType===3&&(x+=we.nodeValue.length),(he=we.firstChild)!==null;)le=we,we=he;for(;;){if(we===t)break t;if(le===a&&++oe===d&&(L=x),le===m&&++_e===l&&(K=x),(he=we.nextSibling)!==null)break;we=le,le=we.parentNode}we=he}a=L===-1||K===-1?null:{start:L,end:K}}else a=null}a=a||{start:0,end:0}}else a=null;for(Uf={focusedElem:t,selectionRange:a},Uu=!1,mn=r;mn!==null;)if(r=mn,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,mn=t;else for(;mn!==null;){switch(r=mn,m=r.alternate,t=r.flags,r.tag){case 0:if((t&4)!==0&&(t=r.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)d=t[a],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,a=r,d=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var Oe=oa(a.type,d);t=l.getSnapshotBeforeUpdate(Oe,m),l.__reactInternalSnapshotBeforeUpdate=t}catch(Be){wt(a,a.return,Be)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)Hf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Hf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,mn=t;break}mn=r.return}}function $y(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:bi(t,a),l&4&&Al(5,a);break;case 1:if(bi(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(x){wt(a,a.return,x)}else{var d=oa(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(d,r,t.__reactInternalSnapshotBeforeUpdate)}catch(x){wt(a,a.return,x)}}l&64&&Hy(a),l&512&&Cl(a,a.return);break;case 3:if(bi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Og(t,r)}catch(x){wt(a,a.return,x)}}break;case 27:r===null&&l&4&&Ky(a);case 26:case 5:bi(t,a),r===null&&l&4&&Gy(a),l&512&&Cl(a,a.return);break;case 12:bi(t,a);break;case 31:bi(t,a),l&4&&Zy(t,a);break;case 13:bi(t,a),l&4&&Jy(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Zw.bind(null,a),_E(t,a))));break;case 22:if(l=a.memoizedState!==null||_i,!l){r=r!==null&&r.memoizedState!==null||en,d=_i;var m=en;_i=l,(en=r)&&!m?xi(t,a,(a.subtreeFlags&8772)!==0):bi(t,a),_i=d,en=m}break;case 30:break;default:bi(t,a)}}function Xy(t){var r=t.alternate;r!==null&&(t.alternate=null,Xy(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&Ca(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Lt=null,Mn=!1;function vi(t,r,a){for(a=a.child;a!==null;)Wy(t,r,a),a=a.sibling}function Wy(t,r,a){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(lt,a)}catch{}switch(a.tag){case 26:en||Wr(a,r),vi(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:en||Wr(a,r);var l=Lt,d=Mn;hs(a.type)&&(Lt=a.stateNode,Mn=!1),vi(t,r,a),Ll(a.stateNode),Lt=l,Mn=d;break;case 5:en||Wr(a,r);case 6:if(l=Lt,d=Mn,Lt=null,vi(t,r,a),Lt=l,Mn=d,Lt!==null)if(Mn)try{(Lt.nodeType===9?Lt.body:Lt.nodeName==="HTML"?Lt.ownerDocument.body:Lt).removeChild(a.stateNode)}catch(m){wt(a,r,m)}else try{Lt.removeChild(a.stateNode)}catch(m){wt(a,r,m)}break;case 18:Lt!==null&&(Mn?(t=Lt,H0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),ho(t)):H0(Lt,a.stateNode));break;case 4:l=Lt,d=Mn,Lt=a.stateNode.containerInfo,Mn=!0,vi(t,r,a),Lt=l,Mn=d;break;case 0:case 11:case 14:case 15:is(2,a,r),en||is(4,a,r),vi(t,r,a);break;case 1:en||(Wr(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&qy(a,r,l)),vi(t,r,a);break;case 21:vi(t,r,a);break;case 22:en=(l=en)||a.memoizedState!==null,vi(t,r,a),en=l;break;default:vi(t,r,a)}}function Zy(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{ho(t)}catch(a){wt(r,r.return,a)}}}function Jy(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ho(t)}catch(a){wt(r,r.return,a)}}function qw(t){switch(t.tag){case 31:case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new Yy),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new Yy),r;default:throw Error(s(435,t.tag))}}function bu(t,r){var a=qw(t);r.forEach(function(l){if(!a.has(l)){a.add(l);var d=Jw.bind(null,t,l);l.then(d,d)}})}function Ln(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var d=a[l],m=t,x=r,L=x;e:for(;L!==null;){switch(L.tag){case 27:if(hs(L.type)){Lt=L.stateNode,Mn=!1;break e}break;case 5:Lt=L.stateNode,Mn=!1;break e;case 3:case 4:Lt=L.stateNode.containerInfo,Mn=!0;break e}L=L.return}if(Lt===null)throw Error(s(160));Wy(m,x,d),Lt=null,Mn=!1,m=d.alternate,m!==null&&(m.return=null),d.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)e0(r,t),r=r.sibling}var Cr=null;function e0(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Ln(r,t),Vn(t),l&4&&(is(3,t,t.return),Al(3,t),is(5,t,t.return));break;case 1:Ln(r,t),Vn(t),l&512&&(en||a===null||Wr(a,a.return)),l&64&&_i&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var d=Cr;if(Ln(r,t),Vn(t),l&512&&(en||a===null||Wr(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":m=d.getElementsByTagName("title")[0],(!m||m[Vr]||m[Yt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=d.createElement(l),d.head.insertBefore(m,d.querySelector("head > title"))),En(m,l,a),m[Yt]=t,$t(m),l=m;break e;case"link":var x=e_("link","href",d).get(l+(a.href||""));if(x){for(var L=0;L<x.length;L++)if(m=x[L],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){x.splice(L,1);break t}}m=d.createElement(l),En(m,l,a),d.head.appendChild(m);break;case"meta":if(x=e_("meta","content",d).get(l+(a.content||""))){for(L=0;L<x.length;L++)if(m=x[L],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){x.splice(L,1);break t}}m=d.createElement(l),En(m,l,a),d.head.appendChild(m);break;default:throw Error(s(468,l))}m[Yt]=t,$t(m),l=m}t.stateNode=l}else t_(d,t.type,t.stateNode);else t.stateNode=J0(d,l,t.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?t_(d,t.type,t.stateNode):J0(d,l,t.memoizedProps)):l===null&&t.stateNode!==null&&pf(t,t.memoizedProps,a.memoizedProps)}break;case 27:Ln(r,t),Vn(t),l&512&&(en||a===null||Wr(a,a.return)),a!==null&&l&4&&pf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Ln(r,t),Vn(t),l&512&&(en||a===null||Wr(a,a.return)),t.flags&32){d=t.stateNode;try{jn(d,"")}catch(Oe){wt(t,t.return,Oe)}}l&4&&t.stateNode!=null&&(d=t.memoizedProps,pf(t,d,a!==null?a.memoizedProps:d)),l&1024&&(_f=!0);break;case 6:if(Ln(r,t),Vn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(Oe){wt(t,t.return,Oe)}}break;case 3:if(Lu=null,d=Cr,Cr=ju(r.containerInfo),Ln(r,t),Cr=d,Vn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{ho(r.containerInfo)}catch(Oe){wt(t,t.return,Oe)}_f&&(_f=!1,t0(t));break;case 4:l=Cr,Cr=ju(t.stateNode.containerInfo),Ln(r,t),Vn(t),Cr=l;break;case 12:Ln(r,t),Vn(t);break;case 31:Ln(r,t),Vn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,bu(t,l)));break;case 13:Ln(r,t),Vn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(wu=Se()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,bu(t,l)));break;case 22:d=t.memoizedState!==null;var K=a!==null&&a.memoizedState!==null,oe=_i,_e=en;if(_i=oe||d,en=_e||K,Ln(r,t),en=_e,_i=oe,Vn(t),l&8192)e:for(r=t.stateNode,r._visibility=d?r._visibility&-2:r._visibility|1,d&&(a===null||K||_i||en||la(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){K=a=r;try{if(m=K.stateNode,d)x=m.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{L=K.stateNode;var we=K.memoizedProps.style,le=we!=null&&we.hasOwnProperty("display")?we.display:null;L.style.display=le==null||typeof le=="boolean"?"":(""+le).trim()}}catch(Oe){wt(K,K.return,Oe)}}}else if(r.tag===6){if(a===null){K=r;try{K.stateNode.nodeValue=d?"":K.memoizedProps}catch(Oe){wt(K,K.return,Oe)}}}else if(r.tag===18){if(a===null){K=r;try{var he=K.stateNode;d?q0(he,!0):q0(K.stateNode,!1)}catch(Oe){wt(K,K.return,Oe)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,bu(t,a))));break;case 19:Ln(r,t),Vn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,bu(t,l)));break;case 30:break;case 21:break;default:Ln(r,t),Vn(t)}}function Vn(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(Qy(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var d=a.stateNode,m=gf(t);vu(t,m,d);break;case 5:var x=a.stateNode;a.flags&32&&(jn(x,""),a.flags&=-33);var L=gf(t);vu(t,L,x);break;case 3:case 4:var K=a.stateNode.containerInfo,oe=gf(t);yf(t,oe,K);break;default:throw Error(s(161))}}catch(_e){wt(t,t.return,_e)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function t0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;t0(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function bi(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)$y(t,r.alternate,r),r=r.sibling}function la(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:is(4,r,r.return),la(r);break;case 1:Wr(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&qy(r,r.return,a),la(r);break;case 27:Ll(r.stateNode);case 26:case 5:Wr(r,r.return),la(r);break;case 22:r.memoizedState===null&&la(r);break;case 30:la(r);break;default:la(r)}t=t.sibling}}function xi(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,d=t,m=r,x=m.flags;switch(m.tag){case 0:case 11:case 15:xi(d,m,a),Al(4,m);break;case 1:if(xi(d,m,a),l=m,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(oe){wt(l,l.return,oe)}if(l=m,d=l.updateQueue,d!==null){var L=l.stateNode;try{var K=d.shared.hiddenCallbacks;if(K!==null)for(d.shared.hiddenCallbacks=null,d=0;d<K.length;d++)Dg(K[d],L)}catch(oe){wt(l,l.return,oe)}}a&&x&64&&Hy(m),Cl(m,m.return);break;case 27:Ky(m);case 26:case 5:xi(d,m,a),a&&l===null&&x&4&&Gy(m),Cl(m,m.return);break;case 12:xi(d,m,a);break;case 31:xi(d,m,a),a&&x&4&&Zy(d,m);break;case 13:xi(d,m,a),a&&x&4&&Jy(d,m);break;case 22:m.memoizedState===null&&xi(d,m,a),Cl(m,m.return);break;case 30:break;default:xi(d,m,a)}r=r.sibling}}function vf(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&fl(a))}function bf(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&fl(t))}function Rr(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)n0(t,r,a,l),r=r.sibling}function n0(t,r,a,l){var d=r.flags;switch(r.tag){case 0:case 11:case 15:Rr(t,r,a,l),d&2048&&Al(9,r);break;case 1:Rr(t,r,a,l);break;case 3:Rr(t,r,a,l),d&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&fl(t)));break;case 12:if(d&2048){Rr(t,r,a,l),t=r.stateNode;try{var m=r.memoizedProps,x=m.id,L=m.onPostCommit;typeof L=="function"&&L(x,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(K){wt(r,r.return,K)}}else Rr(t,r,a,l);break;case 31:Rr(t,r,a,l);break;case 13:Rr(t,r,a,l);break;case 23:break;case 22:m=r.stateNode,x=r.alternate,r.memoizedState!==null?m._visibility&2?Rr(t,r,a,l):Rl(t,r):m._visibility&2?Rr(t,r,a,l):(m._visibility|=2,eo(t,r,a,l,(r.subtreeFlags&10256)!==0||!1)),d&2048&&vf(x,r);break;case 24:Rr(t,r,a,l),d&2048&&bf(r.alternate,r);break;default:Rr(t,r,a,l)}}function eo(t,r,a,l,d){for(d=d&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var m=t,x=r,L=a,K=l,oe=x.flags;switch(x.tag){case 0:case 11:case 15:eo(m,x,L,K,d),Al(8,x);break;case 23:break;case 22:var _e=x.stateNode;x.memoizedState!==null?_e._visibility&2?eo(m,x,L,K,d):Rl(m,x):(_e._visibility|=2,eo(m,x,L,K,d)),d&&oe&2048&&vf(x.alternate,x);break;case 24:eo(m,x,L,K,d),d&&oe&2048&&bf(x.alternate,x);break;default:eo(m,x,L,K,d)}r=r.sibling}}function Rl(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,d=l.flags;switch(l.tag){case 22:Rl(a,l),d&2048&&vf(l.alternate,l);break;case 24:Rl(a,l),d&2048&&bf(l.alternate,l);break;default:Rl(a,l)}r=r.sibling}}var Nl=8192;function to(t,r,a){if(t.subtreeFlags&Nl)for(t=t.child;t!==null;)r0(t,r,a),t=t.sibling}function r0(t,r,a){switch(t.tag){case 26:to(t,r,a),t.flags&Nl&&t.memoizedState!==null&&kE(a,Cr,t.memoizedState,t.memoizedProps);break;case 5:to(t,r,a);break;case 3:case 4:var l=Cr;Cr=ju(t.stateNode.containerInfo),to(t,r,a),Cr=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Nl,Nl=16777216,to(t,r,a),Nl=l):to(t,r,a));break;default:to(t,r,a)}}function i0(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function kl(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];mn=l,a0(l,t)}i0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)s0(t),t=t.sibling}function s0(t){switch(t.tag){case 0:case 11:case 15:kl(t),t.flags&2048&&is(9,t,t.return);break;case 3:kl(t);break;case 12:kl(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,xu(t)):kl(t);break;default:kl(t)}}function xu(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];mn=l,a0(l,t)}i0(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:is(8,r,r.return),xu(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,xu(r));break;default:xu(r)}t=t.sibling}}function a0(t,r){for(;mn!==null;){var a=mn;switch(a.tag){case 0:case 11:case 15:is(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:fl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,mn=l;else e:for(a=t;mn!==null;){l=mn;var d=l.sibling,m=l.return;if(Xy(l),l===a){mn=null;break e}if(d!==null){d.return=m,mn=d;break e}mn=m}}}var Gw={getCacheForType:function(t){var r=xn(Wt),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a},cacheSignal:function(){return xn(Wt).controller.signal}},Qw=typeof WeakMap=="function"?WeakMap:Map,yt=0,Nt=null,tt=null,rt=0,xt=0,Yn=null,ss=!1,no=!1,xf=!1,wi=0,Ft=0,as=0,ca=0,wf=0,$n=0,ro=0,Il=null,Pn=null,Ef=!1,wu=0,o0=0,Eu=1/0,Tu=null,os=null,an=0,ls=null,io=null,Ei=0,Tf=0,Sf=null,l0=null,Dl=0,Af=null;function Xn(){return(yt&2)!==0&&rt!==0?rt&-rt:Z.T!==null?Df():Sc()}function c0(){if($n===0)if((rt&536870912)===0||ct){var t=Tt;Tt<<=1,(Tt&3932160)===0&&(Tt=262144),$n=t}else $n=536870912;return t=Qn.current,t!==null&&(t.flags|=32),$n}function zn(t,r,a){(t===Nt&&(xt===2||xt===9)||t.cancelPendingCommit!==null)&&(so(t,0),cs(t,rt,$n,!1)),Vs(t,a),((yt&2)===0||t!==Nt)&&(t===Nt&&((yt&2)===0&&(ca|=a),Ft===4&&cs(t,rt,$n,!1)),Zr(t))}function u0(t,r,a){if((yt&6)!==0)throw Error(s(327));var l=!a&&(r&127)===0&&(r&t.expiredLanes)===0||sn(t,r),d=l?$w(t,r):Rf(t,r,!0),m=l;do{if(d===0){no&&!l&&cs(t,r,0,!1);break}else{if(a=t.current.alternate,m&&!Kw(a)){d=Rf(t,r,!1),m=!1;continue}if(d===2){if(m=r,t.errorRecoveryDisabledLanes&m)var x=0;else x=t.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){r=x;e:{var L=t;d=Il;var K=L.current.memoizedState.isDehydrated;if(K&&(so(L,x).flags|=256),x=Rf(L,x,!1),x!==2){if(xf&&!K){L.errorRecoveryDisabledLanes|=m,ca|=m,d=4;break e}m=Pn,Pn=d,m!==null&&(Pn===null?Pn=m:Pn.push.apply(Pn,m))}d=x}if(m=!1,d!==2)continue}}if(d===1){so(t,0),cs(t,r,0,!0);break}e:{switch(l=t,m=d,m){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:cs(l,r,$n,!ss);break e;case 2:Pn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(d=wu+300-Se(),10<d)){if(cs(l,r,$n,!ss),Sn(l,0,!0)!==0)break e;Ei=r,l.timeoutHandle=B0(h0.bind(null,l,a,Pn,Tu,Ef,r,$n,ca,ro,ss,m,"Throttled",-0,0),d);break e}h0(l,a,Pn,Tu,Ef,r,$n,ca,ro,ss,m,null,-0,0)}}break}while(!0);Zr(t)}function h0(t,r,a,l,d,m,x,L,K,oe,_e,we,le,he){if(t.timeoutHandle=-1,we=r.subtreeFlags,we&8192||(we&16785408)===16785408){we={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:xr},r0(r,m,we);var Oe=(m&62914560)===m?wu-Se():(m&4194048)===m?o0-Se():0;if(Oe=IE(we,Oe),Oe!==null){Ei=m,t.cancelPendingCommit=Oe(v0.bind(null,t,r,m,a,l,d,x,L,K,_e,we,null,le,he)),cs(t,m,x,!oe);return}}v0(t,r,m,a,l,d,x,L,K)}function Kw(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var d=a[l],m=d.getSnapshot;d=d.value;try{if(!qn(m(),d))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function cs(t,r,a,l){r&=~wf,r&=~ca,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var d=r;0<d;){var m=31-ut(d),x=1<<m;l[m]=-1,d&=~x}a!==0&&Ps(t,a,r)}function Su(){return(yt&6)===0?(Ol(0),!1):!0}function Cf(){if(tt!==null){if(xt===0)var t=tt.return;else t=tt,di=ea=null,Fd(t),$a=null,pl=0,t=tt;for(;t!==null;)Fy(t.alternate,t),t=t.return;tt=null}}function so(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,fE(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Ei=0,Cf(),Nt=t,tt=a=ui(t.current,null),rt=r,xt=0,Yn=null,ss=!1,no=sn(t,r),xf=!1,ro=$n=wf=ca=as=Ft=0,Pn=Il=null,Ef=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var d=31-ut(l),m=1<<d;r|=t[d],l&=~m}return wi=r,Qc(),a}function d0(t,r){Ze=null,Z.H=El,r===Ya||r===eu?(r=Rg(),xt=3):r===kd?(r=Rg(),xt=4):xt=r===sf?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Yn=r,tt===null&&(Ft=1,mu(t,cr(r,t.current)))}function f0(){var t=Qn.current;return t===null?!0:(rt&4194048)===rt?fr===null:(rt&62914560)===rt||(rt&536870912)!==0?t===fr:!1}function m0(){var t=Z.H;return Z.H=El,t===null?El:t}function p0(){var t=Z.A;return Z.A=Gw,t}function Au(){Ft=4,ss||(rt&4194048)!==rt&&Qn.current!==null||(no=!0),(as&134217727)===0&&(ca&134217727)===0||Nt===null||cs(Nt,rt,$n,!1)}function Rf(t,r,a){var l=yt;yt|=2;var d=m0(),m=p0();(Nt!==t||rt!==r)&&(Tu=null,so(t,r)),r=!1;var x=Ft;e:do try{if(xt!==0&&tt!==null){var L=tt,K=Yn;switch(xt){case 8:Cf(),x=6;break e;case 3:case 2:case 9:case 6:Qn.current===null&&(r=!0);var oe=xt;if(xt=0,Yn=null,ao(t,L,K,oe),a&&no){x=0;break e}break;default:oe=xt,xt=0,Yn=null,ao(t,L,K,oe)}}Yw(),x=Ft;break}catch(_e){d0(t,_e)}while(!0);return r&&t.shellSuspendCounter++,di=ea=null,yt=l,Z.H=d,Z.A=m,tt===null&&(Nt=null,rt=0,Qc()),x}function Yw(){for(;tt!==null;)g0(tt)}function $w(t,r){var a=yt;yt|=2;var l=m0(),d=p0();Nt!==t||rt!==r?(Tu=null,Eu=Se()+500,so(t,r)):no=sn(t,r);e:do try{if(xt!==0&&tt!==null){r=tt;var m=Yn;t:switch(xt){case 1:xt=0,Yn=null,ao(t,r,m,1);break;case 2:case 9:if(Ag(m)){xt=0,Yn=null,y0(r);break}r=function(){xt!==2&&xt!==9||Nt!==t||(xt=7),Zr(t)},m.then(r,r);break e;case 3:xt=7;break e;case 4:xt=5;break e;case 7:Ag(m)?(xt=0,Yn=null,y0(r)):(xt=0,Yn=null,ao(t,r,m,7));break;case 5:var x=null;switch(tt.tag){case 26:x=tt.memoizedState;case 5:case 27:var L=tt;if(x?n_(x):L.stateNode.complete){xt=0,Yn=null;var K=L.sibling;if(K!==null)tt=K;else{var oe=L.return;oe!==null?(tt=oe,Cu(oe)):tt=null}break t}}xt=0,Yn=null,ao(t,r,m,5);break;case 6:xt=0,Yn=null,ao(t,r,m,6);break;case 8:Cf(),Ft=6;break e;default:throw Error(s(462))}}Xw();break}catch(_e){d0(t,_e)}while(!0);return di=ea=null,Z.H=l,Z.A=d,yt=a,tt!==null?0:(Nt=null,rt=0,Qc(),Ft)}function Xw(){for(;tt!==null&&!te();)g0(tt)}function g0(t){var r=Uy(t.alternate,t,wi);t.memoizedProps=t.pendingProps,r===null?Cu(t):tt=r}function y0(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=jy(a,r,r.pendingProps,r.type,void 0,rt);break;case 11:r=jy(a,r,r.pendingProps,r.type.render,r.ref,rt);break;case 5:Fd(r);default:Fy(a,r),r=tt=pg(r,wi),r=Uy(a,r,wi)}t.memoizedProps=t.pendingProps,r===null?Cu(t):tt=r}function ao(t,r,a,l){di=ea=null,Fd(r),$a=null,pl=0;var d=r.return;try{if(Pw(t,d,r,a,rt)){Ft=1,mu(t,cr(a,t.current)),tt=null;return}}catch(m){if(d!==null)throw tt=d,m;Ft=1,mu(t,cr(a,t.current)),tt=null;return}r.flags&32768?(ct||l===1?t=!0:no||(rt&536870912)!==0?t=!1:(ss=t=!0,(l===2||l===9||l===3||l===6)&&(l=Qn.current,l!==null&&l.tag===13&&(l.flags|=16384))),_0(r,t)):Cu(r)}function Cu(t){var r=t;do{if((r.flags&32768)!==0){_0(r,ss);return}t=r.return;var a=Bw(r.alternate,r,wi);if(a!==null){tt=a;return}if(r=r.sibling,r!==null){tt=r;return}tt=r=t}while(r!==null);Ft===0&&(Ft=5)}function _0(t,r){do{var a=Fw(t.alternate,t);if(a!==null){a.flags&=32767,tt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){tt=t;return}tt=t=a}while(t!==null);Ft=6,tt=null}function v0(t,r,a,l,d,m,x,L,K){t.cancelPendingCommit=null;do Ru();while(an!==0);if((yt&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(m=r.lanes|r.childLanes,m|=pd,ad(t,a,m,x,L,K),t===Nt&&(tt=Nt=null,rt=0),io=r,ls=t,Ei=a,Tf=m,Sf=d,l0=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,eE(Qe,function(){return T0(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=Z.T,Z.T=null,d=ee.p,ee.p=2,x=yt,yt|=4;try{Hw(t,r,a)}finally{yt=x,ee.p=d,Z.T=l}}an=1,b0(),x0(),w0()}}function b0(){if(an===1){an=0;var t=ls,r=io,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=Z.T,Z.T=null;var l=ee.p;ee.p=2;var d=yt;yt|=4;try{e0(r,t);var m=Uf,x=ag(t.containerInfo),L=m.focusedElem,K=m.selectionRange;if(x!==L&&L&&L.ownerDocument&&sg(L.ownerDocument.documentElement,L)){if(K!==null&&ud(L)){var oe=K.start,_e=K.end;if(_e===void 0&&(_e=oe),"selectionStart"in L)L.selectionStart=oe,L.selectionEnd=Math.min(_e,L.value.length);else{var we=L.ownerDocument||document,le=we&&we.defaultView||window;if(le.getSelection){var he=le.getSelection(),Oe=L.textContent.length,Be=Math.min(K.start,Oe),Rt=K.end===void 0?Be:Math.min(K.end,Oe);!he.extend&&Be>Rt&&(x=Rt,Rt=Be,Be=x);var J=ig(L,Be),X=ig(L,Rt);if(J&&X&&(he.rangeCount!==1||he.anchorNode!==J.node||he.anchorOffset!==J.offset||he.focusNode!==X.node||he.focusOffset!==X.offset)){var ae=we.createRange();ae.setStart(J.node,J.offset),he.removeAllRanges(),Be>Rt?(he.addRange(ae),he.extend(X.node,X.offset)):(ae.setEnd(X.node,X.offset),he.addRange(ae))}}}}for(we=[],he=L;he=he.parentNode;)he.nodeType===1&&we.push({element:he,left:he.scrollLeft,top:he.scrollTop});for(typeof L.focus=="function"&&L.focus(),L=0;L<we.length;L++){var be=we[L];be.element.scrollLeft=be.left,be.element.scrollTop=be.top}}Uu=!!zf,Uf=zf=null}finally{yt=d,ee.p=l,Z.T=a}}t.current=r,an=2}}function x0(){if(an===2){an=0;var t=ls,r=io,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=Z.T,Z.T=null;var l=ee.p;ee.p=2;var d=yt;yt|=4;try{$y(t,r.alternate,r)}finally{yt=d,ee.p=l,Z.T=a}}an=3}}function w0(){if(an===4||an===3){an=0,Ee();var t=ls,r=io,a=Ei,l=l0;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?an=5:(an=0,io=ls=null,E0(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(os=null),ai(a),r=r.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(lt,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=Z.T,d=ee.p,ee.p=2,Z.T=null;try{for(var m=t.onRecoverableError,x=0;x<l.length;x++){var L=l[x];m(L.value,{componentStack:L.stack})}}finally{Z.T=r,ee.p=d}}(Ei&3)!==0&&Ru(),Zr(t),d=t.pendingLanes,(a&261930)!==0&&(d&42)!==0?t===Af?Dl++:(Dl=0,Af=t):Dl=0,Ol(0)}}function E0(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,fl(r)))}function Ru(){return b0(),x0(),w0(),T0()}function T0(){if(an!==5)return!1;var t=ls,r=Tf;Tf=0;var a=ai(Ei),l=Z.T,d=ee.p;try{ee.p=32>a?32:a,Z.T=null,a=Sf,Sf=null;var m=ls,x=Ei;if(an=0,io=ls=null,Ei=0,(yt&6)!==0)throw Error(s(331));var L=yt;if(yt|=4,s0(m.current),n0(m,m.current,x,a),yt=L,Ol(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(lt,m)}catch{}return!0}finally{ee.p=d,Z.T=l,E0(t,r)}}function S0(t,r,a){r=cr(a,r),r=rf(t.stateNode,r,2),t=ts(t,r,2),t!==null&&(Vs(t,2),Zr(t))}function wt(t,r,a){if(t.tag===3)S0(t,t,a);else for(;r!==null;){if(r.tag===3){S0(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(os===null||!os.has(l))){t=cr(a,t),a=Ay(2),l=ts(r,a,2),l!==null&&(Cy(a,l,r,t),Vs(l,2),Zr(l));break}}r=r.return}}function Nf(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new Qw;var d=new Set;l.set(r,d)}else d=l.get(r),d===void 0&&(d=new Set,l.set(r,d));d.has(a)||(xf=!0,d.add(a),t=Ww.bind(null,t,r,a),r.then(t,t))}function Ww(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Nt===t&&(rt&a)===a&&(Ft===4||Ft===3&&(rt&62914560)===rt&&300>Se()-wu?(yt&2)===0&&so(t,0):wf|=a,ro===rt&&(ro=0)),Zr(t)}function A0(t,r){r===0&&(r=dt()),t=Ws(t,r),t!==null&&(Vs(t,r),Zr(t))}function Zw(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),A0(t,a)}function Jw(t,r){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,d=t.memoizedState;d!==null&&(a=d.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),A0(t,a)}function eE(t,r){return se(t,r)}var Nu=null,oo=null,kf=!1,ku=!1,If=!1,us=0;function Zr(t){t!==oo&&t.next===null&&(oo===null?Nu=oo=t:oo=oo.next=t),ku=!0,kf||(kf=!0,nE())}function Ol(t,r){if(!If&&ku){If=!0;do for(var a=!1,l=Nu;l!==null;){if(t!==0){var d=l.pendingLanes;if(d===0)var m=0;else{var x=l.suspendedLanes,L=l.pingedLanes;m=(1<<31-ut(42|t)+1)-1,m&=d&~(x&~L),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,k0(l,m))}else m=rt,m=Sn(l,l===Nt?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||sn(l,m)||(a=!0,k0(l,m));l=l.next}while(a);If=!1}}function tE(){C0()}function C0(){ku=kf=!1;var t=0;us!==0&&dE()&&(t=us);for(var r=Se(),a=null,l=Nu;l!==null;){var d=l.next,m=R0(l,r);m===0?(l.next=null,a===null?Nu=d:a.next=d,d===null&&(oo=a)):(a=l,(t!==0||(m&3)!==0)&&(ku=!0)),l=d}an!==0&&an!==5||Ol(t),us!==0&&(us=0)}function R0(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,d=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var x=31-ut(m),L=1<<x,K=d[x];K===-1?((L&a)===0||(L&l)!==0)&&(d[x]=_r(L,r)):K<=r&&(t.expiredLanes|=L),m&=~L}if(r=Nt,a=rt,a=Sn(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(xt===2||xt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&pe(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||sn(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&pe(l),ai(a)){case 2:case 8:a=Ge;break;case 32:a=Qe;break;case 268435456:a=nr;break;default:a=Qe}return l=N0.bind(null,t),a=se(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&pe(l),t.callbackPriority=2,t.callbackNode=null,2}function N0(t,r){if(an!==0&&an!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Ru()&&t.callbackNode!==a)return null;var l=rt;return l=Sn(t,t===Nt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(u0(t,l,r),R0(t,Se()),t.callbackNode!=null&&t.callbackNode===a?N0.bind(null,t):null)}function k0(t,r){if(Ru())return null;u0(t,r,!0)}function nE(){mE(function(){(yt&6)!==0?se(Ne,tE):C0()})}function Df(){if(us===0){var t=Qa;t===0&&(t=Je,Je<<=1,(Je&261888)===0&&(Je=256)),us=t}return us}function I0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ia(""+t)}function D0(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function rE(t,r,a,l,d){if(r==="submit"&&a&&a.stateNode===d){var m=I0((d[dn]||null).action),x=l.submitter;x&&(r=(r=x[dn]||null)?I0(r.formAction):x.getAttribute("formAction"),r!==null&&(m=r,x=null));var L=new Gr("action","action",null,l,d);t.push({event:L,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(us!==0){var K=x?D0(d,x):new FormData(d);Wd(a,{pending:!0,data:K,method:d.method,action:m},null,K)}}else typeof m=="function"&&(L.preventDefault(),K=x?D0(d,x):new FormData(d),Wd(a,{pending:!0,data:K,method:d.method,action:m},m,K))},currentTarget:d}]})}}for(var Of=0;Of<md.length;Of++){var jf=md[Of],iE=jf.toLowerCase(),sE=jf[0].toUpperCase()+jf.slice(1);Ar(iE,"on"+sE)}Ar(cg,"onAnimationEnd"),Ar(ug,"onAnimationIteration"),Ar(hg,"onAnimationStart"),Ar("dblclick","onDoubleClick"),Ar("focusin","onFocus"),Ar("focusout","onBlur"),Ar(xw,"onTransitionRun"),Ar(ww,"onTransitionStart"),Ar(Ew,"onTransitionCancel"),Ar(dg,"onTransitionEnd"),Br("onMouseEnter",["mouseout","mouseover"]),Br("onMouseLeave",["mouseout","mouseover"]),Br("onPointerEnter",["pointerout","pointerover"]),Br("onPointerLeave",["pointerout","pointerover"]),Ur("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ur("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ur("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ur("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ur("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ur("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(jl));function O0(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],d=l.event;l=l.listeners;e:{var m=void 0;if(r)for(var x=l.length-1;0<=x;x--){var L=l[x],K=L.instance,oe=L.currentTarget;if(L=L.listener,K!==m&&d.isPropagationStopped())break e;m=L,d.currentTarget=oe;try{m(d)}catch(_e){Gc(_e)}d.currentTarget=null,m=K}else for(x=0;x<l.length;x++){if(L=l[x],K=L.instance,oe=L.currentTarget,L=L.listener,K!==m&&d.isPropagationStopped())break e;m=L,d.currentTarget=oe;try{m(d)}catch(_e){Gc(_e)}d.currentTarget=null,m=K}}}}function nt(t,r){var a=r[Aa];a===void 0&&(a=r[Aa]=new Set);var l=t+"__bubble";a.has(l)||(j0(r,t,2,!1),a.add(l))}function Mf(t,r,a){var l=0;r&&(l|=4),j0(a,t,l,r)}var Iu="_reactListening"+Math.random().toString(36).slice(2);function Lf(t){if(!t[Iu]){t[Iu]=!0,Qo.forEach(function(a){a!=="selectionchange"&&(aE.has(a)||Mf(a,!1,t),Mf(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Iu]||(r[Iu]=!0,Mf("selectionchange",!1,r))}}function j0(t,r,a,l){switch(c_(r)){case 2:var d=jE;break;case 8:d=ME;break;default:d=Wf}a=d.bind(null,r,a,t),d=void 0,!Hs||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),l?d!==void 0?t.addEventListener(r,a,{capture:!0,passive:d}):t.addEventListener(r,a,!0):d!==void 0?t.addEventListener(r,a,{passive:d}):t.addEventListener(r,a,!1)}function Vf(t,r,a,l,d){var m=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var x=l.tag;if(x===3||x===4){var L=l.stateNode.containerInfo;if(L===d)break;if(x===4)for(x=l.return;x!==null;){var K=x.tag;if((K===3||K===4)&&x.stateNode.containerInfo===d)return;x=x.return}for(;L!==null;){if(x=Pr(L),x===null)return;if(K=x.tag,K===5||K===6||K===26||K===27){l=m=x;continue e}L=L.parentNode}}l=l.return}Gi(function(){var oe=m,_e=sr(a),we=[];e:{var le=fg.get(t);if(le!==void 0){var he=Gr,Oe=t;switch(t){case"keypress":if(Gs(a)===0)break e;case"keydown":case"keyup":he=Fc;break;case"focusin":Oe="focus",he=Ks;break;case"focusout":Oe="blur",he=Ks;break;case"beforeblur":case"afterblur":he=Ks;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":he=sl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":he=Oc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":he=v;break;case cg:case ug:case hg:he=Mc;break;case dg:he=U;break;case"scroll":case"scrollend":he=il;break;case"wheel":he=ue;break;case"copy":case"cut":case"paste":he=Lc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":he=ci;break;case"toggle":case"beforetoggle":he=We}var Be=(r&4)!==0,Rt=!Be&&(t==="scroll"||t==="scrollend"),J=Be?le!==null?le+"Capture":null:le;Be=[];for(var X=oe,ae;X!==null;){var be=X;if(ae=be.stateNode,be=be.tag,be!==5&&be!==26&&be!==27||ae===null||J===null||(be=wr(X,J),be!=null&&Be.push(Ml(X,be,ae))),Rt)break;X=X.return}0<Be.length&&(le=new he(le,Oe,null,a,_e),we.push({event:le,listeners:Be}))}}if((r&7)===0){e:{if(le=t==="mouseover"||t==="pointerover",he=t==="mouseout"||t==="pointerout",le&&a!==tl&&(Oe=a.relatedTarget||a.fromElement)&&(Pr(Oe)||Oe[Lr]))break e;if((he||le)&&(le=_e.window===_e?_e:(le=_e.ownerDocument)?le.defaultView||le.parentWindow:window,he?(Oe=a.relatedTarget||a.toElement,he=oe,Oe=Oe?Pr(Oe):null,Oe!==null&&(Rt=c(Oe),Be=Oe.tag,Oe!==Rt||Be!==5&&Be!==27&&Be!==6)&&(Oe=null)):(he=null,Oe=oe),he!==Oe)){if(Be=sl,be="onMouseLeave",J="onMouseEnter",X="mouse",(t==="pointerout"||t==="pointerover")&&(Be=ci,be="onPointerLeave",J="onPointerEnter",X="pointer"),Rt=he==null?le:Fn(he),ae=Oe==null?le:Fn(Oe),le=new Be(be,X+"leave",he,a,_e),le.target=Rt,le.relatedTarget=ae,be=null,Pr(_e)===oe&&(Be=new Be(J,X+"enter",Oe,a,_e),Be.target=ae,Be.relatedTarget=Rt,be=Be),Rt=be,he&&Oe)t:{for(Be=oE,J=he,X=Oe,ae=0,be=J;be;be=Be(be))ae++;be=0;for(var ze=X;ze;ze=Be(ze))be++;for(;0<ae-be;)J=Be(J),ae--;for(;0<be-ae;)X=Be(X),be--;for(;ae--;){if(J===X||X!==null&&J===X.alternate){Be=J;break t}J=Be(J),X=Be(X)}Be=null}else Be=null;he!==null&&M0(we,le,he,Be,!1),Oe!==null&&Rt!==null&&M0(we,Rt,Oe,Be,!0)}}e:{if(le=oe?Fn(oe):window,he=le.nodeName&&le.nodeName.toLowerCase(),he==="select"||he==="input"&&le.type==="file")var mt=Zp;else if(Xp(le))if(Jp)mt=_w;else{mt=gw;var Me=pw}else he=le.nodeName,!he||he.toLowerCase()!=="input"||le.type!=="checkbox"&&le.type!=="radio"?oe&&ka(oe.elementType)&&(mt=Zp):mt=yw;if(mt&&(mt=mt(t,oe))){Wp(we,mt,a,_e);break e}Me&&Me(t,le,oe),t==="focusout"&&oe&&le.type==="number"&&oe.memoizedProps.value!=null&&Zo(le,"number",le.value)}switch(Me=oe?Fn(oe):window,t){case"focusin":(Xp(Me)||Me.contentEditable==="true")&&(Pa=Me,hd=oe,ul=null);break;case"focusout":ul=hd=Pa=null;break;case"mousedown":dd=!0;break;case"contextmenu":case"mouseup":case"dragend":dd=!1,og(we,a,_e);break;case"selectionchange":if(bw)break;case"keydown":case"keyup":og(we,a,_e)}var et;if(gt)e:{switch(t){case"compositionstart":var it="onCompositionStart";break e;case"compositionend":it="onCompositionEnd";break e;case"compositionupdate":it="onCompositionUpdate";break e}it=void 0}else Va?Ys(t,a)&&(it="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(it="onCompositionStart");it&&(Yr&&a.locale!=="ko"&&(Va||it!=="onCompositionStart"?it==="onCompositionEnd"&&Va&&(et=rl()):(qr=_e,nl="value"in qr?qr.value:qr.textContent,Va=!0)),Me=Du(oe,it),0<Me.length&&(it=new Kr(it,t,null,a,_e),we.push({event:it,listeners:Me}),et?it.data=et:(et=La(a),et!==null&&(it.data=et)))),(et=or?hw(t,a):dw(t,a))&&(it=Du(oe,"onBeforeInput"),0<it.length&&(Me=new Kr("onBeforeInput","beforeinput",null,a,_e),we.push({event:Me,listeners:it}),Me.data=et)),rE(we,t,oe,a,_e)}O0(we,r)})}function Ml(t,r,a){return{instance:t,listener:r,currentTarget:a}}function Du(t,r){for(var a=r+"Capture",l=[];t!==null;){var d=t,m=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||m===null||(d=wr(t,a),d!=null&&l.unshift(Ml(t,d,m)),d=wr(t,r),d!=null&&l.push(Ml(t,d,m))),t.tag===3)return l;t=t.return}return[]}function oE(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function M0(t,r,a,l,d){for(var m=r._reactName,x=[];a!==null&&a!==l;){var L=a,K=L.alternate,oe=L.stateNode;if(L=L.tag,K!==null&&K===l)break;L!==5&&L!==26&&L!==27||oe===null||(K=oe,d?(oe=wr(a,m),oe!=null&&x.unshift(Ml(a,oe,K))):d||(oe=wr(a,m),oe!=null&&x.push(Ml(a,oe,K)))),a=a.return}x.length!==0&&t.push({event:r,listeners:x})}var lE=/\r\n?/g,cE=/\u0000|\uFFFD/g;function L0(t){return(typeof t=="string"?t:""+t).replace(lE,`
`).replace(cE,"")}function V0(t,r){return r=L0(r),L0(t)===r}function Ct(t,r,a,l,d,m){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||jn(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&jn(t,""+l);break;case"className":Hn(t,"class",l);break;case"tabIndex":Hn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Hn(t,a,l);break;case"style":el(t,l,m);break;case"data":if(r!=="object"){Hn(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ia(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(r!=="input"&&Ct(t,r,"name",d.name,d,null),Ct(t,r,"formEncType",d.formEncType,d,null),Ct(t,r,"formMethod",d.formMethod,d,null),Ct(t,r,"formTarget",d.formTarget,d,null)):(Ct(t,r,"encType",d.encType,d,null),Ct(t,r,"method",d.method,d,null),Ct(t,r,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ia(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=xr);break;case"onScroll":l!=null&&nt("scroll",t);break;case"onScrollEnd":l!=null&&nt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ia(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":nt("beforetoggle",t),nt("toggle",t),Ra(t,"popover",l);break;case"xlinkActuate":Xt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Xt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Xt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Xt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Xt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Xt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Xt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Xt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Xt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ra(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Dc.get(a)||a,Ra(t,a,l))}}function Pf(t,r,a,l,d,m){switch(a){case"style":el(t,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?jn(t,l):(typeof l=="number"||typeof l=="bigint")&&jn(t,""+l);break;case"onScroll":l!=null&&nt("scroll",t);break;case"onScrollEnd":l!=null&&nt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=xr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ko.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),r=a.slice(2,d?a.length-7:void 0),m=t[dn]||null,m=m!=null?m[a]:null,typeof m=="function"&&t.removeEventListener(r,m,d),typeof l=="function")){typeof m!="function"&&m!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,d);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Ra(t,a,l)}}}function En(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":nt("error",t),nt("load",t);var l=!1,d=!1,m;for(m in a)if(a.hasOwnProperty(m)){var x=a[m];if(x!=null)switch(m){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ct(t,r,m,x,a,null)}}d&&Ct(t,r,"srcSet",a.srcSet,a,null),l&&Ct(t,r,"src",a.src,a,null);return;case"input":nt("invalid",t);var L=m=x=d=null,K=null,oe=null;for(l in a)if(a.hasOwnProperty(l)){var _e=a[l];if(_e!=null)switch(l){case"name":d=_e;break;case"type":x=_e;break;case"checked":K=_e;break;case"defaultChecked":oe=_e;break;case"value":m=_e;break;case"defaultValue":L=_e;break;case"children":case"dangerouslySetInnerHTML":if(_e!=null)throw Error(s(137,r));break;default:Ct(t,r,l,_e,a,null)}}Nc(t,m,L,K,oe,x,d,!1);return;case"select":nt("invalid",t),l=x=m=null;for(d in a)if(a.hasOwnProperty(d)&&(L=a[d],L!=null))switch(d){case"value":m=L;break;case"defaultValue":x=L;break;case"multiple":l=L;default:Ct(t,r,d,L,a,null)}r=m,a=x,t.multiple=!!l,r!=null?Bi(t,!!l,r,!1):a!=null&&Bi(t,!!l,a,!0);return;case"textarea":nt("invalid",t),m=d=l=null;for(x in a)if(a.hasOwnProperty(x)&&(L=a[x],L!=null))switch(x){case"value":l=L;break;case"defaultValue":d=L;break;case"children":m=L;break;case"dangerouslySetInnerHTML":if(L!=null)throw Error(s(91));break;default:Ct(t,r,x,L,a,null)}Fi(t,l,d,m);return;case"option":for(K in a)if(a.hasOwnProperty(K)&&(l=a[K],l!=null))switch(K){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ct(t,r,K,l,a,null)}return;case"dialog":nt("beforetoggle",t),nt("toggle",t),nt("cancel",t),nt("close",t);break;case"iframe":case"object":nt("load",t);break;case"video":case"audio":for(l=0;l<jl.length;l++)nt(jl[l],t);break;case"image":nt("error",t),nt("load",t);break;case"details":nt("toggle",t);break;case"embed":case"source":case"link":nt("error",t),nt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(oe in a)if(a.hasOwnProperty(oe)&&(l=a[oe],l!=null))switch(oe){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ct(t,r,oe,l,a,null)}return;default:if(ka(r)){for(_e in a)a.hasOwnProperty(_e)&&(l=a[_e],l!==void 0&&Pf(t,r,_e,l,a,void 0));return}}for(L in a)a.hasOwnProperty(L)&&(l=a[L],l!=null&&Ct(t,r,L,l,a,null))}function uE(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,m=null,x=null,L=null,K=null,oe=null,_e=null;for(he in a){var we=a[he];if(a.hasOwnProperty(he)&&we!=null)switch(he){case"checked":break;case"value":break;case"defaultValue":K=we;default:l.hasOwnProperty(he)||Ct(t,r,he,null,l,we)}}for(var le in l){var he=l[le];if(we=a[le],l.hasOwnProperty(le)&&(he!=null||we!=null))switch(le){case"type":m=he;break;case"name":d=he;break;case"checked":oe=he;break;case"defaultChecked":_e=he;break;case"value":x=he;break;case"defaultValue":L=he;break;case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(s(137,r));break;default:he!==we&&Ct(t,r,le,he,l,we)}}Na(t,x,L,K,oe,_e,m,d);return;case"select":he=x=L=le=null;for(m in a)if(K=a[m],a.hasOwnProperty(m)&&K!=null)switch(m){case"value":break;case"multiple":he=K;default:l.hasOwnProperty(m)||Ct(t,r,m,null,l,K)}for(d in l)if(m=l[d],K=a[d],l.hasOwnProperty(d)&&(m!=null||K!=null))switch(d){case"value":le=m;break;case"defaultValue":L=m;break;case"multiple":x=m;default:m!==K&&Ct(t,r,d,m,l,K)}r=L,a=x,l=he,le!=null?Bi(t,!!a,le,!1):!!l!=!!a&&(r!=null?Bi(t,!!a,r,!0):Bi(t,!!a,a?[]:"",!1));return;case"textarea":he=le=null;for(L in a)if(d=a[L],a.hasOwnProperty(L)&&d!=null&&!l.hasOwnProperty(L))switch(L){case"value":break;case"children":break;default:Ct(t,r,L,null,l,d)}for(x in l)if(d=l[x],m=a[x],l.hasOwnProperty(x)&&(d!=null||m!=null))switch(x){case"value":le=d;break;case"defaultValue":he=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==m&&Ct(t,r,x,d,l,m)}kc(t,le,he);return;case"option":for(var Oe in a)if(le=a[Oe],a.hasOwnProperty(Oe)&&le!=null&&!l.hasOwnProperty(Oe))switch(Oe){case"selected":t.selected=!1;break;default:Ct(t,r,Oe,null,l,le)}for(K in l)if(le=l[K],he=a[K],l.hasOwnProperty(K)&&le!==he&&(le!=null||he!=null))switch(K){case"selected":t.selected=le&&typeof le!="function"&&typeof le!="symbol";break;default:Ct(t,r,K,le,l,he)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Be in a)le=a[Be],a.hasOwnProperty(Be)&&le!=null&&!l.hasOwnProperty(Be)&&Ct(t,r,Be,null,l,le);for(oe in l)if(le=l[oe],he=a[oe],l.hasOwnProperty(oe)&&le!==he&&(le!=null||he!=null))switch(oe){case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(s(137,r));break;default:Ct(t,r,oe,le,l,he)}return;default:if(ka(r)){for(var Rt in a)le=a[Rt],a.hasOwnProperty(Rt)&&le!==void 0&&!l.hasOwnProperty(Rt)&&Pf(t,r,Rt,void 0,l,le);for(_e in l)le=l[_e],he=a[_e],!l.hasOwnProperty(_e)||le===he||le===void 0&&he===void 0||Pf(t,r,_e,le,l,he);return}}for(var J in a)le=a[J],a.hasOwnProperty(J)&&le!=null&&!l.hasOwnProperty(J)&&Ct(t,r,J,null,l,le);for(we in l)le=l[we],he=a[we],!l.hasOwnProperty(we)||le===he||le==null&&he==null||Ct(t,r,we,le,l,he)}function P0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function hE(){if(typeof performance.getEntriesByType=="function"){for(var t=0,r=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var d=a[l],m=d.transferSize,x=d.initiatorType,L=d.duration;if(m&&L&&P0(x)){for(x=0,L=d.responseEnd,l+=1;l<a.length;l++){var K=a[l],oe=K.startTime;if(oe>L)break;var _e=K.transferSize,we=K.initiatorType;_e&&P0(we)&&(K=K.responseEnd,x+=_e*(K<L?1:(L-oe)/(K-oe)))}if(--l,r+=8*(m+x)/(d.duration/1e3),t++,10<t)break}}if(0<t)return r/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var zf=null,Uf=null;function Ou(t){return t.nodeType===9?t:t.ownerDocument}function z0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function U0(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function Bf(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Ff=null;function dE(){var t=window.event;return t&&t.type==="popstate"?t===Ff?!1:(Ff=t,!0):(Ff=null,!1)}var B0=typeof setTimeout=="function"?setTimeout:void 0,fE=typeof clearTimeout=="function"?clearTimeout:void 0,F0=typeof Promise=="function"?Promise:void 0,mE=typeof queueMicrotask=="function"?queueMicrotask:typeof F0<"u"?function(t){return F0.resolve(null).then(t).catch(pE)}:B0;function pE(t){setTimeout(function(){throw t})}function hs(t){return t==="head"}function H0(t,r){var a=r,l=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(d),ho(r);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Ll(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Ll(a);for(var m=a.firstChild;m;){var x=m.nextSibling,L=m.nodeName;m[Vr]||L==="SCRIPT"||L==="STYLE"||L==="LINK"&&m.rel.toLowerCase()==="stylesheet"||a.removeChild(m),m=x}}else a==="body"&&Ll(t.ownerDocument.body);a=d}while(a);ho(r)}function q0(t,r){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Hf(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Hf(a),Ca(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function gE(t,r,a,l){for(;t.nodeType===1;){var d=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Vr])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var m=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=mr(t.nextSibling),t===null)break}return null}function yE(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=mr(t.nextSibling),t===null))return null;return t}function G0(t,r){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=mr(t.nextSibling),t===null))return null;return t}function qf(t){return t.data==="$?"||t.data==="$~"}function Gf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function _E(t,r){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=r;else if(t.data!=="$?"||a.readyState!=="loading")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function mr(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return t}var Qf=null;function Q0(t){t=t.nextSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(r===0)return mr(t.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}t=t.nextSibling}return null}function K0(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return t;r--}else a!=="/$"&&a!=="/&"||r++}t=t.previousSibling}return null}function Y0(t,r,a){switch(r=Ou(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Ll(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);Ca(t)}var pr=new Map,$0=new Set;function ju(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ti=ee.d;ee.d={f:vE,r:bE,D:xE,C:wE,L:EE,m:TE,X:AE,S:SE,M:CE};function vE(){var t=Ti.f(),r=Su();return t||r}function bE(t){var r=ir(t);r!==null&&r.tag===5&&r.type==="form"?dy(r):Ti.r(t)}var lo=typeof document>"u"?null:document;function X0(t,r,a){var l=lo;if(l&&typeof r=="string"&&r){var d=On(r);d='link[rel="'+t+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),$0.has(d)||($0.add(d),t={rel:t,crossOrigin:a,href:r},l.querySelector(d)===null&&(r=l.createElement("link"),En(r,"link",t),$t(r),l.head.appendChild(r)))}}function xE(t){Ti.D(t),X0("dns-prefetch",t,null)}function wE(t,r){Ti.C(t,r),X0("preconnect",t,r)}function EE(t,r,a){Ti.L(t,r,a);var l=lo;if(l&&t&&r){var d='link[rel="preload"][as="'+On(r)+'"]';r==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+On(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+On(a.imageSizes)+'"]')):d+='[href="'+On(t)+'"]';var m=d;switch(r){case"style":m=co(t);break;case"script":m=uo(t)}pr.has(m)||(t=b({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),pr.set(m,t),l.querySelector(d)!==null||r==="style"&&l.querySelector(Vl(m))||r==="script"&&l.querySelector(Pl(m))||(r=l.createElement("link"),En(r,"link",t),$t(r),l.head.appendChild(r)))}}function TE(t,r){Ti.m(t,r);var a=lo;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",d='link[rel="modulepreload"][as="'+On(l)+'"][href="'+On(t)+'"]',m=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=uo(t)}if(!pr.has(m)&&(t=b({rel:"modulepreload",href:t},r),pr.set(m,t),a.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Pl(m)))return}l=a.createElement("link"),En(l,"link",t),$t(l),a.head.appendChild(l)}}}function SE(t,r,a){Ti.S(t,r,a);var l=lo;if(l&&t){var d=zr(l).hoistableStyles,m=co(t);r=r||"default";var x=d.get(m);if(!x){var L={loading:0,preload:null};if(x=l.querySelector(Vl(m)))L.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":r},a),(a=pr.get(m))&&Kf(t,a);var K=x=l.createElement("link");$t(K),En(K,"link",t),K._p=new Promise(function(oe,_e){K.onload=oe,K.onerror=_e}),K.addEventListener("load",function(){L.loading|=1}),K.addEventListener("error",function(){L.loading|=2}),L.loading|=4,Mu(x,r,l)}x={type:"stylesheet",instance:x,count:1,state:L},d.set(m,x)}}}function AE(t,r){Ti.X(t,r);var a=lo;if(a&&t){var l=zr(a).hoistableScripts,d=uo(t),m=l.get(d);m||(m=a.querySelector(Pl(d)),m||(t=b({src:t,async:!0},r),(r=pr.get(d))&&Yf(t,r),m=a.createElement("script"),$t(m),En(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(d,m))}}function CE(t,r){Ti.M(t,r);var a=lo;if(a&&t){var l=zr(a).hoistableScripts,d=uo(t),m=l.get(d);m||(m=a.querySelector(Pl(d)),m||(t=b({src:t,async:!0,type:"module"},r),(r=pr.get(d))&&Yf(t,r),m=a.createElement("script"),$t(m),En(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(d,m))}}function W0(t,r,a,l){var d=(d=Ie.current)?ju(d):null;if(!d)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=co(a.href),a=zr(d).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=co(a.href);var m=zr(d).hoistableStyles,x=m.get(t);if(x||(d=d.ownerDocument||d,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,x),(m=d.querySelector(Vl(t)))&&!m._p&&(x.instance=m,x.state.loading=5),pr.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},pr.set(t,a),m||RE(d,t,a,x.state))),r&&l===null)throw Error(s(528,""));return x}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=uo(a),a=zr(d).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function co(t){return'href="'+On(t)+'"'}function Vl(t){return'link[rel="stylesheet"]['+t+"]"}function Z0(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function RE(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),En(r,"link",a),$t(r),t.head.appendChild(r))}function uo(t){return'[src="'+On(t)+'"]'}function Pl(t){return"script[async]"+t}function J0(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+On(a.href)+'"]');if(l)return r.instance=l,$t(l),l;var d=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),$t(l),En(l,"style",d),Mu(l,a.precedence,t),r.instance=l;case"stylesheet":d=co(a.href);var m=t.querySelector(Vl(d));if(m)return r.state.loading|=4,r.instance=m,$t(m),m;l=Z0(a),(d=pr.get(d))&&Kf(l,d),m=(t.ownerDocument||t).createElement("link"),$t(m);var x=m;return x._p=new Promise(function(L,K){x.onload=L,x.onerror=K}),En(m,"link",l),r.state.loading|=4,Mu(m,a.precedence,t),r.instance=m;case"script":return m=uo(a.src),(d=t.querySelector(Pl(m)))?(r.instance=d,$t(d),d):(l=a,(d=pr.get(m))&&(l=b({},a),Yf(l,d)),t=t.ownerDocument||t,d=t.createElement("script"),$t(d),En(d,"link",l),t.head.appendChild(d),r.instance=d);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Mu(l,a.precedence,t));return r.instance}function Mu(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,m=d,x=0;x<l.length;x++){var L=l[x];if(L.dataset.precedence===r)m=L;else if(m!==d)break}m?m.parentNode.insertBefore(t,m.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function Kf(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function Yf(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Lu=null;function e_(t,r,a){if(Lu===null){var l=new Map,d=Lu=new Map;d.set(a,l)}else d=Lu,l=d.get(a),l||(l=new Map,d.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),d=0;d<a.length;d++){var m=a[d];if(!(m[Vr]||m[Yt]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var x=m.getAttribute(r)||"";x=t+x;var L=l.get(x);L?L.push(m):l.set(x,[m])}}return l}function t_(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function NE(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function n_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function kE(t,r,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var d=co(l.href),m=r.querySelector(Vl(d));if(m){r=m._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(t.count++,t=Vu.bind(t),r.then(t,t)),a.state.loading|=4,a.instance=m,$t(m);return}m=r.ownerDocument||r,l=Z0(l),(d=pr.get(d))&&Kf(l,d),m=m.createElement("link"),$t(m);var x=m;x._p=new Promise(function(L,K){x.onload=L,x.onerror=K}),En(m,"link",l),a.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Vu.bind(t),r.addEventListener("load",a),r.addEventListener("error",a))}}var $f=0;function IE(t,r){return t.stylesheets&&t.count===0&&zu(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&zu(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+r);0<t.imgBytes&&$f===0&&($f=62500*hE());var d=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&zu(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>$f?50:800)+r);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(d)}}:null}function Vu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)zu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Pu=null;function zu(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Pu=new Map,r.forEach(DE,t),Pu=null,Vu.call(t))}function DE(t,r){if(!(r.state.loading&4)){var a=Pu.get(t);if(a)var l=a.get(null);else{a=new Map,Pu.set(t,a);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<d.length;m++){var x=d[m];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(a.set(x.dataset.precedence,x),l=x)}l&&a.set(null,l)}d=r.instance,x=d.getAttribute("data-precedence"),m=a.get(x)||l,m===l&&a.set(null,d),a.set(x,d),this.count++,l=Vu.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),m?m.parentNode.insertBefore(d,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),r.state.loading|=4}}var zl={$$typeof:z,Provider:null,Consumer:null,_currentValue:Ce,_currentValue2:Ce,_threadCount:0};function OE(t,r,a,l,d,m,x,L,K){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Bn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bn(0),this.hiddenUpdates=Bn(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=m,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=K,this.incompleteTransitions=new Map}function r_(t,r,a,l,d,m,x,L,K,oe,_e,we){return t=new OE(t,r,a,x,K,oe,_e,we,L),r=1,m===!0&&(r|=24),m=Gn(3,null,null,r),t.current=m,m.stateNode=t,r=Cd(),r.refCount++,t.pooledCache=r,r.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:r},Id(m),t}function i_(t){return t?(t=Ba,t):Ba}function s_(t,r,a,l,d,m){d=i_(d),l.context===null?l.context=d:l.pendingContext=d,l=es(r),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=ts(t,l,r),a!==null&&(zn(a,t,r),yl(a,t,r))}function a_(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function Xf(t,r){a_(t,r),(t=t.alternate)&&a_(t,r)}function o_(t){if(t.tag===13||t.tag===31){var r=Ws(t,67108864);r!==null&&zn(r,t,67108864),Xf(t,67108864)}}function l_(t){if(t.tag===13||t.tag===31){var r=Xn();r=zs(r);var a=Ws(t,r);a!==null&&zn(a,t,r),Xf(t,r)}}var Uu=!0;function jE(t,r,a,l){var d=Z.T;Z.T=null;var m=ee.p;try{ee.p=2,Wf(t,r,a,l)}finally{ee.p=m,Z.T=d}}function ME(t,r,a,l){var d=Z.T;Z.T=null;var m=ee.p;try{ee.p=8,Wf(t,r,a,l)}finally{ee.p=m,Z.T=d}}function Wf(t,r,a,l){if(Uu){var d=Zf(l);if(d===null)Vf(t,r,l,Bu,a),u_(t,l);else if(VE(d,t,r,a,l))l.stopPropagation();else if(u_(t,l),r&4&&-1<LE.indexOf(t)){for(;d!==null;){var m=ir(d);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var x=It(m.pendingLanes);if(x!==0){var L=m;for(L.pendingLanes|=2,L.entangledLanes|=2;x;){var K=1<<31-ut(x);L.entanglements[1]|=K,x&=~K}Zr(m),(yt&6)===0&&(Eu=Se()+500,Ol(0))}}break;case 31:case 13:L=Ws(m,2),L!==null&&zn(L,m,2),Su(),Xf(m,2)}if(m=Zf(l),m===null&&Vf(t,r,l,Bu,a),m===d)break;d=m}d!==null&&l.stopPropagation()}else Vf(t,r,l,null,a)}}function Zf(t){return t=sr(t),Jf(t)}var Bu=null;function Jf(t){if(Bu=null,t=Pr(t),t!==null){var r=c(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=u(r),t!==null)return t;t=null}else if(a===31){if(t=f(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return Bu=t,null}function c_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xe()){case Ne:return 2;case Ge:return 8;case Qe:case un:return 32;case nr:return 268435456;default:return 32}default:return 32}}var em=!1,ds=null,fs=null,ms=null,Ul=new Map,Bl=new Map,ps=[],LE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function u_(t,r){switch(t){case"focusin":case"focusout":ds=null;break;case"dragenter":case"dragleave":fs=null;break;case"mouseover":case"mouseout":ms=null;break;case"pointerover":case"pointerout":Ul.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bl.delete(r.pointerId)}}function Fl(t,r,a,l,d,m){return t===null||t.nativeEvent!==m?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[d]},r!==null&&(r=ir(r),r!==null&&o_(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),t)}function VE(t,r,a,l,d){switch(r){case"focusin":return ds=Fl(ds,t,r,a,l,d),!0;case"dragenter":return fs=Fl(fs,t,r,a,l,d),!0;case"mouseover":return ms=Fl(ms,t,r,a,l,d),!0;case"pointerover":var m=d.pointerId;return Ul.set(m,Fl(Ul.get(m)||null,t,r,a,l,d)),!0;case"gotpointercapture":return m=d.pointerId,Bl.set(m,Fl(Bl.get(m)||null,t,r,a,l,d)),!0}return!1}function h_(t){var r=Pr(t.target);if(r!==null){var a=c(r);if(a!==null){if(r=a.tag,r===13){if(r=u(a),r!==null){t.blockedOn=r,vr(t.priority,function(){l_(a)});return}}else if(r===31){if(r=f(a),r!==null){t.blockedOn=r,vr(t.priority,function(){l_(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Fu(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=Zf(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);tl=l,a.target.dispatchEvent(l),tl=null}else return r=ir(a),r!==null&&o_(r),t.blockedOn=a,!1;r.shift()}return!0}function d_(t,r,a){Fu(t)&&a.delete(r)}function PE(){em=!1,ds!==null&&Fu(ds)&&(ds=null),fs!==null&&Fu(fs)&&(fs=null),ms!==null&&Fu(ms)&&(ms=null),Ul.forEach(d_),Bl.forEach(d_)}function Hu(t,r){t.blockedOn===r&&(t.blockedOn=null,em||(em=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,PE)))}var qu=null;function f_(t){qu!==t&&(qu=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){qu===t&&(qu=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],d=t[r+2];if(typeof l!="function"){if(Jf(l||a)===null)continue;break}var m=ir(a);m!==null&&(t.splice(r,3),r-=3,Wd(m,{pending:!0,data:d,method:a.method,action:l},l,d))}}))}function ho(t){function r(K){return Hu(K,t)}ds!==null&&Hu(ds,t),fs!==null&&Hu(fs,t),ms!==null&&Hu(ms,t),Ul.forEach(r),Bl.forEach(r);for(var a=0;a<ps.length;a++){var l=ps[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ps.length&&(a=ps[0],a.blockedOn===null);)h_(a),a.blockedOn===null&&ps.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var d=a[l],m=a[l+1],x=d[dn]||null;if(typeof m=="function")x||f_(a);else if(x){var L=null;if(m&&m.hasAttribute("formAction")){if(d=m,x=m[dn]||null)L=x.formAction;else if(Jf(d)!==null)continue}else L=x.action;typeof L=="function"?a[l+1]=L:(a.splice(l,3),l-=3),f_(a)}}}function m_(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(x){return d=x})},focusReset:"manual",scroll:"manual"})}function r(){d!==null&&(d(),d=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,d=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),d!==null&&(d(),d=null)}}}function tm(t){this._internalRoot=t}Gu.prototype.render=tm.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=Xn();s_(a,l,t,r,null,null)},Gu.prototype.unmount=tm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;s_(t.current,2,null,t,null,null),Su(),r[Lr]=null}};function Gu(t){this._internalRoot=t}Gu.prototype.unstable_scheduleHydration=function(t){if(t){var r=Sc();t={blockedOn:null,target:t,priority:r};for(var a=0;a<ps.length&&r!==0&&r<ps[a].priority;a++);ps.splice(a,0,t),a===0&&h_(t)}};var p_=e.version;if(p_!=="19.2.3")throw Error(s(527,p_,"19.2.3"));ee.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(r),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var zE={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qu.isDisabled&&Qu.supportsFiber)try{lt=Qu.inject(zE),jt=Qu}catch{}}return ql.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",d=wy,m=Ey,x=Ty;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(m=r.onCaughtError),r.onRecoverableError!==void 0&&(x=r.onRecoverableError)),r=r_(t,1,!1,null,null,a,l,null,d,m,x,m_),t[Lr]=r.current,Lf(t),new tm(r)},ql.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,d="",m=wy,x=Ey,L=Ty,K=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(x=a.onCaughtError),a.onRecoverableError!==void 0&&(L=a.onRecoverableError),a.formState!==void 0&&(K=a.formState)),r=r_(t,1,!0,r,a??null,l,d,K,m,x,L,m_),r.context=i_(null),a=r.current,l=Xn(),l=zs(l),d=es(l),d.callback=null,ts(a,d,l),a=l,r.current.lanes=a,Vs(r,a),Zr(r),t[Lr]=r.current,Lf(t),new Gu(r)},ql.version="19.2.3",ql}var S_;function XE(){if(S_)return im.exports;S_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),im.exports=$E(),im.exports}var WE=XE();const ZE=ep(WE);/**
 * react-router v7.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var A_="popstate";function JE(i={}){function e(o,c){let{pathname:u="/",search:f="",hash:p=""}=ba(o.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),Tm("",{pathname:u,search:f,hash:p},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function n(o,c){let u=o.document.querySelector("base"),f="";if(u&&u.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");f=g===-1?p:p.slice(0,g)}return f+"#"+(typeof c=="string"?c:sc(c))}function s(o,c){Jn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return t2(e,n,s,i)}function Vt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Jn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function e2(){return Math.random().toString(36).substring(2,10)}function C_(i,e){return{usr:i.state,key:i.key,idx:e}}function Tm(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?ba(e):e,state:n,key:e&&e.key||s||e2()}}function sc({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function ba(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function t2(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:c=!1}=s,u=o.history,f="POP",p=null,g=_();g==null&&(g=0,u.replaceState({...u.state,idx:g},""));function _(){return(u.state||{idx:null}).idx}function b(){f="POP";let R=_(),I=R==null?null:R-g;g=R,p&&p({action:f,location:A.location,delta:I})}function E(R,I){f="PUSH";let P=Tm(A.location,R,I);n&&n(P,R),g=_()+1;let z=C_(P,g),Y=A.createHref(P);try{u.pushState(z,"",Y)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;o.location.assign(Y)}c&&p&&p({action:f,location:A.location,delta:1})}function w(R,I){f="REPLACE";let P=Tm(A.location,R,I);n&&n(P,R),g=_();let z=C_(P,g),Y=A.createHref(P);u.replaceState(z,"",Y),c&&p&&p({action:f,location:A.location,delta:0})}function k(R){return n2(R)}let A={get action(){return f},get location(){return i(o,u)},listen(R){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(A_,b),p=R,()=>{o.removeEventListener(A_,b),p=null}},createHref(R){return e(o,R)},createURL:k,encodeLocation(R){let I=k(R);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:E,replace:w,go(R){return u.go(R)}};return A}function n2(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Vt(n,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:sc(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function ab(i,e,n="/"){return r2(i,e,n,!1)}function r2(i,e,n,s){let o=typeof e=="string"?ba(e):e,c=Oi(o.pathname||"/",n);if(c==null)return null;let u=ob(i);i2(u);let f=null;for(let p=0;f==null&&p<u.length;++p){let g=p2(c);f=f2(u[p],g,s)}return f}function ob(i,e=[],n=[],s="",o=!1){let c=(u,f,p=o,g)=>{let _={relativePath:g===void 0?u.path||"":g,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(s)&&p)return;Vt(_.relativePath.startsWith(s),`Absolute route path "${_.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(s.length)}let b=ki([s,_.relativePath]),E=n.concat(_);u.children&&u.children.length>0&&(Vt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),ob(u.children,e,E,b,p)),!(u.path==null&&!u.index)&&e.push({path:b,score:h2(b,u.index),routesMeta:E})};return i.forEach((u,f)=>{var p;if(u.path===""||!((p=u.path)!=null&&p.includes("?")))c(u,f);else for(let g of lb(u.path))c(u,f,!0,g)}),e}function lb(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),c=n.replace(/\?$/,"");if(s.length===0)return o?[c,""]:[c];let u=lb(s.join("/")),f=[];return f.push(...u.map(p=>p===""?c:[c,p].join("/"))),o&&f.push(...u),f.map(p=>i.startsWith("/")&&p===""?"/":p)}function i2(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:d2(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var s2=/^:[\w-]+$/,a2=3,o2=2,l2=1,c2=10,u2=-2,R_=i=>i==="*";function h2(i,e){let n=i.split("/"),s=n.length;return n.some(R_)&&(s+=u2),e&&(s+=o2),n.filter(o=>!R_(o)).reduce((o,c)=>o+(s2.test(c)?a2:c===""?l2:c2),s)}function d2(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function f2(i,e,n=!1){let{routesMeta:s}=i,o={},c="/",u=[];for(let f=0;f<s.length;++f){let p=s[f],g=f===s.length-1,_=c==="/"?e:e.slice(c.length)||"/",b=fh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},_),E=p.route;if(!b&&g&&n&&!s[s.length-1].route.index&&(b=fh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!b)return null;Object.assign(o,b.params),u.push({params:o,pathname:ki([c,b.pathname]),pathnameBase:v2(ki([c,b.pathnameBase])),route:E}),b.pathnameBase!=="/"&&(c=ki([c,b.pathnameBase]))}return u}function fh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=m2(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let c=o[0],u=c.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:s.reduce((g,{paramName:_,isOptional:b},E)=>{if(_==="*"){let k=f[E]||"";u=c.slice(0,c.length-k.length).replace(/(.)\/+$/,"$1")}const w=f[E];return b&&!w?g[_]=void 0:g[_]=(w||"").replace(/%2F/g,"/"),g},{}),pathname:c,pathnameBase:u,pattern:i}}function m2(i,e=!1,n=!0){Jn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,p)=>(s.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function p2(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Jn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Oi(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}var cb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,g2=i=>cb.test(i);function y2(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?ba(i):i,c;if(n)if(g2(n))c=n;else{if(n.includes("//")){let u=n;n=n.replace(/\/\/+/g,"/"),Jn(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${n}`)}n.startsWith("/")?c=N_(n.substring(1),"/"):c=N_(n,e)}else c=e;return{pathname:c,search:b2(s),hash:x2(o)}}function N_(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function lm(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function _2(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function np(i){let e=_2(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function rp(i,e,n,s=!1){let o;typeof i=="string"?o=ba(i):(o={...i},Vt(!o.pathname||!o.pathname.includes("?"),lm("?","pathname","search",o)),Vt(!o.pathname||!o.pathname.includes("#"),lm("#","pathname","hash",o)),Vt(!o.search||!o.search.includes("#"),lm("#","search","hash",o)));let c=i===""||o.pathname==="",u=c?"/":o.pathname,f;if(u==null)f=n;else{let b=e.length-1;if(!s&&u.startsWith("..")){let E=u.split("/");for(;E[0]==="..";)E.shift(),b-=1;o.pathname=E.join("/")}f=b>=0?e[b]:"/"}let p=y2(o,f),g=u&&u!=="/"&&u.endsWith("/"),_=(c||u===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||_)&&(p.pathname+="/"),p}var ki=i=>i.join("/").replace(/\/\/+/g,"/"),v2=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),b2=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,x2=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,w2=class{constructor(i,e,n,s=!1){this.status=i,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function E2(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}function T2(i){return i.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var ub=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function hb(i,e){let n=i;if(typeof n!="string"||!cb.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(ub)try{let c=new URL(window.location.href),u=n.startsWith("//")?new URL(c.protocol+n):new URL(n),f=Oi(u.pathname,e);u.origin===c.origin&&f!=null?n=f+u.search+u.hash:o=!0}catch{Jn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var db=["POST","PUT","PATCH","DELETE"];new Set(db);var S2=["GET",...db];new Set(S2);var Mo=W.createContext(null);Mo.displayName="DataRouter";var Lh=W.createContext(null);Lh.displayName="DataRouterState";var A2=W.createContext(!1),fb=W.createContext({isTransitioning:!1});fb.displayName="ViewTransition";var C2=W.createContext(new Map);C2.displayName="Fetchers";var R2=W.createContext(null);R2.displayName="Await";var tr=W.createContext(null);tr.displayName="Navigation";var dc=W.createContext(null);dc.displayName="Location";var Mr=W.createContext({outlet:null,matches:[],isDataRoute:!1});Mr.displayName="Route";var ip=W.createContext(null);ip.displayName="RouteError";var mb="REACT_ROUTER_ERROR",N2="REDIRECT",k2="ROUTE_ERROR_RESPONSE";function I2(i){if(i.startsWith(`${mb}:${N2}:{`))try{let e=JSON.parse(i.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function D2(i){if(i.startsWith(`${mb}:${k2}:{`))try{let e=JSON.parse(i.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new w2(e.status,e.statusText,e.data)}catch{}}function O2(i,{relative:e}={}){Vt(Lo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=W.useContext(tr),{hash:o,pathname:c,search:u}=fc(i,{relative:e}),f=c;return n!=="/"&&(f=c==="/"?n:ki([n,c])),s.createHref({pathname:f,search:u,hash:o})}function Lo(){return W.useContext(dc)!=null}function js(){return Vt(Lo(),"useLocation() may be used only in the context of a <Router> component."),W.useContext(dc).location}var pb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function gb(i){W.useContext(tr).static||W.useLayoutEffect(i)}function Vo(){let{isDataRoute:i}=W.useContext(Mr);return i?K2():j2()}function j2(){Vt(Lo(),"useNavigate() may be used only in the context of a <Router> component.");let i=W.useContext(Mo),{basename:e,navigator:n}=W.useContext(tr),{matches:s}=W.useContext(Mr),{pathname:o}=js(),c=JSON.stringify(np(s)),u=W.useRef(!1);return gb(()=>{u.current=!0}),W.useCallback((p,g={})=>{if(Jn(u.current,pb),!u.current)return;if(typeof p=="number"){n.go(p);return}let _=rp(p,JSON.parse(c),o,g.relative==="path");i==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:ki([e,_.pathname])),(g.replace?n.replace:n.push)(_,g.state,g)},[e,n,c,o,i])}W.createContext(null);function M2(){let{matches:i}=W.useContext(Mr),e=i[i.length-1];return e?e.params:{}}function fc(i,{relative:e}={}){let{matches:n}=W.useContext(Mr),{pathname:s}=js(),o=JSON.stringify(np(n));return W.useMemo(()=>rp(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function L2(i,e){return yb(i,e)}function yb(i,e,n,s,o){var P;Vt(Lo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=W.useContext(tr),{matches:u}=W.useContext(Mr),f=u[u.length-1],p=f?f.params:{},g=f?f.pathname:"/",_=f?f.pathnameBase:"/",b=f&&f.route;{let z=b&&b.path||"";vb(g,!b||z.endsWith("*")||z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${z}"> to <Route path="${z==="/"?"*":`${z}/*`}">.`)}let E=js(),w;if(e){let z=typeof e=="string"?ba(e):e;Vt(_==="/"||((P=z.pathname)==null?void 0:P.startsWith(_)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${z.pathname}" was given in the \`location\` prop.`),w=z}else w=E;let k=w.pathname||"/",A=k;if(_!=="/"){let z=_.replace(/^\//,"").split("/");A="/"+k.replace(/^\//,"").split("/").slice(z.length).join("/")}let R=ab(i,{pathname:A});Jn(b||R!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Jn(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let I=B2(R&&R.map(z=>Object.assign({},z,{params:Object.assign({},p,z.params),pathname:ki([_,c.encodeLocation?c.encodeLocation(z.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:z.pathname]),pathnameBase:z.pathnameBase==="/"?_:ki([_,c.encodeLocation?c.encodeLocation(z.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:z.pathnameBase])})),u,n,s,o);return e&&I?W.createElement(dc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},I):I}function V2(){let i=Q2(),e=E2(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},u=null;return console.error("Error handled by React Router default ErrorBoundary:",i),u=W.createElement(W.Fragment,null,W.createElement("p",null," Hey developer "),W.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",W.createElement("code",{style:c},"ErrorBoundary")," or"," ",W.createElement("code",{style:c},"errorElement")," prop on your route.")),W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},e),n?W.createElement("pre",{style:o},n):null,u)}var P2=W.createElement(V2,null),_b=class extends W.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.onError?this.props.onError(i,e):console.error("React Router caught the following error during render",i)}render(){let i=this.state.error;if(this.context&&typeof i=="object"&&i&&"digest"in i&&typeof i.digest=="string"){const n=D2(i.digest);n&&(i=n)}let e=i!==void 0?W.createElement(Mr.Provider,{value:this.props.routeContext},W.createElement(ip.Provider,{value:i,children:this.props.component})):this.props.children;return this.context?W.createElement(z2,{error:i},e):e}};_b.contextType=A2;var cm=new WeakMap;function z2({children:i,error:e}){let{basename:n}=W.useContext(tr);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=I2(e.digest);if(s){let o=cm.get(e);if(o)throw o;let c=hb(s.location,n);if(ub&&!cm.get(e))if(c.isExternal||s.reloadDocument)window.location.href=c.absoluteURL||c.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(c.to,{replace:s.replace}));throw cm.set(e,u),u}return W.createElement("meta",{httpEquiv:"refresh",content:`0;url=${c.absoluteURL||c.to}`})}}return i}function U2({routeContext:i,match:e,children:n}){let s=W.useContext(Mo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),W.createElement(Mr.Provider,{value:i},n)}function B2(i,e=[],n=null,s=null,o=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let c=i,u=n==null?void 0:n.errors;if(u!=null){let _=c.findIndex(b=>b.route.id&&(u==null?void 0:u[b.route.id])!==void 0);Vt(_>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),c=c.slice(0,Math.min(c.length,_+1))}let f=!1,p=-1;if(n)for(let _=0;_<c.length;_++){let b=c[_];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(p=_),b.route.id){let{loaderData:E,errors:w}=n,k=b.route.loader&&!E.hasOwnProperty(b.route.id)&&(!w||w[b.route.id]===void 0);if(b.route.lazy||k){f=!0,p>=0?c=c.slice(0,p+1):c=[c[0]];break}}}let g=n&&s?(_,b)=>{var E,w;s(_,{location:n.location,params:((w=(E=n.matches)==null?void 0:E[0])==null?void 0:w.params)??{},unstable_pattern:T2(n.matches),errorInfo:b})}:void 0;return c.reduceRight((_,b,E)=>{let w,k=!1,A=null,R=null;n&&(w=u&&b.route.id?u[b.route.id]:void 0,A=b.route.errorElement||P2,f&&(p<0&&E===0?(vb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,R=null):p===E&&(k=!0,R=b.route.hydrateFallbackElement||null)));let I=e.concat(c.slice(0,E+1)),P=()=>{let z;return w?z=A:k?z=R:b.route.Component?z=W.createElement(b.route.Component,null):b.route.element?z=b.route.element:z=_,W.createElement(U2,{match:b,routeContext:{outlet:_,matches:I,isDataRoute:n!=null},children:z})};return n&&(b.route.ErrorBoundary||b.route.errorElement||E===0)?W.createElement(_b,{location:n.location,revalidation:n.revalidation,component:A,error:w,children:P(),routeContext:{outlet:null,matches:I,isDataRoute:!0},onError:g}):P()},null)}function sp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function F2(i){let e=W.useContext(Mo);return Vt(e,sp(i)),e}function H2(i){let e=W.useContext(Lh);return Vt(e,sp(i)),e}function q2(i){let e=W.useContext(Mr);return Vt(e,sp(i)),e}function ap(i){let e=q2(i),n=e.matches[e.matches.length-1];return Vt(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function G2(){return ap("useRouteId")}function Q2(){var s;let i=W.useContext(ip),e=H2("useRouteError"),n=ap("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[n]}function K2(){let{router:i}=F2("useNavigate"),e=ap("useNavigate"),n=W.useRef(!1);return gb(()=>{n.current=!0}),W.useCallback(async(o,c={})=>{Jn(n.current,pb),n.current&&(typeof o=="number"?await i.navigate(o):await i.navigate(o,{fromRouteId:e,...c}))},[i,e])}var k_={};function vb(i,e,n){!e&&!k_[i]&&(k_[i]=!0,Jn(!1,n))}W.memo(Y2);function Y2({routes:i,future:e,state:n,onError:s}){return yb(i,void 0,n,s,e)}function Gl({to:i,replace:e,state:n,relative:s}){Vt(Lo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=W.useContext(tr);Jn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=W.useContext(Mr),{pathname:u}=js(),f=Vo(),p=rp(i,np(c),u,s==="path"),g=JSON.stringify(p);return W.useEffect(()=>{f(JSON.parse(g),{replace:e,state:n,relative:s})},[f,g,s,e,n]),null}function ua(i){Vt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function $2({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:c=!1,unstable_useTransitions:u}){Vt(!Lo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=i.replace(/^\/*/,"/"),p=W.useMemo(()=>({basename:f,navigator:o,static:c,unstable_useTransitions:u,future:{}}),[f,o,c,u]);typeof n=="string"&&(n=ba(n));let{pathname:g="/",search:_="",hash:b="",state:E=null,key:w="default"}=n,k=W.useMemo(()=>{let A=Oi(g,f);return A==null?null:{location:{pathname:A,search:_,hash:b,state:E,key:w},navigationType:s}},[f,g,_,b,E,w,s]);return Jn(k!=null,`<Router basename="${f}"> is not able to match the URL "${g}${_}${b}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:W.createElement(tr.Provider,{value:p},W.createElement(dc.Provider,{children:e,value:k}))}function X2({children:i,location:e}){return L2(Sm(i),e)}function Sm(i,e=[]){let n=[];return W.Children.forEach(i,(s,o)=>{if(!W.isValidElement(s))return;let c=[...e,o];if(s.type===W.Fragment){n.push.apply(n,Sm(s.props.children,c));return}Vt(s.type===ua,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Vt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let u={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(u.children=Sm(s.props.children,c)),n.push(u)}),n}var th="get",nh="application/x-www-form-urlencoded";function Vh(i){return typeof HTMLElement<"u"&&i instanceof HTMLElement}function W2(i){return Vh(i)&&i.tagName.toLowerCase()==="button"}function Z2(i){return Vh(i)&&i.tagName.toLowerCase()==="form"}function J2(i){return Vh(i)&&i.tagName.toLowerCase()==="input"}function eT(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function tT(i,e){return i.button===0&&(!e||e==="_self")&&!eT(i)}var Ku=null;function nT(){if(Ku===null)try{new FormData(document.createElement("form"),0),Ku=!1}catch{Ku=!0}return Ku}var rT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function um(i){return i!=null&&!rT.has(i)?(Jn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${nh}"`),null):i}function iT(i,e){let n,s,o,c,u;if(Z2(i)){let f=i.getAttribute("action");s=f?Oi(f,e):null,n=i.getAttribute("method")||th,o=um(i.getAttribute("enctype"))||nh,c=new FormData(i)}else if(W2(i)||J2(i)&&(i.type==="submit"||i.type==="image")){let f=i.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||f.getAttribute("action");if(s=p?Oi(p,e):null,n=i.getAttribute("formmethod")||f.getAttribute("method")||th,o=um(i.getAttribute("formenctype"))||um(f.getAttribute("enctype"))||nh,c=new FormData(f,i),!nT()){let{name:g,type:_,value:b}=i;if(_==="image"){let E=g?`${g}.`:"";c.append(`${E}x`,"0"),c.append(`${E}y`,"0")}else g&&c.append(g,b)}}else{if(Vh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=th,s=null,o=nh,u=i}return c&&o==="text/plain"&&(u=c,c=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:c,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function op(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function sT(i,e,n){let s=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&Oi(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function aT(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function oT(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function lT(i,e,n){let s=await Promise.all(i.map(async o=>{let c=e.routes[o.route.id];if(c){let u=await aT(c,n);return u.links?u.links():[]}return[]}));return dT(s.flat(1).filter(oT).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function I_(i,e,n,s,o,c){let u=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,f=(p,g)=>{var _;return n[g].pathname!==p.pathname||((_=n[g].route.path)==null?void 0:_.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return c==="assets"?e.filter((p,g)=>u(p,g)||f(p,g)):c==="data"?e.filter((p,g)=>{var b;let _=s.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(u(p,g)||f(p,g))return!0;if(p.route.shouldRevalidate){let E=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((b=n[0])==null?void 0:b.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function cT(i,e,{includeHydrateFallback:n}={}){return uT(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function uT(i){return[...new Set(i)]}function hT(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function dT(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let c=JSON.stringify(hT(o));return n.has(c)||(n.add(c),s.push({key:c,link:o})),s},[])}function bb(){let i=W.useContext(Mo);return op(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function fT(){let i=W.useContext(Lh);return op(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var lp=W.createContext(void 0);lp.displayName="FrameworkContext";function xb(){let i=W.useContext(lp);return op(i,"You must render this element inside a <HydratedRouter> element"),i}function mT(i,e){let n=W.useContext(lp),[s,o]=W.useState(!1),[c,u]=W.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:g,onMouseLeave:_,onTouchStart:b}=e,E=W.useRef(null);W.useEffect(()=>{if(i==="render"&&u(!0),i==="viewport"){let A=I=>{I.forEach(P=>{u(P.isIntersecting)})},R=new IntersectionObserver(A,{threshold:.5});return E.current&&R.observe(E.current),()=>{R.disconnect()}}},[i]),W.useEffect(()=>{if(s){let A=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(A)}}},[s]);let w=()=>{o(!0)},k=()=>{o(!1),u(!1)};return n?i!=="intent"?[c,E,{}]:[c,E,{onFocus:Ql(f,w),onBlur:Ql(p,k),onMouseEnter:Ql(g,w),onMouseLeave:Ql(_,k),onTouchStart:Ql(b,w)}]:[!1,E,{}]}function Ql(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function pT({page:i,...e}){let{router:n}=bb(),s=W.useMemo(()=>ab(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?W.createElement(yT,{page:i,matches:s,...e}):null}function gT(i){let{manifest:e,routeModules:n}=xb(),[s,o]=W.useState([]);return W.useEffect(()=>{let c=!1;return lT(i,e,n).then(u=>{c||o(u)}),()=>{c=!0}},[i,e,n]),s}function yT({page:i,matches:e,...n}){let s=js(),{manifest:o,routeModules:c}=xb(),{basename:u}=bb(),{loaderData:f,matches:p}=fT(),g=W.useMemo(()=>I_(i,e,p,o,s,"data"),[i,e,p,o,s]),_=W.useMemo(()=>I_(i,e,p,o,s,"assets"),[i,e,p,o,s]),b=W.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let k=new Set,A=!1;if(e.forEach(I=>{var z;let P=o.routes[I.route.id];!P||!P.hasLoader||(!g.some(Y=>Y.route.id===I.route.id)&&I.route.id in f&&((z=c[I.route.id])!=null&&z.shouldRevalidate)||P.hasClientLoader?A=!0:k.add(I.route.id))}),k.size===0)return[];let R=sT(i,u,"data");return A&&k.size>0&&R.searchParams.set("_routes",e.filter(I=>k.has(I.route.id)).map(I=>I.route.id).join(",")),[R.pathname+R.search]},[u,f,s,o,g,e,i,c]),E=W.useMemo(()=>cT(_,o),[_,o]),w=gT(_);return W.createElement(W.Fragment,null,b.map(k=>W.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...n})),E.map(k=>W.createElement("link",{key:k,rel:"modulepreload",href:k,...n})),w.map(({key:k,link:A})=>W.createElement("link",{key:k,nonce:n.nonce,...A})))}function _T(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var vT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{vT&&(window.__reactRouterVersion="7.11.0")}catch{}function bT({basename:i,children:e,unstable_useTransitions:n,window:s}){let o=W.useRef();o.current==null&&(o.current=JE({window:s,v5Compat:!0}));let c=o.current,[u,f]=W.useState({action:c.action,location:c.location}),p=W.useCallback(g=>{n===!1?f(g):W.startTransition(()=>f(g))},[n]);return W.useLayoutEffect(()=>c.listen(p),[c,p]),W.createElement($2,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:c,unstable_useTransitions:n})}var wb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bs=W.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:c,replace:u,state:f,target:p,to:g,preventScrollReset:_,viewTransition:b,unstable_defaultShouldRevalidate:E,...w},k){let{basename:A,unstable_useTransitions:R}=W.useContext(tr),I=typeof g=="string"&&wb.test(g),P=hb(g,A);g=P.to;let z=O2(g,{relative:o}),[Y,$,ie]=mT(s,w),j=TT(g,{replace:u,state:f,target:p,preventScrollReset:_,relative:o,viewTransition:b,unstable_defaultShouldRevalidate:E,unstable_useTransitions:R});function M(F){e&&e(F),F.defaultPrevented||j(F)}let O=W.createElement("a",{...w,...ie,href:P.absoluteURL||z,onClick:P.isExternal||c?e:M,ref:_T(k,$),target:p,"data-discover":!I&&n==="render"?"true":void 0});return Y&&!I?W.createElement(W.Fragment,null,O,W.createElement(pT,{page:z})):O});bs.displayName="Link";var xT=W.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:c,to:u,viewTransition:f,children:p,...g},_){let b=fc(u,{relative:g.relative}),E=js(),w=W.useContext(Lh),{navigator:k,basename:A}=W.useContext(tr),R=w!=null&&NT(b)&&f===!0,I=k.encodeLocation?k.encodeLocation(b).pathname:b.pathname,P=E.pathname,z=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(P=P.toLowerCase(),z=z?z.toLowerCase():null,I=I.toLowerCase()),z&&A&&(z=Oi(z,A)||z);const Y=I!=="/"&&I.endsWith("/")?I.length-1:I.length;let $=P===I||!o&&P.startsWith(I)&&P.charAt(Y)==="/",ie=z!=null&&(z===I||!o&&z.startsWith(I)&&z.charAt(I.length)==="/"),j={isActive:$,isPending:ie,isTransitioning:R},M=$?e:void 0,O;typeof s=="function"?O=s(j):O=[s,$?"active":null,ie?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let F=typeof c=="function"?c(j):c;return W.createElement(bs,{...g,"aria-current":M,className:O,ref:_,style:F,to:u,viewTransition:f},typeof p=="function"?p(j):p)});xT.displayName="NavLink";var wT=W.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:c,method:u=th,action:f,onSubmit:p,relative:g,preventScrollReset:_,viewTransition:b,unstable_defaultShouldRevalidate:E,...w},k)=>{let{unstable_useTransitions:A}=W.useContext(tr),R=CT(),I=RT(f,{relative:g}),P=u.toLowerCase()==="get"?"get":"post",z=typeof f=="string"&&wb.test(f),Y=$=>{if(p&&p($),$.defaultPrevented)return;$.preventDefault();let ie=$.nativeEvent.submitter,j=(ie==null?void 0:ie.getAttribute("formmethod"))||u,M=()=>R(ie||$.currentTarget,{fetcherKey:e,method:j,navigate:n,replace:o,state:c,relative:g,preventScrollReset:_,viewTransition:b,unstable_defaultShouldRevalidate:E});A&&n!==!1?W.startTransition(()=>M()):M()};return W.createElement("form",{ref:k,method:P,action:I,onSubmit:s?p:Y,...w,"data-discover":!z&&i==="render"?"true":void 0})});wT.displayName="Form";function ET(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Eb(i){let e=W.useContext(Mo);return Vt(e,ET(i)),e}function TT(i,{target:e,replace:n,state:s,preventScrollReset:o,relative:c,viewTransition:u,unstable_defaultShouldRevalidate:f,unstable_useTransitions:p}={}){let g=Vo(),_=js(),b=fc(i,{relative:c});return W.useCallback(E=>{if(tT(E,e)){E.preventDefault();let w=n!==void 0?n:sc(_)===sc(b),k=()=>g(i,{replace:w,state:s,preventScrollReset:o,relative:c,viewTransition:u,unstable_defaultShouldRevalidate:f});p?W.startTransition(()=>k()):k()}},[_,g,b,n,s,e,i,o,c,u,f,p])}var ST=0,AT=()=>`__${String(++ST)}__`;function CT(){let{router:i}=Eb("useSubmit"),{basename:e}=W.useContext(tr),n=G2(),s=i.fetch,o=i.navigate;return W.useCallback(async(c,u={})=>{let{action:f,method:p,encType:g,formData:_,body:b}=iT(c,e);if(u.navigate===!1){let E=u.fetcherKey||AT();await s(E,n,u.action||f,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:_,body:b,formMethod:u.method||p,formEncType:u.encType||g,flushSync:u.flushSync})}else await o(u.action||f,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:_,body:b,formMethod:u.method||p,formEncType:u.encType||g,replace:u.replace,state:u.state,fromRouteId:n,flushSync:u.flushSync,viewTransition:u.viewTransition})},[s,o,e,n])}function RT(i,{relative:e}={}){let{basename:n}=W.useContext(tr),s=W.useContext(Mr);Vt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),c={...fc(i||".",{relative:e})},u=js();if(i==null){c.search=u.search;let f=new URLSearchParams(c.search),p=f.getAll("index");if(p.some(_=>_==="")){f.delete("index"),p.filter(b=>b).forEach(b=>f.append("index",b));let _=f.toString();c.search=_?`?${_}`:""}}return(!i||i===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:ki([n,c.pathname])),sc(c)}function NT(i,{relative:e}={}){let n=W.useContext(fb);Vt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Eb("useViewTransitionState"),o=fc(i,{relative:e});if(!n.isTransitioning)return!1;let c=Oi(n.currentLocation.pathname,s)||n.currentLocation.pathname,u=Oi(n.nextLocation.pathname,s)||n.nextLocation.pathname;return fh(o.pathname,u)!=null||fh(o.pathname,c)!=null}var gn=(i=>(i.CONTRIBUTOR="Contributor",i.LEARNER="Learner",i.ADMIN="ADMIN",i))(gn||{});const Eo="/assets/hdlbasewhitefinal-removebg-preview-aYHj2qLo.png",kT=({currentUser:i,onSignOut:e})=>{const n=Vo(),s=c=>{c.preventDefault(),i?n("/dashboard"):(window.scrollTo({top:0,behavior:"smooth"}),n("/"))},o=c=>{const u=document.getElementById(c);u&&u.scrollIntoView({behavior:"smooth"})};return y.jsxs("div",{className:"min-h-screen bg-matte text-offwhite selection:bg-accent selection:text-matte overflow-x-hidden",children:[y.jsx("nav",{className:"fixed w-full z-50 bg-matte/80 backdrop-blur-xl border-b border-white/5 px-6 py-4",children:y.jsxs("div",{className:"max-w-7xl mx-auto flex justify-between items-center",children:[y.jsx("div",{onClick:s,className:"flex items-center cursor-pointer group",children:y.jsx("span",{className:"text-2xl font-black tracking-tighter group-hover:text-accent transition-colors",children:y.jsx("img",{src:Eo,alt:"LOGO",className:"w-32 h-auto mx-auto block"})})}),y.jsxs("div",{className:"hidden md:flex gap-10 text-sm font-bold text-gray-400 uppercase tracking-widest",children:[y.jsx("button",{onClick:()=>o("features"),className:"hover:text-accent transition-colors",children:"Features"}),y.jsx("button",{onClick:()=>o("categories"),className:"hover:text-accent transition-colors",children:"Users"}),y.jsx("button",{onClick:()=>o("process"),className:"hover:text-accent transition-colors",children:"Process"})]}),y.jsx("div",{className:"flex items-center gap-4",children:i?y.jsxs("div",{className:"flex items-center gap-6",children:[y.jsx(bs,{to:"/dashboard",className:"bg-accent text-matte px-6 py-2.5 rounded-full font-bold text-sm hover:scale-105 active:scale-95 transition-all shadow-xl shadow-white/10",children:"Dashboard"}),y.jsx("button",{onClick:e,className:"text-xs font-bold text-gray-500 hover:text-red-400 transition-colors uppercase tracking-widest",children:"Sign Out"})]}):y.jsx(bs,{to:"/login",className:"bg-white/5 border border-white/10 px-8 py-2.5 rounded-full font-bold text-sm hover:bg-white/10 transition-all active:scale-95",children:"Login"})})]})}),y.jsxs("header",{className:"relative pt-56 pb-32 px-6",children:[y.jsxs("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-full h-full pointer-events-none -z-10",children:[y.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-contributor/20 rounded-full blur-[120px] animate-pulse"}),y.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-learner/10 rounded-full blur-[120px] animate-pulse delay-1000"})]}),y.jsxs("div",{className:"max-w-5xl mx-auto text-center",children:[y.jsx("div",{className:"inline-flex items-center gap-2 px-6 py-2 bg-accent/10 border border-white/10 rounded-full text-[11px] font-black tracking-[0.25em] uppercase text-white mb-10",children:"Think LeetCode, but for Hardware."}),y.jsxs("h1",{className:"text-6xl md:text-8xl font-black tracking-tighter mb-10 leading-[0.9] bg-gradient-to-b from-white via-white to-gray-600 bg-clip-text text-transparent",children:["Hardware Design ",y.jsx("br",{}),"Reimagined."]}),y.jsx("p",{className:"text-xl md:text-2xl text-gray-400 mb-14 max-w-3xl mx-auto leading-relaxed font-medium",children:"HDLBase is the ultimate practice ground for Electronics Students. Solve RTL challenges, simulate Verilog/VHDL in-browser, and build a professional hardware portfolio."}),y.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 justify-center",children:[y.jsx(bs,{to:"/signup",className:"bg-accent text-matte px-10 py-5 rounded-2xl font-black text-xl hover:scale-105 active:scale-95 transition-all shadow-2xl shadow-white/10",children:"Start Practicing Free"}),y.jsxs("button",{onClick:()=>o("features"),className:"bg-gunmetal border border-white/10 px-10 py-5 rounded-2xl font-black text-xl hover:bg-white/5 transition-all flex items-center justify-center gap-2",children:["Explore Challenges",y.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M19 9l-7 7-7-7"})})]})]})]})]}),y.jsx("section",{id:"features",className:"py-32 px-6",children:y.jsxs("div",{className:"max-w-7xl mx-auto",children:[y.jsxs("div",{className:"mb-20",children:[y.jsx("h2",{className:"text-4xl md:text-5xl font-black tracking-tighter mb-4",children:"Features"}),y.jsx("div",{className:"w-20 h-2 bg-accent rounded-full"})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[y.jsxs("div",{className:"p-10 bg-gunmetal border border-white/5 rounded-[40px] hover:border-accent/20 transition-all group cursor-pointer text-left",children:[y.jsx("div",{className:"w-14 h-14 bg-contributor/10 text-contributor rounded-2xl flex items-center justify-center mb-8 group-hover:scale-110 transition-transform",children:y.jsx("svg",{className:"w-8 h-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),y.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Interactive Challenges"}),y.jsx("p",{className:"text-gray-500 leading-relaxed font-medium",children:`Sharpen your skills with logic problems designed by industry experts. It's the "LeetCode experience" specifically tailored for VLSI and FPGA engineers.`})]}),y.jsxs("div",{className:"p-10 bg-gunmetal border border-white/5 rounded-[40px] hover:border-accent/20 transition-all group cursor-pointer text-left",children:[y.jsx("div",{className:"w-14 h-14 bg-accent/10 text-accent rounded-2xl flex items-center justify-center mb-8 group-hover:scale-110 transition-transform",children:y.jsx("svg",{className:"w-8 h-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),y.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Real-Time Playground"}),y.jsx("p",{className:"text-gray-500 leading-relaxed font-medium",children:"Don't wait for heavy tools to load. Write, lint, and simulate Verilog and VHDL code instantly in our cloud-based playground."})]}),y.jsxs("div",{className:"p-10 bg-gunmetal border border-white/5 rounded-[40px] hover:border-accent/20 transition-all group cursor-pointer text-left",children:[y.jsx("div",{className:"w-14 h-14 bg-learner/10 text-learner rounded-2xl flex items-center justify-center mb-8 group-hover:scale-110 transition-transform",children:y.jsx("svg",{className:"w-8 h-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253"})})}),y.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Library Access"}),y.jsx("p",{className:"text-gray-500 leading-relaxed font-medium",children:"Explore a massive repository of verified RTL modules. Learn from best practices and download components for your own projects."})]})]})]})}),y.jsx("section",{id:"categories",className:"py-32 px-6 bg-gunmetal/30",children:y.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-20 items-center",children:[y.jsxs("div",{className:"text-left",children:[y.jsxs("h2",{className:"text-5xl font-black tracking-tighter mb-8 leading-tight",children:["Built for ",y.jsx("span",{className:"text-accent",children:"Success."})]}),y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"p-8 rounded-[32px] bg-white/5 border border-white/10 flex gap-6 hover:bg-white/10 transition-colors",children:[y.jsx("div",{className:"w-12 h-12 bg-contributor text-white rounded-xl flex items-center justify-center shrink-0",children:y.jsxs("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 14l9-5-9-5-9 5 9 5z"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 14l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14z"})]})}),y.jsxs("div",{children:[y.jsx("h4",{className:"text-xl font-bold mb-1",children:"Students"}),y.jsx("p",{className:"text-gray-500 font-medium",children:"The best place to prepare for technical interviews and gain hands-on hardware design experience."})]})]}),y.jsxs("div",{className:"p-8 rounded-[32px] bg-white/5 border border-white/10 flex gap-6 hover:bg-white/10 transition-colors",children:[y.jsx("div",{className:"w-12 h-12 bg-learner text-white rounded-xl flex items-center justify-center shrink-0",children:y.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),y.jsxs("div",{children:[y.jsx("h4",{className:"text-xl font-bold mb-1",children:"Educators"}),y.jsx("p",{className:"text-gray-500 font-medium",children:"Automate labs, create assessment quizzes, and manage student repositories in one centralized place."})]})]})]})]}),y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"aspect-square bg-white/5 rounded-[60px] border border-white/10 flex items-center justify-center p-12",children:y.jsxs("div",{className:"w-full aspect-video bg-matte rounded-3xl border border-accent/20 shadow-2xl overflow-hidden relative group",children:[y.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-accent/10 to-transparent opacity-50"}),y.jsxs("div",{className:"p-6 font-mono text-[10px] text-accent/60 flex flex-col gap-2 text-left",children:[y.jsx("span",{className:"text-accent font-bold",children:"// Chipcrafters HDL Processor"}),y.jsx("span",{children:"module top_chip (input clk, rst);"}),y.jsx("span",{className:"pl-4",children:"reg [31:0] data_bus;"}),y.jsx("span",{className:"pl-4",children:"always @(posedge clk) begin ..."}),y.jsx("span",{children:"endmodule"})]}),y.jsx("div",{className:"absolute bottom-4 right-4 bg-accent text-matte px-4 py-2 rounded-xl text-xs font-black uppercase",children:"Live Simulation"})]})}),y.jsx("div",{className:"absolute -bottom-10 -left-10 w-32 h-32 bg-learner/20 rounded-full blur-2xl"})]})]})}),y.jsx("section",{id:"process",className:"py-32 px-6",children:y.jsxs("div",{className:"max-w-5xl mx-auto",children:[y.jsxs("div",{className:"text-center mb-24",children:[y.jsx("h2",{className:"text-5xl font-black tracking-tighter mb-4",children:"How It Works"}),y.jsx("p",{className:"text-gray-500 font-bold uppercase tracking-widest text-xs",children:"A simple path from beginner to pro"})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-12 text-left",children:[{n:"01",t:"Learn",d:"Master logic foundations and HDL syntax through interactive labs."},{n:"02",t:"Code",d:"Draft your designs using our optimized web editor."},{n:"03",t:"Verify",d:"Get instant feedback on your RTL with automated testbenches."},{n:"04",t:"Showcase",d:"Build a profile that recruiters will actually notice."}].map((c,u)=>y.jsxs("div",{className:"relative group cursor-default",children:[y.jsx("div",{className:"text-7xl font-black text-white/5 absolute -top-10 -left-4 group-hover:text-white/10 transition-colors",children:c.n}),y.jsx("h4",{className:"text-xl font-bold mb-4 relative z-10 group-hover:text-accent transition-colors",children:c.t}),y.jsx("p",{className:"text-sm text-gray-500 leading-relaxed font-medium relative z-10",children:c.d}),u<3&&y.jsx("div",{className:"hidden md:block absolute top-1/2 -right-6 w-12 h-0.5 bg-white/5"})]},u))})]})}),y.jsx("footer",{className:"py-20 border-t border-white/5 bg-matte",children:y.jsxs("div",{className:"max-w-7xl mx-auto px-6 flex flex-col md:flex-row justify-between items-center gap-10",children:[y.jsx("div",{onClick:s,className:"flex items-center cursor-pointer",children:y.jsx("span",{className:"font-black tracking-tighter text-lg",children:y.jsx("img",{src:Eo,alt:"LOGO",className:"w-32 h-auto block"})})}),y.jsxs("div",{className:"flex gap-12 text-[10px] font-black uppercase tracking-widest text-gray-600",children:[y.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Privacy"}),y.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Terms"})]}),y.jsx("p",{className:"text-gray-600 text-[10px] font-bold uppercase tracking-widest",children:" 2026 Chipcrafters Inc."})]})})]})},IT="modulepreload",DT=function(i){return"/"+i},D_={},Nr=function(e,n,s){let o=Promise.resolve();if(n&&n.length>0){let u=function(g){return Promise.all(g.map(_=>Promise.resolve(_).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),p=(f==null?void 0:f.nonce)||(f==null?void 0:f.getAttribute("nonce"));o=u(n.map(g=>{if(g=DT(g),g in D_)return;D_[g]=!0;const _=g.endsWith(".css"),b=_?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${b}`))return;const E=document.createElement("link");if(E.rel=_?"stylesheet":IT,_||(E.as="script"),E.crossOrigin="",E.href=g,p&&E.setAttribute("nonce",p),document.head.appendChild(E),_)return new Promise((w,k)=>{E.addEventListener("load",w),E.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${g}`)))})}))}function c(u){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=u,window.dispatchEvent(f),!f.defaultPrevented)throw u}return o.then(u=>{for(const f of u||[])f.status==="rejected"&&c(f.reason);return e().catch(c)})},OT=({onLoginSuccess:i})=>{const[e,n]=W.useState(!1),[s,o]=W.useState(""),[c,u]=W.useState(""),[f,p]=W.useState(!1),[g,_]=W.useState(gn.LEARNER),[b,E]=W.useState(!1),[w,k]=W.useState(!1),A=async()=>{k(!0);try{const{signInWithPopup:I}=await Nr(async()=>{const{signInWithPopup:D}=await Promise.resolve().then(()=>wh);return{signInWithPopup:D}},[]),{doc:P,setDoc:z,getDoc:Y}=await Nr(async()=>{const{doc:D,setDoc:C,getDoc:ne}=await Promise.resolve().then(()=>Zm);return{doc:D,setDoc:C,getDoc:ne}},void 0),{auth:$,googleProvider:ie,db:j}=await Nr(async()=>{const{auth:D,googleProvider:C,db:ne}=await Promise.resolve().then(()=>Mh);return{auth:D,googleProvider:C,db:ne}},void 0),O=(await I($,ie)).user,F=P(j,"users",O.uid),B=await Y(F),N={uid:O.uid,email:O.email||"",role:g,displayName:O.displayName||"User",username:(O.displayName||"User").toLowerCase().replace(/\s+/g,"_"),category:g===gn.CONTRIBUTOR?"HDL Designer":"Learner"};if(B.exists()){const D=B.data();b?(N.role=g,N.category=g===gn.CONTRIBUTOR?"HDL Designer":"Learner"):(N.role=D.role,N.category=D.category||"Learner")}await z(F,N,{merge:!0}),k(!1)}catch(I){console.error("Google Login Error:",I),alert("Login failed. Check console for details."),k(!1)}},R=async I=>{I.preventDefault(),k(!0);try{const{signInWithEmailAndPassword:P}=await Nr(async()=>{const{signInWithEmailAndPassword:Y}=await Promise.resolve().then(()=>wh);return{signInWithEmailAndPassword:Y}},void 0),{auth:z}=await Nr(async()=>{const{auth:Y}=await Promise.resolve().then(()=>Mh);return{auth:Y}},void 0);await P(z,s,c)}catch(P){console.error("Login Error:",P),alert("Login failed: "+P.message),k(!1)}};return y.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 bg-matte relative overflow-hidden",children:[y.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-contributor/10 rounded-full blur-[120px]"}),y.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-learner/10 rounded-full blur-[120px]"}),y.jsxs("div",{className:"w-full max-w-md frosted-glass rounded-2xl p-8 shadow-2xl z-10",children:[y.jsxs("div",{className:"text-center mb-8",children:[y.jsx("h1",{className:"text-4xl font-black tracking-tighter text-accent mb-1",children:y.jsx("a",{href:"Landingpage.tsx",className:"logo-text",children:y.jsx("img",{src:Eo,alt:"LOGO",className:"w-32 h-auto mx-auto block"})})}),y.jsx("p",{className:"text-gray-400 text-xs font-bold uppercase tracking-widest",children:"Chipcrafters Inc."})]}),y.jsxs("div",{className:"space-y-6",children:[y.jsxs("form",{onSubmit:R,className:"space-y-4",children:[y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Email Address"}),y.jsx("input",{type:"email",required:!0,className:"w-full bg-gunmetal/50 border border-white/10 rounded-xl px-4 py-3 focus:outline-none focus:border-accent transition-colors text-offwhite font-medium",placeholder:"engineer@chipcrafters.com",value:s,onChange:I=>o(I.target.value)})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Password"}),y.jsxs("div",{className:"relative",children:[y.jsx("input",{type:f?"text":"password",required:!0,className:"w-full bg-gunmetal/50 border border-white/10 rounded-xl px-4 py-3 focus:outline-none focus:border-accent transition-colors text-offwhite font-medium pr-10",placeholder:"",value:c,onChange:I=>u(I.target.value)}),y.jsx("button",{type:"button",onClick:()=>p(!f),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white transition-colors",children:f?y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Select Role"}),y.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[y.jsx("button",{type:"button",onClick:()=>{_(gn.CONTRIBUTOR),E(!0)},className:`py-2 px-4 rounded-xl border text-[10px] font-black uppercase tracking-widest transition-all ${g===gn.CONTRIBUTOR?"bg-contributor/20 border-contributor text-contributor":"bg-gunmetal border-white/5 text-gray-600"}`,children:"Contributor"}),y.jsx("button",{type:"button",onClick:()=>{_(gn.LEARNER),E(!0)},className:`py-2 px-4 rounded-xl border text-[10px] font-black uppercase tracking-widest transition-all ${g===gn.LEARNER?"bg-learner/20 border-learner text-learner":"bg-gunmetal border-white/5 text-gray-600"}`,children:"Learner"})]})]}),y.jsx("button",{type:"submit",disabled:w,className:"w-full bg-accent text-matte font-black py-4 rounded-xl hover:scale-[1.02] active:scale-[0.98] transition-all disabled:opacity-50 shadow-2xl shadow-white/5 uppercase text-xs tracking-widest",children:w?"Processing...":e?"Create Account":"Sign In"})]}),y.jsxs("div",{className:"relative flex items-center py-2",children:[y.jsx("div",{className:"flex-grow border-t border-white/10"}),y.jsx("span",{className:"flex-shrink mx-4 text-gray-500 text-[9px] uppercase font-black tracking-widest",children:"Or Continue With"}),y.jsx("div",{className:"flex-grow border-t border-white/10"})]}),y.jsxs("button",{onClick:A,className:"w-full bg-white text-gray-800 font-bold py-4 rounded-xl hover:scale-[1.02] active:scale-[0.98] transition-all shadow-2xl flex items-center justify-center gap-3",children:[y.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[y.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),y.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),y.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.84z",fill:"#FBBC05"}),y.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),y.jsx("span",{className:"text-xs uppercase tracking-widest",children:"Sign in with Google"})]}),y.jsxs("div",{className:"flex items-center justify-center gap-2 mt-4",children:[y.jsx("p",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-widest",children:"Don't have an account?"}),y.jsx(bs,{to:"/signup",className:"text-[10px] text-accent font-black uppercase tracking-widest hover:underline",children:"Sign Up"})]})]})]})]})};function Yu(i){throw new Error('Could not dynamically require "'+i+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var hm={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var O_;function jT(){return O_||(O_=1,(function(i,e){(function(n){i.exports=n()})(function(){return(function n(s,o,c){function u(g,_){if(!o[g]){if(!s[g]){var b=typeof Yu=="function"&&Yu;if(!_&&b)return b(g,!0);if(f)return f(g,!0);var E=new Error("Cannot find module '"+g+"'");throw E.code="MODULE_NOT_FOUND",E}var w=o[g]={exports:{}};s[g][0].call(w.exports,function(k){var A=s[g][1][k];return u(A||k)},w,w.exports,n,s,o,c)}return o[g].exports}for(var f=typeof Yu=="function"&&Yu,p=0;p<c.length;p++)u(c[p]);return u})({1:[function(n,s,o){var c=n("./utils"),u=n("./support"),f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";o.encode=function(p){for(var g,_,b,E,w,k,A,R=[],I=0,P=p.length,z=P,Y=c.getTypeOf(p)!=="string";I<p.length;)z=P-I,b=Y?(g=p[I++],_=I<P?p[I++]:0,I<P?p[I++]:0):(g=p.charCodeAt(I++),_=I<P?p.charCodeAt(I++):0,I<P?p.charCodeAt(I++):0),E=g>>2,w=(3&g)<<4|_>>4,k=1<z?(15&_)<<2|b>>6:64,A=2<z?63&b:64,R.push(f.charAt(E)+f.charAt(w)+f.charAt(k)+f.charAt(A));return R.join("")},o.decode=function(p){var g,_,b,E,w,k,A=0,R=0,I="data:";if(p.substr(0,I.length)===I)throw new Error("Invalid base64 input, it looks like a data url.");var P,z=3*(p=p.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(p.charAt(p.length-1)===f.charAt(64)&&z--,p.charAt(p.length-2)===f.charAt(64)&&z--,z%1!=0)throw new Error("Invalid base64 input, bad content length.");for(P=u.uint8array?new Uint8Array(0|z):new Array(0|z);A<p.length;)g=f.indexOf(p.charAt(A++))<<2|(E=f.indexOf(p.charAt(A++)))>>4,_=(15&E)<<4|(w=f.indexOf(p.charAt(A++)))>>2,b=(3&w)<<6|(k=f.indexOf(p.charAt(A++))),P[R++]=g,w!==64&&(P[R++]=_),k!==64&&(P[R++]=b);return P}},{"./support":30,"./utils":32}],2:[function(n,s,o){var c=n("./external"),u=n("./stream/DataWorker"),f=n("./stream/Crc32Probe"),p=n("./stream/DataLengthProbe");function g(_,b,E,w,k){this.compressedSize=_,this.uncompressedSize=b,this.crc32=E,this.compression=w,this.compressedContent=k}g.prototype={getContentWorker:function(){var _=new u(c.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new p("data_length")),b=this;return _.on("end",function(){if(this.streamInfo.data_length!==b.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),_},getCompressedWorker:function(){return new u(c.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},g.createWorkerFrom=function(_,b,E){return _.pipe(new f).pipe(new p("uncompressedSize")).pipe(b.compressWorker(E)).pipe(new p("compressedSize")).withStreamInfo("compression",b)},s.exports=g},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,s,o){var c=n("./stream/GenericWorker");o.STORE={magic:"\0\0",compressWorker:function(){return new c("STORE compression")},uncompressWorker:function(){return new c("STORE decompression")}},o.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,s,o){var c=n("./utils"),u=(function(){for(var f,p=[],g=0;g<256;g++){f=g;for(var _=0;_<8;_++)f=1&f?3988292384^f>>>1:f>>>1;p[g]=f}return p})();s.exports=function(f,p){return f!==void 0&&f.length?c.getTypeOf(f)!=="string"?(function(g,_,b,E){var w=u,k=E+b;g^=-1;for(var A=E;A<k;A++)g=g>>>8^w[255&(g^_[A])];return-1^g})(0|p,f,f.length,0):(function(g,_,b,E){var w=u,k=E+b;g^=-1;for(var A=E;A<k;A++)g=g>>>8^w[255&(g^_.charCodeAt(A))];return-1^g})(0|p,f,f.length,0):0}},{"./utils":32}],5:[function(n,s,o){o.base64=!1,o.binary=!1,o.dir=!1,o.createFolders=!0,o.date=null,o.compression=null,o.compressionOptions=null,o.comment=null,o.unixPermissions=null,o.dosPermissions=null},{}],6:[function(n,s,o){var c=null;c=typeof Promise<"u"?Promise:n("lie"),s.exports={Promise:c}},{lie:37}],7:[function(n,s,o){var c=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",u=n("pako"),f=n("./utils"),p=n("./stream/GenericWorker"),g=c?"uint8array":"array";function _(b,E){p.call(this,"FlateWorker/"+b),this._pako=null,this._pakoAction=b,this._pakoOptions=E,this.meta={}}o.magic="\b\0",f.inherits(_,p),_.prototype.processChunk=function(b){this.meta=b.meta,this._pako===null&&this._createPako(),this._pako.push(f.transformTo(g,b.data),!1)},_.prototype.flush=function(){p.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},_.prototype.cleanUp=function(){p.prototype.cleanUp.call(this),this._pako=null},_.prototype._createPako=function(){this._pako=new u[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var b=this;this._pako.onData=function(E){b.push({data:E,meta:b.meta})}},o.compressWorker=function(b){return new _("Deflate",b)},o.uncompressWorker=function(){return new _("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,s,o){function c(w,k){var A,R="";for(A=0;A<k;A++)R+=String.fromCharCode(255&w),w>>>=8;return R}function u(w,k,A,R,I,P){var z,Y,$=w.file,ie=w.compression,j=P!==g.utf8encode,M=f.transformTo("string",P($.name)),O=f.transformTo("string",g.utf8encode($.name)),F=$.comment,B=f.transformTo("string",P(F)),N=f.transformTo("string",g.utf8encode(F)),D=O.length!==$.name.length,C=N.length!==F.length,ne="",Z="",ee="",Ce=$.dir,ye=$.date,ke={crc32:0,compressedSize:0,uncompressedSize:0};k&&!A||(ke.crc32=w.crc32,ke.compressedSize=w.compressedSize,ke.uncompressedSize=w.uncompressedSize);var V=0;k&&(V|=8),j||!D&&!C||(V|=2048);var G=0,fe=0;Ce&&(G|=16),I==="UNIX"?(fe=798,G|=(function(ge,Ie){var Pe=ge;return ge||(Pe=Ie?16893:33204),(65535&Pe)<<16})($.unixPermissions,Ce)):(fe=20,G|=(function(ge){return 63&(ge||0)})($.dosPermissions)),z=ye.getUTCHours(),z<<=6,z|=ye.getUTCMinutes(),z<<=5,z|=ye.getUTCSeconds()/2,Y=ye.getUTCFullYear()-1980,Y<<=4,Y|=ye.getUTCMonth()+1,Y<<=5,Y|=ye.getUTCDate(),D&&(Z=c(1,1)+c(_(M),4)+O,ne+="up"+c(Z.length,2)+Z),C&&(ee=c(1,1)+c(_(B),4)+N,ne+="uc"+c(ee.length,2)+ee);var de="";return de+=`
\0`,de+=c(V,2),de+=ie.magic,de+=c(z,2),de+=c(Y,2),de+=c(ke.crc32,4),de+=c(ke.compressedSize,4),de+=c(ke.uncompressedSize,4),de+=c(M.length,2),de+=c(ne.length,2),{fileRecord:b.LOCAL_FILE_HEADER+de+M+ne,dirRecord:b.CENTRAL_FILE_HEADER+c(fe,2)+de+c(B.length,2)+"\0\0\0\0"+c(G,4)+c(R,4)+M+ne+B}}var f=n("../utils"),p=n("../stream/GenericWorker"),g=n("../utf8"),_=n("../crc32"),b=n("../signature");function E(w,k,A,R){p.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=k,this.zipPlatform=A,this.encodeFileName=R,this.streamFiles=w,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}f.inherits(E,p),E.prototype.push=function(w){var k=w.meta.percent||0,A=this.entriesCount,R=this._sources.length;this.accumulate?this.contentBuffer.push(w):(this.bytesWritten+=w.data.length,p.prototype.push.call(this,{data:w.data,meta:{currentFile:this.currentFile,percent:A?(k+100*(A-R-1))/A:100}}))},E.prototype.openedSource=function(w){this.currentSourceOffset=this.bytesWritten,this.currentFile=w.file.name;var k=this.streamFiles&&!w.file.dir;if(k){var A=u(w,k,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:A.fileRecord,meta:{percent:0}})}else this.accumulate=!0},E.prototype.closedSource=function(w){this.accumulate=!1;var k=this.streamFiles&&!w.file.dir,A=u(w,k,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(A.dirRecord),k)this.push({data:(function(R){return b.DATA_DESCRIPTOR+c(R.crc32,4)+c(R.compressedSize,4)+c(R.uncompressedSize,4)})(w),meta:{percent:100}});else for(this.push({data:A.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},E.prototype.flush=function(){for(var w=this.bytesWritten,k=0;k<this.dirRecords.length;k++)this.push({data:this.dirRecords[k],meta:{percent:100}});var A=this.bytesWritten-w,R=(function(I,P,z,Y,$){var ie=f.transformTo("string",$(Y));return b.CENTRAL_DIRECTORY_END+"\0\0\0\0"+c(I,2)+c(I,2)+c(P,4)+c(z,4)+c(ie.length,2)+ie})(this.dirRecords.length,A,w,this.zipComment,this.encodeFileName);this.push({data:R,meta:{percent:100}})},E.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},E.prototype.registerPrevious=function(w){this._sources.push(w);var k=this;return w.on("data",function(A){k.processChunk(A)}),w.on("end",function(){k.closedSource(k.previous.streamInfo),k._sources.length?k.prepareNextSource():k.end()}),w.on("error",function(A){k.error(A)}),this},E.prototype.resume=function(){return!!p.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},E.prototype.error=function(w){var k=this._sources;if(!p.prototype.error.call(this,w))return!1;for(var A=0;A<k.length;A++)try{k[A].error(w)}catch{}return!0},E.prototype.lock=function(){p.prototype.lock.call(this);for(var w=this._sources,k=0;k<w.length;k++)w[k].lock()},s.exports=E},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,s,o){var c=n("../compressions"),u=n("./ZipFileWorker");o.generateWorker=function(f,p,g){var _=new u(p.streamFiles,g,p.platform,p.encodeFileName),b=0;try{f.forEach(function(E,w){b++;var k=(function(P,z){var Y=P||z,$=c[Y];if(!$)throw new Error(Y+" is not a valid compression method !");return $})(w.options.compression,p.compression),A=w.options.compressionOptions||p.compressionOptions||{},R=w.dir,I=w.date;w._compressWorker(k,A).withStreamInfo("file",{name:E,dir:R,date:I,comment:w.comment||"",unixPermissions:w.unixPermissions,dosPermissions:w.dosPermissions}).pipe(_)}),_.entriesCount=b}catch(E){_.error(E)}return _}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,s,o){function c(){if(!(this instanceof c))return new c;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var u=new c;for(var f in this)typeof this[f]!="function"&&(u[f]=this[f]);return u}}(c.prototype=n("./object")).loadAsync=n("./load"),c.support=n("./support"),c.defaults=n("./defaults"),c.version="3.10.1",c.loadAsync=function(u,f){return new c().loadAsync(u,f)},c.external=n("./external"),s.exports=c},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,s,o){var c=n("./utils"),u=n("./external"),f=n("./utf8"),p=n("./zipEntries"),g=n("./stream/Crc32Probe"),_=n("./nodejsUtils");function b(E){return new u.Promise(function(w,k){var A=E.decompressed.getContentWorker().pipe(new g);A.on("error",function(R){k(R)}).on("end",function(){A.streamInfo.crc32!==E.decompressed.crc32?k(new Error("Corrupted zip : CRC32 mismatch")):w()}).resume()})}s.exports=function(E,w){var k=this;return w=c.extend(w||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:f.utf8decode}),_.isNode&&_.isStream(E)?u.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):c.prepareContent("the loaded zip file",E,!0,w.optimizedBinaryString,w.base64).then(function(A){var R=new p(w);return R.load(A),R}).then(function(A){var R=[u.Promise.resolve(A)],I=A.files;if(w.checkCRC32)for(var P=0;P<I.length;P++)R.push(b(I[P]));return u.Promise.all(R)}).then(function(A){for(var R=A.shift(),I=R.files,P=0;P<I.length;P++){var z=I[P],Y=z.fileNameStr,$=c.resolve(z.fileNameStr);k.file($,z.decompressed,{binary:!0,optimizedBinaryString:!0,date:z.date,dir:z.dir,comment:z.fileCommentStr.length?z.fileCommentStr:null,unixPermissions:z.unixPermissions,dosPermissions:z.dosPermissions,createFolders:w.createFolders}),z.dir||(k.file($).unsafeOriginalName=Y)}return R.zipComment.length&&(k.comment=R.zipComment),k})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,s,o){var c=n("../utils"),u=n("../stream/GenericWorker");function f(p,g){u.call(this,"Nodejs stream input adapter for "+p),this._upstreamEnded=!1,this._bindStream(g)}c.inherits(f,u),f.prototype._bindStream=function(p){var g=this;(this._stream=p).pause(),p.on("data",function(_){g.push({data:_,meta:{percent:0}})}).on("error",function(_){g.isPaused?this.generatedError=_:g.error(_)}).on("end",function(){g.isPaused?g._upstreamEnded=!0:g.end()})},f.prototype.pause=function(){return!!u.prototype.pause.call(this)&&(this._stream.pause(),!0)},f.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},s.exports=f},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,s,o){var c=n("readable-stream").Readable;function u(f,p,g){c.call(this,p),this._helper=f;var _=this;f.on("data",function(b,E){_.push(b)||_._helper.pause(),g&&g(E)}).on("error",function(b){_.emit("error",b)}).on("end",function(){_.push(null)})}n("../utils").inherits(u,c),u.prototype._read=function(){this._helper.resume()},s.exports=u},{"../utils":32,"readable-stream":16}],14:[function(n,s,o){s.exports={isNode:typeof Buffer<"u",newBufferFrom:function(c,u){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(c,u);if(typeof c=="number")throw new Error('The "data" argument must not be a number');return new Buffer(c,u)},allocBuffer:function(c){if(Buffer.alloc)return Buffer.alloc(c);var u=new Buffer(c);return u.fill(0),u},isBuffer:function(c){return Buffer.isBuffer(c)},isStream:function(c){return c&&typeof c.on=="function"&&typeof c.pause=="function"&&typeof c.resume=="function"}}},{}],15:[function(n,s,o){function c($,ie,j){var M,O=f.getTypeOf(ie),F=f.extend(j||{},_);F.date=F.date||new Date,F.compression!==null&&(F.compression=F.compression.toUpperCase()),typeof F.unixPermissions=="string"&&(F.unixPermissions=parseInt(F.unixPermissions,8)),F.unixPermissions&&16384&F.unixPermissions&&(F.dir=!0),F.dosPermissions&&16&F.dosPermissions&&(F.dir=!0),F.dir&&($=I($)),F.createFolders&&(M=R($))&&P.call(this,M,!0);var B=O==="string"&&F.binary===!1&&F.base64===!1;j&&j.binary!==void 0||(F.binary=!B),(ie instanceof b&&ie.uncompressedSize===0||F.dir||!ie||ie.length===0)&&(F.base64=!1,F.binary=!0,ie="",F.compression="STORE",O="string");var N=null;N=ie instanceof b||ie instanceof p?ie:k.isNode&&k.isStream(ie)?new A($,ie):f.prepareContent($,ie,F.binary,F.optimizedBinaryString,F.base64);var D=new E($,N,F);this.files[$]=D}var u=n("./utf8"),f=n("./utils"),p=n("./stream/GenericWorker"),g=n("./stream/StreamHelper"),_=n("./defaults"),b=n("./compressedObject"),E=n("./zipObject"),w=n("./generate"),k=n("./nodejsUtils"),A=n("./nodejs/NodejsStreamInputAdapter"),R=function($){$.slice(-1)==="/"&&($=$.substring(0,$.length-1));var ie=$.lastIndexOf("/");return 0<ie?$.substring(0,ie):""},I=function($){return $.slice(-1)!=="/"&&($+="/"),$},P=function($,ie){return ie=ie!==void 0?ie:_.createFolders,$=I($),this.files[$]||c.call(this,$,null,{dir:!0,createFolders:ie}),this.files[$]};function z($){return Object.prototype.toString.call($)==="[object RegExp]"}var Y={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function($){var ie,j,M;for(ie in this.files)M=this.files[ie],(j=ie.slice(this.root.length,ie.length))&&ie.slice(0,this.root.length)===this.root&&$(j,M)},filter:function($){var ie=[];return this.forEach(function(j,M){$(j,M)&&ie.push(M)}),ie},file:function($,ie,j){if(arguments.length!==1)return $=this.root+$,c.call(this,$,ie,j),this;if(z($)){var M=$;return this.filter(function(F,B){return!B.dir&&M.test(F)})}var O=this.files[this.root+$];return O&&!O.dir?O:null},folder:function($){if(!$)return this;if(z($))return this.filter(function(O,F){return F.dir&&$.test(O)});var ie=this.root+$,j=P.call(this,ie),M=this.clone();return M.root=j.name,M},remove:function($){$=this.root+$;var ie=this.files[$];if(ie||($.slice(-1)!=="/"&&($+="/"),ie=this.files[$]),ie&&!ie.dir)delete this.files[$];else for(var j=this.filter(function(O,F){return F.name.slice(0,$.length)===$}),M=0;M<j.length;M++)delete this.files[j[M].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function($){var ie,j={};try{if((j=f.extend($||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:u.utf8encode})).type=j.type.toLowerCase(),j.compression=j.compression.toUpperCase(),j.type==="binarystring"&&(j.type="string"),!j.type)throw new Error("No output type specified.");f.checkSupport(j.type),j.platform!=="darwin"&&j.platform!=="freebsd"&&j.platform!=="linux"&&j.platform!=="sunos"||(j.platform="UNIX"),j.platform==="win32"&&(j.platform="DOS");var M=j.comment||this.comment||"";ie=w.generateWorker(this,j,M)}catch(O){(ie=new p("error")).error(O)}return new g(ie,j.type||"string",j.mimeType)},generateAsync:function($,ie){return this.generateInternalStream($).accumulate(ie)},generateNodeStream:function($,ie){return($=$||{}).type||($.type="nodebuffer"),this.generateInternalStream($).toNodejsStream(ie)}};s.exports=Y},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,s,o){s.exports=n("stream")},{stream:void 0}],17:[function(n,s,o){var c=n("./DataReader");function u(f){c.call(this,f);for(var p=0;p<this.data.length;p++)f[p]=255&f[p]}n("../utils").inherits(u,c),u.prototype.byteAt=function(f){return this.data[this.zero+f]},u.prototype.lastIndexOfSignature=function(f){for(var p=f.charCodeAt(0),g=f.charCodeAt(1),_=f.charCodeAt(2),b=f.charCodeAt(3),E=this.length-4;0<=E;--E)if(this.data[E]===p&&this.data[E+1]===g&&this.data[E+2]===_&&this.data[E+3]===b)return E-this.zero;return-1},u.prototype.readAndCheckSignature=function(f){var p=f.charCodeAt(0),g=f.charCodeAt(1),_=f.charCodeAt(2),b=f.charCodeAt(3),E=this.readData(4);return p===E[0]&&g===E[1]&&_===E[2]&&b===E[3]},u.prototype.readData=function(f){if(this.checkOffset(f),f===0)return[];var p=this.data.slice(this.zero+this.index,this.zero+this.index+f);return this.index+=f,p},s.exports=u},{"../utils":32,"./DataReader":18}],18:[function(n,s,o){var c=n("../utils");function u(f){this.data=f,this.length=f.length,this.index=0,this.zero=0}u.prototype={checkOffset:function(f){this.checkIndex(this.index+f)},checkIndex:function(f){if(this.length<this.zero+f||f<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+f+"). Corrupted zip ?")},setIndex:function(f){this.checkIndex(f),this.index=f},skip:function(f){this.setIndex(this.index+f)},byteAt:function(){},readInt:function(f){var p,g=0;for(this.checkOffset(f),p=this.index+f-1;p>=this.index;p--)g=(g<<8)+this.byteAt(p);return this.index+=f,g},readString:function(f){return c.transformTo("string",this.readData(f))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var f=this.readInt(4);return new Date(Date.UTC(1980+(f>>25&127),(f>>21&15)-1,f>>16&31,f>>11&31,f>>5&63,(31&f)<<1))}},s.exports=u},{"../utils":32}],19:[function(n,s,o){var c=n("./Uint8ArrayReader");function u(f){c.call(this,f)}n("../utils").inherits(u,c),u.prototype.readData=function(f){this.checkOffset(f);var p=this.data.slice(this.zero+this.index,this.zero+this.index+f);return this.index+=f,p},s.exports=u},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,s,o){var c=n("./DataReader");function u(f){c.call(this,f)}n("../utils").inherits(u,c),u.prototype.byteAt=function(f){return this.data.charCodeAt(this.zero+f)},u.prototype.lastIndexOfSignature=function(f){return this.data.lastIndexOf(f)-this.zero},u.prototype.readAndCheckSignature=function(f){return f===this.readData(4)},u.prototype.readData=function(f){this.checkOffset(f);var p=this.data.slice(this.zero+this.index,this.zero+this.index+f);return this.index+=f,p},s.exports=u},{"../utils":32,"./DataReader":18}],21:[function(n,s,o){var c=n("./ArrayReader");function u(f){c.call(this,f)}n("../utils").inherits(u,c),u.prototype.readData=function(f){if(this.checkOffset(f),f===0)return new Uint8Array(0);var p=this.data.subarray(this.zero+this.index,this.zero+this.index+f);return this.index+=f,p},s.exports=u},{"../utils":32,"./ArrayReader":17}],22:[function(n,s,o){var c=n("../utils"),u=n("../support"),f=n("./ArrayReader"),p=n("./StringReader"),g=n("./NodeBufferReader"),_=n("./Uint8ArrayReader");s.exports=function(b){var E=c.getTypeOf(b);return c.checkSupport(E),E!=="string"||u.uint8array?E==="nodebuffer"?new g(b):u.uint8array?new _(c.transformTo("uint8array",b)):new f(c.transformTo("array",b)):new p(b)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,s,o){o.LOCAL_FILE_HEADER="PK",o.CENTRAL_FILE_HEADER="PK",o.CENTRAL_DIRECTORY_END="PK",o.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",o.ZIP64_CENTRAL_DIRECTORY_END="PK",o.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,s,o){var c=n("./GenericWorker"),u=n("../utils");function f(p){c.call(this,"ConvertWorker to "+p),this.destType=p}u.inherits(f,c),f.prototype.processChunk=function(p){this.push({data:u.transformTo(this.destType,p.data),meta:p.meta})},s.exports=f},{"../utils":32,"./GenericWorker":28}],25:[function(n,s,o){var c=n("./GenericWorker"),u=n("../crc32");function f(){c.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(f,c),f.prototype.processChunk=function(p){this.streamInfo.crc32=u(p.data,this.streamInfo.crc32||0),this.push(p)},s.exports=f},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,s,o){var c=n("../utils"),u=n("./GenericWorker");function f(p){u.call(this,"DataLengthProbe for "+p),this.propName=p,this.withStreamInfo(p,0)}c.inherits(f,u),f.prototype.processChunk=function(p){if(p){var g=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=g+p.data.length}u.prototype.processChunk.call(this,p)},s.exports=f},{"../utils":32,"./GenericWorker":28}],27:[function(n,s,o){var c=n("../utils"),u=n("./GenericWorker");function f(p){u.call(this,"DataWorker");var g=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,p.then(function(_){g.dataIsReady=!0,g.data=_,g.max=_&&_.length||0,g.type=c.getTypeOf(_),g.isPaused||g._tickAndRepeat()},function(_){g.error(_)})}c.inherits(f,u),f.prototype.cleanUp=function(){u.prototype.cleanUp.call(this),this.data=null},f.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,c.delay(this._tickAndRepeat,[],this)),!0)},f.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(c.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},f.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var p=null,g=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":p=this.data.substring(this.index,g);break;case"uint8array":p=this.data.subarray(this.index,g);break;case"array":case"nodebuffer":p=this.data.slice(this.index,g)}return this.index=g,this.push({data:p,meta:{percent:this.max?this.index/this.max*100:0}})},s.exports=f},{"../utils":32,"./GenericWorker":28}],28:[function(n,s,o){function c(u){this.name=u||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}c.prototype={push:function(u){this.emit("data",u)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(u){this.emit("error",u)}return!0},error:function(u){return!this.isFinished&&(this.isPaused?this.generatedError=u:(this.isFinished=!0,this.emit("error",u),this.previous&&this.previous.error(u),this.cleanUp()),!0)},on:function(u,f){return this._listeners[u].push(f),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(u,f){if(this._listeners[u])for(var p=0;p<this._listeners[u].length;p++)this._listeners[u][p].call(this,f)},pipe:function(u){return u.registerPrevious(this)},registerPrevious:function(u){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=u.streamInfo,this.mergeStreamInfo(),this.previous=u;var f=this;return u.on("data",function(p){f.processChunk(p)}),u.on("end",function(){f.end()}),u.on("error",function(p){f.error(p)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var u=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),u=!0),this.previous&&this.previous.resume(),!u},flush:function(){},processChunk:function(u){this.push(u)},withStreamInfo:function(u,f){return this.extraStreamInfo[u]=f,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var u in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,u)&&(this.streamInfo[u]=this.extraStreamInfo[u])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var u="Worker "+this.name;return this.previous?this.previous+" -> "+u:u}},s.exports=c},{}],29:[function(n,s,o){var c=n("../utils"),u=n("./ConvertWorker"),f=n("./GenericWorker"),p=n("../base64"),g=n("../support"),_=n("../external"),b=null;if(g.nodestream)try{b=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function E(k,A){return new _.Promise(function(R,I){var P=[],z=k._internalType,Y=k._outputType,$=k._mimeType;k.on("data",function(ie,j){P.push(ie),A&&A(j)}).on("error",function(ie){P=[],I(ie)}).on("end",function(){try{var ie=(function(j,M,O){switch(j){case"blob":return c.newBlob(c.transformTo("arraybuffer",M),O);case"base64":return p.encode(M);default:return c.transformTo(j,M)}})(Y,(function(j,M){var O,F=0,B=null,N=0;for(O=0;O<M.length;O++)N+=M[O].length;switch(j){case"string":return M.join("");case"array":return Array.prototype.concat.apply([],M);case"uint8array":for(B=new Uint8Array(N),O=0;O<M.length;O++)B.set(M[O],F),F+=M[O].length;return B;case"nodebuffer":return Buffer.concat(M);default:throw new Error("concat : unsupported type '"+j+"'")}})(z,P),$);R(ie)}catch(j){I(j)}P=[]}).resume()})}function w(k,A,R){var I=A;switch(A){case"blob":case"arraybuffer":I="uint8array";break;case"base64":I="string"}try{this._internalType=I,this._outputType=A,this._mimeType=R,c.checkSupport(I),this._worker=k.pipe(new u(I)),k.lock()}catch(P){this._worker=new f("error"),this._worker.error(P)}}w.prototype={accumulate:function(k){return E(this,k)},on:function(k,A){var R=this;return k==="data"?this._worker.on(k,function(I){A.call(R,I.data,I.meta)}):this._worker.on(k,function(){c.delay(A,arguments,R)}),this},resume:function(){return c.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(k){if(c.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new b(this,{objectMode:this._outputType!=="nodebuffer"},k)}},s.exports=w},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,s,o){if(o.base64=!0,o.array=!0,o.string=!0,o.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",o.nodebuffer=typeof Buffer<"u",o.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")o.blob=!1;else{var c=new ArrayBuffer(0);try{o.blob=new Blob([c],{type:"application/zip"}).size===0}catch{try{var u=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);u.append(c),o.blob=u.getBlob("application/zip").size===0}catch{o.blob=!1}}}try{o.nodestream=!!n("readable-stream").Readable}catch{o.nodestream=!1}},{"readable-stream":16}],31:[function(n,s,o){for(var c=n("./utils"),u=n("./support"),f=n("./nodejsUtils"),p=n("./stream/GenericWorker"),g=new Array(256),_=0;_<256;_++)g[_]=252<=_?6:248<=_?5:240<=_?4:224<=_?3:192<=_?2:1;g[254]=g[254]=1;function b(){p.call(this,"utf-8 decode"),this.leftOver=null}function E(){p.call(this,"utf-8 encode")}o.utf8encode=function(w){return u.nodebuffer?f.newBufferFrom(w,"utf-8"):(function(k){var A,R,I,P,z,Y=k.length,$=0;for(P=0;P<Y;P++)(64512&(R=k.charCodeAt(P)))==55296&&P+1<Y&&(64512&(I=k.charCodeAt(P+1)))==56320&&(R=65536+(R-55296<<10)+(I-56320),P++),$+=R<128?1:R<2048?2:R<65536?3:4;for(A=u.uint8array?new Uint8Array($):new Array($),P=z=0;z<$;P++)(64512&(R=k.charCodeAt(P)))==55296&&P+1<Y&&(64512&(I=k.charCodeAt(P+1)))==56320&&(R=65536+(R-55296<<10)+(I-56320),P++),R<128?A[z++]=R:(R<2048?A[z++]=192|R>>>6:(R<65536?A[z++]=224|R>>>12:(A[z++]=240|R>>>18,A[z++]=128|R>>>12&63),A[z++]=128|R>>>6&63),A[z++]=128|63&R);return A})(w)},o.utf8decode=function(w){return u.nodebuffer?c.transformTo("nodebuffer",w).toString("utf-8"):(function(k){var A,R,I,P,z=k.length,Y=new Array(2*z);for(A=R=0;A<z;)if((I=k[A++])<128)Y[R++]=I;else if(4<(P=g[I]))Y[R++]=65533,A+=P-1;else{for(I&=P===2?31:P===3?15:7;1<P&&A<z;)I=I<<6|63&k[A++],P--;1<P?Y[R++]=65533:I<65536?Y[R++]=I:(I-=65536,Y[R++]=55296|I>>10&1023,Y[R++]=56320|1023&I)}return Y.length!==R&&(Y.subarray?Y=Y.subarray(0,R):Y.length=R),c.applyFromCharCode(Y)})(w=c.transformTo(u.uint8array?"uint8array":"array",w))},c.inherits(b,p),b.prototype.processChunk=function(w){var k=c.transformTo(u.uint8array?"uint8array":"array",w.data);if(this.leftOver&&this.leftOver.length){if(u.uint8array){var A=k;(k=new Uint8Array(A.length+this.leftOver.length)).set(this.leftOver,0),k.set(A,this.leftOver.length)}else k=this.leftOver.concat(k);this.leftOver=null}var R=(function(P,z){var Y;for((z=z||P.length)>P.length&&(z=P.length),Y=z-1;0<=Y&&(192&P[Y])==128;)Y--;return Y<0||Y===0?z:Y+g[P[Y]]>z?Y:z})(k),I=k;R!==k.length&&(u.uint8array?(I=k.subarray(0,R),this.leftOver=k.subarray(R,k.length)):(I=k.slice(0,R),this.leftOver=k.slice(R,k.length))),this.push({data:o.utf8decode(I),meta:w.meta})},b.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:o.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},o.Utf8DecodeWorker=b,c.inherits(E,p),E.prototype.processChunk=function(w){this.push({data:o.utf8encode(w.data),meta:w.meta})},o.Utf8EncodeWorker=E},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,s,o){var c=n("./support"),u=n("./base64"),f=n("./nodejsUtils"),p=n("./external");function g(A){return A}function _(A,R){for(var I=0;I<A.length;++I)R[I]=255&A.charCodeAt(I);return R}n("setimmediate"),o.newBlob=function(A,R){o.checkSupport("blob");try{return new Blob([A],{type:R})}catch{try{var I=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return I.append(A),I.getBlob(R)}catch{throw new Error("Bug : can't construct the Blob.")}}};var b={stringifyByChunk:function(A,R,I){var P=[],z=0,Y=A.length;if(Y<=I)return String.fromCharCode.apply(null,A);for(;z<Y;)R==="array"||R==="nodebuffer"?P.push(String.fromCharCode.apply(null,A.slice(z,Math.min(z+I,Y)))):P.push(String.fromCharCode.apply(null,A.subarray(z,Math.min(z+I,Y)))),z+=I;return P.join("")},stringifyByChar:function(A){for(var R="",I=0;I<A.length;I++)R+=String.fromCharCode(A[I]);return R},applyCanBeUsed:{uint8array:(function(){try{return c.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return c.nodebuffer&&String.fromCharCode.apply(null,f.allocBuffer(1)).length===1}catch{return!1}})()}};function E(A){var R=65536,I=o.getTypeOf(A),P=!0;if(I==="uint8array"?P=b.applyCanBeUsed.uint8array:I==="nodebuffer"&&(P=b.applyCanBeUsed.nodebuffer),P)for(;1<R;)try{return b.stringifyByChunk(A,I,R)}catch{R=Math.floor(R/2)}return b.stringifyByChar(A)}function w(A,R){for(var I=0;I<A.length;I++)R[I]=A[I];return R}o.applyFromCharCode=E;var k={};k.string={string:g,array:function(A){return _(A,new Array(A.length))},arraybuffer:function(A){return k.string.uint8array(A).buffer},uint8array:function(A){return _(A,new Uint8Array(A.length))},nodebuffer:function(A){return _(A,f.allocBuffer(A.length))}},k.array={string:E,array:g,arraybuffer:function(A){return new Uint8Array(A).buffer},uint8array:function(A){return new Uint8Array(A)},nodebuffer:function(A){return f.newBufferFrom(A)}},k.arraybuffer={string:function(A){return E(new Uint8Array(A))},array:function(A){return w(new Uint8Array(A),new Array(A.byteLength))},arraybuffer:g,uint8array:function(A){return new Uint8Array(A)},nodebuffer:function(A){return f.newBufferFrom(new Uint8Array(A))}},k.uint8array={string:E,array:function(A){return w(A,new Array(A.length))},arraybuffer:function(A){return A.buffer},uint8array:g,nodebuffer:function(A){return f.newBufferFrom(A)}},k.nodebuffer={string:E,array:function(A){return w(A,new Array(A.length))},arraybuffer:function(A){return k.nodebuffer.uint8array(A).buffer},uint8array:function(A){return w(A,new Uint8Array(A.length))},nodebuffer:g},o.transformTo=function(A,R){if(R=R||"",!A)return R;o.checkSupport(A);var I=o.getTypeOf(R);return k[I][A](R)},o.resolve=function(A){for(var R=A.split("/"),I=[],P=0;P<R.length;P++){var z=R[P];z==="."||z===""&&P!==0&&P!==R.length-1||(z===".."?I.pop():I.push(z))}return I.join("/")},o.getTypeOf=function(A){return typeof A=="string"?"string":Object.prototype.toString.call(A)==="[object Array]"?"array":c.nodebuffer&&f.isBuffer(A)?"nodebuffer":c.uint8array&&A instanceof Uint8Array?"uint8array":c.arraybuffer&&A instanceof ArrayBuffer?"arraybuffer":void 0},o.checkSupport=function(A){if(!c[A.toLowerCase()])throw new Error(A+" is not supported by this platform")},o.MAX_VALUE_16BITS=65535,o.MAX_VALUE_32BITS=-1,o.pretty=function(A){var R,I,P="";for(I=0;I<(A||"").length;I++)P+="\\x"+((R=A.charCodeAt(I))<16?"0":"")+R.toString(16).toUpperCase();return P},o.delay=function(A,R,I){setImmediate(function(){A.apply(I||null,R||[])})},o.inherits=function(A,R){function I(){}I.prototype=R.prototype,A.prototype=new I},o.extend=function(){var A,R,I={};for(A=0;A<arguments.length;A++)for(R in arguments[A])Object.prototype.hasOwnProperty.call(arguments[A],R)&&I[R]===void 0&&(I[R]=arguments[A][R]);return I},o.prepareContent=function(A,R,I,P,z){return p.Promise.resolve(R).then(function(Y){return c.blob&&(Y instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(Y))!==-1)&&typeof FileReader<"u"?new p.Promise(function($,ie){var j=new FileReader;j.onload=function(M){$(M.target.result)},j.onerror=function(M){ie(M.target.error)},j.readAsArrayBuffer(Y)}):Y}).then(function(Y){var $=o.getTypeOf(Y);return $?($==="arraybuffer"?Y=o.transformTo("uint8array",Y):$==="string"&&(z?Y=u.decode(Y):I&&P!==!0&&(Y=(function(ie){return _(ie,c.uint8array?new Uint8Array(ie.length):new Array(ie.length))})(Y))),Y):p.Promise.reject(new Error("Can't read the data of '"+A+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,s,o){var c=n("./reader/readerFor"),u=n("./utils"),f=n("./signature"),p=n("./zipEntry"),g=n("./support");function _(b){this.files=[],this.loadOptions=b}_.prototype={checkSignature:function(b){if(!this.reader.readAndCheckSignature(b)){this.reader.index-=4;var E=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+u.pretty(E)+", expected "+u.pretty(b)+")")}},isSignature:function(b,E){var w=this.reader.index;this.reader.setIndex(b);var k=this.reader.readString(4)===E;return this.reader.setIndex(w),k},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var b=this.reader.readData(this.zipCommentLength),E=g.uint8array?"uint8array":"array",w=u.transformTo(E,b);this.zipComment=this.loadOptions.decodeFileName(w)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var b,E,w,k=this.zip64EndOfCentralSize-44;0<k;)b=this.reader.readInt(2),E=this.reader.readInt(4),w=this.reader.readData(E),this.zip64ExtensibleData[b]={id:b,length:E,value:w}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var b,E;for(b=0;b<this.files.length;b++)E=this.files[b],this.reader.setIndex(E.localHeaderOffset),this.checkSignature(f.LOCAL_FILE_HEADER),E.readLocalPart(this.reader),E.handleUTF8(),E.processAttributes()},readCentralDir:function(){var b;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(f.CENTRAL_FILE_HEADER);)(b=new p({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(b);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var b=this.reader.lastIndexOfSignature(f.CENTRAL_DIRECTORY_END);if(b<0)throw this.isSignature(0,f.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(b);var E=b;if(this.checkSignature(f.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===u.MAX_VALUE_16BITS||this.diskWithCentralDirStart===u.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===u.MAX_VALUE_16BITS||this.centralDirRecords===u.MAX_VALUE_16BITS||this.centralDirSize===u.MAX_VALUE_32BITS||this.centralDirOffset===u.MAX_VALUE_32BITS){if(this.zip64=!0,(b=this.reader.lastIndexOfSignature(f.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(b),this.checkSignature(f.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,f.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(f.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(f.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var w=this.centralDirOffset+this.centralDirSize;this.zip64&&(w+=20,w+=12+this.zip64EndOfCentralSize);var k=E-w;if(0<k)this.isSignature(E,f.CENTRAL_FILE_HEADER)||(this.reader.zero=k);else if(k<0)throw new Error("Corrupted zip: missing "+Math.abs(k)+" bytes.")},prepareReader:function(b){this.reader=c(b)},load:function(b){this.prepareReader(b),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},s.exports=_},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,s,o){var c=n("./reader/readerFor"),u=n("./utils"),f=n("./compressedObject"),p=n("./crc32"),g=n("./utf8"),_=n("./compressions"),b=n("./support");function E(w,k){this.options=w,this.loadOptions=k}E.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(w){var k,A;if(w.skip(22),this.fileNameLength=w.readInt(2),A=w.readInt(2),this.fileName=w.readData(this.fileNameLength),w.skip(A),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((k=(function(R){for(var I in _)if(Object.prototype.hasOwnProperty.call(_,I)&&_[I].magic===R)return _[I];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+u.pretty(this.compressionMethod)+" unknown (inner file : "+u.transformTo("string",this.fileName)+")");this.decompressed=new f(this.compressedSize,this.uncompressedSize,this.crc32,k,w.readData(this.compressedSize))},readCentralPart:function(w){this.versionMadeBy=w.readInt(2),w.skip(2),this.bitFlag=w.readInt(2),this.compressionMethod=w.readString(2),this.date=w.readDate(),this.crc32=w.readInt(4),this.compressedSize=w.readInt(4),this.uncompressedSize=w.readInt(4);var k=w.readInt(2);if(this.extraFieldsLength=w.readInt(2),this.fileCommentLength=w.readInt(2),this.diskNumberStart=w.readInt(2),this.internalFileAttributes=w.readInt(2),this.externalFileAttributes=w.readInt(4),this.localHeaderOffset=w.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");w.skip(k),this.readExtraFields(w),this.parseZIP64ExtraField(w),this.fileComment=w.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var w=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),w==0&&(this.dosPermissions=63&this.externalFileAttributes),w==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var w=c(this.extraFields[1].value);this.uncompressedSize===u.MAX_VALUE_32BITS&&(this.uncompressedSize=w.readInt(8)),this.compressedSize===u.MAX_VALUE_32BITS&&(this.compressedSize=w.readInt(8)),this.localHeaderOffset===u.MAX_VALUE_32BITS&&(this.localHeaderOffset=w.readInt(8)),this.diskNumberStart===u.MAX_VALUE_32BITS&&(this.diskNumberStart=w.readInt(4))}},readExtraFields:function(w){var k,A,R,I=w.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});w.index+4<I;)k=w.readInt(2),A=w.readInt(2),R=w.readData(A),this.extraFields[k]={id:k,length:A,value:R};w.setIndex(I)},handleUTF8:function(){var w=b.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=g.utf8decode(this.fileName),this.fileCommentStr=g.utf8decode(this.fileComment);else{var k=this.findExtraFieldUnicodePath();if(k!==null)this.fileNameStr=k;else{var A=u.transformTo(w,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(A)}var R=this.findExtraFieldUnicodeComment();if(R!==null)this.fileCommentStr=R;else{var I=u.transformTo(w,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(I)}}},findExtraFieldUnicodePath:function(){var w=this.extraFields[28789];if(w){var k=c(w.value);return k.readInt(1)!==1||p(this.fileName)!==k.readInt(4)?null:g.utf8decode(k.readData(w.length-5))}return null},findExtraFieldUnicodeComment:function(){var w=this.extraFields[25461];if(w){var k=c(w.value);return k.readInt(1)!==1||p(this.fileComment)!==k.readInt(4)?null:g.utf8decode(k.readData(w.length-5))}return null}},s.exports=E},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,s,o){function c(k,A,R){this.name=k,this.dir=R.dir,this.date=R.date,this.comment=R.comment,this.unixPermissions=R.unixPermissions,this.dosPermissions=R.dosPermissions,this._data=A,this._dataBinary=R.binary,this.options={compression:R.compression,compressionOptions:R.compressionOptions}}var u=n("./stream/StreamHelper"),f=n("./stream/DataWorker"),p=n("./utf8"),g=n("./compressedObject"),_=n("./stream/GenericWorker");c.prototype={internalStream:function(k){var A=null,R="string";try{if(!k)throw new Error("No output type specified.");var I=(R=k.toLowerCase())==="string"||R==="text";R!=="binarystring"&&R!=="text"||(R="string"),A=this._decompressWorker();var P=!this._dataBinary;P&&!I&&(A=A.pipe(new p.Utf8EncodeWorker)),!P&&I&&(A=A.pipe(new p.Utf8DecodeWorker))}catch(z){(A=new _("error")).error(z)}return new u(A,R,"")},async:function(k,A){return this.internalStream(k).accumulate(A)},nodeStream:function(k,A){return this.internalStream(k||"nodebuffer").toNodejsStream(A)},_compressWorker:function(k,A){if(this._data instanceof g&&this._data.compression.magic===k.magic)return this._data.getCompressedWorker();var R=this._decompressWorker();return this._dataBinary||(R=R.pipe(new p.Utf8EncodeWorker)),g.createWorkerFrom(R,k,A)},_decompressWorker:function(){return this._data instanceof g?this._data.getContentWorker():this._data instanceof _?this._data:new f(this._data)}};for(var b=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],E=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},w=0;w<b.length;w++)c.prototype[b[w]]=E;s.exports=c},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,s,o){(function(c){var u,f,p=c.MutationObserver||c.WebKitMutationObserver;if(p){var g=0,_=new p(k),b=c.document.createTextNode("");_.observe(b,{characterData:!0}),u=function(){b.data=g=++g%2}}else if(c.setImmediate||c.MessageChannel===void 0)u="document"in c&&"onreadystatechange"in c.document.createElement("script")?function(){var A=c.document.createElement("script");A.onreadystatechange=function(){k(),A.onreadystatechange=null,A.parentNode.removeChild(A),A=null},c.document.documentElement.appendChild(A)}:function(){setTimeout(k,0)};else{var E=new c.MessageChannel;E.port1.onmessage=k,u=function(){E.port2.postMessage(0)}}var w=[];function k(){var A,R;f=!0;for(var I=w.length;I;){for(R=w,w=[],A=-1;++A<I;)R[A]();I=w.length}f=!1}s.exports=function(A){w.push(A)!==1||f||u()}}).call(this,typeof _s<"u"?_s:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,s,o){var c=n("immediate");function u(){}var f={},p=["REJECTED"],g=["FULFILLED"],_=["PENDING"];function b(I){if(typeof I!="function")throw new TypeError("resolver must be a function");this.state=_,this.queue=[],this.outcome=void 0,I!==u&&A(this,I)}function E(I,P,z){this.promise=I,typeof P=="function"&&(this.onFulfilled=P,this.callFulfilled=this.otherCallFulfilled),typeof z=="function"&&(this.onRejected=z,this.callRejected=this.otherCallRejected)}function w(I,P,z){c(function(){var Y;try{Y=P(z)}catch($){return f.reject(I,$)}Y===I?f.reject(I,new TypeError("Cannot resolve promise with itself")):f.resolve(I,Y)})}function k(I){var P=I&&I.then;if(I&&(typeof I=="object"||typeof I=="function")&&typeof P=="function")return function(){P.apply(I,arguments)}}function A(I,P){var z=!1;function Y(j){z||(z=!0,f.reject(I,j))}function $(j){z||(z=!0,f.resolve(I,j))}var ie=R(function(){P($,Y)});ie.status==="error"&&Y(ie.value)}function R(I,P){var z={};try{z.value=I(P),z.status="success"}catch(Y){z.status="error",z.value=Y}return z}(s.exports=b).prototype.finally=function(I){if(typeof I!="function")return this;var P=this.constructor;return this.then(function(z){return P.resolve(I()).then(function(){return z})},function(z){return P.resolve(I()).then(function(){throw z})})},b.prototype.catch=function(I){return this.then(null,I)},b.prototype.then=function(I,P){if(typeof I!="function"&&this.state===g||typeof P!="function"&&this.state===p)return this;var z=new this.constructor(u);return this.state!==_?w(z,this.state===g?I:P,this.outcome):this.queue.push(new E(z,I,P)),z},E.prototype.callFulfilled=function(I){f.resolve(this.promise,I)},E.prototype.otherCallFulfilled=function(I){w(this.promise,this.onFulfilled,I)},E.prototype.callRejected=function(I){f.reject(this.promise,I)},E.prototype.otherCallRejected=function(I){w(this.promise,this.onRejected,I)},f.resolve=function(I,P){var z=R(k,P);if(z.status==="error")return f.reject(I,z.value);var Y=z.value;if(Y)A(I,Y);else{I.state=g,I.outcome=P;for(var $=-1,ie=I.queue.length;++$<ie;)I.queue[$].callFulfilled(P)}return I},f.reject=function(I,P){I.state=p,I.outcome=P;for(var z=-1,Y=I.queue.length;++z<Y;)I.queue[z].callRejected(P);return I},b.resolve=function(I){return I instanceof this?I:f.resolve(new this(u),I)},b.reject=function(I){var P=new this(u);return f.reject(P,I)},b.all=function(I){var P=this;if(Object.prototype.toString.call(I)!=="[object Array]")return this.reject(new TypeError("must be an array"));var z=I.length,Y=!1;if(!z)return this.resolve([]);for(var $=new Array(z),ie=0,j=-1,M=new this(u);++j<z;)O(I[j],j);return M;function O(F,B){P.resolve(F).then(function(N){$[B]=N,++ie!==z||Y||(Y=!0,f.resolve(M,$))},function(N){Y||(Y=!0,f.reject(M,N))})}},b.race=function(I){var P=this;if(Object.prototype.toString.call(I)!=="[object Array]")return this.reject(new TypeError("must be an array"));var z=I.length,Y=!1;if(!z)return this.resolve([]);for(var $=-1,ie=new this(u);++$<z;)j=I[$],P.resolve(j).then(function(M){Y||(Y=!0,f.resolve(ie,M))},function(M){Y||(Y=!0,f.reject(ie,M))});var j;return ie}},{immediate:36}],38:[function(n,s,o){var c={};(0,n("./lib/utils/common").assign)(c,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),s.exports=c},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,s,o){var c=n("./zlib/deflate"),u=n("./utils/common"),f=n("./utils/strings"),p=n("./zlib/messages"),g=n("./zlib/zstream"),_=Object.prototype.toString,b=0,E=-1,w=0,k=8;function A(I){if(!(this instanceof A))return new A(I);this.options=u.assign({level:E,method:k,chunkSize:16384,windowBits:15,memLevel:8,strategy:w,to:""},I||{});var P=this.options;P.raw&&0<P.windowBits?P.windowBits=-P.windowBits:P.gzip&&0<P.windowBits&&P.windowBits<16&&(P.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new g,this.strm.avail_out=0;var z=c.deflateInit2(this.strm,P.level,P.method,P.windowBits,P.memLevel,P.strategy);if(z!==b)throw new Error(p[z]);if(P.header&&c.deflateSetHeader(this.strm,P.header),P.dictionary){var Y;if(Y=typeof P.dictionary=="string"?f.string2buf(P.dictionary):_.call(P.dictionary)==="[object ArrayBuffer]"?new Uint8Array(P.dictionary):P.dictionary,(z=c.deflateSetDictionary(this.strm,Y))!==b)throw new Error(p[z]);this._dict_set=!0}}function R(I,P){var z=new A(P);if(z.push(I,!0),z.err)throw z.msg||p[z.err];return z.result}A.prototype.push=function(I,P){var z,Y,$=this.strm,ie=this.options.chunkSize;if(this.ended)return!1;Y=P===~~P?P:P===!0?4:0,typeof I=="string"?$.input=f.string2buf(I):_.call(I)==="[object ArrayBuffer]"?$.input=new Uint8Array(I):$.input=I,$.next_in=0,$.avail_in=$.input.length;do{if($.avail_out===0&&($.output=new u.Buf8(ie),$.next_out=0,$.avail_out=ie),(z=c.deflate($,Y))!==1&&z!==b)return this.onEnd(z),!(this.ended=!0);$.avail_out!==0&&($.avail_in!==0||Y!==4&&Y!==2)||(this.options.to==="string"?this.onData(f.buf2binstring(u.shrinkBuf($.output,$.next_out))):this.onData(u.shrinkBuf($.output,$.next_out)))}while((0<$.avail_in||$.avail_out===0)&&z!==1);return Y===4?(z=c.deflateEnd(this.strm),this.onEnd(z),this.ended=!0,z===b):Y!==2||(this.onEnd(b),!($.avail_out=0))},A.prototype.onData=function(I){this.chunks.push(I)},A.prototype.onEnd=function(I){I===b&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=u.flattenChunks(this.chunks)),this.chunks=[],this.err=I,this.msg=this.strm.msg},o.Deflate=A,o.deflate=R,o.deflateRaw=function(I,P){return(P=P||{}).raw=!0,R(I,P)},o.gzip=function(I,P){return(P=P||{}).gzip=!0,R(I,P)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,s,o){var c=n("./zlib/inflate"),u=n("./utils/common"),f=n("./utils/strings"),p=n("./zlib/constants"),g=n("./zlib/messages"),_=n("./zlib/zstream"),b=n("./zlib/gzheader"),E=Object.prototype.toString;function w(A){if(!(this instanceof w))return new w(A);this.options=u.assign({chunkSize:16384,windowBits:0,to:""},A||{});var R=this.options;R.raw&&0<=R.windowBits&&R.windowBits<16&&(R.windowBits=-R.windowBits,R.windowBits===0&&(R.windowBits=-15)),!(0<=R.windowBits&&R.windowBits<16)||A&&A.windowBits||(R.windowBits+=32),15<R.windowBits&&R.windowBits<48&&(15&R.windowBits)==0&&(R.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new _,this.strm.avail_out=0;var I=c.inflateInit2(this.strm,R.windowBits);if(I!==p.Z_OK)throw new Error(g[I]);this.header=new b,c.inflateGetHeader(this.strm,this.header)}function k(A,R){var I=new w(R);if(I.push(A,!0),I.err)throw I.msg||g[I.err];return I.result}w.prototype.push=function(A,R){var I,P,z,Y,$,ie,j=this.strm,M=this.options.chunkSize,O=this.options.dictionary,F=!1;if(this.ended)return!1;P=R===~~R?R:R===!0?p.Z_FINISH:p.Z_NO_FLUSH,typeof A=="string"?j.input=f.binstring2buf(A):E.call(A)==="[object ArrayBuffer]"?j.input=new Uint8Array(A):j.input=A,j.next_in=0,j.avail_in=j.input.length;do{if(j.avail_out===0&&(j.output=new u.Buf8(M),j.next_out=0,j.avail_out=M),(I=c.inflate(j,p.Z_NO_FLUSH))===p.Z_NEED_DICT&&O&&(ie=typeof O=="string"?f.string2buf(O):E.call(O)==="[object ArrayBuffer]"?new Uint8Array(O):O,I=c.inflateSetDictionary(this.strm,ie)),I===p.Z_BUF_ERROR&&F===!0&&(I=p.Z_OK,F=!1),I!==p.Z_STREAM_END&&I!==p.Z_OK)return this.onEnd(I),!(this.ended=!0);j.next_out&&(j.avail_out!==0&&I!==p.Z_STREAM_END&&(j.avail_in!==0||P!==p.Z_FINISH&&P!==p.Z_SYNC_FLUSH)||(this.options.to==="string"?(z=f.utf8border(j.output,j.next_out),Y=j.next_out-z,$=f.buf2string(j.output,z),j.next_out=Y,j.avail_out=M-Y,Y&&u.arraySet(j.output,j.output,z,Y,0),this.onData($)):this.onData(u.shrinkBuf(j.output,j.next_out)))),j.avail_in===0&&j.avail_out===0&&(F=!0)}while((0<j.avail_in||j.avail_out===0)&&I!==p.Z_STREAM_END);return I===p.Z_STREAM_END&&(P=p.Z_FINISH),P===p.Z_FINISH?(I=c.inflateEnd(this.strm),this.onEnd(I),this.ended=!0,I===p.Z_OK):P!==p.Z_SYNC_FLUSH||(this.onEnd(p.Z_OK),!(j.avail_out=0))},w.prototype.onData=function(A){this.chunks.push(A)},w.prototype.onEnd=function(A){A===p.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=u.flattenChunks(this.chunks)),this.chunks=[],this.err=A,this.msg=this.strm.msg},o.Inflate=w,o.inflate=k,o.inflateRaw=function(A,R){return(R=R||{}).raw=!0,k(A,R)},o.ungzip=k},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,s,o){var c=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";o.assign=function(p){for(var g=Array.prototype.slice.call(arguments,1);g.length;){var _=g.shift();if(_){if(typeof _!="object")throw new TypeError(_+"must be non-object");for(var b in _)_.hasOwnProperty(b)&&(p[b]=_[b])}}return p},o.shrinkBuf=function(p,g){return p.length===g?p:p.subarray?p.subarray(0,g):(p.length=g,p)};var u={arraySet:function(p,g,_,b,E){if(g.subarray&&p.subarray)p.set(g.subarray(_,_+b),E);else for(var w=0;w<b;w++)p[E+w]=g[_+w]},flattenChunks:function(p){var g,_,b,E,w,k;for(g=b=0,_=p.length;g<_;g++)b+=p[g].length;for(k=new Uint8Array(b),g=E=0,_=p.length;g<_;g++)w=p[g],k.set(w,E),E+=w.length;return k}},f={arraySet:function(p,g,_,b,E){for(var w=0;w<b;w++)p[E+w]=g[_+w]},flattenChunks:function(p){return[].concat.apply([],p)}};o.setTyped=function(p){p?(o.Buf8=Uint8Array,o.Buf16=Uint16Array,o.Buf32=Int32Array,o.assign(o,u)):(o.Buf8=Array,o.Buf16=Array,o.Buf32=Array,o.assign(o,f))},o.setTyped(c)},{}],42:[function(n,s,o){var c=n("./common"),u=!0,f=!0;try{String.fromCharCode.apply(null,[0])}catch{u=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{f=!1}for(var p=new c.Buf8(256),g=0;g<256;g++)p[g]=252<=g?6:248<=g?5:240<=g?4:224<=g?3:192<=g?2:1;function _(b,E){if(E<65537&&(b.subarray&&f||!b.subarray&&u))return String.fromCharCode.apply(null,c.shrinkBuf(b,E));for(var w="",k=0;k<E;k++)w+=String.fromCharCode(b[k]);return w}p[254]=p[254]=1,o.string2buf=function(b){var E,w,k,A,R,I=b.length,P=0;for(A=0;A<I;A++)(64512&(w=b.charCodeAt(A)))==55296&&A+1<I&&(64512&(k=b.charCodeAt(A+1)))==56320&&(w=65536+(w-55296<<10)+(k-56320),A++),P+=w<128?1:w<2048?2:w<65536?3:4;for(E=new c.Buf8(P),A=R=0;R<P;A++)(64512&(w=b.charCodeAt(A)))==55296&&A+1<I&&(64512&(k=b.charCodeAt(A+1)))==56320&&(w=65536+(w-55296<<10)+(k-56320),A++),w<128?E[R++]=w:(w<2048?E[R++]=192|w>>>6:(w<65536?E[R++]=224|w>>>12:(E[R++]=240|w>>>18,E[R++]=128|w>>>12&63),E[R++]=128|w>>>6&63),E[R++]=128|63&w);return E},o.buf2binstring=function(b){return _(b,b.length)},o.binstring2buf=function(b){for(var E=new c.Buf8(b.length),w=0,k=E.length;w<k;w++)E[w]=b.charCodeAt(w);return E},o.buf2string=function(b,E){var w,k,A,R,I=E||b.length,P=new Array(2*I);for(w=k=0;w<I;)if((A=b[w++])<128)P[k++]=A;else if(4<(R=p[A]))P[k++]=65533,w+=R-1;else{for(A&=R===2?31:R===3?15:7;1<R&&w<I;)A=A<<6|63&b[w++],R--;1<R?P[k++]=65533:A<65536?P[k++]=A:(A-=65536,P[k++]=55296|A>>10&1023,P[k++]=56320|1023&A)}return _(P,k)},o.utf8border=function(b,E){var w;for((E=E||b.length)>b.length&&(E=b.length),w=E-1;0<=w&&(192&b[w])==128;)w--;return w<0||w===0?E:w+p[b[w]]>E?w:E}},{"./common":41}],43:[function(n,s,o){s.exports=function(c,u,f,p){for(var g=65535&c|0,_=c>>>16&65535|0,b=0;f!==0;){for(f-=b=2e3<f?2e3:f;_=_+(g=g+u[p++]|0)|0,--b;);g%=65521,_%=65521}return g|_<<16|0}},{}],44:[function(n,s,o){s.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,s,o){var c=(function(){for(var u,f=[],p=0;p<256;p++){u=p;for(var g=0;g<8;g++)u=1&u?3988292384^u>>>1:u>>>1;f[p]=u}return f})();s.exports=function(u,f,p,g){var _=c,b=g+p;u^=-1;for(var E=g;E<b;E++)u=u>>>8^_[255&(u^f[E])];return-1^u}},{}],46:[function(n,s,o){var c,u=n("../utils/common"),f=n("./trees"),p=n("./adler32"),g=n("./crc32"),_=n("./messages"),b=0,E=4,w=0,k=-2,A=-1,R=4,I=2,P=8,z=9,Y=286,$=30,ie=19,j=2*Y+1,M=15,O=3,F=258,B=F+O+1,N=42,D=113,C=1,ne=2,Z=3,ee=4;function Ce(S,ve){return S.msg=_[ve],ve}function ye(S){return(S<<1)-(4<S?9:0)}function ke(S){for(var ve=S.length;0<=--ve;)S[ve]=0}function V(S){var ve=S.state,ce=ve.pending;ce>S.avail_out&&(ce=S.avail_out),ce!==0&&(u.arraySet(S.output,ve.pending_buf,ve.pending_out,ce,S.next_out),S.next_out+=ce,ve.pending_out+=ce,S.total_out+=ce,S.avail_out-=ce,ve.pending-=ce,ve.pending===0&&(ve.pending_out=0))}function G(S,ve){f._tr_flush_block(S,0<=S.block_start?S.block_start:-1,S.strstart-S.block_start,ve),S.block_start=S.strstart,V(S.strm)}function fe(S,ve){S.pending_buf[S.pending++]=ve}function de(S,ve){S.pending_buf[S.pending++]=ve>>>8&255,S.pending_buf[S.pending++]=255&ve}function ge(S,ve){var ce,Q,H=S.max_chain_length,q=S.strstart,se=S.prev_length,pe=S.nice_match,te=S.strstart>S.w_size-B?S.strstart-(S.w_size-B):0,Ee=S.window,Se=S.w_mask,xe=S.prev,Ne=S.strstart+F,Ge=Ee[q+se-1],Qe=Ee[q+se];S.prev_length>=S.good_match&&(H>>=2),pe>S.lookahead&&(pe=S.lookahead);do if(Ee[(ce=ve)+se]===Qe&&Ee[ce+se-1]===Ge&&Ee[ce]===Ee[q]&&Ee[++ce]===Ee[q+1]){q+=2,ce++;do;while(Ee[++q]===Ee[++ce]&&Ee[++q]===Ee[++ce]&&Ee[++q]===Ee[++ce]&&Ee[++q]===Ee[++ce]&&Ee[++q]===Ee[++ce]&&Ee[++q]===Ee[++ce]&&Ee[++q]===Ee[++ce]&&Ee[++q]===Ee[++ce]&&q<Ne);if(Q=F-(Ne-q),q=Ne-F,se<Q){if(S.match_start=ve,pe<=(se=Q))break;Ge=Ee[q+se-1],Qe=Ee[q+se]}}while((ve=xe[ve&Se])>te&&--H!=0);return se<=S.lookahead?se:S.lookahead}function Ie(S){var ve,ce,Q,H,q,se,pe,te,Ee,Se,xe=S.w_size;do{if(H=S.window_size-S.lookahead-S.strstart,S.strstart>=xe+(xe-B)){for(u.arraySet(S.window,S.window,xe,xe,0),S.match_start-=xe,S.strstart-=xe,S.block_start-=xe,ve=ce=S.hash_size;Q=S.head[--ve],S.head[ve]=xe<=Q?Q-xe:0,--ce;);for(ve=ce=xe;Q=S.prev[--ve],S.prev[ve]=xe<=Q?Q-xe:0,--ce;);H+=xe}if(S.strm.avail_in===0)break;if(se=S.strm,pe=S.window,te=S.strstart+S.lookahead,Ee=H,Se=void 0,Se=se.avail_in,Ee<Se&&(Se=Ee),ce=Se===0?0:(se.avail_in-=Se,u.arraySet(pe,se.input,se.next_in,Se,te),se.state.wrap===1?se.adler=p(se.adler,pe,Se,te):se.state.wrap===2&&(se.adler=g(se.adler,pe,Se,te)),se.next_in+=Se,se.total_in+=Se,Se),S.lookahead+=ce,S.lookahead+S.insert>=O)for(q=S.strstart-S.insert,S.ins_h=S.window[q],S.ins_h=(S.ins_h<<S.hash_shift^S.window[q+1])&S.hash_mask;S.insert&&(S.ins_h=(S.ins_h<<S.hash_shift^S.window[q+O-1])&S.hash_mask,S.prev[q&S.w_mask]=S.head[S.ins_h],S.head[S.ins_h]=q,q++,S.insert--,!(S.lookahead+S.insert<O)););}while(S.lookahead<B&&S.strm.avail_in!==0)}function Pe(S,ve){for(var ce,Q;;){if(S.lookahead<B){if(Ie(S),S.lookahead<B&&ve===b)return C;if(S.lookahead===0)break}if(ce=0,S.lookahead>=O&&(S.ins_h=(S.ins_h<<S.hash_shift^S.window[S.strstart+O-1])&S.hash_mask,ce=S.prev[S.strstart&S.w_mask]=S.head[S.ins_h],S.head[S.ins_h]=S.strstart),ce!==0&&S.strstart-ce<=S.w_size-B&&(S.match_length=ge(S,ce)),S.match_length>=O)if(Q=f._tr_tally(S,S.strstart-S.match_start,S.match_length-O),S.lookahead-=S.match_length,S.match_length<=S.max_lazy_match&&S.lookahead>=O){for(S.match_length--;S.strstart++,S.ins_h=(S.ins_h<<S.hash_shift^S.window[S.strstart+O-1])&S.hash_mask,ce=S.prev[S.strstart&S.w_mask]=S.head[S.ins_h],S.head[S.ins_h]=S.strstart,--S.match_length!=0;);S.strstart++}else S.strstart+=S.match_length,S.match_length=0,S.ins_h=S.window[S.strstart],S.ins_h=(S.ins_h<<S.hash_shift^S.window[S.strstart+1])&S.hash_mask;else Q=f._tr_tally(S,0,S.window[S.strstart]),S.lookahead--,S.strstart++;if(Q&&(G(S,!1),S.strm.avail_out===0))return C}return S.insert=S.strstart<O-1?S.strstart:O-1,ve===E?(G(S,!0),S.strm.avail_out===0?Z:ee):S.last_lit&&(G(S,!1),S.strm.avail_out===0)?C:ne}function Le(S,ve){for(var ce,Q,H;;){if(S.lookahead<B){if(Ie(S),S.lookahead<B&&ve===b)return C;if(S.lookahead===0)break}if(ce=0,S.lookahead>=O&&(S.ins_h=(S.ins_h<<S.hash_shift^S.window[S.strstart+O-1])&S.hash_mask,ce=S.prev[S.strstart&S.w_mask]=S.head[S.ins_h],S.head[S.ins_h]=S.strstart),S.prev_length=S.match_length,S.prev_match=S.match_start,S.match_length=O-1,ce!==0&&S.prev_length<S.max_lazy_match&&S.strstart-ce<=S.w_size-B&&(S.match_length=ge(S,ce),S.match_length<=5&&(S.strategy===1||S.match_length===O&&4096<S.strstart-S.match_start)&&(S.match_length=O-1)),S.prev_length>=O&&S.match_length<=S.prev_length){for(H=S.strstart+S.lookahead-O,Q=f._tr_tally(S,S.strstart-1-S.prev_match,S.prev_length-O),S.lookahead-=S.prev_length-1,S.prev_length-=2;++S.strstart<=H&&(S.ins_h=(S.ins_h<<S.hash_shift^S.window[S.strstart+O-1])&S.hash_mask,ce=S.prev[S.strstart&S.w_mask]=S.head[S.ins_h],S.head[S.ins_h]=S.strstart),--S.prev_length!=0;);if(S.match_available=0,S.match_length=O-1,S.strstart++,Q&&(G(S,!1),S.strm.avail_out===0))return C}else if(S.match_available){if((Q=f._tr_tally(S,0,S.window[S.strstart-1]))&&G(S,!1),S.strstart++,S.lookahead--,S.strm.avail_out===0)return C}else S.match_available=1,S.strstart++,S.lookahead--}return S.match_available&&(Q=f._tr_tally(S,0,S.window[S.strstart-1]),S.match_available=0),S.insert=S.strstart<O-1?S.strstart:O-1,ve===E?(G(S,!0),S.strm.avail_out===0?Z:ee):S.last_lit&&(G(S,!1),S.strm.avail_out===0)?C:ne}function je(S,ve,ce,Q,H){this.good_length=S,this.max_lazy=ve,this.nice_length=ce,this.max_chain=Q,this.func=H}function _t(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=P,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new u.Buf16(2*j),this.dyn_dtree=new u.Buf16(2*(2*$+1)),this.bl_tree=new u.Buf16(2*(2*ie+1)),ke(this.dyn_ltree),ke(this.dyn_dtree),ke(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new u.Buf16(M+1),this.heap=new u.Buf16(2*Y+1),ke(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new u.Buf16(2*Y+1),ke(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ft(S){var ve;return S&&S.state?(S.total_in=S.total_out=0,S.data_type=I,(ve=S.state).pending=0,ve.pending_out=0,ve.wrap<0&&(ve.wrap=-ve.wrap),ve.status=ve.wrap?N:D,S.adler=ve.wrap===2?0:1,ve.last_flush=b,f._tr_init(ve),w):Ce(S,k)}function Ht(S){var ve=ft(S);return ve===w&&(function(ce){ce.window_size=2*ce.w_size,ke(ce.head),ce.max_lazy_match=c[ce.level].max_lazy,ce.good_match=c[ce.level].good_length,ce.nice_match=c[ce.level].nice_length,ce.max_chain_length=c[ce.level].max_chain,ce.strstart=0,ce.block_start=0,ce.lookahead=0,ce.insert=0,ce.match_length=ce.prev_length=O-1,ce.match_available=0,ce.ins_h=0})(S.state),ve}function Ut(S,ve,ce,Q,H,q){if(!S)return k;var se=1;if(ve===A&&(ve=6),Q<0?(se=0,Q=-Q):15<Q&&(se=2,Q-=16),H<1||z<H||ce!==P||Q<8||15<Q||ve<0||9<ve||q<0||R<q)return Ce(S,k);Q===8&&(Q=9);var pe=new _t;return(S.state=pe).strm=S,pe.wrap=se,pe.gzhead=null,pe.w_bits=Q,pe.w_size=1<<pe.w_bits,pe.w_mask=pe.w_size-1,pe.hash_bits=H+7,pe.hash_size=1<<pe.hash_bits,pe.hash_mask=pe.hash_size-1,pe.hash_shift=~~((pe.hash_bits+O-1)/O),pe.window=new u.Buf8(2*pe.w_size),pe.head=new u.Buf16(pe.hash_size),pe.prev=new u.Buf16(pe.w_size),pe.lit_bufsize=1<<H+6,pe.pending_buf_size=4*pe.lit_bufsize,pe.pending_buf=new u.Buf8(pe.pending_buf_size),pe.d_buf=1*pe.lit_bufsize,pe.l_buf=3*pe.lit_bufsize,pe.level=ve,pe.strategy=q,pe.method=ce,Ht(S)}c=[new je(0,0,0,0,function(S,ve){var ce=65535;for(ce>S.pending_buf_size-5&&(ce=S.pending_buf_size-5);;){if(S.lookahead<=1){if(Ie(S),S.lookahead===0&&ve===b)return C;if(S.lookahead===0)break}S.strstart+=S.lookahead,S.lookahead=0;var Q=S.block_start+ce;if((S.strstart===0||S.strstart>=Q)&&(S.lookahead=S.strstart-Q,S.strstart=Q,G(S,!1),S.strm.avail_out===0)||S.strstart-S.block_start>=S.w_size-B&&(G(S,!1),S.strm.avail_out===0))return C}return S.insert=0,ve===E?(G(S,!0),S.strm.avail_out===0?Z:ee):(S.strstart>S.block_start&&(G(S,!1),S.strm.avail_out),C)}),new je(4,4,8,4,Pe),new je(4,5,16,8,Pe),new je(4,6,32,32,Pe),new je(4,4,16,16,Le),new je(8,16,32,32,Le),new je(8,16,128,128,Le),new je(8,32,128,256,Le),new je(32,128,258,1024,Le),new je(32,258,258,4096,Le)],o.deflateInit=function(S,ve){return Ut(S,ve,P,15,8,0)},o.deflateInit2=Ut,o.deflateReset=Ht,o.deflateResetKeep=ft,o.deflateSetHeader=function(S,ve){return S&&S.state?S.state.wrap!==2?k:(S.state.gzhead=ve,w):k},o.deflate=function(S,ve){var ce,Q,H,q;if(!S||!S.state||5<ve||ve<0)return S?Ce(S,k):k;if(Q=S.state,!S.output||!S.input&&S.avail_in!==0||Q.status===666&&ve!==E)return Ce(S,S.avail_out===0?-5:k);if(Q.strm=S,ce=Q.last_flush,Q.last_flush=ve,Q.status===N)if(Q.wrap===2)S.adler=0,fe(Q,31),fe(Q,139),fe(Q,8),Q.gzhead?(fe(Q,(Q.gzhead.text?1:0)+(Q.gzhead.hcrc?2:0)+(Q.gzhead.extra?4:0)+(Q.gzhead.name?8:0)+(Q.gzhead.comment?16:0)),fe(Q,255&Q.gzhead.time),fe(Q,Q.gzhead.time>>8&255),fe(Q,Q.gzhead.time>>16&255),fe(Q,Q.gzhead.time>>24&255),fe(Q,Q.level===9?2:2<=Q.strategy||Q.level<2?4:0),fe(Q,255&Q.gzhead.os),Q.gzhead.extra&&Q.gzhead.extra.length&&(fe(Q,255&Q.gzhead.extra.length),fe(Q,Q.gzhead.extra.length>>8&255)),Q.gzhead.hcrc&&(S.adler=g(S.adler,Q.pending_buf,Q.pending,0)),Q.gzindex=0,Q.status=69):(fe(Q,0),fe(Q,0),fe(Q,0),fe(Q,0),fe(Q,0),fe(Q,Q.level===9?2:2<=Q.strategy||Q.level<2?4:0),fe(Q,3),Q.status=D);else{var se=P+(Q.w_bits-8<<4)<<8;se|=(2<=Q.strategy||Q.level<2?0:Q.level<6?1:Q.level===6?2:3)<<6,Q.strstart!==0&&(se|=32),se+=31-se%31,Q.status=D,de(Q,se),Q.strstart!==0&&(de(Q,S.adler>>>16),de(Q,65535&S.adler)),S.adler=1}if(Q.status===69)if(Q.gzhead.extra){for(H=Q.pending;Q.gzindex<(65535&Q.gzhead.extra.length)&&(Q.pending!==Q.pending_buf_size||(Q.gzhead.hcrc&&Q.pending>H&&(S.adler=g(S.adler,Q.pending_buf,Q.pending-H,H)),V(S),H=Q.pending,Q.pending!==Q.pending_buf_size));)fe(Q,255&Q.gzhead.extra[Q.gzindex]),Q.gzindex++;Q.gzhead.hcrc&&Q.pending>H&&(S.adler=g(S.adler,Q.pending_buf,Q.pending-H,H)),Q.gzindex===Q.gzhead.extra.length&&(Q.gzindex=0,Q.status=73)}else Q.status=73;if(Q.status===73)if(Q.gzhead.name){H=Q.pending;do{if(Q.pending===Q.pending_buf_size&&(Q.gzhead.hcrc&&Q.pending>H&&(S.adler=g(S.adler,Q.pending_buf,Q.pending-H,H)),V(S),H=Q.pending,Q.pending===Q.pending_buf_size)){q=1;break}q=Q.gzindex<Q.gzhead.name.length?255&Q.gzhead.name.charCodeAt(Q.gzindex++):0,fe(Q,q)}while(q!==0);Q.gzhead.hcrc&&Q.pending>H&&(S.adler=g(S.adler,Q.pending_buf,Q.pending-H,H)),q===0&&(Q.gzindex=0,Q.status=91)}else Q.status=91;if(Q.status===91)if(Q.gzhead.comment){H=Q.pending;do{if(Q.pending===Q.pending_buf_size&&(Q.gzhead.hcrc&&Q.pending>H&&(S.adler=g(S.adler,Q.pending_buf,Q.pending-H,H)),V(S),H=Q.pending,Q.pending===Q.pending_buf_size)){q=1;break}q=Q.gzindex<Q.gzhead.comment.length?255&Q.gzhead.comment.charCodeAt(Q.gzindex++):0,fe(Q,q)}while(q!==0);Q.gzhead.hcrc&&Q.pending>H&&(S.adler=g(S.adler,Q.pending_buf,Q.pending-H,H)),q===0&&(Q.status=103)}else Q.status=103;if(Q.status===103&&(Q.gzhead.hcrc?(Q.pending+2>Q.pending_buf_size&&V(S),Q.pending+2<=Q.pending_buf_size&&(fe(Q,255&S.adler),fe(Q,S.adler>>8&255),S.adler=0,Q.status=D)):Q.status=D),Q.pending!==0){if(V(S),S.avail_out===0)return Q.last_flush=-1,w}else if(S.avail_in===0&&ye(ve)<=ye(ce)&&ve!==E)return Ce(S,-5);if(Q.status===666&&S.avail_in!==0)return Ce(S,-5);if(S.avail_in!==0||Q.lookahead!==0||ve!==b&&Q.status!==666){var pe=Q.strategy===2?(function(te,Ee){for(var Se;;){if(te.lookahead===0&&(Ie(te),te.lookahead===0)){if(Ee===b)return C;break}if(te.match_length=0,Se=f._tr_tally(te,0,te.window[te.strstart]),te.lookahead--,te.strstart++,Se&&(G(te,!1),te.strm.avail_out===0))return C}return te.insert=0,Ee===E?(G(te,!0),te.strm.avail_out===0?Z:ee):te.last_lit&&(G(te,!1),te.strm.avail_out===0)?C:ne})(Q,ve):Q.strategy===3?(function(te,Ee){for(var Se,xe,Ne,Ge,Qe=te.window;;){if(te.lookahead<=F){if(Ie(te),te.lookahead<=F&&Ee===b)return C;if(te.lookahead===0)break}if(te.match_length=0,te.lookahead>=O&&0<te.strstart&&(xe=Qe[Ne=te.strstart-1])===Qe[++Ne]&&xe===Qe[++Ne]&&xe===Qe[++Ne]){Ge=te.strstart+F;do;while(xe===Qe[++Ne]&&xe===Qe[++Ne]&&xe===Qe[++Ne]&&xe===Qe[++Ne]&&xe===Qe[++Ne]&&xe===Qe[++Ne]&&xe===Qe[++Ne]&&xe===Qe[++Ne]&&Ne<Ge);te.match_length=F-(Ge-Ne),te.match_length>te.lookahead&&(te.match_length=te.lookahead)}if(te.match_length>=O?(Se=f._tr_tally(te,1,te.match_length-O),te.lookahead-=te.match_length,te.strstart+=te.match_length,te.match_length=0):(Se=f._tr_tally(te,0,te.window[te.strstart]),te.lookahead--,te.strstart++),Se&&(G(te,!1),te.strm.avail_out===0))return C}return te.insert=0,Ee===E?(G(te,!0),te.strm.avail_out===0?Z:ee):te.last_lit&&(G(te,!1),te.strm.avail_out===0)?C:ne})(Q,ve):c[Q.level].func(Q,ve);if(pe!==Z&&pe!==ee||(Q.status=666),pe===C||pe===Z)return S.avail_out===0&&(Q.last_flush=-1),w;if(pe===ne&&(ve===1?f._tr_align(Q):ve!==5&&(f._tr_stored_block(Q,0,0,!1),ve===3&&(ke(Q.head),Q.lookahead===0&&(Q.strstart=0,Q.block_start=0,Q.insert=0))),V(S),S.avail_out===0))return Q.last_flush=-1,w}return ve!==E?w:Q.wrap<=0?1:(Q.wrap===2?(fe(Q,255&S.adler),fe(Q,S.adler>>8&255),fe(Q,S.adler>>16&255),fe(Q,S.adler>>24&255),fe(Q,255&S.total_in),fe(Q,S.total_in>>8&255),fe(Q,S.total_in>>16&255),fe(Q,S.total_in>>24&255)):(de(Q,S.adler>>>16),de(Q,65535&S.adler)),V(S),0<Q.wrap&&(Q.wrap=-Q.wrap),Q.pending!==0?w:1)},o.deflateEnd=function(S){var ve;return S&&S.state?(ve=S.state.status)!==N&&ve!==69&&ve!==73&&ve!==91&&ve!==103&&ve!==D&&ve!==666?Ce(S,k):(S.state=null,ve===D?Ce(S,-3):w):k},o.deflateSetDictionary=function(S,ve){var ce,Q,H,q,se,pe,te,Ee,Se=ve.length;if(!S||!S.state||(q=(ce=S.state).wrap)===2||q===1&&ce.status!==N||ce.lookahead)return k;for(q===1&&(S.adler=p(S.adler,ve,Se,0)),ce.wrap=0,Se>=ce.w_size&&(q===0&&(ke(ce.head),ce.strstart=0,ce.block_start=0,ce.insert=0),Ee=new u.Buf8(ce.w_size),u.arraySet(Ee,ve,Se-ce.w_size,ce.w_size,0),ve=Ee,Se=ce.w_size),se=S.avail_in,pe=S.next_in,te=S.input,S.avail_in=Se,S.next_in=0,S.input=ve,Ie(ce);ce.lookahead>=O;){for(Q=ce.strstart,H=ce.lookahead-(O-1);ce.ins_h=(ce.ins_h<<ce.hash_shift^ce.window[Q+O-1])&ce.hash_mask,ce.prev[Q&ce.w_mask]=ce.head[ce.ins_h],ce.head[ce.ins_h]=Q,Q++,--H;);ce.strstart=Q,ce.lookahead=O-1,Ie(ce)}return ce.strstart+=ce.lookahead,ce.block_start=ce.strstart,ce.insert=ce.lookahead,ce.lookahead=0,ce.match_length=ce.prev_length=O-1,ce.match_available=0,S.next_in=pe,S.input=te,S.avail_in=se,ce.wrap=q,w},o.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,s,o){s.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,s,o){s.exports=function(c,u){var f,p,g,_,b,E,w,k,A,R,I,P,z,Y,$,ie,j,M,O,F,B,N,D,C,ne;f=c.state,p=c.next_in,C=c.input,g=p+(c.avail_in-5),_=c.next_out,ne=c.output,b=_-(u-c.avail_out),E=_+(c.avail_out-257),w=f.dmax,k=f.wsize,A=f.whave,R=f.wnext,I=f.window,P=f.hold,z=f.bits,Y=f.lencode,$=f.distcode,ie=(1<<f.lenbits)-1,j=(1<<f.distbits)-1;e:do{z<15&&(P+=C[p++]<<z,z+=8,P+=C[p++]<<z,z+=8),M=Y[P&ie];t:for(;;){if(P>>>=O=M>>>24,z-=O,(O=M>>>16&255)===0)ne[_++]=65535&M;else{if(!(16&O)){if((64&O)==0){M=Y[(65535&M)+(P&(1<<O)-1)];continue t}if(32&O){f.mode=12;break e}c.msg="invalid literal/length code",f.mode=30;break e}F=65535&M,(O&=15)&&(z<O&&(P+=C[p++]<<z,z+=8),F+=P&(1<<O)-1,P>>>=O,z-=O),z<15&&(P+=C[p++]<<z,z+=8,P+=C[p++]<<z,z+=8),M=$[P&j];n:for(;;){if(P>>>=O=M>>>24,z-=O,!(16&(O=M>>>16&255))){if((64&O)==0){M=$[(65535&M)+(P&(1<<O)-1)];continue n}c.msg="invalid distance code",f.mode=30;break e}if(B=65535&M,z<(O&=15)&&(P+=C[p++]<<z,(z+=8)<O&&(P+=C[p++]<<z,z+=8)),w<(B+=P&(1<<O)-1)){c.msg="invalid distance too far back",f.mode=30;break e}if(P>>>=O,z-=O,(O=_-b)<B){if(A<(O=B-O)&&f.sane){c.msg="invalid distance too far back",f.mode=30;break e}if(D=I,(N=0)===R){if(N+=k-O,O<F){for(F-=O;ne[_++]=I[N++],--O;);N=_-B,D=ne}}else if(R<O){if(N+=k+R-O,(O-=R)<F){for(F-=O;ne[_++]=I[N++],--O;);if(N=0,R<F){for(F-=O=R;ne[_++]=I[N++],--O;);N=_-B,D=ne}}}else if(N+=R-O,O<F){for(F-=O;ne[_++]=I[N++],--O;);N=_-B,D=ne}for(;2<F;)ne[_++]=D[N++],ne[_++]=D[N++],ne[_++]=D[N++],F-=3;F&&(ne[_++]=D[N++],1<F&&(ne[_++]=D[N++]))}else{for(N=_-B;ne[_++]=ne[N++],ne[_++]=ne[N++],ne[_++]=ne[N++],2<(F-=3););F&&(ne[_++]=ne[N++],1<F&&(ne[_++]=ne[N++]))}break}}break}}while(p<g&&_<E);p-=F=z>>3,P&=(1<<(z-=F<<3))-1,c.next_in=p,c.next_out=_,c.avail_in=p<g?g-p+5:5-(p-g),c.avail_out=_<E?E-_+257:257-(_-E),f.hold=P,f.bits=z}},{}],49:[function(n,s,o){var c=n("../utils/common"),u=n("./adler32"),f=n("./crc32"),p=n("./inffast"),g=n("./inftrees"),_=1,b=2,E=0,w=-2,k=1,A=852,R=592;function I(N){return(N>>>24&255)+(N>>>8&65280)+((65280&N)<<8)+((255&N)<<24)}function P(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new c.Buf16(320),this.work=new c.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function z(N){var D;return N&&N.state?(D=N.state,N.total_in=N.total_out=D.total=0,N.msg="",D.wrap&&(N.adler=1&D.wrap),D.mode=k,D.last=0,D.havedict=0,D.dmax=32768,D.head=null,D.hold=0,D.bits=0,D.lencode=D.lendyn=new c.Buf32(A),D.distcode=D.distdyn=new c.Buf32(R),D.sane=1,D.back=-1,E):w}function Y(N){var D;return N&&N.state?((D=N.state).wsize=0,D.whave=0,D.wnext=0,z(N)):w}function $(N,D){var C,ne;return N&&N.state?(ne=N.state,D<0?(C=0,D=-D):(C=1+(D>>4),D<48&&(D&=15)),D&&(D<8||15<D)?w:(ne.window!==null&&ne.wbits!==D&&(ne.window=null),ne.wrap=C,ne.wbits=D,Y(N))):w}function ie(N,D){var C,ne;return N?(ne=new P,(N.state=ne).window=null,(C=$(N,D))!==E&&(N.state=null),C):w}var j,M,O=!0;function F(N){if(O){var D;for(j=new c.Buf32(512),M=new c.Buf32(32),D=0;D<144;)N.lens[D++]=8;for(;D<256;)N.lens[D++]=9;for(;D<280;)N.lens[D++]=7;for(;D<288;)N.lens[D++]=8;for(g(_,N.lens,0,288,j,0,N.work,{bits:9}),D=0;D<32;)N.lens[D++]=5;g(b,N.lens,0,32,M,0,N.work,{bits:5}),O=!1}N.lencode=j,N.lenbits=9,N.distcode=M,N.distbits=5}function B(N,D,C,ne){var Z,ee=N.state;return ee.window===null&&(ee.wsize=1<<ee.wbits,ee.wnext=0,ee.whave=0,ee.window=new c.Buf8(ee.wsize)),ne>=ee.wsize?(c.arraySet(ee.window,D,C-ee.wsize,ee.wsize,0),ee.wnext=0,ee.whave=ee.wsize):(ne<(Z=ee.wsize-ee.wnext)&&(Z=ne),c.arraySet(ee.window,D,C-ne,Z,ee.wnext),(ne-=Z)?(c.arraySet(ee.window,D,C-ne,ne,0),ee.wnext=ne,ee.whave=ee.wsize):(ee.wnext+=Z,ee.wnext===ee.wsize&&(ee.wnext=0),ee.whave<ee.wsize&&(ee.whave+=Z))),0}o.inflateReset=Y,o.inflateReset2=$,o.inflateResetKeep=z,o.inflateInit=function(N){return ie(N,15)},o.inflateInit2=ie,o.inflate=function(N,D){var C,ne,Z,ee,Ce,ye,ke,V,G,fe,de,ge,Ie,Pe,Le,je,_t,ft,Ht,Ut,S,ve,ce,Q,H=0,q=new c.Buf8(4),se=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!N||!N.state||!N.output||!N.input&&N.avail_in!==0)return w;(C=N.state).mode===12&&(C.mode=13),Ce=N.next_out,Z=N.output,ke=N.avail_out,ee=N.next_in,ne=N.input,ye=N.avail_in,V=C.hold,G=C.bits,fe=ye,de=ke,ve=E;e:for(;;)switch(C.mode){case k:if(C.wrap===0){C.mode=13;break}for(;G<16;){if(ye===0)break e;ye--,V+=ne[ee++]<<G,G+=8}if(2&C.wrap&&V===35615){q[C.check=0]=255&V,q[1]=V>>>8&255,C.check=f(C.check,q,2,0),G=V=0,C.mode=2;break}if(C.flags=0,C.head&&(C.head.done=!1),!(1&C.wrap)||(((255&V)<<8)+(V>>8))%31){N.msg="incorrect header check",C.mode=30;break}if((15&V)!=8){N.msg="unknown compression method",C.mode=30;break}if(G-=4,S=8+(15&(V>>>=4)),C.wbits===0)C.wbits=S;else if(S>C.wbits){N.msg="invalid window size",C.mode=30;break}C.dmax=1<<S,N.adler=C.check=1,C.mode=512&V?10:12,G=V=0;break;case 2:for(;G<16;){if(ye===0)break e;ye--,V+=ne[ee++]<<G,G+=8}if(C.flags=V,(255&C.flags)!=8){N.msg="unknown compression method",C.mode=30;break}if(57344&C.flags){N.msg="unknown header flags set",C.mode=30;break}C.head&&(C.head.text=V>>8&1),512&C.flags&&(q[0]=255&V,q[1]=V>>>8&255,C.check=f(C.check,q,2,0)),G=V=0,C.mode=3;case 3:for(;G<32;){if(ye===0)break e;ye--,V+=ne[ee++]<<G,G+=8}C.head&&(C.head.time=V),512&C.flags&&(q[0]=255&V,q[1]=V>>>8&255,q[2]=V>>>16&255,q[3]=V>>>24&255,C.check=f(C.check,q,4,0)),G=V=0,C.mode=4;case 4:for(;G<16;){if(ye===0)break e;ye--,V+=ne[ee++]<<G,G+=8}C.head&&(C.head.xflags=255&V,C.head.os=V>>8),512&C.flags&&(q[0]=255&V,q[1]=V>>>8&255,C.check=f(C.check,q,2,0)),G=V=0,C.mode=5;case 5:if(1024&C.flags){for(;G<16;){if(ye===0)break e;ye--,V+=ne[ee++]<<G,G+=8}C.length=V,C.head&&(C.head.extra_len=V),512&C.flags&&(q[0]=255&V,q[1]=V>>>8&255,C.check=f(C.check,q,2,0)),G=V=0}else C.head&&(C.head.extra=null);C.mode=6;case 6:if(1024&C.flags&&(ye<(ge=C.length)&&(ge=ye),ge&&(C.head&&(S=C.head.extra_len-C.length,C.head.extra||(C.head.extra=new Array(C.head.extra_len)),c.arraySet(C.head.extra,ne,ee,ge,S)),512&C.flags&&(C.check=f(C.check,ne,ge,ee)),ye-=ge,ee+=ge,C.length-=ge),C.length))break e;C.length=0,C.mode=7;case 7:if(2048&C.flags){if(ye===0)break e;for(ge=0;S=ne[ee+ge++],C.head&&S&&C.length<65536&&(C.head.name+=String.fromCharCode(S)),S&&ge<ye;);if(512&C.flags&&(C.check=f(C.check,ne,ge,ee)),ye-=ge,ee+=ge,S)break e}else C.head&&(C.head.name=null);C.length=0,C.mode=8;case 8:if(4096&C.flags){if(ye===0)break e;for(ge=0;S=ne[ee+ge++],C.head&&S&&C.length<65536&&(C.head.comment+=String.fromCharCode(S)),S&&ge<ye;);if(512&C.flags&&(C.check=f(C.check,ne,ge,ee)),ye-=ge,ee+=ge,S)break e}else C.head&&(C.head.comment=null);C.mode=9;case 9:if(512&C.flags){for(;G<16;){if(ye===0)break e;ye--,V+=ne[ee++]<<G,G+=8}if(V!==(65535&C.check)){N.msg="header crc mismatch",C.mode=30;break}G=V=0}C.head&&(C.head.hcrc=C.flags>>9&1,C.head.done=!0),N.adler=C.check=0,C.mode=12;break;case 10:for(;G<32;){if(ye===0)break e;ye--,V+=ne[ee++]<<G,G+=8}N.adler=C.check=I(V),G=V=0,C.mode=11;case 11:if(C.havedict===0)return N.next_out=Ce,N.avail_out=ke,N.next_in=ee,N.avail_in=ye,C.hold=V,C.bits=G,2;N.adler=C.check=1,C.mode=12;case 12:if(D===5||D===6)break e;case 13:if(C.last){V>>>=7&G,G-=7&G,C.mode=27;break}for(;G<3;){if(ye===0)break e;ye--,V+=ne[ee++]<<G,G+=8}switch(C.last=1&V,G-=1,3&(V>>>=1)){case 0:C.mode=14;break;case 1:if(F(C),C.mode=20,D!==6)break;V>>>=2,G-=2;break e;case 2:C.mode=17;break;case 3:N.msg="invalid block type",C.mode=30}V>>>=2,G-=2;break;case 14:for(V>>>=7&G,G-=7&G;G<32;){if(ye===0)break e;ye--,V+=ne[ee++]<<G,G+=8}if((65535&V)!=(V>>>16^65535)){N.msg="invalid stored block lengths",C.mode=30;break}if(C.length=65535&V,G=V=0,C.mode=15,D===6)break e;case 15:C.mode=16;case 16:if(ge=C.length){if(ye<ge&&(ge=ye),ke<ge&&(ge=ke),ge===0)break e;c.arraySet(Z,ne,ee,ge,Ce),ye-=ge,ee+=ge,ke-=ge,Ce+=ge,C.length-=ge;break}C.mode=12;break;case 17:for(;G<14;){if(ye===0)break e;ye--,V+=ne[ee++]<<G,G+=8}if(C.nlen=257+(31&V),V>>>=5,G-=5,C.ndist=1+(31&V),V>>>=5,G-=5,C.ncode=4+(15&V),V>>>=4,G-=4,286<C.nlen||30<C.ndist){N.msg="too many length or distance symbols",C.mode=30;break}C.have=0,C.mode=18;case 18:for(;C.have<C.ncode;){for(;G<3;){if(ye===0)break e;ye--,V+=ne[ee++]<<G,G+=8}C.lens[se[C.have++]]=7&V,V>>>=3,G-=3}for(;C.have<19;)C.lens[se[C.have++]]=0;if(C.lencode=C.lendyn,C.lenbits=7,ce={bits:C.lenbits},ve=g(0,C.lens,0,19,C.lencode,0,C.work,ce),C.lenbits=ce.bits,ve){N.msg="invalid code lengths set",C.mode=30;break}C.have=0,C.mode=19;case 19:for(;C.have<C.nlen+C.ndist;){for(;je=(H=C.lencode[V&(1<<C.lenbits)-1])>>>16&255,_t=65535&H,!((Le=H>>>24)<=G);){if(ye===0)break e;ye--,V+=ne[ee++]<<G,G+=8}if(_t<16)V>>>=Le,G-=Le,C.lens[C.have++]=_t;else{if(_t===16){for(Q=Le+2;G<Q;){if(ye===0)break e;ye--,V+=ne[ee++]<<G,G+=8}if(V>>>=Le,G-=Le,C.have===0){N.msg="invalid bit length repeat",C.mode=30;break}S=C.lens[C.have-1],ge=3+(3&V),V>>>=2,G-=2}else if(_t===17){for(Q=Le+3;G<Q;){if(ye===0)break e;ye--,V+=ne[ee++]<<G,G+=8}G-=Le,S=0,ge=3+(7&(V>>>=Le)),V>>>=3,G-=3}else{for(Q=Le+7;G<Q;){if(ye===0)break e;ye--,V+=ne[ee++]<<G,G+=8}G-=Le,S=0,ge=11+(127&(V>>>=Le)),V>>>=7,G-=7}if(C.have+ge>C.nlen+C.ndist){N.msg="invalid bit length repeat",C.mode=30;break}for(;ge--;)C.lens[C.have++]=S}}if(C.mode===30)break;if(C.lens[256]===0){N.msg="invalid code -- missing end-of-block",C.mode=30;break}if(C.lenbits=9,ce={bits:C.lenbits},ve=g(_,C.lens,0,C.nlen,C.lencode,0,C.work,ce),C.lenbits=ce.bits,ve){N.msg="invalid literal/lengths set",C.mode=30;break}if(C.distbits=6,C.distcode=C.distdyn,ce={bits:C.distbits},ve=g(b,C.lens,C.nlen,C.ndist,C.distcode,0,C.work,ce),C.distbits=ce.bits,ve){N.msg="invalid distances set",C.mode=30;break}if(C.mode=20,D===6)break e;case 20:C.mode=21;case 21:if(6<=ye&&258<=ke){N.next_out=Ce,N.avail_out=ke,N.next_in=ee,N.avail_in=ye,C.hold=V,C.bits=G,p(N,de),Ce=N.next_out,Z=N.output,ke=N.avail_out,ee=N.next_in,ne=N.input,ye=N.avail_in,V=C.hold,G=C.bits,C.mode===12&&(C.back=-1);break}for(C.back=0;je=(H=C.lencode[V&(1<<C.lenbits)-1])>>>16&255,_t=65535&H,!((Le=H>>>24)<=G);){if(ye===0)break e;ye--,V+=ne[ee++]<<G,G+=8}if(je&&(240&je)==0){for(ft=Le,Ht=je,Ut=_t;je=(H=C.lencode[Ut+((V&(1<<ft+Ht)-1)>>ft)])>>>16&255,_t=65535&H,!(ft+(Le=H>>>24)<=G);){if(ye===0)break e;ye--,V+=ne[ee++]<<G,G+=8}V>>>=ft,G-=ft,C.back+=ft}if(V>>>=Le,G-=Le,C.back+=Le,C.length=_t,je===0){C.mode=26;break}if(32&je){C.back=-1,C.mode=12;break}if(64&je){N.msg="invalid literal/length code",C.mode=30;break}C.extra=15&je,C.mode=22;case 22:if(C.extra){for(Q=C.extra;G<Q;){if(ye===0)break e;ye--,V+=ne[ee++]<<G,G+=8}C.length+=V&(1<<C.extra)-1,V>>>=C.extra,G-=C.extra,C.back+=C.extra}C.was=C.length,C.mode=23;case 23:for(;je=(H=C.distcode[V&(1<<C.distbits)-1])>>>16&255,_t=65535&H,!((Le=H>>>24)<=G);){if(ye===0)break e;ye--,V+=ne[ee++]<<G,G+=8}if((240&je)==0){for(ft=Le,Ht=je,Ut=_t;je=(H=C.distcode[Ut+((V&(1<<ft+Ht)-1)>>ft)])>>>16&255,_t=65535&H,!(ft+(Le=H>>>24)<=G);){if(ye===0)break e;ye--,V+=ne[ee++]<<G,G+=8}V>>>=ft,G-=ft,C.back+=ft}if(V>>>=Le,G-=Le,C.back+=Le,64&je){N.msg="invalid distance code",C.mode=30;break}C.offset=_t,C.extra=15&je,C.mode=24;case 24:if(C.extra){for(Q=C.extra;G<Q;){if(ye===0)break e;ye--,V+=ne[ee++]<<G,G+=8}C.offset+=V&(1<<C.extra)-1,V>>>=C.extra,G-=C.extra,C.back+=C.extra}if(C.offset>C.dmax){N.msg="invalid distance too far back",C.mode=30;break}C.mode=25;case 25:if(ke===0)break e;if(ge=de-ke,C.offset>ge){if((ge=C.offset-ge)>C.whave&&C.sane){N.msg="invalid distance too far back",C.mode=30;break}Ie=ge>C.wnext?(ge-=C.wnext,C.wsize-ge):C.wnext-ge,ge>C.length&&(ge=C.length),Pe=C.window}else Pe=Z,Ie=Ce-C.offset,ge=C.length;for(ke<ge&&(ge=ke),ke-=ge,C.length-=ge;Z[Ce++]=Pe[Ie++],--ge;);C.length===0&&(C.mode=21);break;case 26:if(ke===0)break e;Z[Ce++]=C.length,ke--,C.mode=21;break;case 27:if(C.wrap){for(;G<32;){if(ye===0)break e;ye--,V|=ne[ee++]<<G,G+=8}if(de-=ke,N.total_out+=de,C.total+=de,de&&(N.adler=C.check=C.flags?f(C.check,Z,de,Ce-de):u(C.check,Z,de,Ce-de)),de=ke,(C.flags?V:I(V))!==C.check){N.msg="incorrect data check",C.mode=30;break}G=V=0}C.mode=28;case 28:if(C.wrap&&C.flags){for(;G<32;){if(ye===0)break e;ye--,V+=ne[ee++]<<G,G+=8}if(V!==(4294967295&C.total)){N.msg="incorrect length check",C.mode=30;break}G=V=0}C.mode=29;case 29:ve=1;break e;case 30:ve=-3;break e;case 31:return-4;case 32:default:return w}return N.next_out=Ce,N.avail_out=ke,N.next_in=ee,N.avail_in=ye,C.hold=V,C.bits=G,(C.wsize||de!==N.avail_out&&C.mode<30&&(C.mode<27||D!==4))&&B(N,N.output,N.next_out,de-N.avail_out)?(C.mode=31,-4):(fe-=N.avail_in,de-=N.avail_out,N.total_in+=fe,N.total_out+=de,C.total+=de,C.wrap&&de&&(N.adler=C.check=C.flags?f(C.check,Z,de,N.next_out-de):u(C.check,Z,de,N.next_out-de)),N.data_type=C.bits+(C.last?64:0)+(C.mode===12?128:0)+(C.mode===20||C.mode===15?256:0),(fe==0&&de===0||D===4)&&ve===E&&(ve=-5),ve)},o.inflateEnd=function(N){if(!N||!N.state)return w;var D=N.state;return D.window&&(D.window=null),N.state=null,E},o.inflateGetHeader=function(N,D){var C;return N&&N.state?(2&(C=N.state).wrap)==0?w:((C.head=D).done=!1,E):w},o.inflateSetDictionary=function(N,D){var C,ne=D.length;return N&&N.state?(C=N.state).wrap!==0&&C.mode!==11?w:C.mode===11&&u(1,D,ne,0)!==C.check?-3:B(N,D,ne,ne)?(C.mode=31,-4):(C.havedict=1,E):w},o.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,s,o){var c=n("../utils/common"),u=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],f=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],p=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],g=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];s.exports=function(_,b,E,w,k,A,R,I){var P,z,Y,$,ie,j,M,O,F,B=I.bits,N=0,D=0,C=0,ne=0,Z=0,ee=0,Ce=0,ye=0,ke=0,V=0,G=null,fe=0,de=new c.Buf16(16),ge=new c.Buf16(16),Ie=null,Pe=0;for(N=0;N<=15;N++)de[N]=0;for(D=0;D<w;D++)de[b[E+D]]++;for(Z=B,ne=15;1<=ne&&de[ne]===0;ne--);if(ne<Z&&(Z=ne),ne===0)return k[A++]=20971520,k[A++]=20971520,I.bits=1,0;for(C=1;C<ne&&de[C]===0;C++);for(Z<C&&(Z=C),N=ye=1;N<=15;N++)if(ye<<=1,(ye-=de[N])<0)return-1;if(0<ye&&(_===0||ne!==1))return-1;for(ge[1]=0,N=1;N<15;N++)ge[N+1]=ge[N]+de[N];for(D=0;D<w;D++)b[E+D]!==0&&(R[ge[b[E+D]]++]=D);if(j=_===0?(G=Ie=R,19):_===1?(G=u,fe-=257,Ie=f,Pe-=257,256):(G=p,Ie=g,-1),N=C,ie=A,Ce=D=V=0,Y=-1,$=(ke=1<<(ee=Z))-1,_===1&&852<ke||_===2&&592<ke)return 1;for(;;){for(M=N-Ce,F=R[D]<j?(O=0,R[D]):R[D]>j?(O=Ie[Pe+R[D]],G[fe+R[D]]):(O=96,0),P=1<<N-Ce,C=z=1<<ee;k[ie+(V>>Ce)+(z-=P)]=M<<24|O<<16|F|0,z!==0;);for(P=1<<N-1;V&P;)P>>=1;if(P!==0?(V&=P-1,V+=P):V=0,D++,--de[N]==0){if(N===ne)break;N=b[E+R[D]]}if(Z<N&&(V&$)!==Y){for(Ce===0&&(Ce=Z),ie+=C,ye=1<<(ee=N-Ce);ee+Ce<ne&&!((ye-=de[ee+Ce])<=0);)ee++,ye<<=1;if(ke+=1<<ee,_===1&&852<ke||_===2&&592<ke)return 1;k[Y=V&$]=Z<<24|ee<<16|ie-A|0}}return V!==0&&(k[ie+V]=N-Ce<<24|64<<16|0),I.bits=Z,0}},{"../utils/common":41}],51:[function(n,s,o){s.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,s,o){var c=n("../utils/common"),u=0,f=1;function p(H){for(var q=H.length;0<=--q;)H[q]=0}var g=0,_=29,b=256,E=b+1+_,w=30,k=19,A=2*E+1,R=15,I=16,P=7,z=256,Y=16,$=17,ie=18,j=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],M=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],O=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],F=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],B=new Array(2*(E+2));p(B);var N=new Array(2*w);p(N);var D=new Array(512);p(D);var C=new Array(256);p(C);var ne=new Array(_);p(ne);var Z,ee,Ce,ye=new Array(w);function ke(H,q,se,pe,te){this.static_tree=H,this.extra_bits=q,this.extra_base=se,this.elems=pe,this.max_length=te,this.has_stree=H&&H.length}function V(H,q){this.dyn_tree=H,this.max_code=0,this.stat_desc=q}function G(H){return H<256?D[H]:D[256+(H>>>7)]}function fe(H,q){H.pending_buf[H.pending++]=255&q,H.pending_buf[H.pending++]=q>>>8&255}function de(H,q,se){H.bi_valid>I-se?(H.bi_buf|=q<<H.bi_valid&65535,fe(H,H.bi_buf),H.bi_buf=q>>I-H.bi_valid,H.bi_valid+=se-I):(H.bi_buf|=q<<H.bi_valid&65535,H.bi_valid+=se)}function ge(H,q,se){de(H,se[2*q],se[2*q+1])}function Ie(H,q){for(var se=0;se|=1&H,H>>>=1,se<<=1,0<--q;);return se>>>1}function Pe(H,q,se){var pe,te,Ee=new Array(R+1),Se=0;for(pe=1;pe<=R;pe++)Ee[pe]=Se=Se+se[pe-1]<<1;for(te=0;te<=q;te++){var xe=H[2*te+1];xe!==0&&(H[2*te]=Ie(Ee[xe]++,xe))}}function Le(H){var q;for(q=0;q<E;q++)H.dyn_ltree[2*q]=0;for(q=0;q<w;q++)H.dyn_dtree[2*q]=0;for(q=0;q<k;q++)H.bl_tree[2*q]=0;H.dyn_ltree[2*z]=1,H.opt_len=H.static_len=0,H.last_lit=H.matches=0}function je(H){8<H.bi_valid?fe(H,H.bi_buf):0<H.bi_valid&&(H.pending_buf[H.pending++]=H.bi_buf),H.bi_buf=0,H.bi_valid=0}function _t(H,q,se,pe){var te=2*q,Ee=2*se;return H[te]<H[Ee]||H[te]===H[Ee]&&pe[q]<=pe[se]}function ft(H,q,se){for(var pe=H.heap[se],te=se<<1;te<=H.heap_len&&(te<H.heap_len&&_t(q,H.heap[te+1],H.heap[te],H.depth)&&te++,!_t(q,pe,H.heap[te],H.depth));)H.heap[se]=H.heap[te],se=te,te<<=1;H.heap[se]=pe}function Ht(H,q,se){var pe,te,Ee,Se,xe=0;if(H.last_lit!==0)for(;pe=H.pending_buf[H.d_buf+2*xe]<<8|H.pending_buf[H.d_buf+2*xe+1],te=H.pending_buf[H.l_buf+xe],xe++,pe===0?ge(H,te,q):(ge(H,(Ee=C[te])+b+1,q),(Se=j[Ee])!==0&&de(H,te-=ne[Ee],Se),ge(H,Ee=G(--pe),se),(Se=M[Ee])!==0&&de(H,pe-=ye[Ee],Se)),xe<H.last_lit;);ge(H,z,q)}function Ut(H,q){var se,pe,te,Ee=q.dyn_tree,Se=q.stat_desc.static_tree,xe=q.stat_desc.has_stree,Ne=q.stat_desc.elems,Ge=-1;for(H.heap_len=0,H.heap_max=A,se=0;se<Ne;se++)Ee[2*se]!==0?(H.heap[++H.heap_len]=Ge=se,H.depth[se]=0):Ee[2*se+1]=0;for(;H.heap_len<2;)Ee[2*(te=H.heap[++H.heap_len]=Ge<2?++Ge:0)]=1,H.depth[te]=0,H.opt_len--,xe&&(H.static_len-=Se[2*te+1]);for(q.max_code=Ge,se=H.heap_len>>1;1<=se;se--)ft(H,Ee,se);for(te=Ne;se=H.heap[1],H.heap[1]=H.heap[H.heap_len--],ft(H,Ee,1),pe=H.heap[1],H.heap[--H.heap_max]=se,H.heap[--H.heap_max]=pe,Ee[2*te]=Ee[2*se]+Ee[2*pe],H.depth[te]=(H.depth[se]>=H.depth[pe]?H.depth[se]:H.depth[pe])+1,Ee[2*se+1]=Ee[2*pe+1]=te,H.heap[1]=te++,ft(H,Ee,1),2<=H.heap_len;);H.heap[--H.heap_max]=H.heap[1],(function(Qe,un){var nr,hn,rr,lt,jt,rn,ut=un.dyn_tree,me=un.max_code,Fe=un.stat_desc.static_tree,Et=un.stat_desc.has_stree,Je=un.stat_desc.extra_bits,Tt=un.stat_desc.extra_base,Xe=un.stat_desc.max_length,It=0;for(lt=0;lt<=R;lt++)Qe.bl_count[lt]=0;for(ut[2*Qe.heap[Qe.heap_max]+1]=0,nr=Qe.heap_max+1;nr<A;nr++)Xe<(lt=ut[2*ut[2*(hn=Qe.heap[nr])+1]+1]+1)&&(lt=Xe,It++),ut[2*hn+1]=lt,me<hn||(Qe.bl_count[lt]++,jt=0,Tt<=hn&&(jt=Je[hn-Tt]),rn=ut[2*hn],Qe.opt_len+=rn*(lt+jt),Et&&(Qe.static_len+=rn*(Fe[2*hn+1]+jt)));if(It!==0){do{for(lt=Xe-1;Qe.bl_count[lt]===0;)lt--;Qe.bl_count[lt]--,Qe.bl_count[lt+1]+=2,Qe.bl_count[Xe]--,It-=2}while(0<It);for(lt=Xe;lt!==0;lt--)for(hn=Qe.bl_count[lt];hn!==0;)me<(rr=Qe.heap[--nr])||(ut[2*rr+1]!==lt&&(Qe.opt_len+=(lt-ut[2*rr+1])*ut[2*rr],ut[2*rr+1]=lt),hn--)}})(H,q),Pe(Ee,Ge,H.bl_count)}function S(H,q,se){var pe,te,Ee=-1,Se=q[1],xe=0,Ne=7,Ge=4;for(Se===0&&(Ne=138,Ge=3),q[2*(se+1)+1]=65535,pe=0;pe<=se;pe++)te=Se,Se=q[2*(pe+1)+1],++xe<Ne&&te===Se||(xe<Ge?H.bl_tree[2*te]+=xe:te!==0?(te!==Ee&&H.bl_tree[2*te]++,H.bl_tree[2*Y]++):xe<=10?H.bl_tree[2*$]++:H.bl_tree[2*ie]++,Ee=te,Ge=(xe=0)===Se?(Ne=138,3):te===Se?(Ne=6,3):(Ne=7,4))}function ve(H,q,se){var pe,te,Ee=-1,Se=q[1],xe=0,Ne=7,Ge=4;for(Se===0&&(Ne=138,Ge=3),pe=0;pe<=se;pe++)if(te=Se,Se=q[2*(pe+1)+1],!(++xe<Ne&&te===Se)){if(xe<Ge)for(;ge(H,te,H.bl_tree),--xe!=0;);else te!==0?(te!==Ee&&(ge(H,te,H.bl_tree),xe--),ge(H,Y,H.bl_tree),de(H,xe-3,2)):xe<=10?(ge(H,$,H.bl_tree),de(H,xe-3,3)):(ge(H,ie,H.bl_tree),de(H,xe-11,7));Ee=te,Ge=(xe=0)===Se?(Ne=138,3):te===Se?(Ne=6,3):(Ne=7,4)}}p(ye);var ce=!1;function Q(H,q,se,pe){de(H,(g<<1)+(pe?1:0),3),(function(te,Ee,Se,xe){je(te),fe(te,Se),fe(te,~Se),c.arraySet(te.pending_buf,te.window,Ee,Se,te.pending),te.pending+=Se})(H,q,se)}o._tr_init=function(H){ce||((function(){var q,se,pe,te,Ee,Se=new Array(R+1);for(te=pe=0;te<_-1;te++)for(ne[te]=pe,q=0;q<1<<j[te];q++)C[pe++]=te;for(C[pe-1]=te,te=Ee=0;te<16;te++)for(ye[te]=Ee,q=0;q<1<<M[te];q++)D[Ee++]=te;for(Ee>>=7;te<w;te++)for(ye[te]=Ee<<7,q=0;q<1<<M[te]-7;q++)D[256+Ee++]=te;for(se=0;se<=R;se++)Se[se]=0;for(q=0;q<=143;)B[2*q+1]=8,q++,Se[8]++;for(;q<=255;)B[2*q+1]=9,q++,Se[9]++;for(;q<=279;)B[2*q+1]=7,q++,Se[7]++;for(;q<=287;)B[2*q+1]=8,q++,Se[8]++;for(Pe(B,E+1,Se),q=0;q<w;q++)N[2*q+1]=5,N[2*q]=Ie(q,5);Z=new ke(B,j,b+1,E,R),ee=new ke(N,M,0,w,R),Ce=new ke(new Array(0),O,0,k,P)})(),ce=!0),H.l_desc=new V(H.dyn_ltree,Z),H.d_desc=new V(H.dyn_dtree,ee),H.bl_desc=new V(H.bl_tree,Ce),H.bi_buf=0,H.bi_valid=0,Le(H)},o._tr_stored_block=Q,o._tr_flush_block=function(H,q,se,pe){var te,Ee,Se=0;0<H.level?(H.strm.data_type===2&&(H.strm.data_type=(function(xe){var Ne,Ge=4093624447;for(Ne=0;Ne<=31;Ne++,Ge>>>=1)if(1&Ge&&xe.dyn_ltree[2*Ne]!==0)return u;if(xe.dyn_ltree[18]!==0||xe.dyn_ltree[20]!==0||xe.dyn_ltree[26]!==0)return f;for(Ne=32;Ne<b;Ne++)if(xe.dyn_ltree[2*Ne]!==0)return f;return u})(H)),Ut(H,H.l_desc),Ut(H,H.d_desc),Se=(function(xe){var Ne;for(S(xe,xe.dyn_ltree,xe.l_desc.max_code),S(xe,xe.dyn_dtree,xe.d_desc.max_code),Ut(xe,xe.bl_desc),Ne=k-1;3<=Ne&&xe.bl_tree[2*F[Ne]+1]===0;Ne--);return xe.opt_len+=3*(Ne+1)+5+5+4,Ne})(H),te=H.opt_len+3+7>>>3,(Ee=H.static_len+3+7>>>3)<=te&&(te=Ee)):te=Ee=se+5,se+4<=te&&q!==-1?Q(H,q,se,pe):H.strategy===4||Ee===te?(de(H,2+(pe?1:0),3),Ht(H,B,N)):(de(H,4+(pe?1:0),3),(function(xe,Ne,Ge,Qe){var un;for(de(xe,Ne-257,5),de(xe,Ge-1,5),de(xe,Qe-4,4),un=0;un<Qe;un++)de(xe,xe.bl_tree[2*F[un]+1],3);ve(xe,xe.dyn_ltree,Ne-1),ve(xe,xe.dyn_dtree,Ge-1)})(H,H.l_desc.max_code+1,H.d_desc.max_code+1,Se+1),Ht(H,H.dyn_ltree,H.dyn_dtree)),Le(H),pe&&je(H)},o._tr_tally=function(H,q,se){return H.pending_buf[H.d_buf+2*H.last_lit]=q>>>8&255,H.pending_buf[H.d_buf+2*H.last_lit+1]=255&q,H.pending_buf[H.l_buf+H.last_lit]=255&se,H.last_lit++,q===0?H.dyn_ltree[2*se]++:(H.matches++,q--,H.dyn_ltree[2*(C[se]+b+1)]++,H.dyn_dtree[2*G(q)]++),H.last_lit===H.lit_bufsize-1},o._tr_align=function(H){de(H,2,3),ge(H,z,B),(function(q){q.bi_valid===16?(fe(q,q.bi_buf),q.bi_buf=0,q.bi_valid=0):8<=q.bi_valid&&(q.pending_buf[q.pending++]=255&q.bi_buf,q.bi_buf>>=8,q.bi_valid-=8)})(H)}},{"../utils/common":41}],53:[function(n,s,o){s.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,s,o){(function(c){(function(u,f){if(!u.setImmediate){var p,g,_,b,E=1,w={},k=!1,A=u.document,R=Object.getPrototypeOf&&Object.getPrototypeOf(u);R=R&&R.setTimeout?R:u,p={}.toString.call(u.process)==="[object process]"?function(Y){process.nextTick(function(){P(Y)})}:(function(){if(u.postMessage&&!u.importScripts){var Y=!0,$=u.onmessage;return u.onmessage=function(){Y=!1},u.postMessage("","*"),u.onmessage=$,Y}})()?(b="setImmediate$"+Math.random()+"$",u.addEventListener?u.addEventListener("message",z,!1):u.attachEvent("onmessage",z),function(Y){u.postMessage(b+Y,"*")}):u.MessageChannel?((_=new MessageChannel).port1.onmessage=function(Y){P(Y.data)},function(Y){_.port2.postMessage(Y)}):A&&"onreadystatechange"in A.createElement("script")?(g=A.documentElement,function(Y){var $=A.createElement("script");$.onreadystatechange=function(){P(Y),$.onreadystatechange=null,g.removeChild($),$=null},g.appendChild($)}):function(Y){setTimeout(P,0,Y)},R.setImmediate=function(Y){typeof Y!="function"&&(Y=new Function(""+Y));for(var $=new Array(arguments.length-1),ie=0;ie<$.length;ie++)$[ie]=arguments[ie+1];var j={callback:Y,args:$};return w[E]=j,p(E),E++},R.clearImmediate=I}function I(Y){delete w[Y]}function P(Y){if(k)setTimeout(P,0,Y);else{var $=w[Y];if($){k=!0;try{(function(ie){var j=ie.callback,M=ie.args;switch(M.length){case 0:j();break;case 1:j(M[0]);break;case 2:j(M[0],M[1]);break;case 3:j(M[0],M[1],M[2]);break;default:j.apply(f,M)}})($)}finally{I(Y),k=!1}}}}function z(Y){Y.source===u&&typeof Y.data=="string"&&Y.data.indexOf(b)===0&&P(+Y.data.slice(b.length))}})(typeof self>"u"?c===void 0?this:c:self)}).call(this,typeof _s<"u"?_s:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(hm)),hm.exports}var MT=jT();const LT=ep(MT);var rh={exports:{}},VT=rh.exports,j_;function PT(){return j_||(j_=1,(function(i,e){(function(n,s){s()})(VT,function(){function n(g,_){return typeof _>"u"?_={autoBom:!1}:typeof _!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),_={autoBom:!_}),_.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(g.type)?new Blob(["\uFEFF",g],{type:g.type}):g}function s(g,_,b){var E=new XMLHttpRequest;E.open("GET",g),E.responseType="blob",E.onload=function(){p(E.response,_,b)},E.onerror=function(){console.error("could not download file")},E.send()}function o(g){var _=new XMLHttpRequest;_.open("HEAD",g,!1);try{_.send()}catch{}return 200<=_.status&&299>=_.status}function c(g){try{g.dispatchEvent(new MouseEvent("click"))}catch{var _=document.createEvent("MouseEvents");_.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),g.dispatchEvent(_)}}var u=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof _s=="object"&&_s.global===_s?_s:void 0,f=u.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),p=u.saveAs||(typeof window!="object"||window!==u?function(){}:"download"in HTMLAnchorElement.prototype&&!f?function(g,_,b){var E=u.URL||u.webkitURL,w=document.createElement("a");_=_||g.name||"download",w.download=_,w.rel="noopener",typeof g=="string"?(w.href=g,w.origin===location.origin?c(w):o(w.href)?s(g,_,b):c(w,w.target="_blank")):(w.href=E.createObjectURL(g),setTimeout(function(){E.revokeObjectURL(w.href)},4e4),setTimeout(function(){c(w)},0))}:"msSaveOrOpenBlob"in navigator?function(g,_,b){if(_=_||g.name||"download",typeof g!="string")navigator.msSaveOrOpenBlob(n(g,b),_);else if(o(g))s(g,_,b);else{var E=document.createElement("a");E.href=g,E.target="_blank",setTimeout(function(){c(E)})}}:function(g,_,b,E){if(E=E||open("","_blank"),E&&(E.document.title=E.document.body.innerText="downloading..."),typeof g=="string")return s(g,_,b);var w=g.type==="application/octet-stream",k=/constructor/i.test(u.HTMLElement)||u.safari,A=/CriOS\/[\d]+/.test(navigator.userAgent);if((A||w&&k||f)&&typeof FileReader<"u"){var R=new FileReader;R.onloadend=function(){var z=R.result;z=A?z:z.replace(/^data:[^;]*;/,"data:attachment/file;"),E?E.location.href=z:location=z,E=null},R.readAsDataURL(g)}else{var I=u.URL||u.webkitURL,P=I.createObjectURL(g);E?E.location=P:location.href=P,E=null,setTimeout(function(){I.revokeObjectURL(P)},4e4)}});u.saveAs=p.saveAs=p,i.exports=p})})(rh)),rh.exports}var M_=PT();const zT=({profile:i,onSignOut:e})=>{var rn,ut;const n=Vo(),[s,o]=W.useState(()=>localStorage.getItem("contributor_active_tab")||"hdl");W.useEffect(()=>{localStorage.setItem("contributor_active_tab",s)},[s]);const[c,u]=W.useState(!1),[f,p]=W.useState(!1),[g,_]=W.useState([]),[b,E]=W.useState([]),[w,k]=W.useState(!1),[A,R]=W.useState(null),[I,P]=W.useState(null),[z,Y]=W.useState(""),[$,ie]=W.useState("Medium"),[j,M]=W.useState(["","","",""]),[O,F]=W.useState(0),[B,N]=W.useState(""),[D,C]=W.useState(null),[ne,Z]=W.useState([]),[ee,Ce]=W.useState(null),[ye,ke]=W.useState(!0),[V,G]=W.useState(!1),[fe,de]=W.useState([]),[ge,Ie]=W.useState(!1),[Pe,Le]=W.useState(null);W.useEffect(()=>{je();const me=setInterval(je,15e3);return()=>clearInterval(me)},[]),W.useEffect(()=>{let me;return V&&Pe&&(me=setInterval(()=>{hn(Pe,!0)},5e3)),()=>clearInterval(me)},[V,Pe]);const je=async()=>{try{const me=localStorage.getItem("hdlbase_mock_session"),Fe=JSON.parse(me),Je={Authorization:`Bearer ${Fe.token||Fe.uid}`},Xe=await(await fetch("https://hdlbase-backen.onrender.com/api/v1/modules",{headers:Je})).json();Xe.status==="success"&&(_(Xe.data.map(dt=>({id:dt.id,name:dt.name,type:dt.type,size:dt.size||"1 KB",date:dt.createdAt?new Date(dt.createdAt).toLocaleDateString():"Recent",code:dt.code||"",files:dt.files||(dt.code?[{name:"source.v",content:dt.code}]:[])}))),Xe.message&&Xe.message.includes("Mock Mode")&&alert("WARNING: Backend is in MOCK MODE. Data will NOT be saved. Please configure Firebase Credentials on Render."));const Sn=await(await fetch("https://hdlbase-backen.onrender.com/api/v1/quizzes",{headers:Je})).json();Sn.status==="success"&&E(Sn.data.map(dt=>({id:dt.id,text:dt.text,title:dt.title||"Untitled Quiz",submissionCount:dt.submissionCount||0,difficulty:dt.difficulty,date:dt.createdAt?new Date(dt.createdAt).toLocaleDateString():"Recent"})));const _r=await(await fetch("https://hdlbase-backen.onrender.com/api/v1/users/stats",{headers:Je})).json();_r.status==="success"&&R(_r.data);try{const Bn=await(await fetch("https://hdlbase-backen.onrender.com/api/v1/challenges",{headers:Je})).json();Bn.status==="success"&&Ee(Bn.data)}catch(dt){console.error("Failed challenges fetch",dt)}}catch(me){console.error("Failed to fetch dashboard data",me)}finally{ke(!1)}},_t=()=>{n("/dashboard")},ft=async me=>{me.preventDefault(),k(!0);const Fe=me.target,Et=new FormData(Fe);try{const Je=localStorage.getItem("hdlbase_mock_session"),Tt=JSON.parse(Je),Xe=Tt.token||Tt.uid,It={name:Et.get("moduleName"),language:Et.get("language"),files:ne,type:"IP Core",description:"Uploaded from Contributor Dashboard"},Sn=D?`https://hdlbase-backen.onrender.com/api/v1/modules/${D}`:"https://hdlbase-backen.onrender.com/api/v1/modules",sn=await fetch(Sn,{method:D?"PUT":"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Xe}`},body:JSON.stringify(It)});if(sn.ok)await je(),u(!1),u(!1),C(null),N(""),Z([]),Fe.reset();else{const _r=await sn.json();alert(`Upload Failed: ${_r.message||"Unknown error"}`)}}catch(Je){console.error("Upload failed",Je),alert("Upload error: Check console")}finally{k(!1)}},Ht=me=>{me.target.files&&Array.from(me.target.files).forEach(Fe=>{const Et=new FileReader;Et.onload=Je=>{var Xe;const Tt=(Xe=Je.target)==null?void 0:Xe.result;Z(It=>[...It,{name:Fe.name,content:Tt}])},Et.readAsText(Fe)})},Ut=me=>{Z(Fe=>Fe.filter((Et,Je)=>Je!==me))},S=me=>{C(me.id),N(me.code||""),Z(me.files||(me.code?[{name:`${me.name}.v`,content:me.code}]:[])),u(!0)},ve=(me=null)=>{me?(P(me.id),Y(me.text),ie(me.difficulty)):(P(null),Y(""),ie("Medium"),M(["","","",""]),F(0)),p(!0)},[ce,Q]=W.useState(""),[H,q]=W.useState([]),[se,pe]=W.useState({text:"",difficulty:"Medium",correct:0,options:["","","",""]}),[te,Ee]=W.useState([]),[Se,xe]=W.useState(!1),[Ne,Ge]=W.useState({title:"",difficulty:"Medium",description:"",initialCode:`// Module Declaration
module challenge(input clk);

endmodule`,testbench:`// Verification Code
module tb;
  // Instantiate and Test
endmodule`}),Qe=()=>{q([...H,{...se,id:Date.now().toString()}]),pe({text:"",difficulty:"Medium",correct:0,options:["","","",""]})},un=async me=>{var Je;const Fe=(Je=me.target.files)==null?void 0:Je[0];if(!Fe)return;k(!0);const Et=new FormData;Et.append("file",Fe);try{const Tt=localStorage.getItem("hdlbase_mock_session"),Xe=JSON.parse(Tt||"{}"),It=Xe.token||Xe.uid,sn=await(await fetch("https://hdlbase-backen.onrender.com/api/v1/quizzes/generate",{method:"POST",headers:{Authorization:`Bearer ${It}`},body:Et})).json();if(sn.status==="success"){const _r=sn.data.map(dt=>({id:Date.now().toString()+Math.random(),text:dt.text,options:dt.options,correct:dt.correct,difficulty:dt.difficulty}));q(dt=>[...dt,..._r]),alert(`Generated ${_r.length} questions from document!`)}else alert(`Generation Failed: ${sn.message}`)}catch(Tt){console.error("Upload error",Tt),alert("Failed to upload/generate")}finally{k(!1),me.target.value=""}},nr=async()=>{if(!ce||H.length===0){alert("Title and at least one question required.");return}k(!0);try{const me=localStorage.getItem("hdlbase_mock_session"),Fe=JSON.parse(me),Et=Fe.token||Fe.uid,Je={title:ce,description:"Custom Quiz",questions:H},Tt=await fetch("https://hdlbase-backen.onrender.com/api/v1/quizzes",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Et}`},body:JSON.stringify(Je)});if(Tt.ok)p(!1),Q(""),q([]),je(),alert("Quiz published successfully!");else{const Xe=await Tt.json();console.error("Publish Error:",Xe),alert(`Failed to publish quiz (Status: ${Tt.status}): ${Xe.message||"Unknown server error"}`)}}catch(me){console.error("Network/Client Error:",me),alert(`Failed to publish quiz (Client Error): ${me.message}`)}finally{k(!1)}},hn=async(me,Fe=!1)=>{Fe||Ie(!0),Fe||G(!0),Le(me),Fe||de([]);try{const Et=localStorage.getItem("hdlbase_mock_session"),Je=JSON.parse(Et),Tt=Je.token||Je.uid,It=await(await fetch(`https://hdlbase-backen.onrender.com/api/v1/quizzes/${me}/results`,{headers:{Authorization:`Bearer ${Tt}`}})).json();It.status==="success"&&de(It.data)}catch(Et){console.error("Failed to fetch submissions",Et)}finally{Fe||Ie(!1)}},rr=me=>{Ce(me)},lt=()=>{if(ee){const me=b.filter(Fe=>Fe.id!==ee);E(me),localStorage.setItem("hdlbase_mock_mcq_admin",JSON.stringify(me)),Ce(null)}},jt=async()=>{if(!Ne.title||!Ne.description||!Ne.testbench){alert("Please fill all required fields (Title, Description, Testbench)");return}k(!0);try{const me=localStorage.getItem("hdlbase_mock_session"),Fe=JSON.parse(me),Et=Fe.token||Fe.uid,Je=await fetch("https://hdlbase-backen.onrender.com/api/v1/challenges",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Et}`},body:JSON.stringify(Ne)});if(Je.ok)xe(!1),Ge({title:"",difficulty:"Medium",description:"",initialCode:`// Module Declaration
module challenge(input clk);

endmodule`,testbench:`// Verification Code
module tb;
  // Instantiate and Test
endmodule`}),je(),alert("Challenge Created Successfully!");else{const Tt=await Je.json();alert(`Failed to create challenge: ${Tt.message}`)}}catch(me){alert(`Error: ${me.message}`)}finally{k(!1)}};return y.jsxs("div",{className:"min-h-screen bg-matte text-offwhite flex flex-col",children:[y.jsx("nav",{className:"border-b border-white/5 bg-gunmetal/30 p-4 sticky top-0 backdrop-blur-md z-20",children:y.jsxs("div",{className:"max-w-7xl mx-auto flex justify-between items-center",children:[y.jsxs("div",{className:"flex items-center gap-8",children:[y.jsx("div",{onClick:_t,className:"flex items-center cursor-pointer group",children:y.jsx("h1",{className:"text-xl font-black tracking-tighter",children:y.jsx("a",{href:"/",className:"logo-text",children:y.jsx("img",{src:Eo,alt:"LOGO",className:"w-32 h-auto"})})})}),y.jsxs("div",{className:"flex bg-white/5 p-1 rounded-xl",children:[y.jsx("button",{onClick:()=>o("hdl"),className:`text-[10px] uppercase tracking-widest px-4 py-2 rounded-lg font-black transition-all ${s==="hdl"?"bg-contributor text-white shadow-lg":"text-gray-500 hover:text-gray-300"}`,children:"Repo"}),y.jsx("button",{onClick:()=>o("mcq"),className:`text-[10px] uppercase tracking-widest px-4 py-2 rounded-lg font-black transition-all ${s==="mcq"?"bg-contributor text-white shadow-lg":"text-gray-500 hover:text-gray-300"}`,children:"Quizzes"}),y.jsx("button",{onClick:()=>o("team"),className:`text-[10px] uppercase tracking-widest px-4 py-2 rounded-lg font-black transition-all ${s==="team"?"bg-contributor text-white shadow-lg":"text-gray-500 hover:text-gray-300"}`,children:"Team"}),y.jsx("button",{onClick:()=>o("challenges"),className:`text-[10px] uppercase tracking-widest px-4 py-2 rounded-lg font-black transition-all ${s==="challenges"?"bg-contributor text-white shadow-lg":"text-gray-500 hover:text-gray-300"}`,children:"Challenges"}),y.jsx("button",{onClick:()=>o("profile"),className:`text-[10px] uppercase tracking-widest px-4 py-2 rounded-lg font-black transition-all ${s==="profile"?"bg-contributor text-white shadow-lg":"text-gray-500 hover:text-gray-300"}`,children:"Profile"})]})]}),y.jsxs("div",{className:"flex items-center gap-6",children:[y.jsxs("div",{className:"text-right hidden sm:block",children:[y.jsx("p",{className:"text-xs font-black uppercase text-accent",children:i.displayName}),y.jsx("p",{className:"text-[9px] text-gray-500 font-bold uppercase tracking-widest",children:"Contributor Mode"})]}),y.jsx("button",{onClick:e,className:"text-[10px] font-black text-gray-500 hover:text-red-400 uppercase tracking-widest transition-colors",children:"Sign Out"})]})]})}),y.jsxs("main",{className:"flex-grow max-w-7xl mx-auto w-full p-6 md:p-12",children:[s==="hdl"&&y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"flex justify-between items-end mb-12",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-4xl font-black tracking-tight",children:"IP Repository"}),y.jsx("p",{className:"text-gray-400 font-medium",children:"Manage your verified hardware description blocks."})]}),y.jsx("button",{onClick:()=>u(!0),className:"bg-contributor text-white px-8 py-3 rounded-2xl font-black text-sm hover:brightness-110 shadow-2xl shadow-contributor/20 transition-all flex items-center gap-2",children:"New Module"})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[ye?y.jsx("div",{className:"col-span-full py-40 text-center text-gray-500 font-bold animate-pulse",children:"Loading repository..."}):g.map(me=>y.jsxs("div",{className:"bg-gunmetal p-8 rounded-[32px] border border-white/5 hover:border-contributor/50 transition-all group cursor-default",children:[y.jsxs("div",{className:"flex justify-between items-start mb-6",children:[y.jsx("div",{className:"w-12 h-12 bg-contributor/10 rounded-2xl flex items-center justify-center text-contributor",children:y.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"})})}),y.jsx("span",{className:"text-[10px] font-black text-gray-600 uppercase tracking-widest border border-white/5 px-2 py-1 rounded-lg",children:me.type})]}),y.jsx("h3",{className:"text-xl font-bold mb-1",children:me.name}),y.jsxs("p",{className:"text-xs text-gray-500 mb-8 font-medium",children:[me.size,"  Verified ",me.date]}),y.jsx("div",{className:"flex gap-3",children:y.jsx("button",{onClick:()=>S(me),className:"flex-1 text-[10px] font-black uppercase tracking-widest py-3 bg-white/5 rounded-xl hover:bg-white/10 transition-colors",children:"Edit"})})]},me.id)),!ye&&g.length===0&&y.jsx("div",{className:"col-span-full py-40 text-center border-2 border-dashed border-white/5 rounded-[40px] text-gray-600 font-black uppercase tracking-widest text-xs",children:"Repository Empty. Initializing Required."})]})]}),s==="mcq"&&y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"flex justify-between items-end mb-12",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-4xl font-black tracking-tight",children:"Assessment Hub"}),y.jsx("p",{className:"text-gray-400 font-medium",children:"Curate digital logic challenges for learners."})]}),y.jsx("button",{onClick:()=>ve(),className:"bg-contributor text-white px-8 py-3 rounded-2xl font-black text-sm hover:brightness-110 shadow-2xl transition-all",children:"Add Question"})]}),y.jsxs("div",{className:"bg-gunmetal rounded-[40px] border border-white/5 overflow-hidden",children:[y.jsxs("table",{className:"w-full text-left text-sm",children:[y.jsx("thead",{className:"bg-white/5 uppercase text-[10px] font-black tracking-widest text-gray-500",children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-8 py-6",children:"ID"}),y.jsx("th",{className:"px-8 py-6",children:"Title"}),y.jsx("th",{className:"px-8 py-6",children:"Attempts"}),y.jsx("th",{className:"px-8 py-6",children:"Difficulty"}),y.jsx("th",{className:"px-8 py-6",children:"Created"}),y.jsx("th",{className:"px-8 py-6 text-right",children:"Actions"})]})}),y.jsx("tbody",{className:"divide-y divide-white/5",children:b.map(me=>y.jsxs("tr",{className:"hover:bg-white/2 transition-colors",children:[y.jsxs("td",{className:"px-8 py-6 font-mono text-gray-600",children:[me.id.slice(0,8),"..."]}),y.jsx("td",{className:"px-8 py-6 font-bold",children:me.title||me.text.slice(0,30)}),y.jsx("td",{className:"px-8 py-6",children:y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"font-black text-white",children:me.submissionCount}),y.jsx("button",{onClick:()=>hn(me.id),className:"text-[9px] uppercase font-bold text-contributor hover:underline",children:"View"})]})}),y.jsx("td",{className:"px-8 py-6",children:y.jsx("span",{className:"px-3 py-1 rounded-full bg-orange-500/10 text-orange-500 text-[10px] font-black uppercase tracking-widest border border-orange-500/20",children:me.difficulty})}),y.jsx("td",{className:"px-8 py-6 text-gray-500 font-medium",children:me.date}),y.jsx("td",{className:"px-8 py-6",children:y.jsxs("div",{className:"flex justify-end gap-6",children:[y.jsx("button",{onClick:()=>ve(me),className:"text-contributor hover:text-white font-black uppercase text-[10px] tracking-widest transition-colors",children:"Edit"}),y.jsx("button",{onClick:()=>rr(me.id),className:"text-red-500 hover:text-red-400 font-black uppercase text-[10px] tracking-widest transition-colors",children:"Delete"})]})})]},me.id))})]}),b.length===0&&y.jsx("div",{className:"p-20 text-center text-gray-600 font-black uppercase tracking-[0.2em] text-[10px]",children:"No Assessment data found."})]})]}),s==="team"&&y.jsxs("div",{className:"max-w-3xl mx-auto py-24 text-center",children:[y.jsx("div",{className:"w-24 h-24 bg-contributor/10 rounded-[32px] flex items-center justify-center mx-auto mb-10 text-contributor border border-contributor/20",children:y.jsx("svg",{className:"w-10 h-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})}),y.jsx("h2",{className:"text-3xl font-black tracking-tight mb-4",children:"Enterprise Controls"}),y.jsx("p",{className:"text-gray-400 font-medium mb-12 text-lg",children:"Manage faculty permissions and multi-user IP access."}),y.jsx("button",{className:"bg-white text-matte px-10 py-4 rounded-2xl font-black text-sm hover:scale-105 active:scale-95 transition-all",children:"Invite Engineer"})]}),s==="challenges"&&y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"flex justify-between items-end mb-12",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-4xl font-black tracking-tight",children:"Challenge Studio"}),y.jsx("p",{className:"text-gray-400 font-medium",children:"Create and manage hardware coding problems."})]}),y.jsx("button",{onClick:()=>xe(!0),className:"bg-contributor text-white px-8 py-3 rounded-2xl font-black text-sm hover:brightness-110 shadow-2xl transition-all",children:"Create Challenge"})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[te.map(me=>y.jsxs("div",{className:"bg-gunmetal p-8 rounded-[32px] border border-white/5 flex flex-col",children:[y.jsx("div",{className:"flex justify-between items-start mb-4",children:y.jsx("span",{className:`px-2 py-1 rounded text-[10px] font-black uppercase tracking-widest ${me.difficulty==="Easy"?"bg-green-500/10 text-green-500":me.difficulty==="Medium"?"bg-orange-500/10 text-orange-500":"bg-red-500/10 text-red-500"}`,children:me.difficulty})}),y.jsx("h3",{className:"text-xl font-bold mb-2",children:me.title}),y.jsx("p",{className:"text-gray-500 text-xs mb-6 line-clamp-3",children:me.description}),y.jsxs("div",{className:"mt-auto border-t border-white/5 pt-4 text-[10px] font-mono text-gray-500",children:["ID: ",me.id.substring(0,8)]})]},me.id)),te.length===0&&y.jsx("div",{className:"col-span-full py-40 text-center border-dashed border-2 border-white/5 rounded-[32px] text-gray-500 text-xs font-black uppercase tracking-widest",children:"No Challenges Created Yet"})]})]}),c&&y.jsx("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:y.jsxs("div",{className:"bg-gunmetal w-full max-w-lg rounded-[48px] p-12 border border-white/10 shadow-2xl transform animate-in zoom-in duration-300",children:[y.jsx("h3",{className:"text-3xl font-black tracking-tighter mb-8",children:D?"Update RTL":"Deploy RTL"}),y.jsxs("form",{onSubmit:ft,className:"space-y-6",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-gray-500",children:"Module Name"}),y.jsx("input",{name:"moduleName",required:!0,defaultValue:(rn=g.find(me=>me.id===D))==null?void 0:rn.name,className:"w-full bg-matte border border-white/10 rounded-2xl px-6 py-4 text-offwhite focus:border-contributor outline-none transition-colors font-medium",placeholder:"e.g. FIFO_Controller"})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-gray-500",children:"Target Language"}),y.jsxs("select",{name:"language",defaultValue:(((ut=g.find(me=>me.id===D))==null?void 0:ut.type)==="IP Config","Verilog"),className:"w-full bg-matte border border-white/10 rounded-2xl px-6 py-4 text-offwhite focus:border-contributor outline-none transition-colors appearance-none font-medium",children:[y.jsx("option",{value:"Verilog",children:"Verilog HDL"}),y.jsx("option",{value:"VHDL",children:"VHDL"}),y.jsx("option",{value:"SystemVerilog",children:"SystemVerilog"})]})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsxs("label",{className:"text-[10px] font-black uppercase tracking-widest text-gray-500",children:["Source Files (",ne.length,")"]}),y.jsxs("label",{className:"cursor-pointer text-[9px] font-black uppercase tracking-widest text-contributor hover:bg-contributor/10 px-2 py-1 rounded-md transition-all",children:[y.jsx("input",{type:"file",multiple:!0,accept:".v,.sv,.vhd,.txt",className:"hidden",onChange:Ht}),"+ Add Files"]})]}),y.jsx("div",{className:"w-full bg-matte border border-white/10 rounded-2xl px-2 py-2 min-h-[120px] max-h-[200px] overflow-y-auto",children:ne.length===0?y.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-600 space-y-2 py-8",children:[y.jsx("span",{className:"text-2xl",children:""}),y.jsx("span",{className:"text-xs font-bold uppercase tracking-widest",children:"No files uploaded"})]}):y.jsx("div",{className:"space-y-1",children:ne.map((me,Fe)=>y.jsxs("div",{className:"flex justify-between items-center bg-white/5 px-3 py-2 rounded-lg group",children:[y.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[y.jsx("span",{className:"text-xs",children:""}),y.jsx("span",{className:"text-xs font-medium text-offwhite truncate max-w-[200px]",children:me.name}),y.jsxs("span",{className:"text-[10px] text-gray-500",children:[(me.content.length/1024).toFixed(1)," KB"]})]}),y.jsx("button",{type:"button",onClick:()=>Ut(Fe),className:"text-gray-500 hover:text-red-500 transition-colors p-1",children:y.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},Fe))})})]}),y.jsxs("div",{className:"flex gap-4 pt-6",children:[y.jsx("button",{type:"button",onClick:()=>{u(!1),C(null),N(""),Z([])},className:"flex-1 py-4 text-xs font-black uppercase tracking-widest bg-white/5 rounded-2xl hover:bg-white/10 transition-colors",children:"Abort"}),y.jsx("button",{type:"submit",disabled:w,className:"flex-1 py-4 text-xs font-black uppercase tracking-widest bg-contributor text-white rounded-2xl shadow-xl shadow-contributor/20 active:scale-95 transition-all",children:w?"Processing...":D?"Update IP":"Deploy IP"})]})]})]})}),Se&&y.jsx("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:y.jsxs("div",{className:"bg-gunmetal w-full max-w-2xl rounded-[48px] p-12 border border-white/10 shadow-2xl overflow-y-auto max-h-[90vh] custom-scrollbar",children:[y.jsx("h3",{className:"text-3xl font-black tracking-tighter mb-8",children:"New Hardware Challenge"}),y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-gray-500",children:"Challenge Title"}),y.jsx("input",{value:Ne.title,onChange:me=>Ge({...Ne,title:me.target.value}),className:"w-full bg-matte border border-white/10 rounded-2xl px-6 py-4 text-offwhite focus:border-contributor outline-none text-lg font-bold"})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-gray-500",children:"Difficulty"}),y.jsx("div",{className:"flex gap-2",children:["Easy","Medium","Hard"].map(me=>y.jsx("button",{onClick:()=>Ge({...Ne,difficulty:me}),className:`flex-1 py-3 rounded-xl text-xs font-black uppercase tracking-widest border transition-all ${Ne.difficulty===me?"bg-contributor text-white border-contributor":"bg-matte text-gray-500 border-white/5"}`,children:me},me))})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-gray-500",children:"Description (Markdown)"}),y.jsx("textarea",{value:Ne.description,onChange:me=>Ge({...Ne,description:me.target.value}),className:"w-full h-32 bg-matte border border-white/10 rounded-2xl px-6 py-4 text-offwhite focus:border-contributor outline-none font-mono text-sm resize-none"})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-gray-500",children:"Boilerplate Code (Visible)"}),y.jsx("textarea",{value:Ne.initialCode,onChange:me=>Ge({...Ne,initialCode:me.target.value}),className:"w-full h-40 bg-[#1e1e1e] border border-white/10 rounded-2xl px-4 py-3 text-gray-300 font-mono text-xs resize-none",spellCheck:!1})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-contributor",children:"Verification Testbench (Hidden)"}),y.jsx("textarea",{value:Ne.testbench,onChange:me=>Ge({...Ne,testbench:me.target.value}),className:"w-full h-40 bg-[#1e1e1e] border border-white/10 rounded-2xl px-4 py-3 text-gray-300 font-mono text-xs resize-none",spellCheck:!1}),y.jsxs("p",{className:"text-[9px] text-gray-500",children:["Must include ",y.jsx("code",{className:"text-white",children:"$finish"})," and ",y.jsx("code",{className:"text-white",children:"$display"})," calls."]})]})]}),y.jsxs("div",{className:"flex gap-4 pt-6 border-t border-white/10",children:[y.jsx("button",{onClick:()=>xe(!1),className:"flex-1 py-4 text-xs font-black uppercase tracking-widest bg-white/5 rounded-2xl hover:bg-white/10",children:"Cancel"}),y.jsx("button",{onClick:jt,disabled:w,className:"flex-1 py-4 text-xs font-black uppercase tracking-widest bg-contributor text-white rounded-2xl shadow-xl shadow-contributor/20",children:w?"Creating...":"Launch Challenge"})]})]})]})}),f&&y.jsx("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:y.jsxs("div",{className:"bg-gunmetal w-full max-w-lg rounded-[48px] p-12 border border-white/10 shadow-2xl transform animate-in zoom-in duration-300",children:[y.jsx("h3",{className:"text-3xl font-black tracking-tighter mb-8",children:I?"Update Challenge":"New Assessment"}),y.jsx("h3",{className:"text-3xl font-black tracking-tighter mb-8",children:"Quiz Builder"}),y.jsxs("div",{className:"space-y-6 overflow-y-auto max-h-[70vh] custom-scrollbar pr-2",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-gray-500",children:"Quiz Title"}),y.jsx("input",{value:ce,onChange:me=>Q(me.target.value),className:"w-full bg-matte border border-white/10 rounded-2xl px-6 py-4 text-offwhite focus:border-contributor outline-none transition-colors font-bold text-lg",placeholder:"e.g. Verilog Finite State Machines"})]}),y.jsxs("div",{className:"flex justify-between items-center bg-white/5 p-4 rounded-xl border border-white/5 mb-4 mt-6",children:[y.jsxs("div",{children:[y.jsx("div",{className:"text-xs font-bold text-white mb-1",children:"Bulk Import"}),y.jsx("div",{className:"text-[10px] text-gray-500 uppercase tracking-widest",children:"Upload Excel file to import questions"})]}),y.jsxs("label",{className:"bg-purple-500 hover:bg-purple-600 text-white px-4 py-2 rounded-lg text-[10px] font-black uppercase tracking-widest cursor-pointer transition-colors shadow-lg shadow-purple-500/20",children:[w?"Processing...":"Upload Document",y.jsx("input",{type:"file",accept:".xlsx",className:"hidden",onChange:un,disabled:w})]})]}),y.jsxs("div",{className:"space-y-3",children:[y.jsxs("label",{className:"text-[10px] font-black uppercase tracking-widest text-gray-500",children:["Questions Added (",H.length,")"]}),H.map((me,Fe)=>y.jsxs("div",{className:"bg-matte/50 p-4 rounded-xl border border-white/5 flex justify-between items-center group",children:[y.jsxs("div",{children:[y.jsxs("div",{className:"text-xs font-bold text-white mb-1",children:["Q",Fe+1,". ",me.text.substring(0,40),me.text.length>40&&"..."]}),y.jsx("div",{className:"text-[9px] uppercase tracking-widest text-gray-500",children:me.difficulty})]}),y.jsx("button",{onClick:()=>q(H.filter((Et,Je)=>Je!==Fe)),className:"text-red-500 opacity-0 group-hover:opacity-100 transition-opacity",children:y.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},Fe)),H.length===0&&y.jsx("div",{className:"text-xs text-gray-600 italic text-center py-4 border border-dashed border-white/5 rounded-xl",children:"No questions added yet."})]}),y.jsxs("div",{className:"border-t border-white/10 pt-6",children:[y.jsx("h4",{className:"text-xs font-black uppercase tracking-widest text-contributor mb-4",children:"Add New Question"}),y.jsxs("div",{className:"space-y-4",children:[y.jsx("textarea",{value:se.text,onChange:me=>pe({...se,text:me.target.value}),className:"w-full h-24 bg-matte border border-white/10 rounded-2xl px-4 py-3 text-offwhite focus:border-contributor outline-none transition-colors resize-none text-xs",placeholder:"Question text..."}),y.jsx("div",{className:"flex gap-2",children:["Entry","Medium","Senior"].map(me=>y.jsx("button",{type:"button",onClick:()=>pe({...se,difficulty:me}),className:`flex-1 py-2 rounded-xl text-[9px] font-black uppercase tracking-widest border transition-all ${se.difficulty===me?"bg-contributor text-white border-contributor":"bg-matte text-gray-600 border-white/5"}`,children:me},me))}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-gray-500",children:"Options (Select Correct Answer)"}),se.options.map((me,Fe)=>y.jsxs("div",{className:"flex gap-2 items-center",children:[y.jsx("input",{type:"radio",name:"correctOption",checked:se.correct===Fe,onChange:()=>pe({...se,correct:Fe}),className:"appearance-none w-4 h-4 rounded-full border border-white/20 checked:bg-contributor checked:border-contributor cursor-pointer transition-all"}),y.jsx("input",{value:me,onChange:Et=>{const Je=[...se.options];Je[Fe]=Et.target.value,pe({...se,options:Je})},className:"flex-grow bg-matte border border-white/10 rounded-xl px-4 py-2 text-xs text-offwhite focus:border-contributor outline-none transition-colors",placeholder:`Option ${String.fromCharCode(65+Fe)}`})]},Fe))]}),y.jsx("button",{type:"button",onClick:Qe,disabled:!se.text||se.options.some(me=>!me),className:"w-full py-3 text-[10px] font-black uppercase tracking-widest bg-white/10 hover:bg-white/20 text-white rounded-xl transition-all disabled:opacity-50",children:"+ Add Question to Quiz"})]})]}),y.jsxs("div",{className:"flex gap-4 pt-6 border-t border-white/10",children:[y.jsx("button",{type:"button",onClick:()=>p(!1),className:"flex-1 py-4 text-xs font-black uppercase tracking-widest bg-white/5 rounded-2xl hover:bg-white/10 transition-colors",children:"Discard"}),y.jsx("button",{type:"button",onClick:nr,className:"flex-1 py-4 text-xs font-black uppercase tracking-widest bg-contributor text-white rounded-2xl shadow-xl shadow-contributor/20 hover:brightness-110 active:scale-95 transition-all",children:w?"Publishing...":"Publish Full Quiz"})]})]})]})}),V&&y.jsx("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:y.jsxs("div",{className:"bg-gunmetal w-full max-w-2xl rounded-[32px] p-8 border border-white/10 shadow-2xl h-[80vh] flex flex-col",children:[y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsx("h3",{className:"text-2xl font-black tracking-tight",children:"Quiz Submissions"}),y.jsx("button",{onClick:()=>G(!1),className:"bg-white/5 p-2 rounded-full hover:bg-white/10 transition-colors",children:y.jsx("svg",{className:"w-6 h-6 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),y.jsx("div",{className:"flex-grow overflow-auto",children:ge?y.jsx("div",{className:"text-center py-20 text-gray-500 font-bold animate-pulse",children:"Loading data..."}):y.jsxs("table",{className:"w-full text-left text-sm",children:[y.jsx("thead",{className:"bg-white/5 uppercase text-[10px] font-black tracking-widest text-gray-500 sticky top-0",children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-6 py-4",children:"Student"}),y.jsx("th",{className:"px-6 py-4",children:"Score"}),y.jsx("th",{className:"px-6 py-4 text-right",children:"Date"})]})}),y.jsx("tbody",{className:"divide-y divide-white/5",children:fe.length>0?fe.map((me,Fe)=>y.jsxs("tr",{className:"hover:bg-white/2",children:[y.jsx("td",{className:"px-6 py-4 font-bold text-white",children:me.userName||"Anonymous"}),y.jsx("td",{className:"px-6 py-4",children:y.jsxs("span",{className:`px-2 py-1 rounded-md text-[10px] font-black uppercase ${me.score===me.total?"bg-green-500/20 text-green-500":"bg-white/5 text-gray-400"}`,children:[me.score," / ",me.total]})}),y.jsx("td",{className:"px-6 py-4 text-gray-500 font-mono text-xs text-right",children:new Date(me.timestamp).toLocaleString()})]},Fe)):y.jsx("tr",{children:y.jsx("td",{colSpan:3,className:"px-6 py-12 text-center text-gray-600 font-bold uppercase tracking-widest text-xs",children:"No submissions yet."})})})]})})]})}),ee&&y.jsx("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:y.jsxs("div",{className:"bg-gunmetal w-full max-w-md rounded-[40px] p-10 border border-white/10 shadow-2xl transform animate-in zoom-in duration-300 text-center",children:[y.jsx("div",{className:"w-16 h-16 bg-red-500/10 text-red-500 rounded-2xl flex items-center justify-center mx-auto mb-6",children:y.jsx("svg",{className:"w-8 h-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}),y.jsx("h3",{className:"text-2xl font-black tracking-tight mb-2",children:"Confirm Deletion"}),y.jsx("p",{className:"text-gray-400 font-medium mb-8",children:"Are you sure you want to permanently remove this assessment item? This action cannot be undone."}),y.jsxs("div",{className:"flex gap-3",children:[y.jsx("button",{onClick:()=>Ce(null),className:"flex-1 py-3 text-[10px] font-black uppercase tracking-widest bg-white/5 rounded-xl hover:bg-white/10 transition-colors",children:"Cancel"}),y.jsx("button",{onClick:lt,className:"flex-1 py-3 text-[10px] font-black uppercase tracking-widest bg-red-500 text-white rounded-xl shadow-xl shadow-red-500/20 hover:brightness-110 transition-all",children:"Delete Forever"})]})]})}),s==="profile"&&y.jsx("div",{className:"max-w-6xl mx-auto py-8 text-offwhite animate-fade-in",children:y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-8",children:[y.jsx("div",{className:"md:col-span-4 lg:col-span-3 space-y-6",children:y.jsxs("div",{className:"bg-gunmetal rounded-[24px] border border-white/5 overflow-hidden shadow-2xl relative",children:[y.jsx("div",{className:"h-24 bg-gradient-to-br from-contributor to-emerald-900 relative",children:y.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:"linear-gradient(45deg, white 1px, transparent 0)",backgroundSize:"10px 10px"}})}),y.jsxs("div",{className:"px-6 pb-6 relative",children:[y.jsx("div",{className:"w-24 h-24 rounded-2xl bg-contributor border-4 border-gunmetal shadow-xl -mt-12 mb-4 flex items-center justify-center text-3xl select-none text-white",children:A!=null&&A.username?A.username[0].toUpperCase():"C"}),y.jsx("h2",{className:"text-xl font-black text-white tracking-tight mb-1",children:(A==null?void 0:A.username)||"Verified Sponsor"}),y.jsx("div",{className:"text-[10px] font-black uppercase tracking-widest text-gray-500 mb-4",children:"Enterprise Edition"}),y.jsxs("div",{className:"bg-white/5 rounded-xl p-3 border border-white/5 mb-6",children:[y.jsx("div",{className:"text-[9px] font-bold text-gray-400 uppercase tracking-widest mb-1",children:"Vendor Tier"}),y.jsx("div",{className:"text-lg font-black text-contributor",children:"Silicon Architect"}),y.jsx("div",{className:"text-[9px] text-gray-600 font-mono mt-1",children:"Level 4 Partner"})]}),y.jsxs("div",{className:"space-y-3 text-xs text-gray-400 font-medium",children:[y.jsxs("div",{className:"flex justify-between border-b border-white/5 pb-2",children:[y.jsx("span",{children:"Joined"}),y.jsx("span",{className:"text-white",children:"Mar 2026"})]}),y.jsxs("div",{className:"flex justify-between border-b border-white/5 pb-2",children:[y.jsx("span",{children:"IP License"}),y.jsx("span",{className:"text-white",children:"Open Source"})]})]})]})]})}),y.jsxs("div",{className:"md:col-span-8 lg:col-span-9 space-y-8",children:[y.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[y.jsxs("div",{className:"bg-gunmetal p-6 rounded-[24px] border border-white/5 relative overflow-hidden group",children:[y.jsx("div",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest mb-2",children:"Deployed Artifacts"}),y.jsx("div",{className:"text-3xl font-black text-white mb-1",children:((A==null?void 0:A.modules)||0)+((A==null?void 0:A.quizzes)||0)}),y.jsx("div",{className:"text-[10px] text-contributor font-bold",children:"Total Contributions"})]}),y.jsxs("div",{className:"bg-gunmetal p-6 rounded-[24px] border border-white/5 relative overflow-hidden group",children:[y.jsx("div",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest mb-2",children:"IP Cores"}),y.jsx("div",{className:"text-3xl font-black text-white mb-1",children:(A==null?void 0:A.modules)||0}),y.jsx("div",{className:"text-[10px] text-emerald-500 font-bold",children:"RTL Modules"})]}),y.jsxs("div",{className:"bg-gunmetal p-6 rounded-[24px] border border-white/5 relative overflow-hidden group",children:[y.jsx("div",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest mb-2",children:"Assessments"}),y.jsx("div",{className:"text-3xl font-black text-white mb-1",children:(A==null?void 0:A.quizzes)||0}),y.jsx("div",{className:"text-[10px] text-blue-500 font-bold",children:"Challenges Created"})]})]}),y.jsxs("div",{className:"bg-gunmetal p-8 rounded-[32px] border border-white/5",children:[y.jsxs("h3",{className:"text-lg font-black tracking-tight mb-6 flex items-center gap-2",children:[y.jsx("span",{className:"text-gray-500",children:"///"})," Latest IP Releases"]}),y.jsxs("div",{className:"space-y-4",children:[g.slice(0,3).map(me=>y.jsxs("div",{className:"flex items-center gap-4 p-4 bg-white/2 rounded-2xl hover:bg-white/5 transition-colors border border-white/5",children:[y.jsx("div",{className:"w-10 h-10 bg-contributor/10 rounded-lg flex items-center justify-center text-contributor",children:""}),y.jsxs("div",{className:"flex-grow",children:[y.jsx("div",{className:"text-sm font-bold text-white",children:me.name}),y.jsxs("div",{className:"text-[10px] text-gray-500 uppercase tracking-widest",children:[me.type,"  ",me.size]})]}),y.jsx("div",{className:"text-right",children:y.jsx("div",{className:"text-[10px] bg-white/10 px-2 py-1 rounded text-white font-mono",children:me.date})})]},me.id)),g.length===0&&y.jsx("div",{className:"text-gray-500 italic text-sm",children:"No recent uploads."})]})]})]})]})})]})]})},UT=({profile:i,onSignOut:e})=>{var Q,H;const n=Vo(),[s,o]=W.useState(()=>localStorage.getItem("learner_active_tab")||"modules");W.useEffect(()=>{localStorage.setItem("learner_active_tab",s)},[s]);const[c,u]=W.useState([]),[f,p]=W.useState(new Set),[g,_]=W.useState(null),[b,E]=W.useState([]),[w,k]=W.useState(0),[A,R]=W.useState(0),[I,P]=W.useState(!1),[z,Y]=W.useState(`// Implementation
module my_design(output a);
  assign a = 1;
endmodule`),[$,ie]=W.useState(`// Testbench
module tb;
  wire a;
  my_design uut(a);
  initial begin
    $monitor("Time=%0d a=%b", $time, a);
    #10 $finish;
  end
endmodule`),[j,M]=W.useState(""),[O,F]=W.useState(!1),[B,N]=W.useState(null),[D,C]=W.useState([]),[ne,Z]=W.useState(null),[ee,Ce]=W.useState("Verilog"),[ye,ke]=W.useState(!0),[V,G]=W.useState(""),[fe,de]=W.useState(""),[ge,Ie]=W.useState([]);W.useEffect(()=>{(async()=>{try{const se=localStorage.getItem("hdlbase_mock_session");if(!se)return;const pe=JSON.parse(se),Ee={Authorization:`Bearer ${pe.token||pe.uid}`};try{const xe=await(await fetch("https://hdlbase-backen.onrender.com/api/v1/users/stats",{headers:Ee})).json();xe.status==="success"&&N(xe.data)}catch(Se){console.error("Stats error",Se)}try{const xe=await(await fetch("https://hdlbase-backen.onrender.com/api/v1/modules",{headers:Ee})).json();xe.status==="success"&&C(xe.data)}catch(Se){console.error("Modules error",Se)}try{const xe=await(await fetch("https://hdlbase-backen.onrender.com/api/v1/quizzes",{headers:Ee})).json();xe.status==="success"&&u(xe.data)}catch(Se){console.error("Quizzes error",Se)}try{const xe=await(await fetch("https://hdlbase-backen.onrender.com/api/v1/challenges",{headers:Ee})).json();xe.status==="success"&&Ie(xe.data)}catch(Se){console.error("Challenges error",Se)}try{const xe=await(await fetch("https://hdlbase-backen.onrender.com/api/v1/quizzes/my-results",{headers:Ee})).json();if(xe.status==="success"){const Ne=new Set(xe.data.map(Ge=>Ge.quizId));p(Ne)}}catch(Se){console.warn("My-results error",Se)}}catch(se){console.error("Failed to setup learner dashboard",se)}finally{ke(!1)}})()},[]);const Pe=()=>{n("/dashboard")},Le=q=>{_(q),E(q.questions||[]),k(0),R(0),P(!1)},je=async q=>{let se=A;if(q===b[w].correct&&(se=A+1,R(se)),w+1<b.length)k(w+1);else{P(!0);try{const pe=localStorage.getItem("hdlbase_mock_session");if(pe){const te=JSON.parse(pe),Ee=te.token||te.uid,Se=await fetch("https://hdlbase-backen.onrender.com/api/v1/quizzes/results",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ee}`},body:JSON.stringify({score:se,total:b.length,details:`Quiz: ${(g==null?void 0:g.title)||"Unknown"}`,quizId:(g==null?void 0:g.id)||null})});if(!Se.ok){const Ge=await Se.json();console.warn("Result submission warning:",Ge)}const Ne=await(await fetch("https://hdlbase-backen.onrender.com/api/v1/users/stats",{headers:{Authorization:`Bearer ${Ee}`}})).json();Ne.status==="success"&&N(Ne.data),g!=null&&g.id&&p(Ge=>new Set(Ge).add(g.id))}}catch(pe){console.error("Failed to submit results",pe)}}},_t=q=>{Z(q),Ce("Verilog")},ft=async()=>{if(!ne)return;if(ne.files&&ne.files.length>0){const pe=new LT;ne.files.forEach(Ee=>pe.file(Ee.name,Ee.content));const te=await pe.generateAsync({type:"blob"});M_.saveAs(te,`${ne.name.replace(/\s+/g,"_")}.zip`),Z(null);return}if(!ne.code){alert("No code available to download.");return}let q=".v";switch(ee){case"VHDL":q=".vhd";break;case"SystemVerilog":q=".sv";break;default:q=".v"}const se=new Blob([ne.code],{type:"text/plain;charset=utf-8"});M_.saveAs(se,`${ne.name.replace(/\s+/g,"_")}${q}`),Z(null)},Ht=()=>{_(null),P(!1)},Ut=async()=>{F(!0),M(`Initializing simulation environment...
`);try{const q=localStorage.getItem("hdlbase_mock_session");if(!q){M("Error: No active session found. Please log in."),F(!1);return}const se=JSON.parse(q),pe=se.token||se.uid,te=await fetch("https://hdlbase-backen.onrender.com/api/v1/simulation/run",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${pe}`},body:JSON.stringify({code:z,testbenchCode:$,language:"Verilog"})}),Ee=await te.json();if(!te.ok)throw new Error(Ee.message||"Compilation failed");M(Se=>{var xe;return Se+(((xe=Ee.data)==null?void 0:xe.output)||"No output received.")})}catch(q){M(se=>se+`
[Error] ${q.message}`)}finally{F(!1)}},S=W.useRef(null),ve=W.useRef(null),ce=(q,se)=>{var Ee;const pe=(Ee=q.target.files)==null?void 0:Ee[0];if(!pe)return;const te=new FileReader;te.onload=Se=>{var Ne;const xe=(Ne=Se.target)==null?void 0:Ne.result;se(xe)},te.readAsText(pe),q.target.value=""};return y.jsxs("div",{className:"min-h-screen bg-matte text-offwhite flex flex-col",children:[y.jsx("nav",{className:"border-b border-white/5 bg-gunmetal/30 p-4 sticky top-0 backdrop-blur-md z-20",children:y.jsxs("div",{className:"max-w-7xl mx-auto flex justify-between items-center",children:[y.jsxs("div",{className:"flex items-center gap-10",children:[y.jsx("div",{onClick:Pe,className:"flex items-center cursor-pointer group",children:y.jsx("h1",{className:"text-xl font-black tracking-tighter",children:y.jsx("a",{href:"",className:"logo-text",children:y.jsx("img",{src:Eo,alt:"LOGO",className:"w-32 h-auto"})})})}),y.jsx("div",{className:"flex bg-white/5 p-1 rounded-xl",children:["modules","quiz","playground","progress","challenges"].map(q=>y.jsx("button",{onClick:()=>o(q),className:`text-[9px] px-4 py-2 rounded-lg font-black uppercase tracking-widest transition-all ${s===q?"bg-learner text-white shadow-lg":"text-gray-500 hover:text-gray-300"}`,children:q},q))})]}),y.jsxs("div",{className:"flex items-center gap-6",children:[y.jsxs("div",{className:"text-right hidden sm:block",children:[y.jsx("span",{className:"text-xs font-black uppercase text-accent block",children:i.displayName}),y.jsx("span",{className:"text-[9px] text-gray-500 font-bold uppercase tracking-widest",children:"Learner Mode"})]}),y.jsx("button",{onClick:e,className:"text-[10px] font-black text-gray-500 hover:text-white uppercase tracking-widest transition-colors",children:"Exit"})]})]})}),y.jsxs("main",{className:"flex-grow max-w-7xl mx-auto w-full p-6 md:p-12",children:[s==="modules"&&y.jsxs("div",{className:"space-y-12",children:[y.jsxs("header",{className:"flex flex-col md:flex-row justify-between items-end gap-6",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-4xl font-black tracking-tight mb-2",children:"Knowledge Base"}),y.jsx("p",{className:"text-gray-400 font-medium",children:"Download verified RTL building blocks for your student projects."})]}),y.jsxs("div",{className:"relative w-full md:w-96",children:[y.jsx("input",{type:"text",placeholder:"Search modules...",value:V,onChange:q=>G(q.target.value),className:"w-full bg-gunmetal border border-white/10 rounded-2xl px-6 py-4 pl-12 text-offwhite focus:border-learner outline-none transition-colors font-bold shadow-lg shadow-black/20"}),y.jsx("svg",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})]}),y.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:ye?y.jsx("div",{className:"col-span-full py-20 text-center text-gray-500 font-bold animate-pulse",children:"Loading modules..."}):D.filter(q=>q.name.toLowerCase().includes(V.toLowerCase())).length>0?D.filter(q=>q.name.toLowerCase().includes(V.toLowerCase())).map(q=>y.jsxs("div",{className:"bg-gunmetal p-8 rounded-[32px] border border-white/5 hover:border-learner/50 transition-all group animate-fade-in",children:[y.jsx("div",{className:"text-[10px] text-gray-600 mb-3 font-black uppercase tracking-widest",children:"Educational IP"}),y.jsx("h4",{className:"text-xl font-bold text-accent mb-8 group-hover:text-learner transition-colors",children:q.name}),y.jsx("button",{onClick:()=>_t(q),className:"w-full py-3 bg-white/5 text-[10px] font-black rounded-xl uppercase tracking-widest hover:bg-learner hover:text-white transition-all",children:"Download Source"})]},q.name)):y.jsxs("div",{className:"col-span-full py-20 text-center text-gray-500 font-bold border border-dashed border-white/5 rounded-3xl",children:['No modules found matching "',V,'".']})})]}),s==="quiz"&&y.jsx("section",{className:"max-w-7xl mx-auto",children:g?y.jsx("div",{className:"max-w-2xl mx-auto",children:I?y.jsxs("div",{className:"bg-gunmetal p-16 rounded-[48px] border border-white/10 text-center shadow-2xl animate-fade-in",children:[y.jsx("div",{className:"w-20 h-20 bg-learner/10 text-learner rounded-3xl flex items-center justify-center mx-auto mb-8",children:y.jsx("svg",{className:"w-10 h-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),y.jsx("h3",{className:"text-3xl font-black tracking-tighter mb-2",children:"Assessment Complete"}),y.jsxs("p",{className:"text-gray-400 mb-10 text-xl font-medium",children:["You scored ",y.jsx("span",{className:"text-learner font-black",children:A})," out of ",b.length]}),y.jsxs("div",{className:"flex gap-4 justify-center",children:[y.jsx("button",{onClick:()=>{k(0),R(0),P(!1)},className:"px-8 py-3 rounded-2xl font-bold text-sm border border-white/10 hover:bg-white/5 transition-all",children:"Retry"}),y.jsx("button",{onClick:Ht,className:"bg-learner text-white px-8 py-3 rounded-2xl font-black text-sm shadow-xl shadow-learner/20 hover:scale-105 transition-all",children:"Back to Quizzes"})]})]}):y.jsx("div",{className:"bg-gunmetal rounded-[48px] border border-white/10 overflow-hidden shadow-2xl animate-fade-in",children:y.jsxs("div",{className:"p-12",children:[y.jsxs("div",{className:"flex justify-between items-center mb-10",children:[y.jsxs("div",{className:"flex flex-col",children:[y.jsx("span",{className:"text-[10px] font-black text-learner uppercase tracking-widest mb-1",children:g.title}),y.jsxs("span",{className:"text-2xl font-black text-white",children:["Question ",w+1]})]}),y.jsxs("div",{className:"text-right",children:[y.jsx("span",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest block mb-1",children:"Progress"}),y.jsx("div",{className:"w-24 h-1 bg-white/10 rounded-full overflow-hidden",children:y.jsx("div",{className:"h-full bg-learner transition-all duration-500",style:{width:`${w/b.length*100}%`}})})]})]}),y.jsx("h3",{className:"text-xl font-medium mb-12 leading-relaxed text-gray-200",children:(Q=b[w])==null?void 0:Q.text}),y.jsx("div",{className:"space-y-4",children:(H=b[w])==null?void 0:H.options.map((q,se)=>y.jsxs("button",{onClick:()=>je(se),className:"w-full text-left p-6 rounded-2xl bg-matte border border-white/5 hover:border-learner/50 hover:bg-white/5 transition-all flex items-center gap-6 group active:scale-[0.98]",children:[y.jsx("span",{className:"w-10 h-10 rounded-xl bg-white/5 flex items-center justify-center font-black text-gray-600 group-hover:text-learner group-hover:bg-learner/10 transition-colors",children:String.fromCharCode(65+se)}),y.jsx("span",{className:"font-bold text-gray-400 group-hover:text-white transition-colors",children:q})]},se))})]})})}):y.jsxs("div",{children:[y.jsxs("div",{className:"mb-12 flex flex-col md:flex-row justify-between items-end gap-6",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-4xl font-black tracking-tight mb-2",children:"Available Quizzes"}),y.jsx("p",{className:"text-gray-400 font-medium",children:"Verify your skills with community-curated assessments."})]}),y.jsxs("div",{className:"relative w-full md:w-80",children:[y.jsx("input",{type:"text",placeholder:"Search quizzes...",value:fe,onChange:q=>de(q.target.value),className:"w-full bg-gunmetal border border-white/10 rounded-2xl px-6 py-4 pl-12 text-offwhite focus:border-learner outline-none transition-colors font-bold shadow-lg shadow-black/20"}),y.jsx("svg",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:c.filter(q=>q.title.toLowerCase().includes(fe.toLowerCase())).map(q=>{var se;return y.jsxs("div",{onClick:()=>Le(q),className:"bg-gunmetal p-8 rounded-[32px] border border-white/5 hover:border-learner/50 hover:bg-white/5 transition-all cursor-pointer group",children:[y.jsxs("div",{className:"text-[10px] text-gray-500 mb-4 font-black uppercase tracking-widest",children:[((se=q.questions)==null?void 0:se.length)||0," Questions"]}),y.jsx("h3",{className:"text-2xl font-bold mb-4 group-hover:text-learner transition-colors",children:q.title}),y.jsx("p",{className:"text-sm text-gray-400 mb-8 line-clamp-2",children:q.description}),y.jsx("div",{className:"flex justify-between items-center",children:f.has(q.id)?y.jsxs("div",{className:"flex gap-2",children:[y.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest bg-green-500/10 text-green-500 px-3 py-3 rounded-xl border border-green-500/20",children:"Done "}),y.jsx("button",{className:"text-[10px] font-black uppercase tracking-widest bg-white/5 text-gray-400 px-4 py-3 rounded-xl hover:bg-white/10 transition-all",children:"Retry"})]}):y.jsx("button",{className:"text-[10px] font-black uppercase tracking-widest bg-learner text-white px-6 py-3 rounded-xl shadow-lg shadow-learner/20 hover:scale-105 transition-all",children:"Start Quiz"})})]},q.id)})})]})}),s==="playground"&&y.jsxs("div",{className:"h-[70vh] flex flex-col",children:[y.jsxs("div",{className:"flex justify-between items-end mb-8",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"text-3xl font-black tracking-tight",children:"RTL Sandbox"}),y.jsx("p",{className:"text-gray-400 text-sm font-medium",children:"Draft and test logic blocks with real-time feedback."})]}),y.jsx("button",{onClick:Ut,disabled:O,className:"bg-learner text-white px-8 py-3 rounded-2xl font-black text-xs shadow-xl shadow-learner/20 hover:brightness-110 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:O?"Compiling...":"Compile & Test"})]}),y.jsxs("div",{className:"flex-grow flex flex-col gap-6",children:[y.jsxs("div",{className:"flex-grow grid grid-cols-1 lg:grid-cols-2 gap-6 min-h-[400px]",children:[y.jsxs("div",{className:"flex flex-col gap-2",children:[y.jsx("input",{type:"file",accept:".v,.sv,.txt",className:"hidden",ref:S,onChange:q=>ce(q,Y)}),y.jsxs("div",{className:"flex justify-between items-center px-2",children:[y.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-gray-500",children:"design.sv"}),y.jsxs("button",{onClick:()=>{var q;return(q=S.current)==null?void 0:q.click()},className:"text-[10px] font-bold text-learner hover:text-white uppercase tracking-widest transition-colors flex items-center gap-1",children:[y.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),"Upload"]})]}),y.jsx("textarea",{className:"w-full h-full bg-gunmetal border border-white/10 rounded-[20px] p-6 font-mono text-sm text-accent/80 focus:border-learner outline-none transition-all resize-none shadow-inner leading-relaxed overflow-auto",value:z,onChange:q=>Y(q.target.value),spellCheck:!1,placeholder:"// Design Code"})]}),y.jsxs("div",{className:"flex flex-col gap-2",children:[y.jsx("input",{type:"file",accept:".v,.sv,.txt",className:"hidden",ref:ve,onChange:q=>ce(q,ie)}),y.jsxs("div",{className:"flex justify-between items-center px-2",children:[y.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-gray-500",children:"testbench.sv"}),y.jsxs("button",{onClick:()=>{var q;return(q=ve.current)==null?void 0:q.click()},className:"text-[10px] font-bold text-learner hover:text-white uppercase tracking-widest transition-colors flex items-center gap-1",children:[y.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),"Upload"]})]}),y.jsx("textarea",{className:"w-full h-full bg-gunmetal border border-white/10 rounded-[20px] p-6 font-mono text-sm text-accent/80 focus:border-learner outline-none transition-all resize-none shadow-inner leading-relaxed overflow-auto",value:$,onChange:q=>ie(q.target.value),spellCheck:!1,placeholder:"// Testbench Code"})]})]}),y.jsxs("div",{className:"h-[200px] bg-black/40 border-t-2 border-white/5 p-0 flex flex-col",children:[y.jsxs("div",{className:"bg-white/5 px-6 py-2 flex items-center gap-2",children:[y.jsx("span",{className:"w-2 h-2 rounded-full bg-learner"}),y.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Console"})]}),y.jsx("div",{className:"flex-grow font-mono text-xs text-green-400/90 p-6 overflow-auto whitespace-pre-wrap font-medium",children:j||y.jsx("span",{className:"text-gray-600 opacity-50",children:"// Output will appear here after compilation..."})})]})]})]}),ne&&y.jsx("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:y.jsxs("div",{className:"bg-gunmetal w-full max-w-sm rounded-[32px] p-8 border border-white/10 shadow-2xl transform animate-in zoom-in duration-300",children:[y.jsx("h3",{className:"text-xl font-black tracking-tight mb-6",children:"Download Module"}),y.jsxs("div",{className:"space-y-4 mb-8",children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-gray-500 block mb-2",children:"Module"}),y.jsx("div",{className:"text-white font-bold",children:ne.name})]}),(!ne.files||ne.files.length===0)&&y.jsxs("div",{children:[y.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-gray-500 block mb-2",children:"Format"}),y.jsxs("select",{value:ee,onChange:q=>Ce(q.target.value),className:"w-full bg-matte border border-white/10 rounded-xl px-4 py-3 text-offwhite focus:border-learner outline-none transition-colors appearance-none font-bold text-sm",children:[y.jsx("option",{value:"Verilog",children:"Verilog (.v)"}),y.jsx("option",{value:"VHDL",children:"VHDL (.vhd)"}),y.jsx("option",{value:"SystemVerilog",children:"SystemVerilog (.sv)"})]})]}),ne.files&&ne.files.length>0&&y.jsxs("div",{className:"text-xs text-gray-400 font-bold bg-white/5 p-4 rounded-xl border border-white/5",children:[" Contains ",ne.files.length," source files. Will download as ZIP."]})]}),y.jsxs("div",{className:"flex gap-3",children:[y.jsx("button",{onClick:()=>Z(null),className:"flex-1 py-3 text-[10px] font-black uppercase tracking-widest bg-white/5 rounded-xl hover:bg-white/10 transition-colors",children:"Cancel"}),y.jsx("button",{onClick:ft,className:"flex-1 py-3 text-[10px] font-black uppercase tracking-widest bg-learner text-white rounded-xl shadow-xl shadow-learner/20 hover:brightness-110 transition-all",children:"Download"})]})]})}),s==="challenges"&&y.jsxs("div",{className:"max-w-6xl mx-auto py-8 text-offwhite animate-fade-in",children:[y.jsxs("div",{className:"mb-12",children:[y.jsx("h2",{className:"text-4xl font-black tracking-tight mb-2",children:"Hardware Challenges"}),y.jsx("p",{className:"text-gray-400 font-medium",children:"Solve Verilog problems and compete on the leaderboard."})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:ge.length>0?ge.map(q=>y.jsxs("div",{onClick:()=>n(`/challenge/${q.id}`),className:"bg-gunmetal p-8 rounded-[32px] border border-white/5 hover:border-learner/50 hover:bg-white/5 transition-all cursor-pointer group relative overflow-hidden",children:[y.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity text-6xl select-none grayscale group-hover:grayscale-0",children:q.difficulty==="Easy"?"":q.difficulty==="Medium"?"":""}),y.jsxs("div",{className:"relative z-10",children:[y.jsx("div",{className:`text-[10px] font-black uppercase tracking-widest mb-4 inline-block px-2 py-1 rounded ${q.difficulty==="Easy"?"bg-green-500/10 text-green-500":q.difficulty==="Medium"?"bg-orange-500/10 text-orange-500":"bg-red-500/10 text-red-500"}`,children:q.difficulty}),y.jsx("h3",{className:"text-2xl font-bold mb-4 group-hover:text-learner transition-colors text-white",children:q.title}),y.jsx("p",{className:"text-gray-400 text-sm mb-6 line-clamp-3",children:q.description}),y.jsxs("div",{className:"flex justify-between items-center text-xs font-bold text-gray-500",children:[y.jsx("span",{children:"Verilog"}),y.jsx("span",{className:"group-hover:translate-x-1 transition-transform text-white",children:"Solve "})]})]})]},q.id)):y.jsx("div",{className:"col-span-full text-center py-20 text-gray-500 border border-dashed border-white/10 rounded-[32px]",children:"No challenges available yet. Check back soon!"})})]}),s==="progress"&&y.jsx("div",{className:"max-w-6xl mx-auto py-8 text-offwhite animate-fade-in",children:y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-8",children:[y.jsxs("div",{className:"md:col-span-4 lg:col-span-3 space-y-6",children:[y.jsxs("div",{className:"bg-gunmetal rounded-[24px] border border-white/5 overflow-hidden shadow-2xl relative",children:[y.jsx("div",{className:"h-24 bg-gradient-to-br from-gray-800 to-black relative overflow-hidden",children:y.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:"radial-gradient(circle at 2px 2px, white 1px, transparent 0)",backgroundSize:"20px 20px"}})}),y.jsxs("div",{className:"px-6 pb-6 relative",children:[y.jsx("div",{className:"w-24 h-24 rounded-2xl bg-learner border-4 border-gunmetal shadow-xl -mt-12 mb-4 flex items-center justify-center text-3xl select-none",children:B!=null&&B.username?B.username[0].toUpperCase():"L"}),y.jsx("h2",{className:"text-xl font-black text-white tracking-tight mb-1",children:(B==null?void 0:B.username)||"Unknown Learner"}),y.jsx("div",{className:"text-[10px] font-black uppercase tracking-widest text-gray-500 mb-4",children:"Learner Profile"}),y.jsxs("div",{className:"bg-white/5 rounded-xl p-3 border border-white/5 mb-6",children:[y.jsx("div",{className:"text-[9px] font-bold text-gray-400 uppercase tracking-widest mb-1",children:"Rank"}),y.jsx("div",{className:"text-lg font-black text-learner",children:((B==null?void 0:B.solved)||0)<5?"Beginner":((B==null?void 0:B.solved)||0)<15?"Intermediate":"Advanced"}),y.jsx("div",{className:"text-[9px] text-gray-600 font-mono mt-1",children:((B==null?void 0:B.solved)||0)<5?"Level 1":((B==null?void 0:B.solved)||0)<15?"Level 5":"Level 10"})]}),y.jsxs("div",{className:"space-y-3 text-xs text-gray-400 font-medium",children:[y.jsxs("div",{className:"flex justify-between border-b border-white/5 pb-2",children:[y.jsx("span",{children:"Member Since"}),y.jsx("span",{className:"text-white",children:"Jan 2026"})]}),y.jsxs("div",{className:"flex justify-between border-b border-white/5 pb-2",children:[y.jsx("span",{children:"Last Active"}),y.jsx("span",{className:"text-white",children:"Today"})]}),y.jsxs("div",{className:"flex justify-between border-b border-white/5 pb-2",children:[y.jsx("span",{children:"Status"}),y.jsx("span",{className:"text-green-500",children:"Online"})]})]})]})]}),y.jsxs("div",{className:"bg-gunmetal rounded-[24px] border border-white/5 p-6",children:[y.jsx("h4",{className:"text-[10px] font-black uppercase tracking-widest text-gray-500 mb-4",children:"Achievements"}),y.jsxs("div",{className:"flex flex-wrap gap-2",children:[((B==null?void 0:B.solved)||0)>0?y.jsx("span",{className:"w-8 h-8 bg-learner/20 rounded-lg flex items-center justify-center text-lg border border-learner/30 grayscale-0",title:"First Solved",children:""}):y.jsx("span",{className:"w-8 h-8 bg-white/5 rounded-lg flex items-center justify-center text-lg border border-white/5 grayscale opacity-50",title:"First Solved (Locked)",children:""}),((B==null?void 0:B.accuracy)||0)>80?y.jsx("span",{className:"w-8 h-8 bg-blue-500/20 rounded-lg flex items-center justify-center text-lg border border-blue-500/30",title:"High Accuracy",children:""}):y.jsx("span",{className:"w-8 h-8 bg-white/5 rounded-lg flex items-center justify-center text-lg border border-white/5 grayscale opacity-50",title:"High Accuracy (Locked)",children:""}),((B==null?void 0:B.solved)||0)>10?y.jsx("span",{className:"w-8 h-8 bg-orange-500/20 rounded-lg flex items-center justify-center text-lg border border-orange-500/30",title:"Consistent Learner",children:""}):y.jsx("span",{className:"w-8 h-8 bg-white/5 rounded-lg flex items-center justify-center text-lg border border-white/5 grayscale opacity-50",title:"Consistent Learner (Locked)",children:""})]})]})]}),y.jsxs("div",{className:"md:col-span-8 lg:col-span-9 space-y-8",children:[y.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[y.jsxs("div",{className:"bg-gunmetal p-6 rounded-[24px] border border-white/5 relative overflow-hidden group",children:[y.jsx("div",{className:"absolute right-0 top-0 w-24 h-24 bg-learner/5 rounded-bl-full -mr-4 -mt-4 transition-transform group-hover:scale-110"}),y.jsx("div",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest mb-2",children:"Honor Points"}),y.jsx("div",{className:"text-3xl font-black text-white mb-1",children:((B==null?void 0:B.solved)||0)*150+((B==null?void 0:B.accuracy)||0)*10}),y.jsx("div",{className:"text-[10px] text-learner font-bold",children:"Total Score"})]}),y.jsxs("div",{className:"bg-gunmetal p-6 rounded-[24px] border border-white/5 relative overflow-hidden group",children:[y.jsx("div",{className:"absolute right-0 top-0 w-24 h-24 bg-blue-500/5 rounded-bl-full -mr-4 -mt-4 transition-transform group-hover:scale-110"}),y.jsx("div",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest mb-2",children:"Challenges Solved"}),y.jsx("div",{className:"text-3xl font-black text-white mb-1",children:(B==null?void 0:B.solved)||0}),y.jsx("div",{className:"text-[10px] text-blue-500 font-bold",children:"Problems Completed"})]}),y.jsxs("div",{className:"bg-gunmetal p-6 rounded-[24px] border border-white/5 relative overflow-hidden group",children:[y.jsx("div",{className:"absolute right-0 top-0 w-24 h-24 bg-purple-500/5 rounded-bl-full -mr-4 -mt-4 transition-transform group-hover:scale-110"}),y.jsx("div",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest mb-2",children:"Accuracy"}),y.jsxs("div",{className:"text-3xl font-black text-white mb-1",children:[(B==null?void 0:B.accuracy)||0,"%"]}),y.jsx("div",{className:"text-[10px] text-purple-500 font-bold",children:"Success Rate"})]})]}),y.jsxs("div",{className:"bg-gunmetal p-8 rounded-[32px] border border-white/5",children:[y.jsxs("h3",{className:"text-lg font-black tracking-tight mb-6 flex items-center gap-2",children:[y.jsx("span",{className:"text-gray-500",children:"///"})," Recent Activity"]}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"flex items-center gap-4 p-4 bg-white/2 rounded-2xl hover:bg-white/5 transition-colors border border-white/5",children:[y.jsx("div",{className:"text-2xl opacity-50",children:""}),y.jsxs("div",{className:"flex-grow",children:[y.jsx("div",{className:"text-sm font-bold text-white",children:"Visited Knowledge Base"}),y.jsx("div",{className:"text-[10px] text-gray-500 uppercase tracking-widest",children:"Studying"})]}),y.jsxs("div",{className:"text-right",children:[y.jsx("div",{className:"text-xs font-black text-blue-500",children:"VIEW"}),y.jsx("div",{className:"text-[10px] text-gray-600",children:"Just now"})]})]}),((B==null?void 0:B.solved)||0)>0&&y.jsxs("div",{className:"flex items-center gap-4 p-4 bg-white/2 rounded-2xl hover:bg-white/5 transition-colors border border-white/5",children:[y.jsx("div",{className:"text-2xl opacity-50",children:""}),y.jsxs("div",{className:"flex-grow",children:[y.jsx("div",{className:"text-sm font-bold text-white",children:"Solved a Challenge"}),y.jsx("div",{className:"text-[10px] text-gray-500 uppercase tracking-widest",children:"Progress Update"})]}),y.jsxs("div",{className:"text-right",children:[y.jsx("div",{className:"text-xs font-black text-green-500",children:"+150 XP"}),y.jsx("div",{className:"text-[10px] text-gray-600",children:"Recently"})]})]})]})]})]})]})})]})]})},BT=({onLoginSuccess:i})=>{const[e,n]=W.useState(""),[s,o]=W.useState(""),[c,u]=W.useState(""),[f,p]=W.useState(""),[g,_]=W.useState(!1),[b,E]=W.useState(!1),[w,k]=W.useState(gn.LEARNER),[A,R]=W.useState(!1),I=async z=>{if(z.preventDefault(),c!==f){alert("Passwords do not match!");return}R(!0);try{const{createUserWithEmailAndPassword:Y,updateProfile:$}=await Nr(async()=>{const{createUserWithEmailAndPassword:ne,updateProfile:Z}=await Promise.resolve().then(()=>wh);return{createUserWithEmailAndPassword:ne,updateProfile:Z}},void 0),{doc:ie,setDoc:j}=await Nr(async()=>{const{doc:ne,setDoc:Z}=await Promise.resolve().then(()=>Zm);return{doc:ne,setDoc:Z}},void 0),{auth:M,db:O}=await Nr(async()=>{const{auth:ne,db:Z}=await Promise.resolve().then(()=>Mh);return{auth:ne,db:Z}},void 0),B=(await Y(M,e,c)).user,N=s||`user_${Date.now()}`;await $(B,{displayName:N});const D=ie(O,"users",B.uid),C={uid:B.uid,email:B.email||"",role:w,displayName:N,username:N.toLowerCase().replace(/\s+/g,"_"),category:w===gn.CONTRIBUTOR?"HDL Designer":"Learner"};await j(D,C)}catch(Y){console.error("Signup Error:",Y),alert("Signup failed: "+Y.message),R(!1)}},P=async()=>{R(!0);try{const{signInWithPopup:z}=await Nr(async()=>{const{signInWithPopup:C}=await Promise.resolve().then(()=>wh);return{signInWithPopup:C}},void 0),{doc:Y,setDoc:$,getDoc:ie}=await Nr(async()=>{const{doc:C,setDoc:ne,getDoc:Z}=await Promise.resolve().then(()=>Zm);return{doc:C,setDoc:ne,getDoc:Z}},void 0),{auth:j,googleProvider:M,db:O}=await Nr(async()=>{const{auth:C,googleProvider:ne,db:Z}=await Promise.resolve().then(()=>Mh);return{auth:C,googleProvider:ne,db:Z}},void 0),B=(await z(j,M)).user,N=Y(O,"users",B.uid);if(!(await ie(N)).exists()){const C={uid:B.uid,email:B.email||"",role:w,displayName:B.displayName||"User",username:(B.displayName||"User").toLowerCase().replace(/\s+/g,"_"),category:w===gn.CONTRIBUTOR?"HDL Designer":"Learner"};await $(N,C)}}catch(z){console.error("Google Login Error:",z),alert("Google Login failed: "+z.message),R(!1)}};return y.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 bg-matte relative overflow-hidden",children:[y.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-contributor/10 rounded-full blur-[120px]"}),y.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-learner/10 rounded-full blur-[120px]"}),y.jsxs("div",{className:"w-full max-w-md frosted-glass rounded-2xl p-8 shadow-2xl z-10",children:[y.jsxs("div",{className:"text-center mb-8",children:[y.jsx("h1",{className:"text-4xl font-black tracking-tighter text-accent mb-1",children:y.jsx(bs,{to:"/",className:"logo-text",children:y.jsx("img",{src:Eo,alt:"LOGO",className:"w-32 h-auto mx-auto block"})})}),y.jsx("p",{className:"text-gray-400 text-xs font-bold uppercase tracking-widest",children:"Create New Account"})]}),y.jsxs("div",{className:"space-y-6",children:[y.jsxs("form",{onSubmit:I,className:"space-y-4",children:[y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Username"}),y.jsx("input",{type:"text",required:!0,className:"w-full bg-gunmetal/50 border border-white/10 rounded-xl px-4 py-3 focus:outline-none focus:border-accent transition-colors text-offwhite font-medium",placeholder:"chip_wizard",value:s,onChange:z=>o(z.target.value)})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Email Address"}),y.jsx("input",{type:"email",required:!0,className:"w-full bg-gunmetal/50 border border-white/10 rounded-xl px-4 py-3 focus:outline-none focus:border-accent transition-colors text-offwhite font-medium",placeholder:"engineer@chipcrafters.com",value:e,onChange:z=>n(z.target.value)})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Password"}),y.jsxs("div",{className:"relative",children:[y.jsx("input",{type:g?"text":"password",required:!0,className:"w-full bg-gunmetal/50 border border-white/10 rounded-xl px-4 py-3 focus:outline-none focus:border-accent transition-colors text-offwhite font-medium pr-10",placeholder:"",value:c,onChange:z=>u(z.target.value)}),y.jsx("button",{type:"button",onClick:()=>_(!g),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white transition-colors",children:g?y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Confirm Password"}),y.jsxs("div",{className:"relative",children:[y.jsx("input",{type:b?"text":"password",required:!0,className:"w-full bg-gunmetal/50 border border-white/10 rounded-xl px-4 py-3 focus:outline-none focus:border-accent transition-colors text-offwhite font-medium pr-10",placeholder:"",value:f,onChange:z=>p(z.target.value)}),y.jsx("button",{type:"button",onClick:()=>E(!b),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white transition-colors",children:b?y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Select Role"}),y.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[y.jsx("button",{type:"button",onClick:()=>k(gn.CONTRIBUTOR),className:`py-2 px-4 rounded-xl border text-[10px] font-black uppercase tracking-widest transition-all ${w===gn.CONTRIBUTOR?"bg-contributor/20 border-contributor text-contributor":"bg-gunmetal border-white/5 text-gray-600"}`,children:"Contributor"}),y.jsx("button",{type:"button",onClick:()=>k(gn.LEARNER),className:`py-2 px-4 rounded-xl border text-[10px] font-black uppercase tracking-widest transition-all ${w===gn.LEARNER?"bg-learner/20 border-learner text-learner":"bg-gunmetal border-white/5 text-gray-600"}`,children:"Learner"})]})]}),y.jsx("button",{type:"submit",disabled:A,className:"w-full bg-accent text-matte font-black py-4 rounded-xl hover:scale-[1.02] active:scale-[0.98] transition-all disabled:opacity-50 shadow-2xl shadow-white/5 uppercase text-xs tracking-widest",children:A?"Processing...":"Sign Up"})]}),y.jsxs("div",{className:"relative flex items-center py-2",children:[y.jsx("div",{className:"flex-grow border-t border-white/10"}),y.jsx("span",{className:"flex-shrink mx-4 text-gray-500 text-[9px] uppercase font-black tracking-widest",children:"Or Continue With"}),y.jsx("div",{className:"flex-grow border-t border-white/10"})]}),y.jsxs("button",{onClick:P,className:"w-full bg-white text-gray-800 font-bold py-4 rounded-xl hover:scale-[1.02] active:scale-[0.98] transition-all shadow-2xl flex items-center justify-center gap-3",children:[y.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[y.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),y.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),y.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.84z",fill:"#FBBC05"}),y.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),y.jsx("span",{className:"text-xs uppercase tracking-widest",children:"Google Direct Login"})]}),y.jsxs("div",{className:"flex items-center justify-center gap-2 mt-4",children:[y.jsx("p",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-widest",children:"Already have an account?"}),y.jsx(bs,{to:"/login",className:"text-[10px] text-accent font-black uppercase tracking-widest hover:underline",children:"Log In"})]})]})]})]})},FT=()=>{const{id:i}=M2(),e=Vo(),[n,s]=W.useState(null),[o,c]=W.useState(""),[u,f]=W.useState(""),[p,g]=W.useState(!1),[_,b]=W.useState(!0);W.useEffect(()=>{(async()=>{try{const k=localStorage.getItem("hdlbase_mock_session"),A=k?JSON.parse(k):{},R=A.token||A.uid;if(!i)return;const P=await(await fetch(`https://hdlbase-backen.onrender.com/api/v1/challenges/${i}`,{headers:{Authorization:`Bearer ${R}`}})).json();P.status==="success"?(s(P.data),c(P.data.initialCode)):f(`Error loading challenge: ${P.message}`)}catch(k){f(`Error: ${k.message}`)}finally{b(!1)}})()},[i]);const E=async()=>{if(n){g(!0),f("Compiling and Simulating...");try{const w=localStorage.getItem("hdlbase_mock_session"),k=w?JSON.parse(w):{},A=k.token||k.uid,R={code:o,testbenchCode:n.testbench||"// No Testbench Found",language:"Verilog"},P=await(await fetch("https://hdlbase-backen.onrender.com/api/v1/simulation/run",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${A}`},body:JSON.stringify(R)})).json();P.status==="success"?f(P.data.output):f(`Simulation Request Failed: ${P.message}`)}catch(w){f(`Error: ${w.message}`)}finally{g(!1)}}};return _?y.jsx("div",{className:"bg-gunmetal min-h-screen text-white flex items-center justify-center",children:"Loading Challenge..."}):n?y.jsxs("div",{className:"flex flex-col h-screen bg-gunmetal text-white font-sans overflow-hidden",children:[y.jsxs("header",{className:"h-16 border-b border-white/10 flex items-center justify-between px-6 bg-matte",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("button",{onClick:()=>e(-1),className:"text-gray-400 hover:text-white transition-colors",children:" Exit"}),y.jsx("h1",{className:"font-bold text-lg tracking-tight",children:n.title}),y.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-black uppercase tracking-widest ${n.difficulty==="Easy"?"bg-green-500/20 text-green-500":n.difficulty==="Medium"?"bg-orange-500/20 text-orange-500":"bg-red-500/20 text-red-500"}`,children:n.difficulty})]}),y.jsx("div",{className:"flex items-center gap-4",children:y.jsx("button",{onClick:E,disabled:p,className:`px-6 py-2 rounded-lg font-bold text-sm uppercase tracking-wider transition-all shadow-lg ${p?"bg-gray-600 cursor-not-allowed":"bg-learner hover:bg-learner/80 text-white shadow-learner/20"}`,children:p?"Running...":"Run Simulation"})})]}),y.jsxs("div",{className:"flex-grow flex flex-col md:flex-row overflow-hidden",children:[y.jsx("div",{className:"w-full md:w-5/12 border-r border-white/10 flex flex-col bg-matte/50",children:y.jsx("div",{className:"p-6 overflow-y-auto flex-grow prose prose-invert max-w-none",children:y.jsx("div",{className:"text-sm text-gray-300 whitespace-pre-wrap leading-relaxed",children:n.description})})}),y.jsxs("div",{className:"w-full md:w-7/12 flex flex-col bg-gunmetal",children:[y.jsxs("div",{className:"flex-grow flex flex-col border-b border-white/10",children:[y.jsxs("div",{className:"px-4 py-2 bg-white/5 text-[10px] font-black uppercase tracking-widest text-gray-500 border-b border-white/5 flex justify-between",children:[y.jsx("span",{children:"Design.v (Verilog)"}),y.jsx("span",{children:"Editor Mode"})]}),y.jsx("textarea",{value:o,onChange:w=>c(w.target.value),className:"flex-grow w-full bg-[#1e1e1e] text-gray-300 font-mono text-sm p-4 outline-none resize-none",spellCheck:!1})]}),y.jsxs("div",{className:"h-1/3 flex flex-col bg-[#0d1117]",children:[y.jsx("div",{className:"px-4 py-2 bg-white/5 text-[10px] font-black uppercase tracking-widest text-gray-500 border-b border-white/5",children:"Simulation Console"}),y.jsx("pre",{className:"flex-grow p-4 font-mono text-xs text-green-400 overflow-y-auto whitespace-pre-wrap",children:u||"// Ready to simulate..."})]})]})]})]}):y.jsx("div",{className:"bg-gunmetal min-h-screen text-white flex items-center justify-center",children:"Challenge not found."})},HT=()=>{};var L_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},qT=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=i[n++];e[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=i[n++],u=i[n++],f=i[n++],p=((o&7)<<18|(c&63)<<12|(u&63)<<6|f&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const c=i[n++],u=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|u&63)}}return e.join("")},Sb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const c=i[o],u=o+1<i.length,f=u?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,_=c>>2,b=(c&3)<<4|f>>4;let E=(f&15)<<2|g>>6,w=g&63;p||(w=64,u||(E=64)),s.push(n[_],n[b],n[E],n[w])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(Tb(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):qT(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const c=n[i.charAt(o++)],f=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const b=o<i.length?n[i.charAt(o)]:64;if(++o,c==null||f==null||g==null||b==null)throw new GT;const E=c<<2|f>>4;if(s.push(E),g!==64){const w=f<<4&240|g>>2;if(s.push(w),b!==64){const k=g<<6&192|b;s.push(k)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class GT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const QT=function(i){const e=Tb(i);return Sb.encodeByteArray(e,!0)},mh=function(i){return QT(i).replace(/\./g,"")},Ab=function(i){try{return Sb.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT=()=>KT().__FIREBASE_DEFAULTS__,$T=()=>{if(typeof process>"u"||typeof L_>"u")return;const i=L_.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},XT=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&Ab(i[1]);return e&&JSON.parse(e)},Ph=()=>{try{return HT()||YT()||$T()||XT()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},Cb=i=>{var e,n;return(n=(e=Ph())==null?void 0:e.emulatorHosts)==null?void 0:n[i]},WT=i=>{const e=Cb(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Rb=()=>{var i;return(i=Ph())==null?void 0:i.config},Nb=i=>{var e;return(e=Ph())==null?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Po(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function kb(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JT(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...i};return[mh(JSON.stringify(n)),mh(JSON.stringify(u)),""].join(".")}const Zl={};function eS(){const i={prod:[],emulator:[]};for(const e of Object.keys(Zl))Zl[e]?i.emulator.push(e):i.prod.push(e);return i}function tS(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let V_=!1;function Ib(i,e){if(typeof window>"u"||typeof document>"u"||!Po(window.location.host)||Zl[i]===e||Zl[i]||V_)return;Zl[i]=e;function n(E){return`__firebase__banner__${E}`}const s="__firebase__banner",c=eS().prod.length>0;function u(){const E=document.getElementById(s);E&&E.remove()}function f(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function p(E,w){E.setAttribute("width","24"),E.setAttribute("id",w),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function g(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{V_=!0,u()},E}function _(E,w){E.setAttribute("id",w),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function b(){const E=tS(s),w=n("text"),k=document.getElementById(w)||document.createElement("span"),A=n("learnmore"),R=document.getElementById(A)||document.createElement("a"),I=n("preprendIcon"),P=document.getElementById(I)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const z=E.element;f(z),_(R,A);const Y=g();p(P,I),z.append(P,k,R,Y),document.body.appendChild(z)}c?(k.innerText="Preview backend disconnected.",P.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(P.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(kn())}function rS(){var e;const i=(e=Ph())==null?void 0:e.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function iS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function sS(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function aS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function oS(){const i=kn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function lS(){return!rS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function cS(){try{return typeof indexedDB=="object"}catch{return!1}}function uS(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var c;e(((c=o.error)==null?void 0:c.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hS="FirebaseError";class Pi extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=hS,Object.setPrototypeOf(this,Pi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mc.prototype.create)}}class mc{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,c=this.errors[e],u=c?dS(c,s):"Error",f=`${this.serviceName}: ${u} (${o}).`;return new Pi(o,f,s)}}function dS(i,e){return i.replace(fS,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const fS=/\{\$([^}]+)}/g;function mS(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function ma(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const c=i[o],u=e[o];if(P_(c)&&P_(u)){if(!ma(c,u))return!1}else if(c!==u)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function P_(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pc(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Kl(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,c]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function Yl(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function pS(i,e){const n=new gS(i,e);return n.subscribe.bind(n)}class gS{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");yS(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=dm),o.error===void 0&&(o.error=dm),o.complete===void 0&&(o.complete=dm);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function yS(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function dm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function er(i){return i&&i._delegate?i._delegate:i}class pa{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new ZT;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(bS(e))try{this.getOrInitializeService({instanceIdentifier:ha})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(e=ha){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ha){return this.instances.has(e)}getOptions(e=ha){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(c);s===f&&u.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const c=this.instances.get(s);return c&&e(c,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:vS(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ha){return this.component?this.component.multipleInstances?e:ha:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vS(i){return i===ha?void 0:i}function bS(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new _S(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var st;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(st||(st={}));const wS={debug:st.DEBUG,verbose:st.VERBOSE,info:st.INFO,warn:st.WARN,error:st.ERROR,silent:st.SILENT},ES=st.INFO,TS={[st.DEBUG]:"log",[st.VERBOSE]:"log",[st.INFO]:"info",[st.WARN]:"warn",[st.ERROR]:"error"},SS=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=TS[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class cp{constructor(e){this.name=e,this._logLevel=ES,this._logHandler=SS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in st))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?wS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,st.DEBUG,...e),this._logHandler(this,st.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,st.VERBOSE,...e),this._logHandler(this,st.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,st.INFO,...e),this._logHandler(this,st.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,st.WARN,...e),this._logHandler(this,st.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,st.ERROR,...e),this._logHandler(this,st.ERROR,...e)}}const AS=(i,e)=>e.some(n=>i instanceof n);let z_,U_;function CS(){return z_||(z_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function RS(){return U_||(U_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Db=new WeakMap,Am=new WeakMap,Ob=new WeakMap,fm=new WeakMap,up=new WeakMap;function NS(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",c),i.removeEventListener("error",u)},c=()=>{n(xs(i.result)),o()},u=()=>{s(i.error),o()};i.addEventListener("success",c),i.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&Db.set(n,i)}).catch(()=>{}),up.set(e,i),e}function kS(i){if(Am.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",u),i.removeEventListener("abort",u)},c=()=>{n(),o()},u=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",c),i.addEventListener("error",u),i.addEventListener("abort",u)});Am.set(i,e)}let Cm={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Am.get(i);if(e==="objectStoreNames")return i.objectStoreNames||Ob.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xs(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function IS(i){Cm=i(Cm)}function DS(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(mm(this),e,...n);return Ob.set(s,e.sort?e.sort():[e]),xs(s)}:RS().includes(i)?function(...e){return i.apply(mm(this),e),xs(Db.get(this))}:function(...e){return xs(i.apply(mm(this),e))}}function OS(i){return typeof i=="function"?DS(i):(i instanceof IDBTransaction&&kS(i),AS(i,CS())?new Proxy(i,Cm):i)}function xs(i){if(i instanceof IDBRequest)return NS(i);if(fm.has(i))return fm.get(i);const e=OS(i);return e!==i&&(fm.set(i,e),up.set(e,i)),e}const mm=i=>up.get(i);function jS(i,e,{blocked:n,upgrade:s,blocking:o,terminated:c}={}){const u=indexedDB.open(i,e),f=xs(u);return s&&u.addEventListener("upgradeneeded",p=>{s(xs(u.result),p.oldVersion,p.newVersion,xs(u.transaction),p)}),n&&u.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),f.then(p=>{c&&p.addEventListener("close",()=>c()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),f}const MS=["get","getKey","getAll","getAllKeys","count"],LS=["put","add","delete","clear"],pm=new Map;function B_(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(pm.get(e))return pm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=LS.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||MS.includes(n)))return;const c=async function(u,...f){const p=this.transaction(u,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(f.shift())),(await Promise.all([g[n](...f),o&&p.done]))[0]};return pm.set(e,c),c}IS(i=>({...i,get:(e,n,s)=>B_(e,n)||i.get(e,n,s),has:(e,n)=>!!B_(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(PS(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function PS(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Rm="@firebase/app",F_="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ji=new cp("@firebase/app"),zS="@firebase/app-compat",US="@firebase/analytics-compat",BS="@firebase/analytics",FS="@firebase/app-check-compat",HS="@firebase/app-check",qS="@firebase/auth",GS="@firebase/auth-compat",QS="@firebase/database",KS="@firebase/data-connect",YS="@firebase/database-compat",$S="@firebase/functions",XS="@firebase/functions-compat",WS="@firebase/installations",ZS="@firebase/installations-compat",JS="@firebase/messaging",eA="@firebase/messaging-compat",tA="@firebase/performance",nA="@firebase/performance-compat",rA="@firebase/remote-config",iA="@firebase/remote-config-compat",sA="@firebase/storage",aA="@firebase/storage-compat",oA="@firebase/firestore",lA="@firebase/ai",cA="@firebase/firestore-compat",uA="firebase",hA="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm="[DEFAULT]",dA={[Rm]:"fire-core",[zS]:"fire-core-compat",[BS]:"fire-analytics",[US]:"fire-analytics-compat",[HS]:"fire-app-check",[FS]:"fire-app-check-compat",[qS]:"fire-auth",[GS]:"fire-auth-compat",[QS]:"fire-rtdb",[KS]:"fire-data-connect",[YS]:"fire-rtdb-compat",[$S]:"fire-fn",[XS]:"fire-fn-compat",[WS]:"fire-iid",[ZS]:"fire-iid-compat",[JS]:"fire-fcm",[eA]:"fire-fcm-compat",[tA]:"fire-perf",[nA]:"fire-perf-compat",[rA]:"fire-rc",[iA]:"fire-rc-compat",[sA]:"fire-gcs",[aA]:"fire-gcs-compat",[oA]:"fire-fst",[cA]:"fire-fst-compat",[lA]:"fire-vertex","fire-js":"fire-js",[uA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ph=new Map,fA=new Map,km=new Map;function H_(i,e){try{i.container.addComponent(e)}catch(n){ji.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function To(i){const e=i.name;if(km.has(e))return ji.debug(`There were multiple attempts to register component ${e}.`),!1;km.set(e,i);for(const n of ph.values())H_(n,i);for(const n of fA.values())H_(n,i);return!0}function hp(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function Wn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ws=new mc("app","Firebase",mA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new pa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ws.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zo=hA;function jb(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s={name:Nm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw ws.create("bad-app-name",{appName:String(o)});if(n||(n=Rb()),!n)throw ws.create("no-options");const c=ph.get(o);if(c){if(ma(n,c.options)&&ma(s,c.config))return c;throw ws.create("duplicate-app",{appName:o})}const u=new xS(o);for(const p of km.values())u.addComponent(p);const f=new pA(n,s,u);return ph.set(o,f),f}function Mb(i=Nm){const e=ph.get(i);if(!e&&i===Nm&&Rb())return jb();if(!e)throw ws.create("no-app",{appName:i});return e}function Es(i,e,n){let s=dA[i]??i;n&&(s+=`-${n}`);const o=s.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const u=[`Unable to register library "${s}" with version "${e}":`];o&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&u.push("and"),c&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ji.warn(u.join(" "));return}To(new pa(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gA="firebase-heartbeat-database",yA=1,ac="firebase-heartbeat-store";let gm=null;function Lb(){return gm||(gm=jS(gA,yA,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(ac)}catch(n){console.warn(n)}}}}).catch(i=>{throw ws.create("idb-open",{originalErrorMessage:i.message})})),gm}async function _A(i){try{const n=(await Lb()).transaction(ac),s=await n.objectStore(ac).get(Vb(i));return await n.done,s}catch(e){if(e instanceof Pi)ji.warn(e.message);else{const n=ws.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ji.warn(n.message)}}}async function q_(i,e){try{const s=(await Lb()).transaction(ac,"readwrite");await s.objectStore(ac).put(e,Vb(i)),await s.done}catch(n){if(n instanceof Pi)ji.warn(n.message);else{const s=ws.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ji.warn(s.message)}}}function Vb(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vA=1024,bA=30;class xA{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new EA(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=G_();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(u=>u.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats.length>bA){const u=TA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){ji.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=G_(),{heartbeatsToSend:s,unsentEntries:o}=wA(this._heartbeatsCache.heartbeats),c=mh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return ji.warn(n),""}}}function G_(){return new Date().toISOString().substring(0,10)}function wA(i,e=vA){const n=[];let s=i.slice();for(const o of i){const c=n.find(u=>u.agent===o.agent);if(c){if(c.dates.push(o.date),Q_(n)>e){c.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Q_(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class EA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return cS()?uS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await _A(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return q_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return q_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Q_(i){return mh(JSON.stringify({version:2,heartbeats:i})).length}function TA(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SA(i){To(new pa("platform-logger",e=>new VS(e),"PRIVATE")),To(new pa("heartbeat",e=>new xA(e),"PRIVATE")),Es(Rm,F_,i),Es(Rm,F_,"esm2020"),Es("fire-js","")}SA("");var AA="firebase",CA="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Es(AA,CA,"app");function Pb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const zb=Pb,Ub=new mc("auth","Firebase",Pb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gh=new cp("@firebase/auth");function RA(i,...e){gh.logLevel<=st.WARN&&gh.warn(`Auth (${zo}): ${i}`,...e)}function ih(i,...e){gh.logLevel<=st.ERROR&&gh.error(`Auth (${zo}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(i,...e){throw fp(i,...e)}function Dr(i,...e){return fp(i,...e)}function dp(i,e,n){const s={...zb(),[e]:n};return new mc("auth","Firebase",s).create(e,{appName:i.name})}function Ii(i){return dp(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function NA(i,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&yr(i,"argument-error"),dp(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function fp(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return Ub.create(i,...e)}function He(i,e,...n){if(!i)throw fp(e,...n)}function Ri(i){const e="INTERNAL ASSERTION FAILED: "+i;throw ih(e),new Error(e)}function Mi(i,e){i||Ri(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Im(){var i;return typeof self<"u"&&((i=self.location)==null?void 0:i.href)||""}function kA(){return K_()==="http:"||K_()==="https:"}function K_(){var i;return typeof self<"u"&&((i=self.location)==null?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(kA()||sS()||"connection"in navigator)?navigator.onLine:!0}function DA(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Mi(n>e,"Short delay should be less than long delay!"),this.isMobile=nS()||aS()}get(){return IA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mp(i,e){Mi(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ri("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ri("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ri("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],MA=new gc(3e4,6e4);function Ms(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function zi(i,e,n,s,o={}){return Fb(i,o,async()=>{let c={},u={};s&&(e==="GET"?u=s:c={body:JSON.stringify(s)});const f=pc({key:i.config.apiKey,...u}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g={method:e,headers:p,...c};return iS()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&Po(i.emulatorConfig.host)&&(g.credentials="include"),Bb.fetch()(await Hb(i,i.config.apiHost,n,f),g)})}async function Fb(i,e,n){i._canInitEmulator=!1;const s={...OA,...e};try{const o=new VA(i),c=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const u=await c.json();if("needConfirmation"in u)throw $u(i,"account-exists-with-different-credential",u);if(c.ok&&!("errorMessage"in u))return u;{const f=c.ok?u.errorMessage:u.error.message,[p,g]=f.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw $u(i,"credential-already-in-use",u);if(p==="EMAIL_EXISTS")throw $u(i,"email-already-in-use",u);if(p==="USER_DISABLED")throw $u(i,"user-disabled",u);const _=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw dp(i,_,g);yr(i,_)}}catch(o){if(o instanceof Pi)throw o;yr(i,"network-request-failed",{message:String(o)})}}async function yc(i,e,n,s,o={}){const c=await zi(i,e,n,s,o);return"mfaPendingCredential"in c&&yr(i,"multi-factor-auth-required",{_serverResponse:c}),c}async function Hb(i,e,n,s){const o=`${e}${n}?${s}`,c=i,u=c.config.emulator?mp(i.config,o):`${i.config.apiScheme}://${o}`;return jA.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(u).toString():u}function LA(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class VA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Dr(this.auth,"network-request-failed")),MA.get())})}}function $u(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Dr(i,e,s);return o.customData._tokenResponse=n,o}function Y_(i){return i!==void 0&&i.enterprise!==void 0}class PA{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return LA(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function zA(i,e){return zi(i,"GET","/v2/recaptchaConfig",Ms(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UA(i,e){return zi(i,"POST","/v1/accounts:delete",e)}async function yh(i,e){return zi(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jl(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function qb(i,e=!1){const n=er(i),s=await n.getIdToken(e),o=pp(s);He(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,u=c==null?void 0:c.sign_in_provider;return{claims:o,token:s,authTime:Jl(ym(o.auth_time)),issuedAtTime:Jl(ym(o.iat)),expirationTime:Jl(ym(o.exp)),signInProvider:u||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function ym(i){return Number(i)*1e3}function pp(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return ih("JWT malformed, contained fewer than 3 sections"),null;try{const o=Ab(n);return o?JSON.parse(o):(ih("Failed to decode base64 JWT payload"),null)}catch(o){return ih("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function $_(i){const e=pp(i);return He(e,"internal-error"),He(typeof e.exp<"u","internal-error"),He(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function So(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Pi&&BA(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function BA({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jl(this.lastLoginAt),this.creationTime=Jl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _h(i){var b;const e=i.auth,n=await i.getIdToken(),s=await So(i,yh(e,{idToken:n}));He(s==null?void 0:s.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const c=(b=o.providerUserInfo)!=null&&b.length?Qb(o.providerUserInfo):[],u=HA(i.providerData,c),f=i.isAnonymous,p=!(i.email&&o.passwordHash)&&!(u!=null&&u.length),g=f?p:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Dm(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(i,_)}async function Gb(i){const e=er(i);await _h(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function HA(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function Qb(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qA(i,e){const n=await Fb(i,{},async()=>{const s=pc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=i.config,u=await Hb(i,o,"/v1/token",`key=${c}`),f=await i._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:f,body:s};return i.emulatorConfig&&Po(i.emulatorConfig.host)&&(p.credentials="include"),Bb.fetch()(u,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function GA(i,e){return zi(i,"POST","/v2/accounts:revokeToken",Ms(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){He(e.idToken,"internal-error"),He(typeof e.idToken<"u","internal-error"),He(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):$_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){He(e.length!==0,"internal-error");const n=$_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(He(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:c}=await qA(e,n);this.updateTokensAndExpiration(s,o,Number(c))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:c}=n,u=new _o;return s&&(He(typeof s=="string","internal-error",{appName:e}),u.refreshToken=s),o&&(He(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),c&&(He(typeof c=="number","internal-error",{appName:e}),u.expirationTime=c),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _o,this.toJSON())}_performRefresh(){return Ri("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ys(i,e){He(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class kr{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new FA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Dm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await So(this,this.stsTokenManager.getToken(this.auth,e));return He(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return qb(this,e)}reload(){return Gb(this)}_assign(e){this!==e&&(He(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new kr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){He(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await _h(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Wn(this.auth.app))return Promise.reject(Ii(this.auth));const e=await this.getIdToken();return await So(this,UA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,c=n.phoneNumber??void 0,u=n.photoURL??void 0,f=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,_=n.lastLoginAt??void 0,{uid:b,emailVerified:E,isAnonymous:w,providerData:k,stsTokenManager:A}=n;He(b&&A,e,"internal-error");const R=_o.fromJSON(this.name,A);He(typeof b=="string",e,"internal-error"),ys(s,e.name),ys(o,e.name),He(typeof E=="boolean",e,"internal-error"),He(typeof w=="boolean",e,"internal-error"),ys(c,e.name),ys(u,e.name),ys(f,e.name),ys(p,e.name),ys(g,e.name),ys(_,e.name);const I=new kr({uid:b,auth:e,email:o,emailVerified:E,displayName:s,isAnonymous:w,photoURL:u,phoneNumber:c,tenantId:f,stsTokenManager:R,createdAt:g,lastLoginAt:_});return k&&Array.isArray(k)&&(I.providerData=k.map(P=>({...P}))),p&&(I._redirectEventId=p),I}static async _fromIdTokenResponse(e,n,s=!1){const o=new _o;o.updateFromServerResponse(n);const c=new kr({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await _h(c),c}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];He(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?Qb(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!(c!=null&&c.length),f=new _o;f.updateFromIdToken(s);const p=new kr({uid:o.localId,auth:e,stsTokenManager:f,isAnonymous:u}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Dm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(c!=null&&c.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_=new Map;function Ni(i){Mi(i instanceof Function,"Expected a class definition");let e=X_.get(i);return e?(Mi(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,X_.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Kb.type="NONE";const Om=Kb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sh(i,e,n){return`firebase:${i}:${e}:${n}`}class vo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:c}=this.auth;this.fullUserKey=sh(this.userKey,o.apiKey,c),this.fullPersistenceKey=sh("persistence",o.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await yh(this.auth,{idToken:e}).catch(()=>{});return n?kr._fromGetAccountInfoResponse(this.auth,n,e):null}return kr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new vo(Ni(Om),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let c=o[0]||Ni(Om);const u=sh(s,e.config.apiKey,e.name);let f=null;for(const g of n)try{const _=await g._get(u);if(_){let b;if(typeof _=="string"){const E=await yh(e,{idToken:_}).catch(()=>{});if(!E)break;b=await kr._fromGetAccountInfoResponse(e,E,_)}else b=kr._fromJSON(e,_);g!==c&&(f=b),c=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new vo(c,e,s):(c=p[0],f&&await c._set(u,f.toJSON()),await Promise.all(n.map(async g=>{if(g!==c)try{await g._remove(u)}catch{}})),new vo(c,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W_(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Wb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Yb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Jb(e))return"Blackberry";if(e1(e))return"Webos";if($b(e))return"Safari";if((e.includes("chrome/")||Xb(e))&&!e.includes("edge/"))return"Chrome";if(Zb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function Yb(i=kn()){return/firefox\//i.test(i)}function $b(i=kn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Xb(i=kn()){return/crios\//i.test(i)}function Wb(i=kn()){return/iemobile/i.test(i)}function Zb(i=kn()){return/android/i.test(i)}function Jb(i=kn()){return/blackberry/i.test(i)}function e1(i=kn()){return/webos/i.test(i)}function gp(i=kn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function QA(i=kn()){var e;return gp(i)&&!!((e=window.navigator)!=null&&e.standalone)}function KA(){return oS()&&document.documentMode===10}function t1(i=kn()){return gp(i)||Zb(i)||e1(i)||Jb(i)||/windows phone/i.test(i)||Wb(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n1(i,e=[]){let n;switch(i){case"Browser":n=W_(kn());break;case"Worker":n=`${W_(kn())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${zo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=c=>new Promise((u,f)=>{try{const p=e(c);u(p)}catch(p){f(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $A(i,e={}){return zi(i,"GET","/v2/passwordPolicy",Ms(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA=6;class WA{constructor(e){var s;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??XA,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=e.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Z_(this),this.idTokenSubscription=new Z_(this),this.beforeStateQueue=new YA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ub,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ni(n)),this._initializationPromise=this.queue(async()=>{var s,o,c;if(!this._deleted&&(this.persistenceManager=await vo.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((c=this.currentUser)==null?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await yh(this,{idToken:e}),s=await kr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var c;if(Wn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(c=this.redirectUser)==null?void 0:c._redirectEventId,f=s==null?void 0:s._redirectEventId,p=await this.tryRedirectSignIn(e);(!u||u===f)&&(p!=null&&p.user)&&(s=p.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return He(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await _h(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=DA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Wn(this.app))return Promise.reject(Ii(this));const n=e?er(e):null;return n&&He(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&He(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Wn(this.app)?Promise.reject(Ii(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Wn(this.app)?Promise.reject(Ii(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ni(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await $A(this),n=new WA(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new mc("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await GA(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ni(e)||this._popupRedirectResolver;He(n,this,"argument-error"),this.redirectPersistenceManager=await vo.create(this,[Ni(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(He(f,this,"internal-error"),f.then(()=>{u||c(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{u=!0,p()}}else{const p=e.addObserver(n);return()=>{u=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return He(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=n1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var n;if(Wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&RA(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Ls(i){return er(i)}class Z_{constructor(e){this.auth=e,this.observer=null,this.addObserver=pS(n=>this.observer=n)}get next(){return He(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function JA(i){zh=i}function r1(i){return zh.loadJS(i)}function eC(){return zh.recaptchaEnterpriseScript}function tC(){return zh.gapiScript}function nC(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class rC{constructor(){this.enterprise=new iC}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class iC{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const sC="recaptcha-enterprise",i1="NO_RECAPTCHA";class aC{constructor(e){this.type=sC,this.auth=Ls(e)}async verify(e="verify",n=!1){async function s(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(u,f)=>{zA(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const g=new PA(p);return c.tenantId==null?c._agentRecaptchaConfig=g:c._tenantRecaptchaConfigs[c.tenantId]=g,u(g.siteKey)}}).catch(p=>{f(p)})})}function o(c,u,f){const p=window.grecaptcha;Y_(p)?p.enterprise.ready(()=>{p.enterprise.execute(c,{action:e}).then(g=>{u(g)}).catch(()=>{u(i1)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new rC().execute("siteKey",{action:"verify"}):new Promise((c,u)=>{s(this.auth).then(f=>{if(!n&&Y_(window.grecaptcha))o(f,c,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let p=eC();p.length!==0&&(p+=f),r1(p).then(()=>{o(f,c,u)}).catch(g=>{u(g)})}}).catch(f=>{u(f)})})}}async function J_(i,e,n,s=!1,o=!1){const c=new aC(i);let u;if(o)u=i1;else try{u=await c.verify(n)}catch{u=await c.verify(n,!0)}const f={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const p=f.phoneEnrollmentInfo.phoneNumber,g=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const p=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return s?Object.assign(f,{captchaResp:u}):Object.assign(f,{captchaResponse:u}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function jm(i,e,n,s,o){var c;if((c=i._getRecaptchaConfig())!=null&&c.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await J_(i,e,n,n==="getOobCode");return s(i,u)}else return s(i,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await J_(i,e,n,n==="getOobCode");return s(i,f)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(i,e){const n=hp(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),c=n.getOptions();if(ma(c,e??{}))return o;yr(o,"already-initialized")}return n.initialize({options:e})}function oC(i,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Ni);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function a1(i,e,n){const s=Ls(i);He(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,c=o1(e),{host:u,port:f}=lC(e),p=f===null?"":`:${f}`,g={url:`${c}//${u}${p}/`},_=Object.freeze({host:u,port:f,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){He(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),He(ma(g,s.config.emulator)&&ma(_,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=_,s.settings.appVerificationDisabledForTesting=!0,Po(u)?(kb(`${c}//${u}${p}`),Ib("Auth",!0)):cC()}function o1(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function lC(i){const e=o1(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const c=o[1];return{host:c,port:ev(s.substr(c.length+1))}}else{const[c,u]=s.split(":");return{host:c,port:ev(u)}}}function ev(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function cC(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ri("not implemented")}_getIdTokenResponse(e){return Ri("not implemented")}_linkToIdToken(e,n){return Ri("not implemented")}_getReauthenticationResolver(e){return Ri("not implemented")}}async function uC(i,e){return zi(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hC(i,e){return yc(i,"POST","/v1/accounts:signInWithPassword",Ms(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dC(i,e){return yc(i,"POST","/v1/accounts:signInWithEmailLink",Ms(i,e))}async function fC(i,e){return yc(i,"POST","/v1/accounts:signInWithEmailLink",Ms(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao extends Uh{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Ao(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Ao(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return jm(e,n,"signInWithPassword",hC);case"emailLink":return dC(e,{email:this._email,oobCode:this._password});default:yr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return jm(e,s,"signUpPassword",uC);case"emailLink":return fC(e,{idToken:n,email:this._email,oobCode:this._password});default:yr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bo(i,e){return yc(i,"POST","/v1/accounts:signInWithIdp",Ms(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC="http://localhost";class Cs extends Uh{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Cs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):yr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...c}=n;if(!s||!o)return null;const u=new Cs(s,o);return u.idToken=c.idToken||void 0,u.accessToken=c.accessToken||void 0,u.secret=c.secret,u.nonce=c.nonce,u.pendingToken=c.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return bo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,bo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,bo(e,n)}buildRequest(){const e={requestUri:mC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=pc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pC(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function gC(i){const e=Kl(Yl(i)).link,n=e?Kl(Yl(e)).deep_link_id:null,s=Kl(Yl(i)).deep_link_id;return(s?Kl(Yl(s)).link:null)||s||n||e||i}class Bh{constructor(e){const n=Kl(Yl(e)),s=n.apiKey??null,o=n.oobCode??null,c=pC(n.mode??null);He(s&&o&&c,"argument-error"),this.apiKey=s,this.operation=c,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=gC(e);try{return new Bh(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(){this.providerId=xa.PROVIDER_ID}static credential(e,n){return Ao._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Bh.parseLink(n);return He(s,"argument-error"),Ao._fromEmailAndCode(e,s.code,s.tenantId)}}xa.PROVIDER_ID="password";xa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";xa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c extends yp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si extends _c{constructor(){super("facebook.com")}static credential(e){return Cs._fromParams({providerId:Si.PROVIDER_ID,signInMethod:Si.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Si.credentialFromTaggedObject(e)}static credentialFromError(e){return Si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Si.credential(e.oauthAccessToken)}catch{return null}}}Si.FACEBOOK_SIGN_IN_METHOD="facebook.com";Si.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei extends _c{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Cs._fromParams({providerId:ei.PROVIDER_ID,signInMethod:ei.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ei.credentialFromTaggedObject(e)}static credentialFromError(e){return ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return ei.credential(n,s)}catch{return null}}}ei.GOOGLE_SIGN_IN_METHOD="google.com";ei.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai extends _c{constructor(){super("github.com")}static credential(e){return Cs._fromParams({providerId:Ai.PROVIDER_ID,signInMethod:Ai.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ai.credentialFromTaggedObject(e)}static credentialFromError(e){return Ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ai.credential(e.oauthAccessToken)}catch{return null}}}Ai.GITHUB_SIGN_IN_METHOD="github.com";Ai.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci extends _c{constructor(){super("twitter.com")}static credential(e,n){return Cs._fromParams({providerId:Ci.PROVIDER_ID,signInMethod:Ci.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ci.credentialFromTaggedObject(e)}static credentialFromError(e){return Ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Ci.credential(n,s)}catch{return null}}}Ci.TWITTER_SIGN_IN_METHOD="twitter.com";Ci.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yC(i,e){return yc(i,"POST","/v1/accounts:signUp",Ms(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const c=await kr._fromIdTokenResponse(e,s,o),u=tv(s);return new ga({user:c,providerId:u,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=tv(s);return new ga({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function tv(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh extends Pi{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,vh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new vh(e,n,s,o)}}function l1(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?vh._fromErrorAndOperation(i,c,e,s):c})}async function _C(i,e,n=!1){const s=await So(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return ga._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vC(i,e,n=!1){const{auth:s}=i;if(Wn(s.app))return Promise.reject(Ii(s));const o="reauthenticate";try{const c=await So(i,l1(s,o,e,i),n);He(c.idToken,s,"internal-error");const u=pp(c.idToken);He(u,s,"internal-error");const{sub:f}=u;return He(i.uid===f,s,"user-mismatch"),ga._forOperation(i,o,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&yr(s,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c1(i,e,n=!1){if(Wn(i.app))return Promise.reject(Ii(i));const s="signIn",o=await l1(i,s,e),c=await ga._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(c.user),c}async function u1(i,e){return c1(Ls(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h1(i){const e=Ls(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function bC(i,e,n){if(Wn(i.app))return Promise.reject(Ii(i));const s=Ls(i),u=await jm(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",yC).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&h1(i),p}),f=await ga._fromIdTokenResponse(s,"signIn",u);return await s._updateCurrentUser(f.user),f}function xC(i,e,n){return Wn(i.app)?Promise.reject(Ii(i)):u1(er(i),xa.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&h1(i),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wC(i,e){return zi(i,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EC(i,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=er(i),c={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},u=await So(s,wC(s.auth,c));s.displayName=u.displayName||null,s.photoURL=u.photoUrl||null;const f=s.providerData.find(({providerId:p})=>p==="password");f&&(f.displayName=s.displayName,f.photoURL=s.photoURL),await s._updateTokensIfNecessary(u)}function d1(i,e,n,s){return er(i).onIdTokenChanged(e,n,s)}function f1(i,e,n){return er(i).beforeAuthStateChanged(e,n)}function m1(i,e,n,s){return er(i).onAuthStateChanged(e,n,s)}const bh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(bh,"1"),this.storage.removeItem(bh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC=1e3,SC=10;class g1 extends p1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=t1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,f,p)=>{this.notifyListeners(u,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(s);!n&&this.localCache[s]===u||this.notifyListeners(s,u)},c=this.storage.getItem(s);KA()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,SC):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},TC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}g1.type="LOCAL";const y1=g1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1 extends p1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}_1.type="SESSION";const _p=_1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AC(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Fh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:c}=n.data,u=this.handlersMap[o];if(!(u!=null&&u.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const f=Array.from(u).map(async g=>g(n.origin,c)),p=await AC(f);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Fh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vp(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,u;return new Promise((f,p)=>{const g=vp("",20);o.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},s);u={messageChannel:o,onMessage(b){const E=b;if(E.data.eventId===g)switch(E.data.status){case"ack":clearTimeout(_),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),f(E.data.response);break;default:clearTimeout(_),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(){return window}function RC(i){ti().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v1(){return typeof ti().WorkerGlobalScope<"u"&&typeof ti().importScripts=="function"}async function NC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function kC(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)==null?void 0:i.controller)||null}function IC(){return v1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1="firebaseLocalStorageDb",DC=1,xh="firebaseLocalStorage",x1="fbase_key";class vc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Hh(i,e){return i.transaction([xh],e?"readwrite":"readonly").objectStore(xh)}function OC(){const i=indexedDB.deleteDatabase(b1);return new vc(i).toPromise()}function Mm(){const i=indexedDB.open(b1,DC);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(xh,{keyPath:x1})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(xh)?e(s):(s.close(),await OC(),e(await Mm()))})})}async function nv(i,e,n){const s=Hh(i,!0).put({[x1]:e,value:n});return new vc(s).toPromise()}async function jC(i,e){const n=Hh(i,!1).get(e),s=await new vc(n).toPromise();return s===void 0?null:s.value}function rv(i,e){const n=Hh(i,!0).delete(e);return new vc(n).toPromise()}const MC=800,LC=3;class w1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Mm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>LC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return v1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Fh._getInstance(IC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,s;if(this.activeServiceWorker=await NC(),!this.activeServiceWorker)return;this.sender=new CC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(s=e[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||kC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Mm();return await nv(e,bh,"1"),await rv(e,bh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>nv(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>jC(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>rv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=Hh(o,!1).getAll();return new vc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),MC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}w1.type="LOCAL";const E1=w1;new gc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T1(i,e){return e?Ni(e):(He(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp extends Uh{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return bo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return bo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return bo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function VC(i){return c1(i.auth,new bp(i),i.bypassAuthState)}function PC(i){const{auth:e,user:n}=i;return He(n,e,"internal-error"),vC(n,new bp(i),i.bypassAuthState)}async function zC(i){const{auth:e,user:n}=i;return He(n,e,"internal-error"),_C(n,new bp(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(e,n,s,o,c=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:c,error:u,type:f}=e;if(u){this.reject(u);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return VC;case"linkViaPopup":case"linkViaRedirect":return zC;case"reauthViaPopup":case"reauthViaRedirect":return PC;default:yr(this.auth,"internal-error")}}resolve(e){Mi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Mi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC=new gc(2e3,1e4);async function BC(i,e,n){if(Wn(i.app))return Promise.reject(Dr(i,"operation-not-supported-in-this-environment"));const s=Ls(i);NA(i,e,yp);const o=T1(s,n);return new da(s,"signInViaPopup",e,o).executeNotNull()}class da extends S1{constructor(e,n,s,o,c){super(e,n,o,c),this.provider=s,this.authWindow=null,this.pollId=null,da.currentPopupAction&&da.currentPopupAction.cancel(),da.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return He(e,this.auth,"internal-error"),e}async onExecution(){Mi(this.filter.length===1,"Popup operations only handle one event");const e=vp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Dr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Dr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,da.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if((s=(n=this.authWindow)==null?void 0:n.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Dr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,UC.get())};e()}}da.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC="pendingRedirect",ah=new Map;class HC extends S1{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=ah.get(this.auth._key());if(!e){try{const s=await qC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}ah.set(this.auth._key(),e)}return this.bypassAuthState||ah.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function qC(i,e){const n=KC(e),s=QC(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function GC(i,e){ah.set(i._key(),e)}function QC(i){return Ni(i._redirectPersistence)}function KC(i){return sh(FC,i.config.apiKey,i.name)}async function YC(i,e,n=!1){if(Wn(i.app))return Promise.reject(Ii(i));const s=Ls(i),o=T1(s,e),u=await new HC(s,o,n).execute();return u&&!n&&(delete u.user._redirectEventId,await s._persistUserIfCurrent(u.user),await s._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C=600*1e3;class XC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!WC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!A1(e)){const o=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";n.onError(Dr(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=$C&&this.cachedEventUids.clear(),this.cachedEventUids.has(iv(e))}saveEventToCache(e){this.cachedEventUids.add(iv(e)),this.lastProcessedEventTime=Date.now()}}function iv(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function A1({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function WC(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return A1(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZC(i,e={}){return zi(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,eR=/^https?/;async function tR(i){if(i.config.emulator)return;const{authorizedDomains:e}=await ZC(i);for(const n of e)try{if(nR(n))return}catch{}yr(i,"unauthorized-domain")}function nR(i){const e=Im(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const u=new URL(i);return u.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===s}if(!eR.test(n))return!1;if(JC.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR=new gc(3e4,6e4);function sv(){const i=ti().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function iR(i){return new Promise((e,n)=>{var o,c,u;function s(){sv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{sv(),n(Dr(i,"network-request-failed"))},timeout:rR.get()})}if((c=(o=ti().gapi)==null?void 0:o.iframes)!=null&&c.Iframe)e(gapi.iframes.getContext());else if((u=ti().gapi)!=null&&u.load)s();else{const f=nC("iframefcb");return ti()[f]=()=>{gapi.load?s():n(Dr(i,"network-request-failed"))},r1(`${tC()}?onload=${f}`).catch(p=>n(p))}}).catch(e=>{throw oh=null,e})}let oh=null;function sR(i){return oh=oh||iR(i),oh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR=new gc(5e3,15e3),oR="__/auth/iframe",lR="emulator/auth/iframe",cR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},uR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hR(i){const e=i.config;He(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?mp(e,lR):`https://${i.config.authDomain}/${oR}`,s={apiKey:e.apiKey,appName:i.name,v:zo},o=uR.get(i.config.apiHost);o&&(s.eid=o);const c=i._getFrameworks();return c.length&&(s.fw=c.join(",")),`${n}?${pc(s).slice(1)}`}async function dR(i){const e=await sR(i),n=ti().gapi;return He(n,i,"internal-error"),e.open({where:document.body,url:hR(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cR,dontclear:!0},s=>new Promise(async(o,c)=>{await s.restyle({setHideOnLeave:!1});const u=Dr(i,"network-request-failed"),f=ti().setTimeout(()=>{c(u)},aR.get());function p(){ti().clearTimeout(f),o(s)}s.ping(p).then(p,()=>{c(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},mR=500,pR=600,gR="_blank",yR="http://localhost";class av{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _R(i,e,n,s=mR,o=pR){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-s)/2,0).toString();let f="";const p={...fR,width:s.toString(),height:o.toString(),top:c,left:u},g=kn().toLowerCase();n&&(f=Xb(g)?gR:n),Yb(g)&&(e=e||yR,p.scrollbars="yes");const _=Object.entries(p).reduce((E,[w,k])=>`${E}${w}=${k},`,"");if(QA(g)&&f!=="_self")return vR(e||"",f),new av(null);const b=window.open(e||"",f,_);He(b,i,"popup-blocked");try{b.focus()}catch{}return new av(b)}function vR(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR="__/auth/handler",xR="emulator/auth/handler",wR=encodeURIComponent("fac");async function ov(i,e,n,s,o,c){He(i.config.authDomain,i,"auth-domain-config-required"),He(i.config.apiKey,i,"invalid-api-key");const u={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:zo,eventId:o};if(e instanceof yp){e.setDefaultLanguage(i.languageCode),u.providerId=e.providerId||"",mS(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,b]of Object.entries({}))u[_]=b}if(e instanceof _c){const _=e.getScopes().filter(b=>b!=="");_.length>0&&(u.scopes=_.join(","))}i.tenantId&&(u.tid=i.tenantId);const f=u;for(const _ of Object.keys(f))f[_]===void 0&&delete f[_];const p=await i._getAppCheckToken(),g=p?`#${wR}=${encodeURIComponent(p)}`:"";return`${ER(i)}?${pc(f).slice(1)}${g}`}function ER({config:i}){return i.emulator?mp(i,xR):`https://${i.authDomain}/${bR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _m="webStorageSupport";class TR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_p,this._completeRedirectFn=YC,this._overrideRedirectResult=GC}async _openPopup(e,n,s,o){var u;Mi((u=this.eventManagers[e._key()])==null?void 0:u.manager,"_initialize() not called before _openPopup()");const c=await ov(e,n,s,Im(),o);return _R(e,c,vp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const c=await ov(e,n,s,Im(),o);return RC(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:c}=this.eventManagers[n];return o?Promise.resolve(o):(Mi(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await dR(e),s=new XC(e);return n.register("authEvent",o=>(He(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(_m,{type:_m},o=>{var u;const c=(u=o==null?void 0:o[0])==null?void 0:u[_m];c!==void 0&&n(!!c),yr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=tR(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return t1()||$b()||gp()}}const C1=TR;var lv="@firebase/auth",cv="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){He(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AR(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function CR(i){To(new pa("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=s.options;He(u&&!u.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:u,authDomain:f,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:n1(i)},g=new ZA(s,o,c,p);return oC(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),To(new pa("auth-internal",e=>{const n=Ls(e.getProvider("auth").getImmediate());return(s=>new SR(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Es(lv,cv,AR(i)),Es(lv,cv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR=300,NR=Nb("authIdTokenMaxAge")||RR;let uv=null;const kR=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>NR)return;const o=n==null?void 0:n.token;uv!==o&&(uv=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function R1(i=Mb()){const e=hp(i,"auth");if(e.isInitialized())return e.getImmediate();const n=s1(i,{popupRedirectResolver:C1,persistence:[E1,y1,_p]}),s=Nb("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const u=kR(c.toString());f1(n,u,()=>u(n.currentUser)),d1(n,f=>u(f))}}const o=Cb("auth");return o&&a1(n,`http://${o}`),n}function IR(){var i;return((i=document.getElementsByTagName("head"))==null?void 0:i[0])??document}JA({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const c=Dr("internal-error");c.customData=o,n(c)},s.type="text/javascript",s.charset="UTF-8",IR().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});CR("Browser");const wh=Object.freeze(Object.defineProperty({__proto__:null,ActionCodeURL:Bh,AuthCredential:Uh,EmailAuthCredential:Ao,EmailAuthProvider:xa,FacebookAuthProvider:Si,GithubAuthProvider:Ai,GoogleAuthProvider:ei,OAuthCredential:Cs,TwitterAuthProvider:Ci,beforeAuthStateChanged:f1,browserLocalPersistence:y1,browserPopupRedirectResolver:C1,browserSessionPersistence:_p,connectAuthEmulator:a1,createUserWithEmailAndPassword:bC,getAuth:R1,getIdTokenResult:qb,inMemoryPersistence:Om,indexedDBLocalPersistence:E1,initializeAuth:s1,onAuthStateChanged:m1,onIdTokenChanged:d1,prodErrorMap:zb,reload:Gb,signInWithCredential:u1,signInWithEmailAndPassword:xC,signInWithPopup:BC,updateProfile:EC},Symbol.toStringTag,{value:"Module"}));var hv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ts,N1;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(j,M){function O(){}O.prototype=M.prototype,j.F=M.prototype,j.prototype=new O,j.prototype.constructor=j,j.D=function(F,B,N){for(var D=Array(arguments.length-2),C=2;C<arguments.length;C++)D[C-2]=arguments[C];return M.prototype[B].apply(F,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(j,M,O){O||(O=0);const F=Array(16);if(typeof M=="string")for(var B=0;B<16;++B)F[B]=M.charCodeAt(O++)|M.charCodeAt(O++)<<8|M.charCodeAt(O++)<<16|M.charCodeAt(O++)<<24;else for(B=0;B<16;++B)F[B]=M[O++]|M[O++]<<8|M[O++]<<16|M[O++]<<24;M=j.g[0],O=j.g[1],B=j.g[2];let N=j.g[3],D;D=M+(N^O&(B^N))+F[0]+3614090360&4294967295,M=O+(D<<7&4294967295|D>>>25),D=N+(B^M&(O^B))+F[1]+3905402710&4294967295,N=M+(D<<12&4294967295|D>>>20),D=B+(O^N&(M^O))+F[2]+606105819&4294967295,B=N+(D<<17&4294967295|D>>>15),D=O+(M^B&(N^M))+F[3]+3250441966&4294967295,O=B+(D<<22&4294967295|D>>>10),D=M+(N^O&(B^N))+F[4]+4118548399&4294967295,M=O+(D<<7&4294967295|D>>>25),D=N+(B^M&(O^B))+F[5]+1200080426&4294967295,N=M+(D<<12&4294967295|D>>>20),D=B+(O^N&(M^O))+F[6]+2821735955&4294967295,B=N+(D<<17&4294967295|D>>>15),D=O+(M^B&(N^M))+F[7]+4249261313&4294967295,O=B+(D<<22&4294967295|D>>>10),D=M+(N^O&(B^N))+F[8]+1770035416&4294967295,M=O+(D<<7&4294967295|D>>>25),D=N+(B^M&(O^B))+F[9]+2336552879&4294967295,N=M+(D<<12&4294967295|D>>>20),D=B+(O^N&(M^O))+F[10]+4294925233&4294967295,B=N+(D<<17&4294967295|D>>>15),D=O+(M^B&(N^M))+F[11]+2304563134&4294967295,O=B+(D<<22&4294967295|D>>>10),D=M+(N^O&(B^N))+F[12]+1804603682&4294967295,M=O+(D<<7&4294967295|D>>>25),D=N+(B^M&(O^B))+F[13]+4254626195&4294967295,N=M+(D<<12&4294967295|D>>>20),D=B+(O^N&(M^O))+F[14]+2792965006&4294967295,B=N+(D<<17&4294967295|D>>>15),D=O+(M^B&(N^M))+F[15]+1236535329&4294967295,O=B+(D<<22&4294967295|D>>>10),D=M+(B^N&(O^B))+F[1]+4129170786&4294967295,M=O+(D<<5&4294967295|D>>>27),D=N+(O^B&(M^O))+F[6]+3225465664&4294967295,N=M+(D<<9&4294967295|D>>>23),D=B+(M^O&(N^M))+F[11]+643717713&4294967295,B=N+(D<<14&4294967295|D>>>18),D=O+(N^M&(B^N))+F[0]+3921069994&4294967295,O=B+(D<<20&4294967295|D>>>12),D=M+(B^N&(O^B))+F[5]+3593408605&4294967295,M=O+(D<<5&4294967295|D>>>27),D=N+(O^B&(M^O))+F[10]+38016083&4294967295,N=M+(D<<9&4294967295|D>>>23),D=B+(M^O&(N^M))+F[15]+3634488961&4294967295,B=N+(D<<14&4294967295|D>>>18),D=O+(N^M&(B^N))+F[4]+3889429448&4294967295,O=B+(D<<20&4294967295|D>>>12),D=M+(B^N&(O^B))+F[9]+568446438&4294967295,M=O+(D<<5&4294967295|D>>>27),D=N+(O^B&(M^O))+F[14]+3275163606&4294967295,N=M+(D<<9&4294967295|D>>>23),D=B+(M^O&(N^M))+F[3]+4107603335&4294967295,B=N+(D<<14&4294967295|D>>>18),D=O+(N^M&(B^N))+F[8]+1163531501&4294967295,O=B+(D<<20&4294967295|D>>>12),D=M+(B^N&(O^B))+F[13]+2850285829&4294967295,M=O+(D<<5&4294967295|D>>>27),D=N+(O^B&(M^O))+F[2]+4243563512&4294967295,N=M+(D<<9&4294967295|D>>>23),D=B+(M^O&(N^M))+F[7]+1735328473&4294967295,B=N+(D<<14&4294967295|D>>>18),D=O+(N^M&(B^N))+F[12]+2368359562&4294967295,O=B+(D<<20&4294967295|D>>>12),D=M+(O^B^N)+F[5]+4294588738&4294967295,M=O+(D<<4&4294967295|D>>>28),D=N+(M^O^B)+F[8]+2272392833&4294967295,N=M+(D<<11&4294967295|D>>>21),D=B+(N^M^O)+F[11]+1839030562&4294967295,B=N+(D<<16&4294967295|D>>>16),D=O+(B^N^M)+F[14]+4259657740&4294967295,O=B+(D<<23&4294967295|D>>>9),D=M+(O^B^N)+F[1]+2763975236&4294967295,M=O+(D<<4&4294967295|D>>>28),D=N+(M^O^B)+F[4]+1272893353&4294967295,N=M+(D<<11&4294967295|D>>>21),D=B+(N^M^O)+F[7]+4139469664&4294967295,B=N+(D<<16&4294967295|D>>>16),D=O+(B^N^M)+F[10]+3200236656&4294967295,O=B+(D<<23&4294967295|D>>>9),D=M+(O^B^N)+F[13]+681279174&4294967295,M=O+(D<<4&4294967295|D>>>28),D=N+(M^O^B)+F[0]+3936430074&4294967295,N=M+(D<<11&4294967295|D>>>21),D=B+(N^M^O)+F[3]+3572445317&4294967295,B=N+(D<<16&4294967295|D>>>16),D=O+(B^N^M)+F[6]+76029189&4294967295,O=B+(D<<23&4294967295|D>>>9),D=M+(O^B^N)+F[9]+3654602809&4294967295,M=O+(D<<4&4294967295|D>>>28),D=N+(M^O^B)+F[12]+3873151461&4294967295,N=M+(D<<11&4294967295|D>>>21),D=B+(N^M^O)+F[15]+530742520&4294967295,B=N+(D<<16&4294967295|D>>>16),D=O+(B^N^M)+F[2]+3299628645&4294967295,O=B+(D<<23&4294967295|D>>>9),D=M+(B^(O|~N))+F[0]+4096336452&4294967295,M=O+(D<<6&4294967295|D>>>26),D=N+(O^(M|~B))+F[7]+1126891415&4294967295,N=M+(D<<10&4294967295|D>>>22),D=B+(M^(N|~O))+F[14]+2878612391&4294967295,B=N+(D<<15&4294967295|D>>>17),D=O+(N^(B|~M))+F[5]+4237533241&4294967295,O=B+(D<<21&4294967295|D>>>11),D=M+(B^(O|~N))+F[12]+1700485571&4294967295,M=O+(D<<6&4294967295|D>>>26),D=N+(O^(M|~B))+F[3]+2399980690&4294967295,N=M+(D<<10&4294967295|D>>>22),D=B+(M^(N|~O))+F[10]+4293915773&4294967295,B=N+(D<<15&4294967295|D>>>17),D=O+(N^(B|~M))+F[1]+2240044497&4294967295,O=B+(D<<21&4294967295|D>>>11),D=M+(B^(O|~N))+F[8]+1873313359&4294967295,M=O+(D<<6&4294967295|D>>>26),D=N+(O^(M|~B))+F[15]+4264355552&4294967295,N=M+(D<<10&4294967295|D>>>22),D=B+(M^(N|~O))+F[6]+2734768916&4294967295,B=N+(D<<15&4294967295|D>>>17),D=O+(N^(B|~M))+F[13]+1309151649&4294967295,O=B+(D<<21&4294967295|D>>>11),D=M+(B^(O|~N))+F[4]+4149444226&4294967295,M=O+(D<<6&4294967295|D>>>26),D=N+(O^(M|~B))+F[11]+3174756917&4294967295,N=M+(D<<10&4294967295|D>>>22),D=B+(M^(N|~O))+F[2]+718787259&4294967295,B=N+(D<<15&4294967295|D>>>17),D=O+(N^(B|~M))+F[9]+3951481745&4294967295,j.g[0]=j.g[0]+M&4294967295,j.g[1]=j.g[1]+(B+(D<<21&4294967295|D>>>11))&4294967295,j.g[2]=j.g[2]+B&4294967295,j.g[3]=j.g[3]+N&4294967295}s.prototype.v=function(j,M){M===void 0&&(M=j.length);const O=M-this.blockSize,F=this.C;let B=this.h,N=0;for(;N<M;){if(B==0)for(;N<=O;)o(this,j,N),N+=this.blockSize;if(typeof j=="string"){for(;N<M;)if(F[B++]=j.charCodeAt(N++),B==this.blockSize){o(this,F),B=0;break}}else for(;N<M;)if(F[B++]=j[N++],B==this.blockSize){o(this,F),B=0;break}}this.h=B,this.o+=M},s.prototype.A=function(){var j=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);j[0]=128;for(var M=1;M<j.length-8;++M)j[M]=0;M=this.o*8;for(var O=j.length-8;O<j.length;++O)j[O]=M&255,M/=256;for(this.v(j),j=Array(16),M=0,O=0;O<4;++O)for(let F=0;F<32;F+=8)j[M++]=this.g[O]>>>F&255;return j};function c(j,M){var O=f;return Object.prototype.hasOwnProperty.call(O,j)?O[j]:O[j]=M(j)}function u(j,M){this.h=M;const O=[];let F=!0;for(let B=j.length-1;B>=0;B--){const N=j[B]|0;F&&N==M||(O[B]=N,F=!1)}this.g=O}var f={};function p(j){return-128<=j&&j<128?c(j,function(M){return new u([M|0],M<0?-1:0)}):new u([j|0],j<0?-1:0)}function g(j){if(isNaN(j)||!isFinite(j))return b;if(j<0)return R(g(-j));const M=[];let O=1;for(let F=0;j>=O;F++)M[F]=j/O|0,O*=4294967296;return new u(M,0)}function _(j,M){if(j.length==0)throw Error("number format error: empty string");if(M=M||10,M<2||36<M)throw Error("radix out of range: "+M);if(j.charAt(0)=="-")return R(_(j.substring(1),M));if(j.indexOf("-")>=0)throw Error('number format error: interior "-" character');const O=g(Math.pow(M,8));let F=b;for(let N=0;N<j.length;N+=8){var B=Math.min(8,j.length-N);const D=parseInt(j.substring(N,N+B),M);B<8?(B=g(Math.pow(M,B)),F=F.j(B).add(g(D))):(F=F.j(O),F=F.add(g(D)))}return F}var b=p(0),E=p(1),w=p(16777216);i=u.prototype,i.m=function(){if(A(this))return-R(this).m();let j=0,M=1;for(let O=0;O<this.g.length;O++){const F=this.i(O);j+=(F>=0?F:4294967296+F)*M,M*=4294967296}return j},i.toString=function(j){if(j=j||10,j<2||36<j)throw Error("radix out of range: "+j);if(k(this))return"0";if(A(this))return"-"+R(this).toString(j);const M=g(Math.pow(j,6));var O=this;let F="";for(;;){const B=Y(O,M).g;O=I(O,B.j(M));let N=((O.g.length>0?O.g[0]:O.h)>>>0).toString(j);if(O=B,k(O))return N+F;for(;N.length<6;)N="0"+N;F=N+F}},i.i=function(j){return j<0?0:j<this.g.length?this.g[j]:this.h};function k(j){if(j.h!=0)return!1;for(let M=0;M<j.g.length;M++)if(j.g[M]!=0)return!1;return!0}function A(j){return j.h==-1}i.l=function(j){return j=I(this,j),A(j)?-1:k(j)?0:1};function R(j){const M=j.g.length,O=[];for(let F=0;F<M;F++)O[F]=~j.g[F];return new u(O,~j.h).add(E)}i.abs=function(){return A(this)?R(this):this},i.add=function(j){const M=Math.max(this.g.length,j.g.length),O=[];let F=0;for(let B=0;B<=M;B++){let N=F+(this.i(B)&65535)+(j.i(B)&65535),D=(N>>>16)+(this.i(B)>>>16)+(j.i(B)>>>16);F=D>>>16,N&=65535,D&=65535,O[B]=D<<16|N}return new u(O,O[O.length-1]&-2147483648?-1:0)};function I(j,M){return j.add(R(M))}i.j=function(j){if(k(this)||k(j))return b;if(A(this))return A(j)?R(this).j(R(j)):R(R(this).j(j));if(A(j))return R(this.j(R(j)));if(this.l(w)<0&&j.l(w)<0)return g(this.m()*j.m());const M=this.g.length+j.g.length,O=[];for(var F=0;F<2*M;F++)O[F]=0;for(F=0;F<this.g.length;F++)for(let B=0;B<j.g.length;B++){const N=this.i(F)>>>16,D=this.i(F)&65535,C=j.i(B)>>>16,ne=j.i(B)&65535;O[2*F+2*B]+=D*ne,P(O,2*F+2*B),O[2*F+2*B+1]+=N*ne,P(O,2*F+2*B+1),O[2*F+2*B+1]+=D*C,P(O,2*F+2*B+1),O[2*F+2*B+2]+=N*C,P(O,2*F+2*B+2)}for(j=0;j<M;j++)O[j]=O[2*j+1]<<16|O[2*j];for(j=M;j<2*M;j++)O[j]=0;return new u(O,0)};function P(j,M){for(;(j[M]&65535)!=j[M];)j[M+1]+=j[M]>>>16,j[M]&=65535,M++}function z(j,M){this.g=j,this.h=M}function Y(j,M){if(k(M))throw Error("division by zero");if(k(j))return new z(b,b);if(A(j))return M=Y(R(j),M),new z(R(M.g),R(M.h));if(A(M))return M=Y(j,R(M)),new z(R(M.g),M.h);if(j.g.length>30){if(A(j)||A(M))throw Error("slowDivide_ only works with positive integers.");for(var O=E,F=M;F.l(j)<=0;)O=$(O),F=$(F);var B=ie(O,1),N=ie(F,1);for(F=ie(F,2),O=ie(O,2);!k(F);){var D=N.add(F);D.l(j)<=0&&(B=B.add(O),N=D),F=ie(F,1),O=ie(O,1)}return M=I(j,B.j(M)),new z(B,M)}for(B=b;j.l(M)>=0;){for(O=Math.max(1,Math.floor(j.m()/M.m())),F=Math.ceil(Math.log(O)/Math.LN2),F=F<=48?1:Math.pow(2,F-48),N=g(O),D=N.j(M);A(D)||D.l(j)>0;)O-=F,N=g(O),D=N.j(M);k(N)&&(N=E),B=B.add(N),j=I(j,D)}return new z(B,j)}i.B=function(j){return Y(this,j).h},i.and=function(j){const M=Math.max(this.g.length,j.g.length),O=[];for(let F=0;F<M;F++)O[F]=this.i(F)&j.i(F);return new u(O,this.h&j.h)},i.or=function(j){const M=Math.max(this.g.length,j.g.length),O=[];for(let F=0;F<M;F++)O[F]=this.i(F)|j.i(F);return new u(O,this.h|j.h)},i.xor=function(j){const M=Math.max(this.g.length,j.g.length),O=[];for(let F=0;F<M;F++)O[F]=this.i(F)^j.i(F);return new u(O,this.h^j.h)};function $(j){const M=j.g.length+1,O=[];for(let F=0;F<M;F++)O[F]=j.i(F)<<1|j.i(F-1)>>>31;return new u(O,j.h)}function ie(j,M){const O=M>>5;M%=32;const F=j.g.length-O,B=[];for(let N=0;N<F;N++)B[N]=M>0?j.i(N+O)>>>M|j.i(N+O+1)<<32-M:j.i(N+O);return new u(B,j.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,N1=s,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=g,u.fromString=_,Ts=u}).apply(typeof hv<"u"?hv:typeof self<"u"?self:typeof window<"u"?window:{});var Xu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var k1,$l,I1,lh,Lm,D1,O1,j1;(function(){var i,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xu=="object"&&Xu];for(var v=0;v<h.length;++v){var T=h[v];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var s=n(this);function o(h,v){if(v)e:{var T=s;h=h.split(".");for(var U=0;U<h.length-1;U++){var re=h[U];if(!(re in T))break e;T=T[re]}h=h[h.length-1],U=T[h],v=v(U),v!=U&&v!=null&&e(T,h,{configurable:!0,writable:!0,value:v})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(v){var T=[],U;for(U in v)Object.prototype.hasOwnProperty.call(v,U)&&T.push([U,v[U]]);return T}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},u=this||self;function f(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function p(h,v,T){return h.call.apply(h.bind,arguments)}function g(h,v,T){return g=p,g.apply(null,arguments)}function _(h,v){var T=Array.prototype.slice.call(arguments,1);return function(){var U=T.slice();return U.push.apply(U,arguments),h.apply(this,U)}}function b(h,v){function T(){}T.prototype=v.prototype,h.Z=v.prototype,h.prototype=new T,h.prototype.constructor=h,h.Ob=function(U,re,ue){for(var Re=Array(arguments.length-2),We=2;We<arguments.length;We++)Re[We-2]=arguments[We];return v.prototype[re].apply(U,Re)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function w(h){const v=h.length;if(v>0){const T=Array(v);for(let U=0;U<v;U++)T[U]=h[U];return T}return[]}function k(h,v){for(let U=1;U<arguments.length;U++){const re=arguments[U];var T=typeof re;if(T=T!="object"?T:re?Array.isArray(re)?"array":T:"null",T=="array"||T=="object"&&typeof re.length=="number"){T=h.length||0;const ue=re.length||0;h.length=T+ue;for(let Re=0;Re<ue;Re++)h[T+Re]=re[Re]}else h.push(re)}}class A{constructor(v,T){this.i=v,this.j=T,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function R(h){u.setTimeout(()=>{throw h},0)}function I(){var h=j;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class P{constructor(){this.h=this.g=null}add(v,T){const U=z.get();U.set(v,T),this.h?this.h.next=U:this.g=U,this.h=U}}var z=new A(()=>new Y,h=>h.reset());class Y{constructor(){this.next=this.g=this.h=null}set(v,T){this.h=v,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let $,ie=!1,j=new P,M=()=>{const h=Promise.resolve(void 0);$=()=>{h.then(O)}};function O(){for(var h;h=I();){try{h.h.call(h.g)}catch(T){R(T)}var v=z;v.j(h),v.h<100&&(v.h++,h.next=v.g,v.g=h)}ie=!1}function F(){this.u=this.u,this.C=this.C}F.prototype.u=!1,F.prototype.dispose=function(){this.u||(this.u=!0,this.N())},F.prototype[Symbol.dispose]=function(){this.dispose()},F.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function B(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}B.prototype.h=function(){this.defaultPrevented=!0};var N=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};u.addEventListener("test",T,v),u.removeEventListener("test",T,v)}catch{}return h})();function D(h){return/^[\s\xa0]*$/.test(h)}function C(h,v){B.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,v)}b(C,B),C.prototype.init=function(h,v){const T=this.type=h.type,U=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget,v||(T=="mouseover"?v=h.fromElement:T=="mouseout"&&(v=h.toElement)),this.relatedTarget=v,U?(this.clientX=U.clientX!==void 0?U.clientX:U.pageX,this.clientY=U.clientY!==void 0?U.clientY:U.pageY,this.screenX=U.screenX||0,this.screenY=U.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&C.Z.h.call(this)},C.prototype.h=function(){C.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var ne="closure_listenable_"+(Math.random()*1e6|0),Z=0;function ee(h,v,T,U,re){this.listener=h,this.proxy=null,this.src=v,this.type=T,this.capture=!!U,this.ha=re,this.key=++Z,this.da=this.fa=!1}function Ce(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function ye(h,v,T){for(const U in h)v.call(T,h[U],U,h)}function ke(h,v){for(const T in h)v.call(void 0,h[T],T,h)}function V(h){const v={};for(const T in h)v[T]=h[T];return v}const G="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function fe(h,v){let T,U;for(let re=1;re<arguments.length;re++){U=arguments[re];for(T in U)h[T]=U[T];for(let ue=0;ue<G.length;ue++)T=G[ue],Object.prototype.hasOwnProperty.call(U,T)&&(h[T]=U[T])}}function de(h){this.src=h,this.g={},this.h=0}de.prototype.add=function(h,v,T,U,re){const ue=h.toString();h=this.g[ue],h||(h=this.g[ue]=[],this.h++);const Re=Ie(h,v,U,re);return Re>-1?(v=h[Re],T||(v.fa=!1)):(v=new ee(v,this.src,ue,!!U,re),v.fa=T,h.push(v)),v};function ge(h,v){const T=v.type;if(T in h.g){var U=h.g[T],re=Array.prototype.indexOf.call(U,v,void 0),ue;(ue=re>=0)&&Array.prototype.splice.call(U,re,1),ue&&(Ce(v),h.g[T].length==0&&(delete h.g[T],h.h--))}}function Ie(h,v,T,U){for(let re=0;re<h.length;++re){const ue=h[re];if(!ue.da&&ue.listener==v&&ue.capture==!!T&&ue.ha==U)return re}return-1}var Pe="closure_lm_"+(Math.random()*1e6|0),Le={};function je(h,v,T,U,re){if(Array.isArray(v)){for(let ue=0;ue<v.length;ue++)je(h,v[ue],T,U,re);return null}return T=H(T),h&&h[ne]?h.J(v,T,f(U)?!!U.capture:!1,re):_t(h,v,T,!1,U,re)}function _t(h,v,T,U,re,ue){if(!v)throw Error("Invalid event type");const Re=f(re)?!!re.capture:!!re;let We=ce(h);if(We||(h[Pe]=We=new de(h)),T=We.add(v,T,U,Re,ue),T.proxy)return T;if(U=ft(),T.proxy=U,U.src=h,U.listener=T,h.addEventListener)N||(re=Re),re===void 0&&(re=!1),h.addEventListener(v.toString(),U,re);else if(h.attachEvent)h.attachEvent(S(v.toString()),U);else if(h.addListener&&h.removeListener)h.addListener(U);else throw Error("addEventListener and attachEvent are unavailable.");return T}function ft(){function h(T){return v.call(h.src,h.listener,T)}const v=ve;return h}function Ht(h,v,T,U,re){if(Array.isArray(v))for(var ue=0;ue<v.length;ue++)Ht(h,v[ue],T,U,re);else U=f(U)?!!U.capture:!!U,T=H(T),h&&h[ne]?(h=h.i,ue=String(v).toString(),ue in h.g&&(v=h.g[ue],T=Ie(v,T,U,re),T>-1&&(Ce(v[T]),Array.prototype.splice.call(v,T,1),v.length==0&&(delete h.g[ue],h.h--)))):h&&(h=ce(h))&&(v=h.g[v.toString()],h=-1,v&&(h=Ie(v,T,U,re)),(T=h>-1?v[h]:null)&&Ut(T))}function Ut(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[ne])ge(v.i,h);else{var T=h.type,U=h.proxy;v.removeEventListener?v.removeEventListener(T,U,h.capture):v.detachEvent?v.detachEvent(S(T),U):v.addListener&&v.removeListener&&v.removeListener(U),(T=ce(v))?(ge(T,h),T.h==0&&(T.src=null,v[Pe]=null)):Ce(h)}}}function S(h){return h in Le?Le[h]:Le[h]="on"+h}function ve(h,v){if(h.da)h=!0;else{v=new C(v,this);const T=h.listener,U=h.ha||h.src;h.fa&&Ut(h),h=T.call(U,v)}return h}function ce(h){return h=h[Pe],h instanceof de?h:null}var Q="__closure_events_fn_"+(Math.random()*1e9>>>0);function H(h){return typeof h=="function"?h:(h[Q]||(h[Q]=function(v){return h.handleEvent(v)}),h[Q])}function q(){F.call(this),this.i=new de(this),this.M=this,this.G=null}b(q,F),q.prototype[ne]=!0,q.prototype.removeEventListener=function(h,v,T,U){Ht(this,h,v,T,U)};function se(h,v){var T,U=h.G;if(U)for(T=[];U;U=U.G)T.push(U);if(h=h.M,U=v.type||v,typeof v=="string")v=new B(v,h);else if(v instanceof B)v.target=v.target||h;else{var re=v;v=new B(U,h),fe(v,re)}re=!0;let ue,Re;if(T)for(Re=T.length-1;Re>=0;Re--)ue=v.g=T[Re],re=pe(ue,U,!0,v)&&re;if(ue=v.g=h,re=pe(ue,U,!0,v)&&re,re=pe(ue,U,!1,v)&&re,T)for(Re=0;Re<T.length;Re++)ue=v.g=T[Re],re=pe(ue,U,!1,v)&&re}q.prototype.N=function(){if(q.Z.N.call(this),this.i){var h=this.i;for(const v in h.g){const T=h.g[v];for(let U=0;U<T.length;U++)Ce(T[U]);delete h.g[v],h.h--}}this.G=null},q.prototype.J=function(h,v,T,U){return this.i.add(String(h),v,!1,T,U)},q.prototype.K=function(h,v,T,U){return this.i.add(String(h),v,!0,T,U)};function pe(h,v,T,U){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();let re=!0;for(let ue=0;ue<v.length;++ue){const Re=v[ue];if(Re&&!Re.da&&Re.capture==T){const We=Re.listener,qt=Re.ha||Re.src;Re.fa&&ge(h.i,Re),re=We.call(qt,U)!==!1&&re}}return re&&!U.defaultPrevented}function te(h,v){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:u.setTimeout(h,v||0)}function Ee(h){h.g=te(()=>{h.g=null,h.i&&(h.i=!1,Ee(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class Se extends F{constructor(v,T){super(),this.m=v,this.l=T,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Ee(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xe(h){F.call(this),this.h=h,this.g={}}b(xe,F);var Ne=[];function Ge(h){ye(h.g,function(v,T){this.g.hasOwnProperty(T)&&Ut(v)},h),h.g={}}xe.prototype.N=function(){xe.Z.N.call(this),Ge(this)},xe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qe=u.JSON.stringify,un=u.JSON.parse,nr=class{stringify(h){return u.JSON.stringify(h,void 0)}parse(h){return u.JSON.parse(h,void 0)}};function hn(){}function rr(){}var lt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function jt(){B.call(this,"d")}b(jt,B);function rn(){B.call(this,"c")}b(rn,B);var ut={},me=null;function Fe(){return me=me||new q}ut.Ia="serverreachability";function Et(h){B.call(this,ut.Ia,h)}b(Et,B);function Je(h){const v=Fe();se(v,new Et(v))}ut.STAT_EVENT="statevent";function Tt(h,v){B.call(this,ut.STAT_EVENT,h),this.stat=v}b(Tt,B);function Xe(h){const v=Fe();se(v,new Tt(v,h))}ut.Ja="timingevent";function It(h,v){B.call(this,ut.Ja,h),this.size=v}b(It,B);function Sn(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){h()},v)}function sn(){this.g=!0}sn.prototype.ua=function(){this.g=!1};function _r(h,v,T,U,re,ue){h.info(function(){if(h.g)if(ue){var Re="",We=ue.split("&");for(let gt=0;gt<We.length;gt++){var qt=We[gt].split("=");if(qt.length>1){const Mt=qt[0];qt=qt[1];const or=Mt.split("_");Re=or.length>=2&&or[1]=="type"?Re+(Mt+"="+qt+"&"):Re+(Mt+"=redacted&")}}}else Re=null;else Re=ue;return"XMLHTTP REQ ("+U+") [attempt "+re+"]: "+v+`
`+T+`
`+Re})}function dt(h,v,T,U,re,ue,Re){h.info(function(){return"XMLHTTP RESP ("+U+") [ attempt "+re+"]: "+v+`
`+T+`
`+ue+" "+Re})}function Bn(h,v,T,U){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+ad(h,T)+(U?" "+U:"")})}function Vs(h,v){h.info(function(){return"TIMEOUT: "+v})}sn.prototype.info=function(){};function ad(h,v){if(!h.g)return v;if(!v)return null;try{const ue=JSON.parse(v);if(ue){for(h=0;h<ue.length;h++)if(Array.isArray(ue[h])){var T=ue[h];if(!(T.length<2)){var U=T[1];if(Array.isArray(U)&&!(U.length<1)){var re=U[0];if(re!="noop"&&re!="stop"&&re!="close")for(let Re=1;Re<U.length;Re++)U[Re]=""}}}}return Qe(ue)}catch{return v}}var Ps={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},qo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Go;function zs(){}b(zs,hn),zs.prototype.g=function(){return new XMLHttpRequest},Go=new zs;function ai(h){return encodeURIComponent(String(h))}function Sc(h){var v=1;h=h.split(":");const T=[];for(;v>0&&h.length;)T.push(h.shift()),v--;return h.length&&T.push(h.join(":")),T}function vr(h,v,T,U){this.j=h,this.i=v,this.l=T,this.S=U||1,this.V=new xe(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new br}function br(){this.i=null,this.g="",this.h=!1}var Yt={},dn={};function Lr(h,v,T){h.M=1,h.A=Us(Xt(v)),h.u=T,h.R=!0,Aa(h,null)}function Aa(h,v){h.F=Date.now(),Vr(h),h.B=Xt(h.A);var T=h.B,U=h.S;Array.isArray(U)||(U=[String(U)]),ka(T.i,"t",U),h.C=0,T=h.j.L,h.h=new br,h.g=Uc(h.j,T?v:null,!h.u),h.P>0&&(h.O=new Se(g(h.Y,h,h.g),h.P)),v=h.V,T=h.g,U=h.ba;var re="readystatechange";Array.isArray(re)||(re&&(Ne[0]=re.toString()),re=Ne);for(let ue=0;ue<re.length;ue++){const Re=je(T,re[ue],U||v.handleEvent,!1,v.h||v);if(!Re)break;v.g[Re.key]=Re}v=h.J?V(h.J):{},h.u?(h.v||(h.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,v)):(h.v="GET",h.g.ea(h.B,h.v,null,v)),Je(),_r(h.i,h.v,h.B,h.l,h.S,h.u)}vr.prototype.ba=function(h){h=h.target;const v=this.O;v&&Er(h)==3?v.j():this.Y(h)},vr.prototype.Y=function(h){try{if(h==this.g)e:{const We=Er(this.g),qt=this.g.ya(),gt=this.g.ca();if(!(We<3)&&(We!=3||this.g&&(this.h.h||this.g.la()||vn(this.g)))){this.K||We!=4||qt==7||(qt==8||gt<=0?Je(3):Je(2)),Pr(this);var v=this.g.ca();this.X=v;var T=od(this);if(this.o=v==200,dt(this.i,this.v,this.B,this.l,this.S,We,v),this.o){if(this.U&&!this.L){t:{if(this.g){var U,re=this.g;if((U=re.g?re.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(U)){var ue=U;break t}}ue=null}if(h=ue)Bn(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,zr(this,h);else{this.o=!1,this.m=3,Xe(12),Fn(this),ir(this);break e}}if(this.R){h=!0;let Mt;for(;!this.K&&this.C<T.length;)if(Mt=Cc(this,T),Mt==dn){We==4&&(this.m=4,Xe(14),h=!1),Bn(this.i,this.l,null,"[Incomplete Response]");break}else if(Mt==Yt){this.m=4,Xe(15),Bn(this.i,this.l,T,"[Invalid Chunk]"),h=!1;break}else Bn(this.i,this.l,Mt,null),zr(this,Mt);if(Ac(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),We!=4||T.length!=0||this.h.h||(this.m=1,Xe(16),h=!1),this.o=this.o&&h,!h)Bn(this.i,this.l,T,"[Invalid Chunked Response]"),Fn(this),ir(this);else if(T.length>0&&!this.W){this.W=!0;var Re=this.j;Re.g==this&&Re.aa&&!Re.P&&(Re.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),al(Re),Re.P=!0,Xe(11))}}else Bn(this.i,this.l,T,null),zr(this,T);We==4&&Fn(this),this.o&&!this.K&&(We==4?Lc(this.j,this):(this.o=!1,Vr(this)))}else li(this.g),v==400&&T.indexOf("Unknown SID")>0?(this.m=3,Xe(12)):(this.m=0,Xe(13)),Fn(this),ir(this)}}}catch{}finally{}};function od(h){if(!Ac(h))return h.g.la();const v=vn(h.g);if(v==="")return"";let T="";const U=v.length,re=Er(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Fn(h),ir(h),"";h.h.i=new u.TextDecoder}for(let ue=0;ue<U;ue++)h.h.h=!0,T+=h.h.i.decode(v[ue],{stream:!(re&&ue==U-1)});return v.length=0,h.h.g+=T,h.C=0,h.h.g}function Ac(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Cc(h,v){var T=h.C,U=v.indexOf(`
`,T);return U==-1?dn:(T=Number(v.substring(T,U)),isNaN(T)?Yt:(U+=1,U+T>v.length?dn:(v=v.slice(U,U+T),h.C=U+T,v)))}vr.prototype.cancel=function(){this.K=!0,Fn(this)};function Vr(h){h.T=Date.now()+h.H,Ca(h,h.H)}function Ca(h,v){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Sn(g(h.aa,h),v)}function Pr(h){h.D&&(u.clearTimeout(h.D),h.D=null)}vr.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Vs(this.i,this.B),this.M!=2&&(Je(),Xe(17)),Fn(this),this.m=2,ir(this)):Ca(this,this.T-h)};function ir(h){h.j.I==0||h.K||Lc(h.j,h)}function Fn(h){Pr(h);var v=h.O;v&&typeof v.dispose=="function"&&v.dispose(),h.O=null,Ge(h.V),h.g&&(v=h.g,h.g=null,v.abort(),v.dispose())}function zr(h,v){try{var T=h.j;if(T.I!=0&&(T.g==h||Br(T.h,h))){if(!h.L&&Br(T.h,h)&&T.I==3){try{var U=T.Ba.g.parse(v)}catch{U=null}if(Array.isArray(U)&&U.length==3){var re=U;if(re[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<h.F)Ma(T),Ki(T);else break e;Ks(T),Xe(18)}}else T.xa=re[1],0<T.xa-T.K&&re[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=Sn(g(T.Va,T),6e3));Ur(T.h)<=1&&T.ta&&(T.ta=void 0)}else Kr(T,11)}else if((h.L||T.g==h)&&Ma(T),!D(v))for(re=T.Ba.g.parse(v),v=0;v<re.length;v++){let gt=re[v];const Mt=gt[0];if(!(Mt<=T.K))if(T.K=Mt,gt=gt[1],T.I==2)if(gt[0]=="c"){T.M=gt[1],T.ba=gt[2];const or=gt[3];or!=null&&(T.ka=or,T.j.info("VER="+T.ka));const Yr=gt[4];Yr!=null&&(T.za=Yr,T.j.info("SVER="+T.za));const Tr=gt[5];Tr!=null&&typeof Tr=="number"&&Tr>0&&(U=1.5*Tr,T.O=U,T.j.info("backChannelRequestTimeoutMs_="+U)),U=T;const Sr=h.g;if(Sr){const Ys=Sr.g?Sr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ys){var ue=U.h;ue.g||Ys.indexOf("spdy")==-1&&Ys.indexOf("quic")==-1&&Ys.indexOf("h2")==-1||(ue.j=ue.l,ue.g=new Set,ue.h&&(Yo(ue,ue.h),ue.h=null))}if(U.G){const La=Sr.g?Sr.g.getResponseHeader("X-HTTP-Session-Id"):null;La&&(U.wa=La,bt(U.J,U.G,La))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-h.F,T.j.info("Handshake RTT: "+T.T+"ms")),U=T;var Re=h;if(U.na=zc(U,U.L?U.ba:null,U.W),Re.L){$o(U.h,Re);var We=Re,qt=U.O;qt&&(We.H=qt),We.D&&(Pr(We),Vr(We)),U.g=Re}else jc(U);T.i.length>0&&Qr(T)}else gt[0]!="stop"&&gt[0]!="close"||Kr(T,7);else T.I==3&&(gt[0]=="stop"||gt[0]=="close"?gt[0]=="stop"?Kr(T,7):il(T):gt[0]!="noop"&&T.l&&T.l.qa(gt),T.A=0)}}Je(4)}catch{}}var $t=class{constructor(h,v){this.g=h,this.map=v}};function Qo(h){this.l=h||10,u.PerformanceNavigationTiming?(h=u.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ko(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Ur(h){return h.h?1:h.g?h.g.size:0}function Br(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function Yo(h,v){h.g?h.g.add(v):h.h=v}function $o(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}Qo.prototype.cancel=function(){if(this.i=Xo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Xo(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const T of h.g.values())v=v.concat(T.G);return v}return w(h.i)}var Rc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ra(h,v){if(h){h=h.split("&");for(let T=0;T<h.length;T++){const U=h[T].indexOf("=");let re,ue=null;U>=0?(re=h[T].substring(0,U),ue=h[T].substring(U+1)):re=h[T],v(re,ue?decodeURIComponent(ue.replace(/\+/g," ")):"")}}}function Hn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;h instanceof Hn?(this.l=h.l,fn(this,h.j),this.o=h.o,this.g=h.g,Ui(this,h.u),this.h=h.h,Wo(this,Dc(h.i)),this.m=h.m):h&&(v=String(h).match(Rc))?(this.l=!1,fn(this,v[1]||"",!0),this.o=Fr(v[2]||""),this.g=Fr(v[3]||"",!0),Ui(this,v[4]),this.h=Fr(v[5]||"",!0),Wo(this,v[6]||"",!0),this.m=Fr(v[7]||"")):(this.l=!1,this.i=new Fi(null,this.l))}Hn.prototype.toString=function(){const h=[];var v=this.j;v&&h.push(Bs(v,Na,!0),":");var T=this.g;return(T||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Bs(v,Na,!0),"@"),h.push(ai(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&h.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(Bs(T,T.charAt(0)=="/"?Zo:Nc,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",Bs(T,kc)),h.join("")},Hn.prototype.resolve=function(h){const v=Xt(this);let T=!!h.j;T?fn(v,h.j):T=!!h.o,T?v.o=h.o:T=!!h.g,T?v.g=h.g:T=h.u!=null;var U=h.h;if(T)Ui(v,h.u);else if(T=!!h.h){if(U.charAt(0)!="/")if(this.g&&!this.h)U="/"+U;else{var re=v.h.lastIndexOf("/");re!=-1&&(U=v.h.slice(0,re+1)+U)}if(re=U,re==".."||re==".")U="";else if(re.indexOf("./")!=-1||re.indexOf("/.")!=-1){U=re.lastIndexOf("/",0)==0,re=re.split("/");const ue=[];for(let Re=0;Re<re.length;){const We=re[Re++];We=="."?U&&Re==re.length&&ue.push(""):We==".."?((ue.length>1||ue.length==1&&ue[0]!="")&&ue.pop(),U&&Re==re.length&&ue.push("")):(ue.push(We),U=!0)}U=ue.join("/")}else U=re}return T?v.h=U:T=h.i.toString()!=="",T?Wo(v,Dc(h.i)):T=!!h.m,T&&(v.m=h.m),v};function Xt(h){return new Hn(h)}function fn(h,v,T){h.j=T?Fr(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function Ui(h,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);h.u=v}else h.u=null}function Wo(h,v,T){v instanceof Fi?(h.i=v,Ia(h.i,h.l)):(T||(v=Bs(v,Bi)),h.i=new Fi(v,h.l))}function bt(h,v,T){h.i.set(v,T)}function Us(h){return bt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Fr(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Bs(h,v,T){return typeof h=="string"?(h=encodeURI(h).replace(v,On),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function On(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Na=/[#\/\?@]/g,Nc=/[#\?:]/g,Zo=/[#\?]/g,Bi=/[#\?@]/g,kc=/#/g;function Fi(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function jn(h){h.g||(h.g=new Map,h.h=0,h.i&&Ra(h.i,function(v,T){h.add(decodeURIComponent(v.replace(/\+/g," ")),T)}))}i=Fi.prototype,i.add=function(h,v){jn(this),this.i=null,h=Hi(this,h);let T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(v),this.h+=1,this};function Ic(h,v){jn(h),v=Hi(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function Jo(h,v){return jn(h),v=Hi(h,v),h.g.has(v)}i.forEach=function(h,v){jn(this),this.g.forEach(function(T,U){T.forEach(function(re){h.call(v,re,U,this)},this)},this)};function el(h,v){jn(h);let T=[];if(typeof v=="string")Jo(h,v)&&(T=T.concat(h.g.get(Hi(h,v))));else for(h=Array.from(h.g.values()),v=0;v<h.length;v++)T=T.concat(h[v]);return T}i.set=function(h,v){return jn(this),this.i=null,h=Hi(this,h),Jo(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},i.get=function(h,v){return h?(h=el(this,h),h.length>0?String(h[0]):v):v};function ka(h,v,T){Ic(h,v),T.length>0&&(h.i=null,h.g.set(Hi(h,v),w(T)),h.h+=T.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(let U=0;U<v.length;U++){var T=v[U];const re=ai(T);T=el(this,T);for(let ue=0;ue<T.length;ue++){let Re=re;T[ue]!==""&&(Re+="="+ai(T[ue])),h.push(Re)}}return this.i=h.join("&")};function Dc(h){const v=new Fi;return v.i=h.i,h.g&&(v.g=new Map(h.g),v.h=h.h),v}function Hi(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function Ia(h,v){v&&!h.j&&(jn(h),h.i=null,h.g.forEach(function(T,U){const re=U.toLowerCase();U!=re&&(Ic(this,U),ka(this,re,T))},h)),h.j=v}function xr(h,v){const T=new sn;if(u.Image){const U=new Image;U.onload=_(sr,T,"TestLoadImage: loaded",!0,v,U),U.onerror=_(sr,T,"TestLoadImage: error",!1,v,U),U.onabort=_(sr,T,"TestLoadImage: abort",!1,v,U),U.ontimeout=_(sr,T,"TestLoadImage: timeout",!1,v,U),u.setTimeout(function(){U.ontimeout&&U.ontimeout()},1e4),U.src=h}else v(!1)}function tl(h,v){const T=new sn,U=new AbortController,re=setTimeout(()=>{U.abort(),sr(T,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:U.signal}).then(ue=>{clearTimeout(re),ue.ok?sr(T,"TestPingServer: ok",!0,v):sr(T,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(re),sr(T,"TestPingServer: error",!1,v)})}function sr(h,v,T,U,re){try{re&&(re.onload=null,re.onerror=null,re.onabort=null,re.ontimeout=null),U(T)}catch{}}function qi(){this.g=new nr}function Hr(h){this.i=h.Sb||null,this.h=h.ab||!1}b(Hr,hn),Hr.prototype.g=function(){return new Fs(this.i,this.h)};function Fs(h,v){q.call(this),this.H=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Fs,q),i=Fs.prototype,i.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=v,this.readyState=1,wr(this)},i.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(v.body=h),(this.H||u).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Gi(this)),this.readyState=0},i.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,wr(this)),this.g&&(this.readyState=3,wr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Da(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Da(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}i.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?Gi(this):wr(this),this.readyState==3&&Da(this)}},i.Oa=function(h){this.g&&(this.response=this.responseText=h,Gi(this))},i.Na=function(h){this.g&&(this.response=h,Gi(this))},i.ga=function(){this.g&&Gi(this)};function Gi(h){h.readyState=4,h.l=null,h.j=null,h.B=null,wr(h)}i.setRequestHeader=function(h,v){this.A.append(h,v)},i.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var T=v.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=v.next();return h.join(`\r
`)};function wr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Fs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function ar(h){let v="";return ye(h,function(T,U){v+=U,v+=":",v+=T,v+=`\r
`}),v}function Hs(h,v,T){e:{for(U in T){var U=!1;break e}U=!0}U||(T=ar(T),typeof h=="string"?T!=null&&ai(T):bt(h,v,T))}function St(h){q.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(St,q);var qr=/^https?$/i,nl=["POST","PUT"];i=St.prototype,i.Fa=function(h){this.H=h},i.ea=function(h,v,T,U){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Go.g(),this.g.onreadystatechange=E(g(this.Ca,this));try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(ue){qs(this,ue);return}if(h=T||"",T=new Map(this.headers),U)if(Object.getPrototypeOf(U)===Object.prototype)for(var re in U)T.set(re,U[re]);else if(typeof U.keys=="function"&&typeof U.get=="function")for(const ue of U.keys())T.set(ue,U.get(ue));else throw Error("Unknown input type for opt_headers: "+String(U));U=Array.from(T.keys()).find(ue=>ue.toLowerCase()=="content-type"),re=u.FormData&&h instanceof u.FormData,!(Array.prototype.indexOf.call(nl,v,void 0)>=0)||U||re||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ue,Re]of T)this.g.setRequestHeader(ue,Re);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(ue){qs(this,ue)}};function qs(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.o=5,rl(h),oi(h)}function rl(h){h.A||(h.A=!0,se(h,"complete"),se(h,"error"))}i.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,se(this,"complete"),se(this,"abort"),oi(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),oi(this,!0)),St.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?Gs(this):this.Xa())},i.Xa=function(){Gs(this)};function Gs(h){if(h.h&&typeof c<"u"){if(h.v&&Er(h)==4)setTimeout(h.Ca.bind(h),0);else if(se(h,"readystatechange"),Er(h)==4){h.h=!1;try{const ue=h.ca();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var T;if(!(T=v)){var U;if(U=ue===0){let Re=String(h.D).match(Rc)[1]||null;!Re&&u.self&&u.self.location&&(Re=u.self.location.protocol.slice(0,-1)),U=!qr.test(Re?Re.toLowerCase():"")}T=U}if(T)se(h,"complete"),se(h,"success");else{h.o=6;try{var re=Er(h)>2?h.g.statusText:""}catch{re=""}h.l=re+" ["+h.ca()+"]",rl(h)}}finally{oi(h)}}}}function oi(h,v){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const T=h.g;h.g=null,v||se(h,"ready");try{T.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function Er(h){return h.g?h.g.readyState:0}i.ca=function(){try{return Er(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),un(v)}};function vn(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function li(h){const v={};h=(h.g&&Er(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let U=0;U<h.length;U++){if(D(h[U]))continue;var T=Sc(h[U]);const re=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const ue=v[re]||[];v[re]=ue,ue.push(T)}ke(v,function(U){return U.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Gr(h,v,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||v}function Qi(h){this.za=0,this.i=[],this.j=new sn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Gr("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Gr("baseRetryDelayMs",5e3,h),this.Za=Gr("retryDelaySeedMs",1e4,h),this.Ta=Gr("forwardChannelMaxRetries",2,h),this.va=Gr("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Qo(h&&h.concurrentRequestLimit),this.Ba=new qi,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Qi.prototype,i.ka=8,i.I=1,i.connect=function(h,v,T,U){Xe(0),this.W=h,this.H=v||{},T&&U!==void 0&&(this.H.OSID=T,this.H.OAID=U),this.F=this.X,this.J=zc(this,null,this.W),Qr(this)};function il(h){if(Oa(h),h.I==3){var v=h.V++,T=Xt(h.J);if(bt(T,"SID",h.M),bt(T,"RID",v),bt(T,"TYPE","terminate"),Qs(h,T),v=new vr(h,h.j,v),v.M=2,v.A=Us(Xt(T)),T=!1,u.navigator&&u.navigator.sendBeacon)try{T=u.navigator.sendBeacon(v.A.toString(),"")}catch{}!T&&u.Image&&(new Image().src=v.A,T=!0),T||(v.g=Uc(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Vr(v)}Pc(h)}function Ki(h){h.g&&(al(h),h.g.cancel(),h.g=null)}function Oa(h){Ki(h),h.v&&(u.clearTimeout(h.v),h.v=null),Ma(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&u.clearTimeout(h.m),h.m=null)}function Qr(h){if(!Ko(h.h)&&!h.m){h.m=!0;var v=h.Ea;$||M(),ie||($(),ie=!0),j.add(v,h),h.D=0}}function ja(h,v){return Ur(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=v.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Sn(g(h.Ea,h,v),Vc(h,h.D)),h.D++,!0)}i.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const re=new vr(this,this.j,h);let ue=this.o;if(this.U&&(ue?(ue=V(ue),fe(ue,this.U)):ue=this.U),this.u!==null||this.R||(re.J=ue,ue=null),this.S)e:{for(var v=0,T=0;T<this.i.length;T++){t:{var U=this.i[T];if("__data__"in U.map&&(U=U.map.__data__,typeof U=="string")){U=U.length;break t}U=void 0}if(U===void 0)break;if(v+=U,v>4096){v=T;break e}if(v===4096||T===this.i.length-1){v=T+1;break e}}v=1e3}else v=1e3;v=Oc(this,re,v),T=Xt(this.J),bt(T,"RID",h),bt(T,"CVER",22),this.G&&bt(T,"X-HTTP-Session-Id",this.G),Qs(this,T),ue&&(this.R?v="headers="+ai(ar(ue))+"&"+v:this.u&&Hs(T,this.u,ue)),Yo(this.h,re),this.Ra&&bt(T,"TYPE","init"),this.S?(bt(T,"$req",v),bt(T,"SID","null"),re.U=!0,Lr(re,T,null)):Lr(re,T,v),this.I=2}}else this.I==3&&(h?sl(this,h):this.i.length==0||Ko(this.h)||sl(this))};function sl(h,v){var T;v?T=v.l:T=h.V++;const U=Xt(h.J);bt(U,"SID",h.M),bt(U,"RID",T),bt(U,"AID",h.K),Qs(h,U),h.u&&h.o&&Hs(U,h.u,h.o),T=new vr(h,h.j,T,h.D+1),h.u===null&&(T.J=h.o),v&&(h.i=v.G.concat(h.i)),v=Oc(h,T,1e3),T.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Yo(h.h,T),Lr(T,U,v)}function Qs(h,v){h.H&&ye(h.H,function(T,U){bt(v,U,T)}),h.l&&ye({},function(T,U){bt(v,U,T)})}function Oc(h,v,T){T=Math.min(h.i.length,T);const U=h.l?g(h.l.Ka,h.l,h):null;e:{var re=h.i;let We=-1;for(;;){const qt=["count="+T];We==-1?T>0?(We=re[0].g,qt.push("ofs="+We)):We=0:qt.push("ofs="+We);let gt=!0;for(let Mt=0;Mt<T;Mt++){var ue=re[Mt].g;const or=re[Mt].map;if(ue-=We,ue<0)We=Math.max(0,re[Mt].g-100),gt=!1;else try{ue="req"+ue+"_"||"";try{var Re=or instanceof Map?or:Object.entries(or);for(const[Yr,Tr]of Re){let Sr=Tr;f(Tr)&&(Sr=Qe(Tr)),qt.push(ue+Yr+"="+encodeURIComponent(Sr))}}catch(Yr){throw qt.push(ue+"type="+encodeURIComponent("_badmap")),Yr}}catch{U&&U(or)}}if(gt){Re=qt.join("&");break e}}Re=void 0}return h=h.i.splice(0,T),v.G=h,Re}function jc(h){if(!h.g&&!h.v){h.Y=1;var v=h.Da;$||M(),ie||($(),ie=!0),j.add(v,h),h.A=0}}function Ks(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Sn(g(h.Da,h),Vc(h,h.A)),h.A++,!0)}i.Da=function(){if(this.v=null,Mc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Sn(g(this.Wa,this),h)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Xe(10),Ki(this),Mc(this))};function al(h){h.B!=null&&(u.clearTimeout(h.B),h.B=null)}function Mc(h){h.g=new vr(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var v=Xt(h.na);bt(v,"RID","rpc"),bt(v,"SID",h.M),bt(v,"AID",h.K),bt(v,"CI",h.F?"0":"1"),!h.F&&h.ia&&bt(v,"TO",h.ia),bt(v,"TYPE","xmlhttp"),Qs(h,v),h.u&&h.o&&Hs(v,h.u,h.o),h.O&&(h.g.H=h.O);var T=h.g;h=h.ba,T.M=1,T.A=Us(Xt(v)),T.u=null,T.R=!0,Aa(T,h)}i.Va=function(){this.C!=null&&(this.C=null,Ki(this),Ks(this),Xe(19))};function Ma(h){h.C!=null&&(u.clearTimeout(h.C),h.C=null)}function Lc(h,v){var T=null;if(h.g==v){Ma(h),al(h),h.g=null;var U=2}else if(Br(h.h,v))T=v.G,$o(h.h,v),U=1;else return;if(h.I!=0){if(v.o)if(U==1){T=v.u?v.u.length:0,v=Date.now()-v.F;var re=h.D;U=Fe(),se(U,new It(U,T)),Qr(h)}else jc(h);else if(re=v.m,re==3||re==0&&v.X>0||!(U==1&&ja(h,v)||U==2&&Ks(h)))switch(T&&T.length>0&&(v=h.h,v.i=v.i.concat(T)),re){case 1:Kr(h,5);break;case 4:Kr(h,10);break;case 3:Kr(h,6);break;default:Kr(h,2)}}}function Vc(h,v){let T=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(T*=2),T*v}function Kr(h,v){if(h.j.info("Error code "+v),v==2){var T=g(h.bb,h),U=h.Ua;const re=!U;U=new Hn(U||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||fn(U,"https"),Us(U),re?xr(U.toString(),T):tl(U.toString(),T)}else Xe(2);h.I=0,h.l&&h.l.pa(v),Pc(h),Oa(h)}i.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Xe(2)):(this.j.info("Failed to ping google.com"),Xe(1))};function Pc(h){if(h.I=0,h.ja=[],h.l){const v=Xo(h.h);(v.length!=0||h.i.length!=0)&&(k(h.ja,v),k(h.ja,h.i),h.h.i.length=0,w(h.i),h.i.length=0),h.l.oa()}}function zc(h,v,T){var U=T instanceof Hn?Xt(T):new Hn(T);if(U.g!="")v&&(U.g=v+"."+U.g),Ui(U,U.u);else{var re=u.location;U=re.protocol,v=v?v+"."+re.hostname:re.hostname,re=+re.port;const ue=new Hn(null);U&&fn(ue,U),v&&(ue.g=v),re&&Ui(ue,re),T&&(ue.h=T),U=ue}return T=h.G,v=h.wa,T&&v&&bt(U,T,v),bt(U,"VER",h.ka),Qs(h,U),U}function Uc(h,v,T){if(v&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Aa&&!h.ma?new St(new Hr({ab:T})):new St(h.ma),v.Fa(h.L),v}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Bc(){}i=Bc.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Yi(){}Yi.prototype.g=function(h,v){return new In(h,v)};function In(h,v){q.call(this),this.g=new Qi(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(h?h["X-WebChannel-Client-Profile"]=v.sa:h={"X-WebChannel-Client-Profile":v.sa}),this.g.U=h,(h=v&&v.Qb)&&!D(h)&&(this.g.u=h),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!D(v)&&(this.g.G=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new ci(this)}b(In,q),In.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},In.prototype.close=function(){il(this.g)},In.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.v&&(T={},T.__data__=Qe(h),h=T);v.i.push(new $t(v.Ya++,h)),v.I==3&&Qr(v)},In.prototype.N=function(){this.g.l=null,delete this.j,il(this.g),delete this.g,In.Z.N.call(this)};function Fc(h){jt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const T in v){h=T;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}b(Fc,jt);function Hc(){rn.call(this),this.status=1}b(Hc,rn);function ci(h){this.g=h}b(ci,Bc),ci.prototype.ra=function(){se(this.g,"a")},ci.prototype.qa=function(h){se(this.g,new Fc(h))},ci.prototype.pa=function(h){se(this.g,new Hc)},ci.prototype.oa=function(){se(this.g,"b")},Yi.prototype.createWebChannel=Yi.prototype.g,In.prototype.send=In.prototype.o,In.prototype.open=In.prototype.m,In.prototype.close=In.prototype.close,j1=function(){return new Yi},O1=function(){return Fe()},D1=ut,Lm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ps.NO_ERROR=0,Ps.TIMEOUT=8,Ps.HTTP_ERROR=6,lh=Ps,qo.COMPLETE="complete",I1=qo,rr.EventType=lt,lt.OPEN="a",lt.CLOSE="b",lt.ERROR="c",lt.MESSAGE="d",q.prototype.listen=q.prototype.J,$l=rr,St.prototype.listenOnce=St.prototype.K,St.prototype.getLastError=St.prototype.Ha,St.prototype.getLastErrorCode=St.prototype.ya,St.prototype.getStatus=St.prototype.ca,St.prototype.getResponseJson=St.prototype.La,St.prototype.getResponseText=St.prototype.la,St.prototype.send=St.prototype.ea,St.prototype.setWithCredentials=St.prototype.Fa,k1=St}).apply(typeof Xu<"u"?Xu:typeof self<"u"?self:typeof window<"u"?window:{});const dv="@firebase/firestore",fv="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Rn.UNAUTHENTICATED=new Rn(null),Rn.GOOGLE_CREDENTIALS=new Rn("google-credentials-uid"),Rn.FIRST_PARTY=new Rn("first-party-uid"),Rn.MOCK_USER=new Rn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uo="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya=new cp("@firebase/firestore");function fo(){return ya.logLevel}function De(i,...e){if(ya.logLevel<=st.DEBUG){const n=e.map(xp);ya.debug(`Firestore (${Uo}): ${i}`,...n)}}function Li(i,...e){if(ya.logLevel<=st.ERROR){const n=e.map(xp);ya.error(`Firestore (${Uo}): ${i}`,...n)}}function _a(i,...e){if(ya.logLevel<=st.WARN){const n=e.map(xp);ya.warn(`Firestore (${Uo}): ${i}`,...n)}}function xp(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qe(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,M1(i,s,n)}function M1(i,e,n){let s=`FIRESTORE (${Uo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Li(s),new Error(s)}function vt(i,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||M1(e,o,s)}function $e(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ve extends Pi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class V1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Rn.UNAUTHENTICATED)))}shutdown(){}}class DR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class OR{constructor(e){this.t=e,this.currentUser=Rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){vt(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let c=new Ss;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ss,e.enqueueRetryable((()=>o(this.currentUser)))};const u=()=>{const p=c;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},f=p=>{De("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((p=>f(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(De("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ss)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(De("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(vt(typeof s.accessToken=="string",31837,{l:s}),new L1(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return vt(e===null||typeof e=="string",2055,{h:e}),new Rn(e)}}class jR{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Rn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class MR{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new jR(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Rn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class mv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class LR{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Wn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){vt(this.o===void 0,3512);const s=c=>{c.error!=null&&De("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const u=c.token!==this.m;return this.m=c.token,De("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>s(c)))};const o=c=>{De("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):De("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new mv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(vt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new mv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VR(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=VR(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<n&&(s+=e.charAt(o[c]%62))}return s}}function at(i,e){return i<e?-1:i>e?1:0}function Vm(i,e){const n=Math.min(i.length,e.length);for(let s=0;s<n;s++){const o=i.charAt(s),c=e.charAt(s);if(o!==c)return vm(o)===vm(c)?at(o,c):vm(o)?1:-1}return at(i.length,e.length)}const PR=55296,zR=57343;function vm(i){const e=i.charCodeAt(0);return e>=PR&&e<=zR}function Co(i,e,n){return i.length===e.length&&i.every(((s,o)=>n(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv="__name__";class Jr{constructor(e,n,s){n===void 0?n=0:n>e.length&&qe(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&qe(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Jr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Jr?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const c=Jr.compareSegments(e.get(o),n.get(o));if(c!==0)return c}return at(e.length,n.length)}static compareSegments(e,n){const s=Jr.isNumericId(e),o=Jr.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Jr.extractNumericId(e).compare(Jr.extractNumericId(n)):Vm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ts.fromString(e.substring(4,e.length-2))}}class Pt extends Jr{construct(e,n,s){return new Pt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new Ve(Ae.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new Pt(n)}static emptyPath(){return new Pt([])}}const UR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yn extends Jr{construct(e,n,s){return new yn(e,n,s)}static isValidIdentifier(e){return UR.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===pv}static keyField(){return new yn([pv])}static fromServerFormat(e){const n=[];let s="",o=0;const c=()=>{if(s.length===0)throw new Ve(Ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let u=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new Ve(Ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Ve(Ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else f==="`"?(u=!u,o++):f!=="."||u?(s+=f,o++):(c(),o++)}if(c(),u)throw new Ve(Ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new yn(n)}static emptyPath(){return new yn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(e){this.path=e}static fromPath(e){return new Ue(Pt.fromString(e))}static fromName(e){return new Ue(Pt.fromString(e).popFirst(5))}static empty(){return new Ue(Pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Pt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ue(new Pt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BR(i,e,n){if(!n)throw new Ve(Ae.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function P1(i,e,n,s){if(e===!0&&s===!0)throw new Ve(Ae.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function gv(i){if(!Ue.isDocumentKey(i))throw new Ve(Ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function z1(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function wp(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":qe(12329,{type:typeof i})}function Ro(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Ve(Ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=wp(i);throw new Ve(Ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(i,e){const n={typeString:i};return e&&(n.value=e),n}function bc(i,e){if(!z1(i))throw new Ve(Ae.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const u=i[s];if(o&&typeof u!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(c!==void 0&&u!==c.value){n=`Expected '${s}' field to equal '${c.value}'`;break}}if(n)throw new Ve(Ae.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv=-62135596800,_v=1e6;class kt{static now(){return kt.fromMillis(Date.now())}static fromDate(e){return kt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*_v);return new kt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ve(Ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ve(Ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<yv)throw new Ve(Ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ve(Ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/_v}_compareTo(e){return this.seconds===e.seconds?at(this.nanoseconds,e.nanoseconds):at(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:kt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(bc(e,kt._jsonSchema))return new kt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-yv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}kt._jsonSchemaVersion="firestore/timestamp/1.0",kt._jsonSchema={type:nn("string",kt._jsonSchemaVersion),seconds:nn("number"),nanoseconds:nn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{static fromTimestamp(e){return new Ke(e)}static min(){return new Ke(new kt(0,0))}static max(){return new Ke(new kt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oc=-1;function FR(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Ke.fromTimestamp(s===1e9?new kt(n+1,0):new kt(n,s));return new Rs(o,Ue.empty(),e)}function HR(i){return new Rs(i.readTime,i.key,oc)}class Rs{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Rs(Ke.min(),Ue.empty(),oc)}static max(){return new Rs(Ke.max(),Ue.empty(),oc)}}function qR(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=Ue.comparator(i.documentKey,e.documentKey),n!==0?n:at(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class QR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bo(i){if(i.code!==Ae.FAILED_PRECONDITION||i.message!==GR)throw i;De("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&qe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Te(((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Te?n:Te.resolve(n)}catch(n){return Te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Te.reject(n)}static resolve(e){return new Te(((n,s)=>{n(e)}))}static reject(e){return new Te(((n,s)=>{s(e)}))}static waitFor(e){return new Te(((n,s)=>{let o=0,c=0,u=!1;e.forEach((f=>{++o,f.next((()=>{++c,u&&c===o&&n()}),(p=>s(p)))})),u=!0,c===o&&n()}))}static or(e){let n=Te.resolve(!1);for(const s of e)n=n.next((o=>o?Te.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,c)=>{s.push(n.call(this,o,c))})),this.waitFor(s)}static mapArray(e,n){return new Te(((s,o)=>{const c=e.length,u=new Array(c);let f=0;for(let p=0;p<c;p++){const g=p;n(e[g]).next((_=>{u[g]=_,++f,f===c&&s(u)}),(_=>o(_)))}}))}static doWhile(e,n){return new Te(((s,o)=>{const c=()=>{e()===!0?n().next((()=>{c()}),o):s()};c()}))}}function KR(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Fo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Gh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ep=-1;function Qh(i){return i==null}function Eh(i){return i===0&&1/i==-1/0}function YR(i){return typeof i=="number"&&Number.isInteger(i)&&!Eh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1="";function $R(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=vv(e)),e=XR(i.get(n),e);return vv(e)}function XR(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const c=i.charAt(o);switch(c){case"\0":n+="";break;case U1:n+="";break;default:n+=c}}return n}function vv(i){return i+U1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bv(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function wa(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function B1(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e,n){this.comparator=e,this.root=n||Tn.EMPTY}insert(e,n){return new zt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Tn.BLACK,null,null))}remove(e){return new zt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Tn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wu(this.root,e,this.comparator,!0)}}class Wu{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?s(e.key,n):1,n&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Tn{constructor(e,n,s,o,c){this.key=e,this.value=n,this.color=s??Tn.RED,this.left=o??Tn.EMPTY,this.right=c??Tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,c){return new Tn(e??this.key,n??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const c=s(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,n,s),null):c===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Tn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Tn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw qe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw qe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw qe(27949);return e+(this.isRed()?0:1)}}Tn.EMPTY=null,Tn.RED=!0,Tn.BLACK=!1;Tn.EMPTY=new class{constructor(){this.size=0}get key(){throw qe(57766)}get value(){throw qe(16141)}get color(){throw qe(16727)}get left(){throw qe(29726)}get right(){throw qe(36894)}copy(e,n,s,o,c){return this}insert(e,n,s){return new Tn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.comparator=e,this.data=new zt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new xv(this.data.getIterator())}getIteratorFrom(e){return new xv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof cn)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new cn(this.comparator);return n.data=e,n}}class xv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(e){this.fields=e,e.sort(yn.comparator)}static empty(){return new Ir([])}unionWith(e){let n=new cn(yn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Ir(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Co(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new F1("Invalid base64 string: "+c):c}})(e);return new _n(n)}static fromUint8Array(e){const n=(function(o){let c="";for(let u=0;u<o.length;++u)c+=String.fromCharCode(o[u]);return c})(e);return new _n(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return at(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}_n.EMPTY_BYTE_STRING=new _n("");const WR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ns(i){if(vt(!!i,39018),typeof i=="string"){let e=0;const n=WR.exec(i);if(vt(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Kt(i.seconds),nanos:Kt(i.nanos)}}function Kt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function ks(i){return typeof i=="string"?_n.fromBase64String(i):_n.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1="server_timestamp",q1="__type__",G1="__previous_value__",Q1="__local_write_time__";function Tp(i){var n,s;return((s=(((n=i==null?void 0:i.mapValue)==null?void 0:n.fields)||{})[q1])==null?void 0:s.stringValue)===H1}function Kh(i){const e=i.mapValue.fields[G1];return Tp(e)?Kh(e):e}function lc(i){const e=Ns(i.mapValue.fields[Q1].timestampValue);return new kt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(e,n,s,o,c,u,f,p,g,_){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=_}}const Th="(default)";class No{constructor(e,n){this.projectId=e,this.database=n||Th}static empty(){return new No("","")}get isDefaultDatabase(){return this.database===Th}isEqual(e){return e instanceof No&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1="__type__",JR="__max__",Zu={mapValue:{}},Y1="__vector__",Sh="value";function Is(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Tp(i)?4:tN(i)?9007199254740991:eN(i)?10:11:qe(28295,{value:i})}function ii(i,e){if(i===e)return!0;const n=Is(i);if(n!==Is(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return lc(i).isEqual(lc(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const u=Ns(o.timestampValue),f=Ns(c.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,c){return ks(o.bytesValue).isEqual(ks(c.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,c){return Kt(o.geoPointValue.latitude)===Kt(c.geoPointValue.latitude)&&Kt(o.geoPointValue.longitude)===Kt(c.geoPointValue.longitude)})(i,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Kt(o.integerValue)===Kt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const u=Kt(o.doubleValue),f=Kt(c.doubleValue);return u===f?Eh(u)===Eh(f):isNaN(u)&&isNaN(f)}return!1})(i,e);case 9:return Co(i.arrayValue.values||[],e.arrayValue.values||[],ii);case 10:case 11:return(function(o,c){const u=o.mapValue.fields||{},f=c.mapValue.fields||{};if(bv(u)!==bv(f))return!1;for(const p in u)if(u.hasOwnProperty(p)&&(f[p]===void 0||!ii(u[p],f[p])))return!1;return!0})(i,e);default:return qe(52216,{left:i})}}function cc(i,e){return(i.values||[]).find((n=>ii(n,e)))!==void 0}function ko(i,e){if(i===e)return 0;const n=Is(i),s=Is(e);if(n!==s)return at(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return at(i.booleanValue,e.booleanValue);case 2:return(function(c,u){const f=Kt(c.integerValue||c.doubleValue),p=Kt(u.integerValue||u.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1})(i,e);case 3:return wv(i.timestampValue,e.timestampValue);case 4:return wv(lc(i),lc(e));case 5:return Vm(i.stringValue,e.stringValue);case 6:return(function(c,u){const f=ks(c),p=ks(u);return f.compareTo(p)})(i.bytesValue,e.bytesValue);case 7:return(function(c,u){const f=c.split("/"),p=u.split("/");for(let g=0;g<f.length&&g<p.length;g++){const _=at(f[g],p[g]);if(_!==0)return _}return at(f.length,p.length)})(i.referenceValue,e.referenceValue);case 8:return(function(c,u){const f=at(Kt(c.latitude),Kt(u.latitude));return f!==0?f:at(Kt(c.longitude),Kt(u.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return Ev(i.arrayValue,e.arrayValue);case 10:return(function(c,u){var E,w,k,A;const f=c.fields||{},p=u.fields||{},g=(E=f[Sh])==null?void 0:E.arrayValue,_=(w=p[Sh])==null?void 0:w.arrayValue,b=at(((k=g==null?void 0:g.values)==null?void 0:k.length)||0,((A=_==null?void 0:_.values)==null?void 0:A.length)||0);return b!==0?b:Ev(g,_)})(i.mapValue,e.mapValue);case 11:return(function(c,u){if(c===Zu.mapValue&&u===Zu.mapValue)return 0;if(c===Zu.mapValue)return 1;if(u===Zu.mapValue)return-1;const f=c.fields||{},p=Object.keys(f),g=u.fields||{},_=Object.keys(g);p.sort(),_.sort();for(let b=0;b<p.length&&b<_.length;++b){const E=Vm(p[b],_[b]);if(E!==0)return E;const w=ko(f[p[b]],g[_[b]]);if(w!==0)return w}return at(p.length,_.length)})(i.mapValue,e.mapValue);default:throw qe(23264,{he:n})}}function wv(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return at(i,e);const n=Ns(i),s=Ns(e),o=at(n.seconds,s.seconds);return o!==0?o:at(n.nanos,s.nanos)}function Ev(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const c=ko(n[o],s[o]);if(c)return c}return at(n.length,s.length)}function Io(i){return Pm(i)}function Pm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const s=Ns(n);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return ks(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return Ue.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let s="[",o=!0;for(const c of n.values||[])o?o=!1:s+=",",s+=Pm(c);return s+"]"})(i.arrayValue):"mapValue"in i?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",c=!0;for(const u of s)c?c=!1:o+=",",o+=`${u}:${Pm(n.fields[u])}`;return o+"}"})(i.mapValue):qe(61005,{value:i})}function ch(i){switch(Is(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Kh(i);return e?16+ch(e):16;case 5:return 2*i.stringValue.length;case 6:return ks(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,c)=>o+ch(c)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return wa(s.fields,((c,u)=>{o+=c.length+ch(u)})),o})(i.mapValue);default:throw qe(13486,{value:i})}}function zm(i){return!!i&&"integerValue"in i}function Sp(i){return!!i&&"arrayValue"in i}function Tv(i){return!!i&&"nullValue"in i}function Sv(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function uh(i){return!!i&&"mapValue"in i}function eN(i){var n,s;return((s=(((n=i==null?void 0:i.mapValue)==null?void 0:n.fields)||{})[K1])==null?void 0:s.stringValue)===Y1}function ec(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return wa(i.mapValue.fields,((n,s)=>e.mapValue.fields[n]=ec(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ec(i.arrayValue.values[n]);return e}return{...i}}function tN(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===JR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e){this.value=e}static empty(){return new gr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!uh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ec(n)}setAll(e){let n=yn.emptyPath(),s={},o=[];e.forEach(((u,f)=>{if(!n.isImmediateParentOf(f)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=f.popLast()}u?s[f.lastSegment()]=ec(u):o.push(f.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,s,o)}delete(e){const n=this.field(e.popLast());uh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ii(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];uh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){wa(n,((o,c)=>e[o]=c));for(const o of s)delete e[o]}clone(){return new gr(ec(this.value))}}function $1(i){const e=[];return wa(i.fields,((n,s)=>{const o=new yn([n]);if(uh(s)){const c=$1(s.mapValue).fields;if(c.length===0)e.push(o);else for(const u of c)e.push(o.child(u))}else e.push(o)})),new Ir(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e,n,s,o,c,u,f){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=c,this.data=u,this.documentState=f}static newInvalidDocument(e){return new Nn(e,0,Ke.min(),Ke.min(),Ke.min(),gr.empty(),0)}static newFoundDocument(e,n,s,o){return new Nn(e,1,n,Ke.min(),s,o,0)}static newNoDocument(e,n){return new Nn(e,2,n,Ke.min(),Ke.min(),gr.empty(),0)}static newUnknownDocument(e,n){return new Nn(e,3,n,Ke.min(),Ke.min(),gr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,n){this.position=e,this.inclusive=n}}function Av(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const c=e[o],u=i.position[o];if(c.field.isKeyField()?s=Ue.comparator(Ue.fromName(u.referenceValue),n.key):s=ko(u,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function Cv(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!ii(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e,n="asc"){this.field=e,this.dir=n}}function nN(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{}class on extends X1{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new iN(e,n,s):n==="array-contains"?new oN(e,s):n==="in"?new lN(e,s):n==="not-in"?new cN(e,s):n==="array-contains-any"?new uN(e,s):new on(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new sN(e,s):new aN(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ko(n,this.value)):n!==null&&Is(this.value)===Is(n)&&this.matchesComparison(ko(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return qe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class si extends X1{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new si(e,n)}matches(e){return W1(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function W1(i){return i.op==="and"}function Z1(i){return rN(i)&&W1(i)}function rN(i){for(const e of i.filters)if(e instanceof si)return!1;return!0}function Um(i){if(i instanceof on)return i.field.canonicalString()+i.op.toString()+Io(i.value);if(Z1(i))return i.filters.map((e=>Um(e))).join(",");{const e=i.filters.map((n=>Um(n))).join(",");return`${i.op}(${e})`}}function J1(i,e){return i instanceof on?(function(s,o){return o instanceof on&&s.op===o.op&&s.field.isEqual(o.field)&&ii(s.value,o.value)})(i,e):i instanceof si?(function(s,o){return o instanceof si&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((c,u,f)=>c&&J1(u,o.filters[f])),!0):!1})(i,e):void qe(19439)}function ex(i){return i instanceof on?(function(n){return`${n.field.canonicalString()} ${n.op} ${Io(n.value)}`})(i):i instanceof si?(function(n){return n.op.toString()+" {"+n.getFilters().map(ex).join(" ,")+"}"})(i):"Filter"}class iN extends on{constructor(e,n,s){super(e,n,s),this.key=Ue.fromName(s.referenceValue)}matches(e){const n=Ue.comparator(e.key,this.key);return this.matchesComparison(n)}}class sN extends on{constructor(e,n){super(e,"in",n),this.keys=tx("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class aN extends on{constructor(e,n){super(e,"not-in",n),this.keys=tx("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function tx(i,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((s=>Ue.fromName(s.referenceValue)))}class oN extends on{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Sp(n)&&cc(n.arrayValue,this.value)}}class lN extends on{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&cc(this.value.arrayValue,n)}}class cN extends on{constructor(e,n){super(e,"not-in",n)}matches(e){if(cc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!cc(this.value.arrayValue,n)}}class uN extends on{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Sp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>cc(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(e,n=null,s=[],o=[],c=null,u=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=u,this.endAt=f,this.Te=null}}function Rv(i,e=null,n=[],s=[],o=null,c=null,u=null){return new hN(i,e,n,s,o,c,u)}function Ap(i){const e=$e(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Um(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),Qh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Io(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Io(s))).join(",")),e.Te=n}return e.Te}function Cp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!nN(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!J1(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Cv(i.startAt,e.startAt)&&Cv(i.endAt,e.endAt)}function Bm(i){return Ue.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,n=null,s=[],o=[],c=null,u="F",f=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=u,this.startAt=f,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function dN(i,e,n,s,o,c,u,f){return new Yh(i,e,n,s,o,c,u,f)}function Rp(i){return new Yh(i)}function Nv(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function fN(i){return i.collectionGroup!==null}function tc(i){const e=$e(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new cn(yn.comparator);return u.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(f=f.add(g.field))}))})),f})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Ch(c,s))})),n.has(yn.keyField().canonicalString())||e.Ie.push(new Ch(yn.keyField(),s))}return e.Ie}function ni(i){const e=$e(i);return e.Ee||(e.Ee=mN(e,tc(i))),e.Ee}function mN(i,e){if(i.limitType==="F")return Rv(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new Ch(o.field,c)}));const n=i.endAt?new Ah(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Ah(i.startAt.position,i.startAt.inclusive):null;return Rv(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function Fm(i,e,n){return new Yh(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function $h(i,e){return Cp(ni(i),ni(e))&&i.limitType===e.limitType}function nx(i){return`${Ap(ni(i))}|lt:${i.limitType}`}function mo(i){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>ex(o))).join(", ")}]`),Qh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>Io(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>Io(o))).join(",")),`Target(${s})`})(ni(i))}; limitType=${i.limitType})`}function Xh(i,e){return e.isFoundDocument()&&(function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):Ue.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(i,e)&&(function(s,o){for(const c of tc(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(i,e)&&(function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0})(i,e)&&(function(s,o){return!(s.startAt&&!(function(u,f,p){const g=Av(u,f,p);return u.inclusive?g<=0:g<0})(s.startAt,tc(s),o)||s.endAt&&!(function(u,f,p){const g=Av(u,f,p);return u.inclusive?g>=0:g>0})(s.endAt,tc(s),o))})(i,e)}function pN(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function rx(i){return(e,n)=>{let s=!1;for(const o of tc(i)){const c=gN(o,e,n);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function gN(i,e,n){const s=i.field.isKeyField()?Ue.comparator(e.key,n.key):(function(c,u,f){const p=u.data.field(c),g=f.data.field(c);return p!==null&&g!==null?ko(p,g):qe(42886)})(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return qe(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){wa(this.inner,((n,s)=>{for(const[o,c]of s)e(o,c)}))}isEmpty(){return B1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN=new zt(Ue.comparator);function Vi(){return yN}const ix=new zt(Ue.comparator);function Xl(...i){let e=ix;for(const n of i)e=e.insert(n.key,n);return e}function sx(i){let e=ix;return i.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function fa(){return nc()}function ax(){return nc()}function nc(){return new Ea((i=>i.toString()),((i,e)=>i.isEqual(e)))}const _N=new zt(Ue.comparator),vN=new cn(Ue.comparator);function ot(...i){let e=vN;for(const n of i)e=e.add(n);return e}const bN=new cn(at);function xN(){return bN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Np(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Eh(e)?"-0":e}}function ox(i){return{integerValue:""+i}}function wN(i,e){return YR(e)?ox(e):Np(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(){this._=void 0}}function EN(i,e,n){return i instanceof Rh?(function(o,c){const u={fields:{[q1]:{stringValue:H1},[Q1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Tp(c)&&(c=Kh(c)),c&&(u.fields[G1]=c),{mapValue:u}})(n,e):i instanceof uc?cx(i,e):i instanceof hc?ux(i,e):(function(o,c){const u=lx(o,c),f=kv(u)+kv(o.Ae);return zm(u)&&zm(o.Ae)?ox(f):Np(o.serializer,f)})(i,e)}function TN(i,e,n){return i instanceof uc?cx(i,e):i instanceof hc?ux(i,e):n}function lx(i,e){return i instanceof Nh?(function(s){return zm(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(e)?e:{integerValue:0}:null}class Rh extends Wh{}class uc extends Wh{constructor(e){super(),this.elements=e}}function cx(i,e){const n=hx(e);for(const s of i.elements)n.some((o=>ii(o,s)))||n.push(s);return{arrayValue:{values:n}}}class hc extends Wh{constructor(e){super(),this.elements=e}}function ux(i,e){let n=hx(e);for(const s of i.elements)n=n.filter((o=>!ii(o,s)));return{arrayValue:{values:n}}}class Nh extends Wh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function kv(i){return Kt(i.integerValue||i.doubleValue)}function hx(i){return Sp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function SN(i,e){return i.field.isEqual(e.field)&&(function(s,o){return s instanceof uc&&o instanceof uc||s instanceof hc&&o instanceof hc?Co(s.elements,o.elements,ii):s instanceof Nh&&o instanceof Nh?ii(s.Ae,o.Ae):s instanceof Rh&&o instanceof Rh})(i.transform,e.transform)}class AN{constructor(e,n){this.version=e,this.transformResults=n}}class Di{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Di}static exists(e){return new Di(void 0,e)}static updateTime(e){return new Di(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Zh{}function dx(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new mx(i.key,Di.none()):new xc(i.key,i.data,Di.none());{const n=i.data,s=gr.empty();let o=new cn(yn.comparator);for(let c of e.fields)if(!o.has(c)){let u=n.field(c);u===null&&c.length>1&&(c=c.popLast(),u=n.field(c)),u===null?s.delete(c):s.set(c,u),o=o.add(c)}return new Ta(i.key,s,new Ir(o.toArray()),Di.none())}}function CN(i,e,n){i instanceof xc?(function(o,c,u){const f=o.value.clone(),p=Dv(o.fieldTransforms,c,u.transformResults);f.setAll(p),c.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(i,e,n):i instanceof Ta?(function(o,c,u){if(!hh(o.precondition,c))return void c.convertToUnknownDocument(u.version);const f=Dv(o.fieldTransforms,c,u.transformResults),p=c.data;p.setAll(fx(o)),p.setAll(f),c.convertToFoundDocument(u.version,p).setHasCommittedMutations()})(i,e,n):(function(o,c,u){c.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function rc(i,e,n,s){return i instanceof xc?(function(c,u,f,p){if(!hh(c.precondition,u))return f;const g=c.value.clone(),_=Ov(c.fieldTransforms,p,u);return g.setAll(_),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),null})(i,e,n,s):i instanceof Ta?(function(c,u,f,p){if(!hh(c.precondition,u))return f;const g=Ov(c.fieldTransforms,p,u),_=u.data;return _.setAll(fx(c)),_.setAll(g),u.convertToFoundDocument(u.version,_).setHasLocalMutations(),f===null?null:f.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((b=>b.field)))})(i,e,n,s):(function(c,u,f){return hh(c.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f})(i,e,n)}function RN(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),c=lx(s.transform,o||null);c!=null&&(n===null&&(n=gr.empty()),n.set(s.field,c))}return n||null}function Iv(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Co(s,o,((c,u)=>SN(c,u)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class xc extends Zh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ta extends Zh{constructor(e,n,s,o,c=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function fx(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}})),e}function Dv(i,e,n){const s=new Map;vt(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let o=0;o<n.length;o++){const c=i[o],u=c.transform,f=e.data.field(c.field);s.set(c.field,TN(u,f,n[o]))}return s}function Ov(i,e,n){const s=new Map;for(const o of i){const c=o.transform,u=n.data.field(o.field);s.set(o.field,EN(c,u,e))}return s}class mx extends Zh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class NN extends Zh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&CN(c,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=rc(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=rc(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=ax();return this.mutations.forEach((o=>{const c=e.get(o.key),u=c.overlayedDocument;let f=this.applyToLocalView(u,c.mutatedFields);f=n.has(o.key)?null:f;const p=dx(u,f);p!==null&&s.set(o.key,p),u.isValidDocument()||u.convertToNoDocument(Ke.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ot())}isEqual(e){return this.batchId===e.batchId&&Co(this.mutations,e.mutations,((n,s)=>Iv(n,s)))&&Co(this.baseMutations,e.baseMutations,((n,s)=>Iv(n,s)))}}class kp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){vt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return _N})();const c=e.mutations;for(let u=0;u<c.length;u++)o=o.insert(c[u].key,s[u].version);return new kp(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tn,ht;function ON(i){switch(i){case Ae.OK:return qe(64938);case Ae.CANCELLED:case Ae.UNKNOWN:case Ae.DEADLINE_EXCEEDED:case Ae.RESOURCE_EXHAUSTED:case Ae.INTERNAL:case Ae.UNAVAILABLE:case Ae.UNAUTHENTICATED:return!1;case Ae.INVALID_ARGUMENT:case Ae.NOT_FOUND:case Ae.ALREADY_EXISTS:case Ae.PERMISSION_DENIED:case Ae.FAILED_PRECONDITION:case Ae.ABORTED:case Ae.OUT_OF_RANGE:case Ae.UNIMPLEMENTED:case Ae.DATA_LOSS:return!0;default:return qe(15467,{code:i})}}function px(i){if(i===void 0)return Li("GRPC error has no .code"),Ae.UNKNOWN;switch(i){case tn.OK:return Ae.OK;case tn.CANCELLED:return Ae.CANCELLED;case tn.UNKNOWN:return Ae.UNKNOWN;case tn.DEADLINE_EXCEEDED:return Ae.DEADLINE_EXCEEDED;case tn.RESOURCE_EXHAUSTED:return Ae.RESOURCE_EXHAUSTED;case tn.INTERNAL:return Ae.INTERNAL;case tn.UNAVAILABLE:return Ae.UNAVAILABLE;case tn.UNAUTHENTICATED:return Ae.UNAUTHENTICATED;case tn.INVALID_ARGUMENT:return Ae.INVALID_ARGUMENT;case tn.NOT_FOUND:return Ae.NOT_FOUND;case tn.ALREADY_EXISTS:return Ae.ALREADY_EXISTS;case tn.PERMISSION_DENIED:return Ae.PERMISSION_DENIED;case tn.FAILED_PRECONDITION:return Ae.FAILED_PRECONDITION;case tn.ABORTED:return Ae.ABORTED;case tn.OUT_OF_RANGE:return Ae.OUT_OF_RANGE;case tn.UNIMPLEMENTED:return Ae.UNIMPLEMENTED;case tn.DATA_LOSS:return Ae.DATA_LOSS;default:return qe(39323,{code:i})}}(ht=tn||(tn={}))[ht.OK=0]="OK",ht[ht.CANCELLED=1]="CANCELLED",ht[ht.UNKNOWN=2]="UNKNOWN",ht[ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ht[ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ht[ht.NOT_FOUND=5]="NOT_FOUND",ht[ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",ht[ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",ht[ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",ht[ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ht[ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ht[ht.ABORTED=10]="ABORTED",ht[ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",ht[ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",ht[ht.INTERNAL=13]="INTERNAL",ht[ht.UNAVAILABLE=14]="UNAVAILABLE",ht[ht.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN=new Ts([4294967295,4294967295],0);function jv(i){const e=jN().encode(i),n=new N1;return n.update(e),new Uint8Array(n.digest())}function Mv(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Ts([n,s],0),new Ts([o,c],0)]}class Ip{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Wl(`Invalid padding: ${n}`);if(s<0)throw new Wl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Wl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Wl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ts.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(Ts.fromNumber(s)));return o.compare(MN)===1&&(o=new Ts([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=jv(e),[s,o]=Mv(n);for(let c=0;c<this.hashCount;c++){const u=this.ye(s,o,c);if(!this.we(u))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),u=new Ip(c,o,n);return s.forEach((f=>u.insert(f))),u}insert(e){if(this.ge===0)return;const n=jv(e),[s,o]=Mv(n);for(let c=0;c<this.hashCount;c++){const u=this.ye(s,o,c);this.Se(u)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Wl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e,n,s,o,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,wc.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Jh(Ke.min(),o,new zt(at),Vi(),ot())}}class wc{constructor(e,n,s,o,c){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new wc(s,n,ot(),ot(),ot())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class gx{constructor(e,n){this.targetId=e,this.Ce=n}}class yx{constructor(e,n,s=_n.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class Lv{constructor(){this.ve=0,this.Fe=Vv(),this.Me=_n.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ot(),n=ot(),s=ot();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:qe(38017,{changeType:c})}})),new wc(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=Vv()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,vt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class LN{constructor(e){this.Ge=e,this.ze=new Map,this.je=Vi(),this.Je=Ju(),this.He=Ju(),this.Ye=new zt(at)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:qe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const c=o.target;if(Bm(c))if(s===0){const u=new Ue(c.path);this.et(n,u,Nn.newNoDocument(u,Ke.min()))}else vt(s===1,20013,{expectedCount:s});else{const u=this._t(n);if(u!==s){const f=this.ut(e),p=f?this.ct(f,e,u):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=n;let u,f;try{u=ks(s).toUint8Array()}catch(p){if(p instanceof F1)return _a("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new Ip(u,o,c)}catch(p){return _a(p instanceof Wl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.ge===0?null:f}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((c=>{const u=this.Ge.ht(),f=`projects/${u.projectId}/databases/${u.database}/documents/${c.path.canonicalString()}`;e.mightContain(f)||(this.et(n,c,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((c,u)=>{const f=this.ot(u);if(f){if(c.current&&Bm(f.target)){const p=new Ue(f.target.path);this.It(p).has(u)||this.Et(u,p)||this.et(u,p,Nn.newNoDocument(p,e))}c.Be&&(n.set(u,c.ke()),c.qe())}}));let s=ot();this.He.forEach(((c,u)=>{let f=!0;u.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(s=s.add(c))})),this.je.forEach(((c,u)=>u.setReadTime(e)));const o=new Jh(e,n,this.Ye,this.je,s);return this.je=Vi(),this.Je=Ju(),this.He=Ju(),this.Ye=new zt(at),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Lv,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new cn(at),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new cn(at),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||De("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Lv),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Ju(){return new zt(Ue.comparator)}function Vv(){return new zt(Ue.comparator)}const VN={asc:"ASCENDING",desc:"DESCENDING"},PN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zN={and:"AND",or:"OR"};class UN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Hm(i,e){return i.useProto3Json||Qh(e)?e:{value:e}}function kh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _x(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function BN(i,e){return kh(i,e.toTimestamp())}function ri(i){return vt(!!i,49232),Ke.fromTimestamp((function(n){const s=Ns(n);return new kt(s.seconds,s.nanos)})(i))}function Dp(i,e){return qm(i,e).canonicalString()}function qm(i,e){const n=(function(o){return new Pt(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?n:n.child(e)}function vx(i){const e=Pt.fromString(i);return vt(Tx(e),10190,{key:e.toString()}),e}function Gm(i,e){return Dp(i.databaseId,e.path)}function bm(i,e){const n=vx(e);if(n.get(1)!==i.databaseId.projectId)throw new Ve(Ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new Ve(Ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new Ue(xx(n))}function bx(i,e){return Dp(i.databaseId,e)}function FN(i){const e=vx(i);return e.length===4?Pt.emptyPath():xx(e)}function Qm(i){return new Pt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function xx(i){return vt(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function Pv(i,e,n){return{name:Gm(i,e),fields:n.value.mapValue.fields}}function HN(i,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:qe(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(g,_){return g.useProto3Json?(vt(_===void 0||typeof _=="string",58123),_n.fromBase64String(_||"")):(vt(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),_n.fromUint8Array(_||new Uint8Array))})(i,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&(function(g){const _=g.code===void 0?Ae.UNKNOWN:px(g.code);return new Ve(_,g.message||"")})(u);n=new yx(s,o,c,f||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=bm(i,s.document.name),c=ri(s.document.updateTime),u=s.document.createTime?ri(s.document.createTime):Ke.min(),f=new gr({mapValue:{fields:s.document.fields}}),p=Nn.newFoundDocument(o,c,u,f),g=s.targetIds||[],_=s.removedTargetIds||[];n=new dh(g,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=bm(i,s.document),c=s.readTime?ri(s.readTime):Ke.min(),u=Nn.newNoDocument(o,c),f=s.removedTargetIds||[];n=new dh([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=bm(i,s.document),c=s.removedTargetIds||[];n=new dh([],c,o,null)}else{if(!("filter"in e))return qe(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,u=new DN(o,c),f=s.targetId;n=new gx(f,u)}}return n}function qN(i,e){let n;if(e instanceof xc)n={update:Pv(i,e.key,e.value)};else if(e instanceof mx)n={delete:Gm(i,e.key)};else if(e instanceof Ta)n={update:Pv(i,e.key,e.data),updateMask:JN(e.fieldMask)};else{if(!(e instanceof NN))return qe(16599,{Vt:e.type});n={verify:Gm(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(c,u){const f=u.transform;if(f instanceof Rh)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof uc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof hc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Nh)return{fieldPath:u.field.canonicalString(),increment:f.Ae};throw qe(20930,{transform:u.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:BN(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:qe(27497)})(i,e.precondition)),n}function GN(i,e){return i&&i.length>0?(vt(e!==void 0,14353),i.map((n=>(function(o,c){let u=o.updateTime?ri(o.updateTime):ri(c);return u.isEqual(Ke.min())&&(u=ri(c)),new AN(u,o.transformResults||[])})(n,e)))):[]}function QN(i,e){return{documents:[bx(i,e.path)]}}function KN(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=bx(i,o);const c=(function(g){if(g.length!==0)return Ex(si.create(g,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const u=(function(g){if(g.length!==0)return g.map((_=>(function(E){return{field:po(E.field),direction:XN(E.dir)}})(_)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const f=Hm(i,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function YN(i){let e=FN(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){vt(s===1,65062);const _=n.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let c=[];n.where&&(c=(function(b){const E=wx(b);return E instanceof si&&Z1(E)?E.getFilters():[E]})(n.where));let u=[];n.orderBy&&(u=(function(b){return b.map((E=>(function(k){return new Ch(go(k.field),(function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(k.direction))})(E)))})(n.orderBy));let f=null;n.limit&&(f=(function(b){let E;return E=typeof b=="object"?b.value:b,Qh(E)?null:E})(n.limit));let p=null;n.startAt&&(p=(function(b){const E=!!b.before,w=b.values||[];return new Ah(w,E)})(n.startAt));let g=null;return n.endAt&&(g=(function(b){const E=!b.before,w=b.values||[];return new Ah(w,E)})(n.endAt)),dN(e,o,u,c,f,"F",p,g)}function $N(i,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return qe(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function wx(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=go(n.unaryFilter.field);return on.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=go(n.unaryFilter.field);return on.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=go(n.unaryFilter.field);return on.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=go(n.unaryFilter.field);return on.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return qe(61313);default:return qe(60726)}})(i):i.fieldFilter!==void 0?(function(n){return on.create(go(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return qe(58110);default:return qe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return si.create(n.compositeFilter.filters.map((s=>wx(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return qe(1026)}})(n.compositeFilter.op))})(i):qe(30097,{filter:i})}function XN(i){return VN[i]}function WN(i){return PN[i]}function ZN(i){return zN[i]}function po(i){return{fieldPath:i.canonicalString()}}function go(i){return yn.fromServerFormat(i.fieldPath)}function Ex(i){return i instanceof on?(function(n){if(n.op==="=="){if(Sv(n.value))return{unaryFilter:{field:po(n.field),op:"IS_NAN"}};if(Tv(n.value))return{unaryFilter:{field:po(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Sv(n.value))return{unaryFilter:{field:po(n.field),op:"IS_NOT_NAN"}};if(Tv(n.value))return{unaryFilter:{field:po(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:po(n.field),op:WN(n.op),value:n.value}}})(i):i instanceof si?(function(n){const s=n.getFilters().map((o=>Ex(o)));return s.length===1?s[0]:{compositeFilter:{op:ZN(n.op),filters:s}}})(i):qe(54877,{filter:i})}function JN(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Tx(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e,n,s,o,c=Ke.min(),u=Ke.min(),f=_n.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(e){return new vs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(e){this.yt=e}}function t4(i){const e=YN({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Fm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(){this.Cn=new r4}addToCollectionParentIndex(e,n){return this.Cn.add(n),Te.resolve()}getCollectionParents(e,n){return Te.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Te.resolve()}deleteFieldIndex(e,n){return Te.resolve()}deleteAllFieldIndexes(e){return Te.resolve()}createTargetIndexes(e,n){return Te.resolve()}getDocumentsMatchingTarget(e,n){return Te.resolve(null)}getIndexType(e,n){return Te.resolve(0)}getFieldIndexes(e,n){return Te.resolve([])}getNextCollectionGroupToUpdate(e){return Te.resolve(null)}getMinOffset(e,n){return Te.resolve(Rs.min())}getMinOffsetFromCollectionGroup(e,n){return Te.resolve(Rs.min())}updateCollectionGroup(e,n,s){return Te.resolve()}updateIndexEntries(e,n){return Te.resolve()}}class r4{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new cn(Pt.comparator),c=!o.has(s);return this.index[n]=o.add(s),c}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new cn(Pt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Sx=41943040;class Un{static withCacheSize(e){return new Un(e,Un.DEFAULT_COLLECTION_PERCENTILE,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Un.DEFAULT_COLLECTION_PERCENTILE=10,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Un.DEFAULT=new Un(Sx,Un.DEFAULT_COLLECTION_PERCENTILE,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Un.DISABLED=new Un(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Do(0)}static cr(){return new Do(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uv="LruGarbageCollector",i4=1048576;function Bv([i,e],[n,s]){const o=at(i,n);return o===0?at(e,s):o}class s4{constructor(e){this.Ir=e,this.buffer=new cn(Bv),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Bv(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class a4{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){De(Uv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Fo(n)?De(Uv,"Ignoring IndexedDB error during garbage collection: ",n):await Bo(n)}await this.Vr(3e5)}))}}class o4{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return Te.resolve(Gh.ce);const s=new s4(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(De("LruGarbageCollector","Garbage collection skipped; disabled"),Te.resolve(zv)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(De("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),zv):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,c,u,f,p,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(De("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,u=Date.now(),this.nthSequenceNumber(e,o)))).next((b=>(s=b,f=Date.now(),this.removeTargets(e,s,n)))).next((b=>(c=b,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((b=>(g=Date.now(),fo()<=st.DEBUG&&De("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-_}ms
	Determined least recently used ${o} in `+(f-u)+`ms
	Removed ${c} targets in `+(p-f)+`ms
	Removed ${b} documents in `+(g-p)+`ms
Total Duration: ${g-_}ms`),Te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:b}))))}}function l4(i,e){return new o4(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(){this.changes=new Ea((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Nn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?Te.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&rc(s.mutation,o,Ir.empty(),kt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,ot()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=ot()){const o=fa();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((c=>{let u=Xl();return c.forEach(((f,p)=>{u=u.insert(f,p.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const s=fa();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,ot())))}populateOverlays(e,n,s){const o=[];return s.forEach((c=>{n.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((u,f)=>{n.set(u,f)}))}))}computeViews(e,n,s,o){let c=Vi();const u=nc(),f=(function(){return nc()})();return n.forEach(((p,g)=>{const _=s.get(g.key);o.has(g.key)&&(_===void 0||_.mutation instanceof Ta)?c=c.insert(g.key,g):_!==void 0?(u.set(g.key,_.mutation.getFieldMask()),rc(_.mutation,g,_.mutation.getFieldMask(),kt.now())):u.set(g.key,Ir.empty())})),this.recalculateAndSaveOverlays(e,c).next((p=>(p.forEach(((g,_)=>u.set(g,_))),n.forEach(((g,_)=>f.set(g,new u4(_,u.get(g)??null)))),f)))}recalculateAndSaveOverlays(e,n){const s=nc();let o=new zt(((u,f)=>u-f)),c=ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const f of u)f.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let _=s.get(p)||Ir.empty();_=f.applyToLocalView(g,_),s.set(p,_);const b=(o.get(f.batchId)||ot()).add(p);o=o.insert(f.batchId,b)}))})).next((()=>{const u=[],f=o.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),g=p.key,_=p.value,b=ax();_.forEach((E=>{if(!c.has(E)){const w=dx(n.get(E),s.get(E));w!==null&&b.set(E,w),c=c.add(E)}})),u.push(this.documentOverlayCache.saveOverlays(e,g,b))}return Te.waitFor(u)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(u){return Ue.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):fN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((c=>{const u=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-c.size):Te.resolve(fa());let f=oc,p=c;return u.next((g=>Te.forEach(g,((_,b)=>(f<b.largestBatchId&&(f=b.largestBatchId),c.get(_)?Te.resolve():this.remoteDocumentCache.getEntry(e,_).next((E=>{p=p.insert(_,E)}))))).next((()=>this.populateOverlays(e,g,c))).next((()=>this.computeViews(e,p,g,ot()))).next((_=>({batchId:f,changes:sx(_)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ue(n)).next((s=>{let o=Xl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const c=n.collectionGroup;let u=Xl();return this.indexManager.getCollectionParents(e,c).next((f=>Te.forEach(f,(p=>{const g=(function(b,E){return new Yh(E,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,p.child(c));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((_=>{_.forEach(((b,E)=>{u=u.insert(b,E)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((u=>(c=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,c,o)))).next((u=>{c.forEach(((p,g)=>{const _=g.getKey();u.get(_)===null&&(u=u.insert(_,Nn.newInvalidDocument(_)))}));let f=Xl();return u.forEach(((p,g)=>{const _=c.get(p);_!==void 0&&rc(_.mutation,g,Ir.empty(),kt.now()),Xh(n,g)&&(f=f.insert(p,g))})),f}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Te.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:ri(o.createTime)}})(n)),Te.resolve()}getNamedQuery(e,n){return Te.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:t4(o.bundledQuery),readTime:ri(o.readTime)}})(n)),Te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(){this.overlays=new zt(Ue.comparator),this.qr=new Map}getOverlay(e,n){return Te.resolve(this.overlays.get(n))}getOverlays(e,n){const s=fa();return Te.forEach(n,(o=>this.getOverlay(e,o).next((c=>{c!==null&&s.set(o,c)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,c)=>{this.St(e,n,c)})),Te.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(s)),Te.resolve()}getOverlaysForCollection(e,n,s){const o=fa(),c=n.length+1,u=new Ue(n.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const p=f.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===c&&p.largestBatchId>s&&o.set(p.getKey(),p)}return Te.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let c=new zt(((g,_)=>g-_));const u=this.overlays.getIterator();for(;u.hasNext();){const g=u.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let _=c.get(g.largestBatchId);_===null&&(_=fa(),c=c.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const f=fa(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,_)=>f.set(g,_))),!(f.size()>=o)););return Te.resolve(f)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const u=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(s.key,new IN(n,s));let c=this.qr.get(n);c===void 0&&(c=ot(),this.qr.set(n,c)),this.qr.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(){this.sessionToken=_n.EMPTY_BYTE_STRING}getSessionToken(e){return Te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(){this.Qr=new cn(pn.$r),this.Ur=new cn(pn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new pn(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new pn(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new Ue(new Pt([])),s=new pn(n,e),o=new pn(n,e+1),c=[];return this.Ur.forEachInRange([s,o],(u=>{this.Gr(u),c.push(u.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ue(new Pt([])),s=new pn(n,e),o=new pn(n,e+1);let c=ot();return this.Ur.forEachInRange([s,o],(u=>{c=c.add(u.key)})),c}containsKey(e){const n=new pn(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class pn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ue.comparator(e.key,n.key)||at(e.Yr,n.Yr)}static Kr(e,n){return at(e.Yr,n.Yr)||Ue.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new cn(pn.$r)}checkEmpty(e){return Te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new kN(c,n,s,o);this.mutationQueue.push(u);for(const f of o)this.Zr=this.Zr.add(new pn(f.key,c)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return Te.resolve(u)}lookupMutationBatch(e,n){return Te.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),c=o<0?0:o;return Te.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Te.resolve(this.mutationQueue.length===0?Ep:this.tr-1)}getAllMutationBatches(e){return Te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new pn(n,0),o=new pn(n,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,o],(u=>{const f=this.Xr(u.Yr);c.push(f)})),Te.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new cn(at);return n.forEach((o=>{const c=new pn(o,0),u=new pn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,u],(f=>{s=s.add(f.Yr)}))})),Te.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let c=s;Ue.isDocumentKey(c)||(c=c.child(""));const u=new pn(new Ue(c),0);let f=new cn(at);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(f=f.add(p.Yr)),!0)}),u),Te.resolve(this.ti(f))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){vt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return Te.forEach(n.mutations,(o=>{const c=new pn(o.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new pn(n,0),o=this.Zr.firstAfterOrEqual(s);return Te.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Te.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(e){this.ri=e,this.docs=(function(){return new zt(Ue.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),c=o?o.size:0,u=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:u}),this.size+=u-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return Te.resolve(s?s.document.mutableCopy():Nn.newInvalidDocument(n))}getEntries(e,n){let s=Vi();return n.forEach((o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():Nn.newInvalidDocument(o))})),Te.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let c=Vi();const u=n.path,f=new Ue(u.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:g,value:{document:_}}=p.getNext();if(!u.isPrefixOf(g.path))break;g.path.length>u.length+1||qR(HR(_),s)<=0||(o.has(_.key)||Xh(n,_))&&(c=c.insert(_.key,_.mutableCopy()))}return Te.resolve(c)}getAllFromCollectionGroup(e,n,s,o){qe(9500)}ii(e,n){return Te.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new y4(this)}getSize(e){return Te.resolve(this.size)}}class y4 extends c4{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),Te.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(e){this.persistence=e,this.si=new Ea((n=>Ap(n)),Cp),this.lastRemoteSnapshotVersion=Ke.min(),this.highestTargetId=0,this.oi=0,this._i=new Op,this.targetCount=0,this.ai=Do.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),Te.resolve()}getLastRemoteSnapshotVersion(e){return Te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Te.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),Te.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Do(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Te.resolve()}updateTargetData(e,n){return this.Pr(n),Te.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Te.resolve()}removeTargets(e,n,s){let o=0;const c=[];return this.si.forEach(((u,f)=>{f.sequenceNumber<=n&&s.get(f.targetId)===null&&(this.si.delete(u),c.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)})),Te.waitFor(c).next((()=>o))}getTargetCount(e){return Te.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return Te.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),Te.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,c=[];return o&&n.forEach((u=>{c.push(o.markPotentiallyOrphaned(e,u))})),Te.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Te.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return Te.resolve(s)}containsKey(e,n){return Te.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(e,n){this.ui={},this.overlays={},this.ci=new Gh(0),this.li=!1,this.li=!0,this.hi=new m4,this.referenceDelegate=e(this),this.Pi=new _4(this),this.indexManager=new n4,this.remoteDocumentCache=(function(o){return new g4(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new e4(n),this.Ii=new d4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new f4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new p4(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){De("MemoryPersistence","Starting transaction:",e);const o=new v4(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,n){return Te.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class v4 extends QR{constructor(e){super(),this.currentSequenceNumber=e}}class jp{constructor(e){this.persistence=e,this.Ri=new Op,this.Vi=null}static mi(e){return new jp(e)}get fi(){if(this.Vi)return this.Vi;throw qe(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),Te.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),Te.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Te.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Te.forEach(this.fi,(s=>{const o=Ue.fromPath(s);return this.gi(e,o).next((c=>{c||n.removeEntry(o,Ke.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return Te.or([()=>Te.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Ih{constructor(e,n){this.persistence=e,this.pi=new Ea((s=>$R(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=l4(this,n)}static mi(e,n){return new Ih(e,n)}Ei(){}di(e){return Te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return Te.forEach(this.pi,((s,o)=>this.br(e,s,o).next((c=>c?Te.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(u=>this.br(e,u,n).next((f=>{f||(s++,c.removeEntry(u,Ke.min()))})))).next((()=>c.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Te.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),Te.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),Te.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Te.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ch(e.data.value)),n}br(e,n,s){return Te.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return Te.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=ot(),o=ot();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Mp(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return lS()?8:KR(kn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const c={result:null};return this.ys(e,n).next((u=>{c.result=u})).next((()=>{if(!c.result)return this.ws(e,n,o,s).next((u=>{c.result=u}))})).next((()=>{if(c.result)return;const u=new b4;return this.Ss(e,n,u).next((f=>{if(c.result=f,this.Vs)return this.bs(e,n,u,f.size)}))})).next((()=>c.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(fo()<=st.DEBUG&&De("QueryEngine","SDK will not create cache indexes for query:",mo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Te.resolve()):(fo()<=st.DEBUG&&De("QueryEngine","Query:",mo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(fo()<=st.DEBUG&&De("QueryEngine","The SDK decides to create cache indexes for query:",mo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ni(n))):Te.resolve())}ys(e,n){if(Nv(n))return Te.resolve(null);let s=ni(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Fm(n,null,"F"),s=ni(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((c=>{const u=ot(...c);return this.ps.getDocuments(e,u).next((f=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.Ds(n,f);return this.Cs(n,g,u,p.readTime)?this.ys(e,Fm(n,null,"F")):this.vs(e,g,n,p)}))))})))))}ws(e,n,s,o){return Nv(n)||o.isEqual(Ke.min())?Te.resolve(null):this.ps.getDocuments(e,s).next((c=>{const u=this.Ds(n,c);return this.Cs(n,u,s,o)?Te.resolve(null):(fo()<=st.DEBUG&&De("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),mo(n)),this.vs(e,u,n,FR(o,oc)).next((f=>f)))}))}Ds(e,n){let s=new cn(rx(e));return n.forEach(((o,c)=>{Xh(e,c)&&(s=s.add(c))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,n,s){return fo()<=st.DEBUG&&De("QueryEngine","Using full collection scan to execute query:",mo(n)),this.ps.getDocumentsMatchingQuery(e,n,Rs.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((c=>(n.forEach((u=>{c=c.insert(u.key,u)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lp="LocalStore",w4=3e8;class E4{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new zt(at),this.xs=new Ea((c=>Ap(c)),Cp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new h4(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function T4(i,e,n,s){return new E4(i,e,n,s)}async function Cx(i,e){const n=$e(i);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((c=>(o=c,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((c=>{const u=[],f=[];let p=ot();for(const g of o){u.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}for(const g of c){f.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:u,addedBatchIds:f})))}))}))}function S4(i,e){const n=$e(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),c=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(f,p,g,_){const b=g.batch,E=b.keys();let w=Te.resolve();return E.forEach((k=>{w=w.next((()=>_.getEntry(p,k))).next((A=>{const R=g.docVersions.get(k);vt(R!==null,48541),A.version.compareTo(R)<0&&(b.applyToRemoteDocument(A,g),A.isValidDocument()&&(A.setReadTime(g.commitVersion),_.addEntry(A)))}))})),w.next((()=>f.mutationQueue.removeMutationBatch(p,b)))})(n,s,e,c).next((()=>c.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(f){let p=ot();for(let g=0;g<f.mutationResults.length;++g)f.mutationResults[g].transformResults.length>0&&(p=p.add(f.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function Rx(i){const e=$e(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function A4(i,e){const n=$e(i),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const u=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const f=[];e.targetChanges.forEach(((_,b)=>{const E=o.get(b);if(!E)return;f.push(n.Pi.removeMatchingKeys(c,_.removedDocuments,b).next((()=>n.Pi.addMatchingKeys(c,_.addedDocuments,b))));let w=E.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(b)!==null?w=w.withResumeToken(_n.EMPTY_BYTE_STRING,Ke.min()).withLastLimboFreeSnapshotVersion(Ke.min()):_.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(_.resumeToken,s)),o=o.insert(b,w),(function(A,R,I){return A.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=w4?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0})(E,w,_)&&f.push(n.Pi.updateTargetData(c,w))}));let p=Vi(),g=ot();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(c,_))})),f.push(C4(c,u,e.documentUpdates).next((_=>{p=_.ks,g=_.qs}))),!s.isEqual(Ke.min())){const _=n.Pi.getLastRemoteSnapshotVersion(c).next((b=>n.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s)));f.push(_)}return Te.waitFor(f).next((()=>u.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,p,g))).next((()=>p))})).then((c=>(n.Ms=o,c)))}function C4(i,e,n){let s=ot(),o=ot();return n.forEach((c=>s=s.add(c))),e.getEntries(i,s).next((c=>{let u=Vi();return n.forEach(((f,p)=>{const g=c.get(f);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(f)),p.isNoDocument()&&p.version.isEqual(Ke.min())?(e.removeEntry(f,p.readTime),u=u.insert(f,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),u=u.insert(f,p)):De(Lp,"Ignoring outdated watch update for ",f,". Current version:",g.version," Watch version:",p.version)})),{ks:u,qs:o}}))}function R4(i,e){const n=$e(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Ep),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function N4(i,e){const n=$e(i);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((c=>c?(o=c,Te.resolve(o)):n.Pi.allocateTargetId(s).next((u=>(o=new vs(e,u,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Km(i,e,n){const s=$e(i),o=s.Ms.get(e),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,(u=>s.persistence.referenceDelegate.removeTarget(u,o)))}catch(u){if(!Fo(u))throw u;De(Lp,`Failed to update sequence numbers for target ${e}: ${u}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function Fv(i,e,n){const s=$e(i);let o=Ke.min(),c=ot();return s.persistence.runTransaction("Execute query","readwrite",(u=>(function(p,g,_){const b=$e(p),E=b.xs.get(_);return E!==void 0?Te.resolve(b.Ms.get(E)):b.Pi.getTargetData(g,_)})(s,u,ni(e)).next((f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(u,f.targetId).next((p=>{c=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(u,e,n?o:Ke.min(),n?c:ot()))).next((f=>(k4(s,pN(e),f),{documents:f,Qs:c})))))}function k4(i,e,n){let s=i.Os.get(e)||Ke.min();n.forEach(((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),i.Os.set(e,s)}class Hv{constructor(){this.activeTargetIds=xN()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class I4{constructor(){this.Mo=new Hv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Hv,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qv="ConnectivityMonitor";class Gv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){De(qv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){De(qv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eh=null;function Ym(){return eh===null?eh=(function(){return 268435456+Math.round(2147483648*Math.random())})():eh++,"0x"+eh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xm="RestConnection",O4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class j4{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Th?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,c){const u=Ym(),f=this.zo(e,n.toUriEncodedString());De(xm,`Sending RPC '${e}' ${u}:`,f,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,c);const{host:g}=new URL(f),_=Po(g);return this.Jo(e,f,p,s,_).then((b=>(De(xm,`Received RPC '${e}' ${u}: `,b),b)),(b=>{throw _a(xm,`RPC '${e}' ${u} failed with error: `,b,"url: ",f,"request:",s),b}))}Ho(e,n,s,o,c,u){return this.Go(e,n,s,o,c)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Uo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,c)=>e[c]=o)),s&&s.headers.forEach(((o,c)=>e[c]=o))}zo(e,n){const s=O4[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cn="WebChannelConnection";class L4 extends j4{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,c){const u=Ym();return new Promise(((f,p)=>{const g=new k1;g.setWithCredentials(!0),g.listenOnce(I1.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case lh.NO_ERROR:const b=g.getResponseJson();De(Cn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(b)),f(b);break;case lh.TIMEOUT:De(Cn,`RPC '${e}' ${u} timed out`),p(new Ve(Ae.DEADLINE_EXCEEDED,"Request time out"));break;case lh.HTTP_ERROR:const E=g.getStatus();if(De(Cn,`RPC '${e}' ${u} failed with status:`,E,"response text:",g.getResponseText()),E>0){let w=g.getResponseJson();Array.isArray(w)&&(w=w[0]);const k=w==null?void 0:w.error;if(k&&k.status&&k.message){const A=(function(I){const P=I.toLowerCase().replace(/_/g,"-");return Object.values(Ae).indexOf(P)>=0?P:Ae.UNKNOWN})(k.status);p(new Ve(A,k.message))}else p(new Ve(Ae.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new Ve(Ae.UNAVAILABLE,"Connection failed."));break;default:qe(9055,{l_:e,streamId:u,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{De(Cn,`RPC '${e}' ${u} completed.`)}}));const _=JSON.stringify(o);De(Cn,`RPC '${e}' ${u} sending request:`,o),g.send(n,"POST",_,s,15)}))}T_(e,n,s){const o=Ym(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=j1(),f=O1(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const _=c.join("");De(Cn,`Creating RPC '${e}' stream ${o}: ${_}`,p);const b=u.createWebChannel(_,p);this.I_(b);let E=!1,w=!1;const k=new M4({Yo:R=>{w?De(Cn,`Not sending because RPC '${e}' stream ${o} is closed:`,R):(E||(De(Cn,`Opening RPC '${e}' stream ${o} transport.`),b.open(),E=!0),De(Cn,`RPC '${e}' stream ${o} sending:`,R),b.send(R))},Zo:()=>b.close()}),A=(R,I,P)=>{R.listen(I,(z=>{try{P(z)}catch(Y){setTimeout((()=>{throw Y}),0)}}))};return A(b,$l.EventType.OPEN,(()=>{w||(De(Cn,`RPC '${e}' stream ${o} transport opened.`),k.o_())})),A(b,$l.EventType.CLOSE,(()=>{w||(w=!0,De(Cn,`RPC '${e}' stream ${o} transport closed`),k.a_(),this.E_(b))})),A(b,$l.EventType.ERROR,(R=>{w||(w=!0,_a(Cn,`RPC '${e}' stream ${o} transport errored. Name:`,R.name,"Message:",R.message),k.a_(new Ve(Ae.UNAVAILABLE,"The operation could not be completed")))})),A(b,$l.EventType.MESSAGE,(R=>{var I;if(!w){const P=R.data[0];vt(!!P,16349);const z=P,Y=(z==null?void 0:z.error)||((I=z[0])==null?void 0:I.error);if(Y){De(Cn,`RPC '${e}' stream ${o} received error:`,Y);const $=Y.status;let ie=(function(O){const F=tn[O];if(F!==void 0)return px(F)})($),j=Y.message;ie===void 0&&(ie=Ae.INTERNAL,j="Unknown error status: "+$+" with message "+Y.message),w=!0,k.a_(new Ve(ie,j)),b.close()}else De(Cn,`RPC '${e}' stream ${o} received:`,P),k.u_(P)}})),A(f,D1.STAT_EVENT,(R=>{R.stat===Lm.PROXY?De(Cn,`RPC '${e}' stream ${o} detected buffering proxy`):R.stat===Lm.NOPROXY&&De(Cn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{k.__()}),0),k}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function wm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ed(i){return new UN(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(e,n,s=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&De("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv="PersistentStream";class kx{constructor(e,n,s,o,c,u,f,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=c,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Nx(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Ae.RESOURCE_EXHAUSTED?(Li(n.toString()),Li("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new Ve(Ae.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return De(Qv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(De(Qv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class V4 extends kx{constructor(e,n,s,o,c,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,u),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=HN(this.serializer,e),s=(function(c){if(!("targetChange"in c))return Ke.min();const u=c.targetChange;return u.targetIds&&u.targetIds.length?Ke.min():u.readTime?ri(u.readTime):Ke.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Qm(this.serializer),n.addTarget=(function(c,u){let f;const p=u.target;if(f=Bm(p)?{documents:QN(c,p)}:{query:KN(c,p).ft},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=_x(c,u.resumeToken);const g=Hm(c,u.expectedCount);g!==null&&(f.expectedCount=g)}else if(u.snapshotVersion.compareTo(Ke.min())>0){f.readTime=kh(c,u.snapshotVersion.toTimestamp());const g=Hm(c,u.expectedCount);g!==null&&(f.expectedCount=g)}return f})(this.serializer,e);const s=$N(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Qm(this.serializer),n.removeTarget=e,this.q_(n)}}class P4 extends kx{constructor(e,n,s,o,c,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,u),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return vt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,vt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){vt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=GN(e.writeResults,e.commitTime),s=ri(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Qm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>qN(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{}class U4 extends z4{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new Ve(Ae.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,u])=>this.connection.Go(e,qm(n,s),o,c,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ve(Ae.UNKNOWN,c.toString())}))}Ho(e,n,s,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Ho(e,qm(n,s),o,u,f,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ve(Ae.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class B4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Li(n),this.aa=!1):De("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va="RemoteStore";class F4{constructor(e,n,s,o,c){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((u=>{s.enqueueAndForget((async()=>{Sa(this)&&(De(va,"Restarting streams for network reachability change."),await(async function(p){const g=$e(p);g.Ea.add(4),await Ec(g),g.Ra.set("Unknown"),g.Ea.delete(4),await td(g)})(this))}))})),this.Ra=new B4(s,o)}}async function td(i){if(Sa(i))for(const e of i.da)await e(!0)}async function Ec(i){for(const e of i.da)await e(!1)}function Ix(i,e){const n=$e(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Up(n)?zp(n):Ho(n).O_()&&Pp(n,e))}function Vp(i,e){const n=$e(i),s=Ho(n);n.Ia.delete(e),s.O_()&&Dx(n,e),n.Ia.size===0&&(s.O_()?s.L_():Sa(n)&&n.Ra.set("Unknown"))}function Pp(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ke.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ho(i).Y_(e)}function Dx(i,e){i.Va.Ue(e),Ho(i).Z_(e)}function zp(i){i.Va=new LN({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),Ho(i).start(),i.Ra.ua()}function Up(i){return Sa(i)&&!Ho(i).x_()&&i.Ia.size>0}function Sa(i){return $e(i).Ea.size===0}function Ox(i){i.Va=void 0}async function H4(i){i.Ra.set("Online")}async function q4(i){i.Ia.forEach(((e,n)=>{Pp(i,e)}))}async function G4(i,e){Ox(i),Up(i)?(i.Ra.ha(e),zp(i)):i.Ra.set("Unknown")}async function Q4(i,e,n){if(i.Ra.set("Online"),e instanceof yx&&e.state===2&&e.cause)try{await(async function(o,c){const u=c.cause;for(const f of c.targetIds)o.Ia.has(f)&&(await o.remoteSyncer.rejectListen(f,u),o.Ia.delete(f),o.Va.removeTarget(f))})(i,e)}catch(s){De(va,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Dh(i,s)}else if(e instanceof dh?i.Va.Ze(e):e instanceof gx?i.Va.st(e):i.Va.tt(e),!n.isEqual(Ke.min()))try{const s=await Rx(i.localStore);n.compareTo(s)>=0&&await(function(c,u){const f=c.Va.Tt(u);return f.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const _=c.Ia.get(g);_&&c.Ia.set(g,_.withResumeToken(p.resumeToken,u))}})),f.targetMismatches.forEach(((p,g)=>{const _=c.Ia.get(p);if(!_)return;c.Ia.set(p,_.withResumeToken(_n.EMPTY_BYTE_STRING,_.snapshotVersion)),Dx(c,p);const b=new vs(_.target,p,g,_.sequenceNumber);Pp(c,b)})),c.remoteSyncer.applyRemoteEvent(f)})(i,n)}catch(s){De(va,"Failed to raise snapshot:",s),await Dh(i,s)}}async function Dh(i,e,n){if(!Fo(e))throw e;i.Ea.add(1),await Ec(i),i.Ra.set("Offline"),n||(n=()=>Rx(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{De(va,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await td(i)}))}function jx(i,e){return e().catch((n=>Dh(i,n,e)))}async function nd(i){const e=$e(i),n=Ds(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ep;for(;K4(e);)try{const o=await R4(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,Y4(e,o)}catch(o){await Dh(e,o)}Mx(e)&&Lx(e)}function K4(i){return Sa(i)&&i.Ta.length<10}function Y4(i,e){i.Ta.push(e);const n=Ds(i);n.O_()&&n.X_&&n.ea(e.mutations)}function Mx(i){return Sa(i)&&!Ds(i).x_()&&i.Ta.length>0}function Lx(i){Ds(i).start()}async function $4(i){Ds(i).ra()}async function X4(i){const e=Ds(i);for(const n of i.Ta)e.ea(n.mutations)}async function W4(i,e,n){const s=i.Ta.shift(),o=kp.from(s,e,n);await jx(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await nd(i)}async function Z4(i,e){e&&Ds(i).X_&&await(async function(s,o){if((function(u){return ON(u)&&u!==Ae.ABORTED})(o.code)){const c=s.Ta.shift();Ds(s).B_(),await jx(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o))),await nd(s)}})(i,e),Mx(i)&&Lx(i)}async function Kv(i,e){const n=$e(i);n.asyncQueue.verifyOperationInProgress(),De(va,"RemoteStore received new credentials");const s=Sa(n);n.Ea.add(3),await Ec(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await td(n)}async function J4(i,e){const n=$e(i);e?(n.Ea.delete(2),await td(n)):e||(n.Ea.add(2),await Ec(n),n.Ra.set("Unknown"))}function Ho(i){return i.ma||(i.ma=(function(n,s,o){const c=$e(n);return c.sa(),new V4(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(i.datastore,i.asyncQueue,{Xo:H4.bind(null,i),t_:q4.bind(null,i),r_:G4.bind(null,i),H_:Q4.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),Up(i)?zp(i):i.Ra.set("Unknown")):(await i.ma.stop(),Ox(i))}))),i.ma}function Ds(i){return i.fa||(i.fa=(function(n,s,o){const c=$e(n);return c.sa(),new P4(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:$4.bind(null,i),r_:Z4.bind(null,i),ta:X4.bind(null,i),na:W4.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await nd(i)):(await i.fa.stop(),i.Ta.length>0&&(De(va,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(e,n,s,o,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new Ss,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,c){const u=Date.now()+s,f=new Bp(e,n,u,o,c);return f.start(s),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ve(Ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fp(i,e){if(Li("AsyncQueue",`${e}: ${i}`),Fo(i))return new Ve(Ae.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{static emptySet(e){return new xo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Ue.comparator(n.key,s.key):(n,s)=>Ue.comparator(n.key,s.key),this.keyedMap=Xl(),this.sortedSet=new zt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof xo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new xo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(){this.ga=new zt(Ue.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):qe(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Oo{constructor(e,n,s,o,c,u,f,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,c){const u=[];return n.forEach((f=>{u.push({type:0,doc:f})})),new Oo(e,n,xo.emptySet(n),u,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$h(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class tk{constructor(){this.queries=$v(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=$e(n),c=o.queries;o.queries=$v(),c.forEach(((u,f)=>{for(const p of f.Sa)p.onError(s)}))})(this,new Ve(Ae.ABORTED,"Firestore shutting down"))}}function $v(){return new Ea((i=>nx(i)),$h)}async function nk(i,e){const n=$e(i);let s=3;const o=e.query;let c=n.queries.get(o);c?!c.ba()&&e.Da()&&(s=2):(c=new ek,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await n.onListen(o,!0);break;case 1:c.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(u){const f=Fp(u,`Initialization of query '${mo(e.query)}' failed`);return void e.onError(f)}n.queries.set(o,c),c.Sa.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&Hp(n)}async function rk(i,e){const n=$e(i),s=e.query;let o=3;const c=n.queries.get(s);if(c){const u=c.Sa.indexOf(e);u>=0&&(c.Sa.splice(u,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function ik(i,e){const n=$e(i);let s=!1;for(const o of e){const c=o.query,u=n.queries.get(c);if(u){for(const f of u.Sa)f.Fa(o)&&(s=!0);u.wa=o}}s&&Hp(n)}function sk(i,e,n){const s=$e(i),o=s.queries.get(e);if(o)for(const c of o.Sa)c.onError(n);s.queries.delete(e)}function Hp(i){i.Ca.forEach((e=>{e.next()}))}var $m,Xv;(Xv=$m||($m={})).Ma="default",Xv.Cache="cache";class ak{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Oo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Oo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==$m.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(e){this.key=e}}class Px{constructor(e){this.key=e}}class ok{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ot(),this.mutatedKeys=ot(),this.eu=rx(e),this.tu=new xo(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new Yv,o=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,u=o,f=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((_,b)=>{const E=o.get(_),w=Xh(this.query,b)?b:null,k=!!E&&this.mutatedKeys.has(E.key),A=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let R=!1;E&&w?E.data.isEqual(w.data)?k!==A&&(s.track({type:3,doc:w}),R=!0):this.su(E,w)||(s.track({type:2,doc:w}),R=!0,(p&&this.eu(w,p)>0||g&&this.eu(w,g)<0)&&(f=!0)):!E&&w?(s.track({type:0,doc:w}),R=!0):E&&!w&&(s.track({type:1,doc:E}),R=!0,(p||g)&&(f=!0)),R&&(w?(u=u.add(w),c=A?c.add(_):c.delete(_)):(u=u.delete(_),c=c.delete(_)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const _=this.query.limitType==="F"?u.last():u.first();u=u.delete(_.key),c=c.delete(_.key),s.track({type:1,doc:_})}return{tu:u,iu:s,Cs:f,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((_,b)=>(function(w,k){const A=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qe(20277,{Rt:R})}};return A(w)-A(k)})(_.type,b.type)||this.eu(_.doc,b.doc))),this.ou(s),o=o??!1;const f=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,u.length!==0||g?{snapshot:new Oo(this.query,e.tu,c,u,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Yv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ot(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new Px(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new Vx(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=ot();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Oo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const qp="SyncEngine";class lk{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class ck{constructor(e){this.key=e,this.hu=!1}}class uk{constructor(e,n,s,o,c,u){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Ea((f=>nx(f)),$h),this.Iu=new Map,this.Eu=new Set,this.du=new zt(Ue.comparator),this.Au=new Map,this.Ru=new Op,this.Vu={},this.mu=new Map,this.fu=Do.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function hk(i,e,n=!0){const s=qx(i);let o;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await zx(s,e,n,!0),o}async function dk(i,e){const n=qx(i);await zx(n,e,!0,!1)}async function zx(i,e,n,s){const o=await N4(i.localStore,ni(e)),c=o.targetId,u=i.sharedClientState.addLocalQueryTarget(c,n);let f;return s&&(f=await fk(i,e,c,u==="current",o.resumeToken)),i.isPrimaryClient&&n&&Ix(i.remoteStore,o),f}async function fk(i,e,n,s,o){i.pu=(b,E,w)=>(async function(A,R,I,P){let z=R.view.ru(I);z.Cs&&(z=await Fv(A.localStore,R.query,!1).then((({documents:j})=>R.view.ru(j,z))));const Y=P&&P.targetChanges.get(R.targetId),$=P&&P.targetMismatches.get(R.targetId)!=null,ie=R.view.applyChanges(z,A.isPrimaryClient,Y,$);return Zv(A,R.targetId,ie.au),ie.snapshot})(i,b,E,w);const c=await Fv(i.localStore,e,!0),u=new ok(e,c.Qs),f=u.ru(c.documents),p=wc.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),g=u.applyChanges(f,i.isPrimaryClient,p);Zv(i,n,g.au);const _=new lk(e,n,u);return i.Tu.set(e,_),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),g.snapshot}async function mk(i,e,n){const s=$e(i),o=s.Tu.get(e),c=s.Iu.get(o.targetId);if(c.length>1)return s.Iu.set(o.targetId,c.filter((u=>!$h(u,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Km(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Vp(s.remoteStore,o.targetId),Xm(s,o.targetId)})).catch(Bo)):(Xm(s,o.targetId),await Km(s.localStore,o.targetId,!0))}async function pk(i,e){const n=$e(i),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Vp(n.remoteStore,s.targetId))}async function gk(i,e,n){const s=Ek(i);try{const o=await(function(u,f){const p=$e(u),g=kt.now(),_=f.reduce(((w,k)=>w.add(k.key)),ot());let b,E;return p.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let k=Vi(),A=ot();return p.Ns.getEntries(w,_).next((R=>{k=R,k.forEach(((I,P)=>{P.isValidDocument()||(A=A.add(I))}))})).next((()=>p.localDocuments.getOverlayedDocuments(w,k))).next((R=>{b=R;const I=[];for(const P of f){const z=RN(P,b.get(P.key).overlayedDocument);z!=null&&I.push(new Ta(P.key,z,$1(z.value.mapValue),Di.exists(!0)))}return p.mutationQueue.addMutationBatch(w,g,I,f)})).next((R=>{E=R;const I=R.applyToLocalDocumentSet(b,A);return p.documentOverlayCache.saveOverlays(w,R.batchId,I)}))})).then((()=>({batchId:E.batchId,changes:sx(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(u,f,p){let g=u.Vu[u.currentUser.toKey()];g||(g=new zt(at)),g=g.insert(f,p),u.Vu[u.currentUser.toKey()]=g})(s,o.batchId,n),await Tc(s,o.changes),await nd(s.remoteStore)}catch(o){const c=Fp(o,"Failed to persist write");n.reject(c)}}async function Ux(i,e){const n=$e(i);try{const s=await A4(n.localStore,e);e.targetChanges.forEach(((o,c)=>{const u=n.Au.get(c);u&&(vt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?u.hu=!0:o.modifiedDocuments.size>0?vt(u.hu,14607):o.removedDocuments.size>0&&(vt(u.hu,42227),u.hu=!1))})),await Tc(n,s,e)}catch(s){await Bo(s)}}function Wv(i,e,n){const s=$e(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((c,u)=>{const f=u.view.va(e);f.snapshot&&o.push(f.snapshot)})),(function(u,f){const p=$e(u);p.onlineState=f;let g=!1;p.queries.forEach(((_,b)=>{for(const E of b.Sa)E.va(f)&&(g=!0)})),g&&Hp(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function yk(i,e,n){const s=$e(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),c=o&&o.key;if(c){let u=new zt(Ue.comparator);u=u.insert(c,Nn.newNoDocument(c,Ke.min()));const f=ot().add(c),p=new Jh(Ke.min(),new Map,new zt(at),u,f);await Ux(s,p),s.du=s.du.remove(c),s.Au.delete(e),Gp(s)}else await Km(s.localStore,e,!1).then((()=>Xm(s,e,n))).catch(Bo)}async function _k(i,e){const n=$e(i),s=e.batch.batchId;try{const o=await S4(n.localStore,e);Fx(n,s,null),Bx(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Tc(n,o)}catch(o){await Bo(o)}}async function vk(i,e,n){const s=$e(i);try{const o=await(function(u,f){const p=$e(u);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let _;return p.mutationQueue.lookupMutationBatch(g,f).next((b=>(vt(b!==null,37113),_=b.keys(),p.mutationQueue.removeMutationBatch(g,b)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,_,f))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_))).next((()=>p.localDocuments.getDocuments(g,_)))}))})(s.localStore,e);Fx(s,e,n),Bx(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Tc(s,o)}catch(o){await Bo(o)}}function Bx(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function Fx(i,e,n){const s=$e(i);let o=s.Vu[s.currentUser.toKey()];if(o){const c=o.get(e);c&&(n?c.reject(n):c.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Xm(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),n&&i.Pu.yu(s,n);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((s=>{i.Ru.containsKey(s)||Hx(i,s)}))}function Hx(i,e){i.Eu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(Vp(i.remoteStore,n),i.du=i.du.remove(e),i.Au.delete(n),Gp(i))}function Zv(i,e,n){for(const s of n)s instanceof Vx?(i.Ru.addReference(s.key,e),bk(i,s)):s instanceof Px?(De(qp,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||Hx(i,s.key)):qe(19791,{wu:s})}function bk(i,e){const n=e.key,s=n.path.canonicalString();i.du.get(n)||i.Eu.has(s)||(De(qp,"New document in limbo: "+n),i.Eu.add(s),Gp(i))}function Gp(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new Ue(Pt.fromString(e)),s=i.fu.next();i.Au.set(s,new ck(n)),i.du=i.du.insert(n,s),Ix(i.remoteStore,new vs(ni(Rp(n.path)),s,"TargetPurposeLimboResolution",Gh.ce))}}async function Tc(i,e,n){const s=$e(i),o=[],c=[],u=[];s.Tu.isEmpty()||(s.Tu.forEach(((f,p)=>{u.push(s.pu(p,e,n).then((g=>{var _;if((g||n)&&s.isPrimaryClient){const b=g?!g.fromCache:(_=n==null?void 0:n.targetChanges.get(p.targetId))==null?void 0:_.current;s.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(g){o.push(g);const b=Mp.As(p.targetId,g);c.push(b)}})))})),await Promise.all(u),s.Pu.H_(o),await(async function(p,g){const _=$e(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>Te.forEach(g,(E=>Te.forEach(E.Es,(w=>_.persistence.referenceDelegate.addReference(b,E.targetId,w))).next((()=>Te.forEach(E.ds,(w=>_.persistence.referenceDelegate.removeReference(b,E.targetId,w)))))))))}catch(b){if(!Fo(b))throw b;De(Lp,"Failed to update sequence numbers: "+b)}for(const b of g){const E=b.targetId;if(!b.fromCache){const w=_.Ms.get(E),k=w.snapshotVersion,A=w.withLastLimboFreeSnapshotVersion(k);_.Ms=_.Ms.insert(E,A)}}})(s.localStore,c))}async function xk(i,e){const n=$e(i);if(!n.currentUser.isEqual(e)){De(qp,"User change. New user:",e.toKey());const s=await Cx(n.localStore,e);n.currentUser=e,(function(c,u){c.mu.forEach((f=>{f.forEach((p=>{p.reject(new Ve(Ae.CANCELLED,u))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Tc(n,s.Ls)}}function wk(i,e){const n=$e(i),s=n.Au.get(e);if(s&&s.hu)return ot().add(s.key);{let o=ot();const c=n.Iu.get(e);if(!c)return o;for(const u of c){const f=n.Tu.get(u);o=o.unionWith(f.view.nu)}return o}}function qx(i){const e=$e(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ux.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=wk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=yk.bind(null,e),e.Pu.H_=ik.bind(null,e.eventManager),e.Pu.yu=sk.bind(null,e.eventManager),e}function Ek(i){const e=$e(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_k.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vk.bind(null,e),e}class Oh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ed(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return T4(this.persistence,new x4,e.initialUser,this.serializer)}Cu(e){return new Ax(jp.mi,this.serializer)}Du(e){return new I4}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Oh.provider={build:()=>new Oh};class Tk extends Oh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){vt(this.persistence.referenceDelegate instanceof Ih,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new a4(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Un.withCacheSize(this.cacheSizeBytes):Un.DEFAULT;return new Ax((s=>Ih.mi(s,n)),this.serializer)}}class Wm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Wv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=xk.bind(null,this.syncEngine),await J4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new tk})()}createDatastore(e){const n=ed(e.databaseInfo.databaseId),s=(function(c){return new L4(c)})(e.databaseInfo);return(function(c,u,f,p){return new U4(c,u,f,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,c,u,f){return new F4(s,o,c,u,f)})(this.localStore,this.datastore,e.asyncQueue,(n=>Wv(this.syncEngine,n,0)),(function(){return Gv.v()?new Gv:new D4})())}createSyncEngine(e,n){return(function(o,c,u,f,p,g,_){const b=new uk(o,c,u,f,p,g);return _&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(o){const c=$e(o);De(va,"RemoteStore shutting down."),c.Ea.add(5),await Ec(c),c.Aa.shutdown(),c.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Wm.provider={build:()=>new Wm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Li("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os="FirestoreClient";class Ak{constructor(e,n,s,o,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Rn.UNAUTHENTICATED,this.clientId=qh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async u=>{De(Os,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(s,(u=>(De(Os,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ss;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Fp(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Em(i,e){i.asyncQueue.verifyOperationInProgress(),De(Os,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await Cx(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function Jv(i,e){i.asyncQueue.verifyOperationInProgress();const n=await Ck(i);De(Os,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((s=>Kv(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>Kv(e.remoteStore,o))),i._onlineComponents=e}async function Ck(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){De(Os,"Using user provided OfflineComponentProvider");try{await Em(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Ae.FAILED_PRECONDITION||o.code===Ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;_a("Error using user provided cache. Falling back to memory cache: "+n),await Em(i,new Oh)}}else De(Os,"Using default OfflineComponentProvider"),await Em(i,new Tk(void 0));return i._offlineComponents}async function Gx(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(De(Os,"Using user provided OnlineComponentProvider"),await Jv(i,i._uninitializedComponentsProvider._online)):(De(Os,"Using default OnlineComponentProvider"),await Jv(i,new Wm))),i._onlineComponents}function Rk(i){return Gx(i).then((e=>e.syncEngine))}async function Nk(i){const e=await Gx(i),n=e.eventManager;return n.onListen=hk.bind(null,e.syncEngine),n.onUnlisten=mk.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=dk.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=pk.bind(null,e.syncEngine),n}function kk(i,e,n={}){const s=new Ss;return i.asyncQueue.enqueueAndForget((async()=>(function(c,u,f,p,g){const _=new Sk({next:E=>{_.Nu(),u.enqueueAndForget((()=>rk(c,b)));const w=E.docs.has(f);!w&&E.fromCache?g.reject(new Ve(Ae.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&E.fromCache&&p&&p.source==="server"?g.reject(new Ve(Ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(E)},error:E=>g.reject(E)}),b=new ak(Rp(f.path),_,{includeMetadataChanges:!0,qa:!0});return nk(c,b)})(await Nk(i),i.asyncQueue,e,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qx(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kx="firestore.googleapis.com",tb=!0;class nb{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ve(Ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Kx,this.ssl=tb}else this.host=e.host,this.ssl=e.ssl??tb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Sx;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<i4)throw new Ve(Ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}P1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Qx(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Ve(Ae.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Ve(Ae.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Ve(Ae.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Qp{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ve(Ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ve(Ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new V1;switch(s.type){case"firstParty":return new MR(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Ve(Ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=eb.get(n);s&&(De("ComponentProvider","Removing Datastore"),eb.delete(n),s.terminate())})(this),Promise.resolve()}}function Yx(i,e,n,s={}){var g;i=Ro(i,Qp);const o=Po(e),c=i._getSettings(),u={...c,emulatorOptions:i._getEmulatorOptions()},f=`${e}:${n}`;o&&(kb(`https://${f}`),Ib("Firestore",!0)),c.host!==Kx&&c.host!==f&&_a("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...c,host:f,ssl:o,emulatorOptions:s};if(!ma(p,u)&&(i._setSettings(p),s.mockUserToken)){let _,b;if(typeof s.mockUserToken=="string")_=s.mockUserToken,b=Rn.MOCK_USER;else{_=JT(s.mockUserToken,(g=i._app)==null?void 0:g.options.projectId);const E=s.mockUserToken.sub||s.mockUserToken.user_id;if(!E)throw new Ve(Ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Rn(E)}i._authCredentials=new DR(new L1(_,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new rd(this.firestore,e,this._query)}}class ln{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new jo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ln(this.firestore,e,this._key)}toJSON(){return{type:ln._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(bc(n,ln._jsonSchema))return new ln(e,s||null,new Ue(Pt.fromString(n.referencePath)))}}ln._jsonSchemaVersion="firestore/documentReference/1.0",ln._jsonSchema={type:nn("string",ln._jsonSchemaVersion),referencePath:nn("string")};class jo extends rd{constructor(e,n,s){super(e,n,Rp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ln(this.firestore,null,new Ue(e))}withConverter(e){return new jo(this.firestore,e,this._path)}}function $x(i,e,...n){if(i=er(i),arguments.length===1&&(e=qh.newId()),BR("doc","path",e),i instanceof Qp){const s=Pt.fromString(e,...n);return gv(s),new ln(i,null,new Ue(s))}{if(!(i instanceof ln||i instanceof jo))throw new Ve(Ae.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Pt.fromString(e,...n));return gv(s),new ln(i.firestore,i instanceof jo?i.converter:null,new Ue(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb="AsyncQueue";class ib{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Nx(this,"async_queue_retry"),this._c=()=>{const s=wm();s&&De(rb,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=wm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=wm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ss;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Fo(e))throw e;De(rb,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Li("INTERNAL UNHANDLED ERROR: ",sb(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Bp.createAndSchedule(this,e,n,s,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&qe(47125,{Pc:sb(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function sb(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class id extends Qp{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new ib,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ib(e),this._firestoreClient=void 0,await e}}}function Xx(i,e){const n=typeof i=="object"?i:Mb(),s=typeof i=="string"?i:Th,o=hp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=WT("firestore");c&&Yx(o,...c)}return o}function Kp(i){if(i._terminated)throw new Ve(Ae.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||Ik(i),i._firestoreClient}function Ik(i){var s,o,c;const e=i._freezeSettings(),n=(function(f,p,g,_){return new ZR(f,p,g,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,Qx(_.experimentalLongPollingOptions),_.useFetchStreams,_.isUsingEmulator)})(i._databaseId,((s=i._app)==null?void 0:s.options.appId)||"",i._persistenceKey,e);i._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((c=e.localCache)!=null&&c._onlineComponentProvider)&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new Ak(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(f){const p=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(p),_online:p}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zn(_n.fromBase64String(e))}catch(n){throw new Ve(Ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Zn(_n.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(bc(e,Zn._jsonSchema))return Zn.fromBase64String(e.bytes)}}Zn._jsonSchemaVersion="firestore/bytes/1.0",Zn._jsonSchema={type:nn("string",Zn._jsonSchemaVersion),bytes:nn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ve(Ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ve(Ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ve(Ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return at(this._lat,e._lat)||at(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Or._jsonSchemaVersion}}static fromJSON(e){if(bc(e,Or._jsonSchema))return new Or(e.latitude,e.longitude)}}Or._jsonSchemaVersion="firestore/geoPoint/1.0",Or._jsonSchema={type:nn("string",Or._jsonSchemaVersion),latitude:nn("number"),longitude:nn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:jr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(bc(e,jr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new jr(e.vectorValues);throw new Ve(Ae.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}jr._jsonSchemaVersion="firestore/vectorValue/1.0",jr._jsonSchema={type:nn("string",jr._jsonSchemaVersion),vectorValues:nn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dk=/^__.*__$/;class Ok{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Ta(e,this.data,this.fieldMask,n,this.fieldTransforms):new xc(e,this.data,n,this.fieldTransforms)}}function Wx(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw qe(40011,{Ac:i})}}class $p{constructor(e,n,s,o,c,u){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new $p({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var o;const n=(o=this.path)==null?void 0:o.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){var o;const n=(o=this.path)==null?void 0:o.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return jh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Wx(this.Ac)&&Dk.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class jk{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||ed(e)}Cc(e,n,s,o=!1){return new $p({Ac:e,methodName:n,Dc:s,path:yn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Mk(i){const e=i._freezeSettings(),n=ed(i._databaseId);return new jk(i._databaseId,!!e.ignoreUndefinedProperties,n)}function Lk(i,e,n,s,o,c={}){const u=i.Cc(c.merge||c.mergeFields?2:0,e,n,o);tw("Data must be an object, but it was:",u,s);const f=Jx(s,u);let p,g;if(c.merge)p=new Ir(u.fieldMask),g=u.fieldTransforms;else if(c.mergeFields){const _=[];for(const b of c.mergeFields){const E=Vk(e,b,n);if(!u.contains(E))throw new Ve(Ae.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);zk(_,E)||_.push(E)}p=new Ir(_),g=u.fieldTransforms.filter((b=>p.covers(b.field)))}else p=null,g=u.fieldTransforms;return new Ok(new gr(f),p,g)}function Zx(i,e){if(ew(i=er(i)))return tw("Unsupported field value:",e,i),Jx(i,e);if(i instanceof Yp)return(function(s,o){if(!Wx(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const c=[];let u=0;for(const f of s){let p=Zx(f,o.wc(u));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),u++}return{arrayValue:{values:c}}})(i,e)}return(function(s,o){if((s=er(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return wN(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=kt.fromDate(s);return{timestampValue:kh(o.serializer,c)}}if(s instanceof kt){const c=new kt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:kh(o.serializer,c)}}if(s instanceof Or)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Zn)return{bytesValue:_x(o.serializer,s._byteString)};if(s instanceof ln){const c=o.databaseId,u=s.firestore._databaseId;if(!u.isEqual(c))throw o.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Dp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof jr)return(function(u,f){return{mapValue:{fields:{[K1]:{stringValue:Y1},[Sh]:{arrayValue:{values:u.toArray().map((g=>{if(typeof g!="number")throw f.Sc("VectorValues must only contain numeric values.");return Np(f.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${wp(s)}`)})(i,e)}function Jx(i,e){const n={};return B1(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):wa(i,((s,o)=>{const c=Zx(o,e.mc(s));c!=null&&(n[s]=c)})),{mapValue:{fields:n}}}function ew(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof kt||i instanceof Or||i instanceof Zn||i instanceof ln||i instanceof Yp||i instanceof jr)}function tw(i,e,n){if(!ew(n)||!z1(n)){const s=wp(n);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function Vk(i,e,n){if((e=er(e))instanceof sd)return e._internalPath;if(typeof e=="string")return nw(i,e);throw jh("Field path arguments must be of type string or ",i,!1,void 0,n)}const Pk=new RegExp("[~\\*/\\[\\]]");function nw(i,e,n){if(e.search(Pk)>=0)throw jh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new sd(...e.split("."))._internalPath}catch{throw jh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function jh(i,e,n,s,o){const c=s&&!s.isEmpty(),u=o!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(c||u)&&(p+=" (found",c&&(p+=` in field ${s}`),u&&(p+=` in document ${o}`),p+=")"),new Ve(Ae.INVALID_ARGUMENT,f+i+p)}function zk(i,e){return i.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(e,n,s,o,c){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new ln(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Uk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(iw("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Uk extends rw{data(){return super.data()}}function iw(i,e){return typeof e=="string"?nw(i,e):e instanceof sd?e._internalPath:e._delegate._internalPath}class sw{convertValue(e,n="none"){switch(Is(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ks(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw qe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return wa(e,((o,c)=>{s[o]=this.convertValue(c,n)})),s}convertVectorValue(e){var s,o,c;const n=(c=(o=(s=e.fields)==null?void 0:s[Sh].arrayValue)==null?void 0:o.values)==null?void 0:c.map((u=>Kt(u.doubleValue)));return new jr(n)}convertGeoPoint(e){return new Or(Kt(e.latitude),Kt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Kh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(lc(e));default:return null}}convertTimestamp(e){const n=Ns(e);return new kt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Pt.fromString(e);vt(Tx(s),9688,{name:e});const o=new No(s.get(1),s.get(3)),c=new Ue(s.popFirst(5));return o.isEqual(n)||Li(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bk(i,e,n){let s;return s=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,s}class yo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class As extends rw{constructor(e,n,s,o,c,u){super(e,n,s,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ic(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(iw("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ve(Ae.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=As._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}As._jsonSchemaVersion="firestore/documentSnapshot/1.0",As._jsonSchema={type:nn("string",As._jsonSchemaVersion),bundleSource:nn("string","DocumentSnapshot"),bundleName:nn("string"),bundle:nn("string")};class ic extends As{data(e={}){return super.data(e)}}class wo{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new yo(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new ic(this._firestore,this._userDataWriter,s.key,s,new yo(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ve(Ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map((f=>{const p=new ic(o._firestore,o._userDataWriter,f.doc.key,f.doc,new yo(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:p,oldIndex:-1,newIndex:u++}}))}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((f=>c||f.type!==3)).map((f=>{const p=new ic(o._firestore,o._userDataWriter,f.doc.key,f.doc,new yo(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,_=-1;return f.type!==0&&(g=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),_=u.indexOf(f.doc.key)),{type:Fk(f.type),doc:p,oldIndex:g,newIndex:_}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ve(Ae.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=wo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=qh.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Fk(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return qe(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aw(i){i=Ro(i,ln);const e=Ro(i.firestore,id);return kk(Kp(e),i._key).then((n=>Gk(e,i,n)))}wo._jsonSchemaVersion="firestore/querySnapshot/1.0",wo._jsonSchema={type:nn("string",wo._jsonSchemaVersion),bundleSource:nn("string","QuerySnapshot"),bundleName:nn("string"),bundle:nn("string")};class Hk extends sw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ln(this.firestore,null,n)}}function qk(i,e,n){i=Ro(i,ln);const s=Ro(i.firestore,id),o=Bk(i.converter,e,n);return ow(s,[Lk(Mk(s),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,Di.none())])}function ow(i,e){return(function(s,o){const c=new Ss;return s.asyncQueue.enqueueAndForget((async()=>gk(await Rk(s),o,c))),c.promise})(Kp(i),e)}function Gk(i,e,n){const s=n.docs.get(e._key),o=new Hk(i);return new As(i,o,e._key,s,new yo(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){Uo=o})(zo),To(new pa("firestore",((s,{instanceIdentifier:o,options:c})=>{const u=s.getProvider("app").getImmediate(),f=new id(new OR(s.getProvider("auth-internal")),new LR(u,s.getProvider("app-check-internal")),(function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new Ve(Ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new No(g.options.projectId,_)})(u,o),u);return c={useFetchStreams:n,...c},f._setSettings(c),f}),"PUBLIC").setMultipleInstances(!0)),Es(dv,fv,e),Es(dv,fv,"esm2020")})();const Zm=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:sw,Bytes:Zn,CollectionReference:jo,DocumentReference:ln,DocumentSnapshot:As,FieldPath:sd,FieldValue:Yp,Firestore:id,FirestoreError:Ve,GeoPoint:Or,Query:rd,QueryDocumentSnapshot:ic,QuerySnapshot:wo,SnapshotMetadata:yo,Timestamp:kt,VectorValue:jr,_AutoId:qh,_ByteString:_n,_DatabaseId:No,_DocumentKey:Ue,_EmptyAuthCredentialsProvider:V1,_FieldPath:yn,_cast:Ro,_logWarn:_a,_validateIsNotUsedTogether:P1,connectFirestoreEmulator:Yx,doc:$x,ensureFirestoreConfigured:Kp,executeWrite:ow,getDoc:aw,getFirestore:Xx,setDoc:qk},Symbol.toStringTag,{value:"Module"})),Qk={apiKey:"AIzaSyBSUJ3y6PFrdN7QF2kPgPX95BjJtZ0hrws",authDomain:"hdlbase-4098c.firebaseapp.com",projectId:"hdlbase-4098c",storageBucket:"hdlbase-4098c.firebasestorage.app",messagingSenderId:"90007737592",appId:"1:90007737592:web:301578908a7fcb55ae570d"},lw=jb(Qk),Jm=R1(lw),cw=Xx(lw),Kk=new ei,Mh=Object.freeze(Object.defineProperty({__proto__:null,auth:Jm,db:cw,googleProvider:Kk},Symbol.toStringTag,{value:"Module"})),Yk=()=>{const[i,e]=W.useState(null),[n,s]=W.useState(null),[o,c]=W.useState(!0);W.useEffect(()=>{console.log("App mounted, setting up auth listener...");const p=m1(Jm,async g=>{if(console.log("Auth State Changed:",g?"User Found":"No User"),g)try{const _=$x(cw,"users",g.uid),b=await aw(_);if(b.exists()){const E=b.data();console.log("Profile loaded:",E.role),e(g),s(E);const w=await g.getIdToken();localStorage.setItem("hdlbase_mock_session",JSON.stringify({uid:g.uid,token:w,role:E.role,email:g.email}))}else{console.log("User exists but no profile doc found."),e(g);let E=gn.LEARNER;try{const k=localStorage.getItem("hdlbase_mock_session");if(k){const A=JSON.parse(k);A.role&&(E=A.role)}}catch(k){console.warn("Session parse error",k)}const w=await g.getIdToken();localStorage.setItem("hdlbase_mock_session",JSON.stringify({uid:g.uid,token:w,role:E,email:g.email}))}}catch(_){console.error("Error fetching user profile:",_)}else e(null),s(null);c(!1)});return()=>p()},[]);const u=()=>{},f=async()=>{try{await Jm.signOut(),window.location.hash="#/"}catch(p){console.error("Error signing out:",p)}};return o?y.jsx("div",{className:"min-h-screen bg-matte flex items-center justify-center",children:y.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-accent"})}):y.jsx(bT,{children:y.jsxs(X2,{children:[y.jsx(ua,{path:"/",element:y.jsx(kT,{currentUser:i,onSignOut:f})}),y.jsx(ua,{path:"/login",element:i?y.jsx(Gl,{to:"/dashboard"}):y.jsx(OT,{onLoginSuccess:u})}),y.jsx(ua,{path:"/signup",element:i?y.jsx(Gl,{to:"/dashboard"}):y.jsx(BT,{onLoginSuccess:u})}),y.jsx(ua,{path:"/dashboard",element:i?(n==null?void 0:n.role)===gn.CONTRIBUTOR?y.jsx(zT,{profile:n,onSignOut:f}):y.jsx(UT,{profile:n||{uid:i.uid,email:i.email,role:gn.LEARNER,displayName:"User",username:"user123",category:"Learner"},onSignOut:f}):y.jsx(Gl,{to:"/"})}),y.jsx(ua,{path:"/challenge/:id",element:i?y.jsx(FT,{}):y.jsx(Gl,{to:"/"})}),y.jsx(ua,{path:"*",element:y.jsx(Gl,{to:"/"})})]})})},uw=document.getElementById("root");if(!uw)throw new Error("Could not find root element to mount to");const $k=ZE.createRoot(uw);$k.render(y.jsx(qE.StrictMode,{children:y.jsx(Yk,{})}));
