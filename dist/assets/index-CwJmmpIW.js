(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var gs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ep(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var nm={exports:{}},Ul={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gv;function Bx(){if(gv)return Ul;gv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:c,ref:o!==void 0?o:null,props:u}}return Ul.Fragment=e,Ul.jsx=n,Ul.jsxs=n,Ul}var yv;function Fx(){return yv||(yv=1,nm.exports=Bx()),nm.exports}var b=Fx(),im={exports:{}},Xe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _v;function Hx(){if(_v)return Xe;_v=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),x=Symbol.iterator;function E(V){return V===null||typeof V!="object"?null:(V=x&&V[x]||V["@@iterator"],typeof V=="function"?V:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,C={};function I(V,G,me){this.props=V,this.context=G,this.refs=C,this.updater=me||k}I.prototype.isReactComponent={},I.prototype.setState=function(V,G){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,G,"setState")},I.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function P(){}P.prototype=I.prototype;function z(V,G,me){this.props=V,this.context=G,this.refs=C,this.updater=me||k}var K=z.prototype=new P;K.constructor=z,A(K,I.prototype),K.isPureReactComponent=!0;var Y=Array.isArray;function ie(){}var M={H:null,A:null,T:null,S:null},j=Object.prototype.hasOwnProperty;function O(V,G,me){var fe=me.ref;return{$$typeof:r,type:V,key:G,ref:fe!==void 0?fe:null,props:me}}function B(V,G){return O(V.type,G,V.props)}function H(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function N(V){var G={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(me){return G[me]})}var D=/\/+/g;function R(V,G){return typeof V=="object"&&V!==null&&V.key!=null?N(""+V.key):G.toString(36)}function te(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(ie,ie):(V.status="pending",V.then(function(G){V.status==="pending"&&(V.status="fulfilled",V.value=G)},function(G){V.status==="pending"&&(V.status="rejected",V.reason=G)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function W(V,G,me,fe,pe){var ke=typeof V;(ke==="undefined"||ke==="boolean")&&(V=null);var ze=!1;if(V===null)ze=!0;else switch(ke){case"bigint":case"string":case"number":ze=!0;break;case"object":switch(V.$$typeof){case r:case e:ze=!0;break;case _:return ze=V._init,W(ze(V._payload),G,me,fe,pe)}}if(ze)return pe=pe(V),ze=fe===""?"."+R(V,0):fe,Y(pe)?(me="",ze!=null&&(me=ze.replace(D,"$&/")+"/"),W(pe,G,me,"",function(yt){return yt})):pe!=null&&(H(pe)&&(pe=B(pe,me+(pe.key==null||V&&V.key===pe.key?"":(""+pe.key).replace(D,"$&/")+"/")+ze)),G.push(pe)),1;ze=0;var Ve=fe===""?".":fe+":";if(Y(V))for(var Me=0;Me<V.length;Me++)fe=V[Me],ke=Ve+R(fe,Me),ze+=W(fe,G,me,ke,pe);else if(Me=E(V),typeof Me=="function")for(V=Me.call(V),Me=0;!(fe=V.next()).done;)fe=fe.value,ke=Ve+R(fe,Me++),ze+=W(fe,G,me,ke,pe);else if(ke==="object"){if(typeof V.then=="function")return W(te(V),G,me,fe,pe);throw G=String(V),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return ze}function ee(V,G,me){if(V==null)return V;var fe=[],pe=0;return W(V,fe,"","",function(ke){return G.call(me,ke,pe++)}),fe}function Te(V){if(V._status===-1){var G=V._result;G=G(),G.then(function(me){(V._status===0||V._status===-1)&&(V._status=1,V._result=me)},function(me){(V._status===0||V._status===-1)&&(V._status=2,V._result=me)}),V._status===-1&&(V._status=0,V._result=G)}if(V._status===1)return V._result.default;throw V._result}var ge=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Ne={map:ee,forEach:function(V,G,me){ee(V,function(){G.apply(this,arguments)},me)},count:function(V){var G=0;return ee(V,function(){G++}),G},toArray:function(V){return ee(V,function(G){return G})||[]},only:function(V){if(!H(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Xe.Activity=v,Xe.Children=Ne,Xe.Component=I,Xe.Fragment=n,Xe.Profiler=o,Xe.PureComponent=z,Xe.StrictMode=s,Xe.Suspense=p,Xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,Xe.__COMPILER_RUNTIME={__proto__:null,c:function(V){return M.H.useMemoCache(V)}},Xe.cache=function(V){return function(){return V.apply(null,arguments)}},Xe.cacheSignal=function(){return null},Xe.cloneElement=function(V,G,me){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var fe=A({},V.props),pe=V.key;if(G!=null)for(ke in G.key!==void 0&&(pe=""+G.key),G)!j.call(G,ke)||ke==="key"||ke==="__self"||ke==="__source"||ke==="ref"&&G.ref===void 0||(fe[ke]=G[ke]);var ke=arguments.length-2;if(ke===1)fe.children=me;else if(1<ke){for(var ze=Array(ke),Ve=0;Ve<ke;Ve++)ze[Ve]=arguments[Ve+2];fe.children=ze}return O(V.type,pe,fe)},Xe.createContext=function(V){return V={$$typeof:c,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},Xe.createElement=function(V,G,me){var fe,pe={},ke=null;if(G!=null)for(fe in G.key!==void 0&&(ke=""+G.key),G)j.call(G,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(pe[fe]=G[fe]);var ze=arguments.length-2;if(ze===1)pe.children=me;else if(1<ze){for(var Ve=Array(ze),Me=0;Me<ze;Me++)Ve[Me]=arguments[Me+2];pe.children=Ve}if(V&&V.defaultProps)for(fe in ze=V.defaultProps,ze)pe[fe]===void 0&&(pe[fe]=ze[fe]);return O(V,ke,pe)},Xe.createRef=function(){return{current:null}},Xe.forwardRef=function(V){return{$$typeof:d,render:V}},Xe.isValidElement=H,Xe.lazy=function(V){return{$$typeof:_,_payload:{_status:-1,_result:V},_init:Te}},Xe.memo=function(V,G){return{$$typeof:g,type:V,compare:G===void 0?null:G}},Xe.startTransition=function(V){var G=M.T,me={};M.T=me;try{var fe=V(),pe=M.S;pe!==null&&pe(me,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(ie,ge)}catch(ke){ge(ke)}finally{G!==null&&me.types!==null&&(G.types=me.types),M.T=G}},Xe.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},Xe.use=function(V){return M.H.use(V)},Xe.useActionState=function(V,G,me){return M.H.useActionState(V,G,me)},Xe.useCallback=function(V,G){return M.H.useCallback(V,G)},Xe.useContext=function(V){return M.H.useContext(V)},Xe.useDebugValue=function(){},Xe.useDeferredValue=function(V,G){return M.H.useDeferredValue(V,G)},Xe.useEffect=function(V,G){return M.H.useEffect(V,G)},Xe.useEffectEvent=function(V){return M.H.useEffectEvent(V)},Xe.useId=function(){return M.H.useId()},Xe.useImperativeHandle=function(V,G,me){return M.H.useImperativeHandle(V,G,me)},Xe.useInsertionEffect=function(V,G){return M.H.useInsertionEffect(V,G)},Xe.useLayoutEffect=function(V,G){return M.H.useLayoutEffect(V,G)},Xe.useMemo=function(V,G){return M.H.useMemo(V,G)},Xe.useOptimistic=function(V,G){return M.H.useOptimistic(V,G)},Xe.useReducer=function(V,G,me){return M.H.useReducer(V,G,me)},Xe.useRef=function(V){return M.H.useRef(V)},Xe.useState=function(V){return M.H.useState(V)},Xe.useSyncExternalStore=function(V,G,me){return M.H.useSyncExternalStore(V,G,me)},Xe.useTransition=function(){return M.H.useTransition()},Xe.version="19.2.3",Xe}var vv;function tp(){return vv||(vv=1,im.exports=Hx()),im.exports}var Z=tp();const qx=ep(Z);var rm={exports:{}},Bl={},sm={exports:{}},am={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bv;function Gx(){return bv||(bv=1,(function(r){function e(W,ee){var Te=W.length;W.push(ee);e:for(;0<Te;){var ge=Te-1>>>1,Ne=W[ge];if(0<o(Ne,ee))W[ge]=ee,W[Te]=Ne,Te=ge;else break e}}function n(W){return W.length===0?null:W[0]}function s(W){if(W.length===0)return null;var ee=W[0],Te=W.pop();if(Te!==ee){W[0]=Te;e:for(var ge=0,Ne=W.length,V=Ne>>>1;ge<V;){var G=2*(ge+1)-1,me=W[G],fe=G+1,pe=W[fe];if(0>o(me,Te))fe<Ne&&0>o(pe,me)?(W[ge]=pe,W[fe]=Te,ge=fe):(W[ge]=me,W[G]=Te,ge=G);else if(fe<Ne&&0>o(pe,Te))W[ge]=pe,W[fe]=Te,ge=fe;else break e}}return ee}function o(W,ee){var Te=W.sortIndex-ee.sortIndex;return Te!==0?Te:W.id-ee.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var c=Date,d=c.now();r.unstable_now=function(){return c.now()-d}}var p=[],g=[],_=1,v=null,x=3,E=!1,k=!1,A=!1,C=!1,I=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function K(W){for(var ee=n(g);ee!==null;){if(ee.callback===null)s(g);else if(ee.startTime<=W)s(g),ee.sortIndex=ee.expirationTime,e(p,ee);else break;ee=n(g)}}function Y(W){if(A=!1,K(W),!k)if(n(p)!==null)k=!0,ie||(ie=!0,N());else{var ee=n(g);ee!==null&&te(Y,ee.startTime-W)}}var ie=!1,M=-1,j=5,O=-1;function B(){return C?!0:!(r.unstable_now()-O<j)}function H(){if(C=!1,ie){var W=r.unstable_now();O=W;var ee=!0;try{e:{k=!1,A&&(A=!1,P(M),M=-1),E=!0;var Te=x;try{t:{for(K(W),v=n(p);v!==null&&!(v.expirationTime>W&&B());){var ge=v.callback;if(typeof ge=="function"){v.callback=null,x=v.priorityLevel;var Ne=ge(v.expirationTime<=W);if(W=r.unstable_now(),typeof Ne=="function"){v.callback=Ne,K(W),ee=!0;break t}v===n(p)&&s(p),K(W)}else s(p);v=n(p)}if(v!==null)ee=!0;else{var V=n(g);V!==null&&te(Y,V.startTime-W),ee=!1}}break e}finally{v=null,x=Te,E=!1}ee=void 0}}finally{ee?N():ie=!1}}}var N;if(typeof z=="function")N=function(){z(H)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,R=D.port2;D.port1.onmessage=H,N=function(){R.postMessage(null)}}else N=function(){I(H,0)};function te(W,ee){M=I(function(){W(r.unstable_now())},ee)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(W){W.callback=null},r.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<W?Math.floor(1e3/W):5},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_next=function(W){switch(x){case 1:case 2:case 3:var ee=3;break;default:ee=x}var Te=x;x=ee;try{return W()}finally{x=Te}},r.unstable_requestPaint=function(){C=!0},r.unstable_runWithPriority=function(W,ee){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var Te=x;x=W;try{return ee()}finally{x=Te}},r.unstable_scheduleCallback=function(W,ee,Te){var ge=r.unstable_now();switch(typeof Te=="object"&&Te!==null?(Te=Te.delay,Te=typeof Te=="number"&&0<Te?ge+Te:ge):Te=ge,W){case 1:var Ne=-1;break;case 2:Ne=250;break;case 5:Ne=1073741823;break;case 4:Ne=1e4;break;default:Ne=5e3}return Ne=Te+Ne,W={id:_++,callback:ee,priorityLevel:W,startTime:Te,expirationTime:Ne,sortIndex:-1},Te>ge?(W.sortIndex=Te,e(g,W),n(p)===null&&W===n(g)&&(A?(P(M),M=-1):A=!0,te(Y,Te-ge))):(W.sortIndex=Ne,e(p,W),k||E||(k=!0,ie||(ie=!0,N()))),W},r.unstable_shouldYield=B,r.unstable_wrapCallback=function(W){var ee=x;return function(){var Te=x;x=ee;try{return W.apply(this,arguments)}finally{x=Te}}}})(am)),am}var wv;function Qx(){return wv||(wv=1,sm.exports=Gx()),sm.exports}var om={exports:{}},bn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ev;function Kx(){if(Ev)return bn;Ev=1;var r=tp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,_){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:v==null?null:""+v,children:p,containerInfo:g,implementation:_}}var c=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return bn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,bn.createPortal=function(p,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,_)},bn.flushSync=function(p){var g=c.T,_=s.p;try{if(c.T=null,s.p=2,p)return p()}finally{c.T=g,s.p=_,s.d.f()}},bn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},bn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},bn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var _=g.as,v=d(_,g.crossOrigin),x=typeof g.integrity=="string"?g.integrity:void 0,E=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:v,integrity:x,fetchPriority:E}):_==="script"&&s.d.X(p,{crossOrigin:v,integrity:x,fetchPriority:E,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},bn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=d(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},bn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,v=d(_,g.crossOrigin);s.d.L(p,_,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},bn.preloadModule=function(p,g){if(typeof p=="string")if(g){var _=d(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},bn.requestFormReset=function(p){s.d.r(p)},bn.unstable_batchedUpdates=function(p,g){return p(g)},bn.useFormState=function(p,g,_){return c.H.useFormState(p,g,_)},bn.useFormStatus=function(){return c.H.useHostTransitionStatus()},bn.version="19.2.3",bn}var xv;function Yx(){if(xv)return om.exports;xv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),om.exports=Kx(),om.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tv;function Xx(){if(Tv)return Bl;Tv=1;var r=Qx(),e=tp(),n=Yx();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function c(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function d(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function g(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return p(f),t;if(m===l)return p(f),i;m=m.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=m;else{for(var w=!1,L=f.child;L;){if(L===a){w=!0,a=f,l=m;break}if(L===l){w=!0,l=f,a=m;break}L=L.sibling}if(!w){for(L=m.child;L;){if(L===a){w=!0,a=m,l=f;break}if(L===l){w=!0,l=m,a=f;break}L=L.sibling}if(!w)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function _(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=_(t),i!==null)return i;t=t.sibling}return null}var v=Object.assign,x=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),P=Symbol.for("react.consumer"),z=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),ie=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),H=Symbol.iterator;function N(t){return t===null||typeof t!="object"?null:(t=H&&t[H]||t["@@iterator"],typeof t=="function"?t:null)}var D=Symbol.for("react.client.reference");function R(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===D?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case A:return"Fragment";case I:return"Profiler";case C:return"StrictMode";case Y:return"Suspense";case ie:return"SuspenseList";case O:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case k:return"Portal";case z:return t.displayName||"Context";case P:return(t._context.displayName||"Context")+".Consumer";case K:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case M:return i=t.displayName||null,i!==null?i:R(t.type)||"Memo";case j:i=t._payload,t=t._init;try{return R(t(i))}catch{}}return null}var te=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Te={pending:!1,data:null,method:null,action:null},ge=[],Ne=-1;function V(t){return{current:t}}function G(t){0>Ne||(t.current=ge[Ne],ge[Ne]=null,Ne--)}function me(t,i){Ne++,ge[Ne]=t.current,t.current=i}var fe=V(null),pe=V(null),ke=V(null),ze=V(null);function Ve(t,i){switch(me(ke,i),me(pe,t),me(fe,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?z_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=z_(i),t=U_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}G(fe),me(fe,t)}function Me(){G(fe),G(pe),G(ke)}function yt(t){t.memoizedState!==null&&me(ze,t);var i=fe.current,a=U_(i,t.type);i!==a&&(me(pe,t),me(fe,a))}function ft(t){pe.current===t&&(G(fe),G(pe)),ze.current===t&&(G(ze),Ll._currentValue=Te)}var Ut,Ie;function T(t){if(Ut===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Ut=i&&i[1]||"",Ie=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ut+t+Ie}var de=!1;function oe(t,i){if(!t||de)return"";de=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var be=function(){throw Error()};if(Object.defineProperty(be.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(be,[])}catch(he){var le=he}Reflect.construct(t,[],be)}else{try{be.call()}catch(he){le=he}t.call(be.prototype)}}else{try{throw Error()}catch(he){le=he}(be=t())&&typeof be.catch=="function"&&be.catch(function(){})}}catch(he){if(he&&le&&typeof he.stack=="string")return[he.stack,le.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),w=m[0],L=m[1];if(w&&L){var Q=w.split(`
`),ae=L.split(`
`);for(f=l=0;l<Q.length&&!Q[l].includes("DetermineComponentFrameRoot");)l++;for(;f<ae.length&&!ae[f].includes("DetermineComponentFrameRoot");)f++;if(l===Q.length||f===ae.length)for(l=Q.length-1,f=ae.length-1;1<=l&&0<=f&&Q[l]!==ae[f];)f--;for(;1<=l&&0<=f;l--,f--)if(Q[l]!==ae[f]){if(l!==1||f!==1)do if(l--,f--,0>f||Q[l]!==ae[f]){var ye=`
`+Q[l].replace(" at new "," at ");return t.displayName&&ye.includes("<anonymous>")&&(ye=ye.replace("<anonymous>",t.displayName)),ye}while(1<=l&&0<=f);break}}}finally{de=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?T(a):""}function q(t,i){switch(t.tag){case 26:case 27:case 5:return T(t.type);case 16:return T("Lazy");case 13:return t.child!==i&&i!==null?T("Suspense Fallback"):T("Suspense");case 19:return T("SuspenseList");case 0:case 15:return oe(t.type,!1);case 11:return oe(t.type.render,!1);case 1:return oe(t.type,!0);case 31:return T("Activity");default:return""}}function F(t){try{var i="",a=null;do i+=q(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var X=Object.prototype.hasOwnProperty,ue=r.unstable_scheduleCallback,_e=r.unstable_cancelCallback,se=r.unstable_shouldYield,Se=r.unstable_requestPaint,Re=r.unstable_now,Ae=r.unstable_getCurrentPriorityLevel,je=r.unstable_ImmediatePriority,et=r.unstable_UserBlockingPriority,Ge=r.unstable_NormalPriority,Ee=r.unstable_LowPriority,Qe=r.unstable_IdlePriority,dt=r.log,mt=r.unstable_setDisableYieldValue,Ke=null,it=null;function Mt(t){if(typeof dt=="function"&&mt(t),it&&typeof it.setStrictMode=="function")try{it.setStrictMode(Ke,t)}catch{}}var rt=Math.clz32?Math.clz32:kt,fi=Math.log,Ln=Math.LN2;function kt(t){return t>>>=0,t===0?32:31-(fi(t)/Ln|0)|0}var Wn=256,Ii=262144,Nt=4194304;function Sn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ki(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var f=0,m=t.suspendedLanes,w=t.pingedLanes;t=t.warmLanes;var L=l&134217727;return L!==0?(l=L&~m,l!==0?f=Sn(l):(w&=L,w!==0?f=Sn(w):a||(a=L&~t,a!==0&&(f=Sn(a))))):(L=l&~m,L!==0?f=Sn(L):w!==0?f=Sn(w):a||(a=l&~t,a!==0&&(f=Sn(a)))),f===0?0:i!==0&&i!==f&&(i&m)===0&&(m=f&-f,a=i&-i,m>=a||m===32&&(a&4194048)!==0)?i:f}function di(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function af(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Eu(){var t=Nt;return Nt<<=1,(Nt&62914560)===0&&(Nt=4194304),t}function Di(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function js(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function of(t,i,a,l,f,m){var w=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var L=t.entanglements,Q=t.expirationTimes,ae=t.hiddenUpdates;for(a=w&~a;0<a;){var ye=31-rt(a),be=1<<ye;L[ye]=0,Q[ye]=-1;var le=ae[ye];if(le!==null)for(ae[ye]=null,ye=0;ye<le.length;ye++){var he=le[ye];he!==null&&(he.lane&=-536870913)}a&=~be}l!==0&&Ls(t,l,0),m!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=m&~(w&~i))}function Ls(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-rt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Bo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-rt(a),f=1<<l;f&i|t[l]&i&&(t[l]|=i),a&=~f}}function Fo(t,i){var a=i&-i;return a=(a&42)!==0?1:Vs(a),(a&(t.suspendedLanes|i))!==0?0:a}function Vs(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function rr(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function xu(){var t=ee.p;return t!==0?t:(t=window.event,t===void 0?32:uv(t.type))}function mi(t,i){var a=ee.p;try{return ee.p=t,i()}finally{ee.p=a}}var pi=Math.random().toString(36).slice(2),Kt="__reactFiber$"+pi,on="__reactProps$"+pi,Oi="__reactContainer$"+pi,xa="__reactEvents$"+pi,lf="__reactListeners$"+pi,Tu="__reactHandles$"+pi,Su="__reactResources$"+pi,Mi="__reactMarker$"+pi;function Ta(t){delete t[Kt],delete t[on],delete t[xa],delete t[lf],delete t[Tu]}function ji(t){var i=t[Kt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Oi]||a[Kt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=K_(t);t!==null;){if(a=t[Kt])return a;t=K_(t)}return i}t=a,a=t.parentNode}return null}function Zn(t){if(t=t[Kt]||t[Oi]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function Vn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function Li(t){var i=t[Su];return i||(i=t[Su]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Yt(t){t[Mi]=!0}var Ho=new Set,qo={};function Vi(t,i){Pi(t,i),Pi(t+"Capture",i)}function Pi(t,i){for(qo[t]=i,t=0;t<i.length;t++)Ho.add(i[t])}var Go=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qo={},Ko={};function Au(t){return X.call(Ko,t)?!0:X.call(Qo,t)?!1:Go.test(t)?Ko[t]=!0:(Qo[t]=!0,!1)}function Sa(t,i,a){if(Au(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Pn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Xt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function ln(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Pr(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Yo(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,m=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return f.call(this)},set:function(w){a=""+w,m.call(this,w)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(w){a=""+w},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function wt(t){if(!t._valueTracker){var i=Pr(t)?"checked":"value";t._valueTracker=Yo(t,i,""+t[i])}}function Ps(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Pr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function zi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var zs=/[\n"\\]/g;function Cn(t){return t.replace(zs,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Aa(t,i,a,l,f,m,w,L){t.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?t.type=w:t.removeAttribute("type"),i!=null?w==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+ln(i)):t.value!==""+ln(i)&&(t.value=""+ln(i)):w!=="submit"&&w!=="reset"||t.removeAttribute("value"),i!=null?Xo(t,w,ln(i)):a!=null?Xo(t,w,ln(a)):l!=null&&t.removeAttribute("value"),f==null&&m!=null&&(t.defaultChecked=!!m),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?t.name=""+ln(L):t.removeAttribute("name")}function Ru(t,i,a,l,f,m,w,L){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),i!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||i!=null)){wt(t);return}a=a!=null?""+ln(a):"",i=i!=null?""+ln(i):a,L||i===t.value||(t.value=i),t.defaultValue=i}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=L?t.checked:!!l,t.defaultChecked=!!l,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(t.name=w),wt(t)}function Xo(t,i,a){i==="number"&&zi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function zr(t,i,a,l){if(t=t.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=i.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+ln(a),i=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}i!==null||t[f].disabled||(i=t[f])}i!==null&&(i.selected=!0)}}function Cu(t,i,a){if(i!=null&&(i=""+ln(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+ln(a):""}function Ur(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(te(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=ln(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),wt(t)}function Nn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Nu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $o(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Nu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Wo(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in i)l=i[f],i.hasOwnProperty(f)&&a[f]!==l&&$o(t,f,l)}else for(var m in i)i.hasOwnProperty(m)&&$o(t,m,i[m])}function Ra(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Iu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Br=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ca(t){return Br.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function gi(){}var Zo=null;function Jn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Fr=null,Ui=null;function Us(t){var i=Zn(t);if(i&&(t=i.stateNode)){var a=t[on]||null;e:switch(t=i.stateNode,i.type){case"input":if(Aa(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Cn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var f=l[on]||null;if(!f)throw Error(s(90));Aa(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Ps(l)}break e;case"textarea":Cu(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&zr(t,!!a.multiple,i,!1)}}}var Na=!1;function Hr(t,i,a){if(Na)return t(i,a);Na=!0;try{var l=t(i);return l}finally{if(Na=!1,(Fr!==null||Ui!==null)&&(xc(),Fr&&(i=Fr,t=Ui,Ui=Fr=null,Us(i),t)))for(i=0;i<t.length;i++)Us(t[i])}}function yi(t,i){var a=t.stateNode;if(a===null)return null;var l=a[on]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bs=!1;if(ei)try{var Tt={};Object.defineProperty(Tt,"passive",{get:function(){Bs=!0}}),window.addEventListener("test",Tt,Tt),window.removeEventListener("test",Tt,Tt)}catch{Bs=!1}var Bi=null,Jo=null,Fs=null;function el(){if(Fs)return Fs;var t,i=Jo,a=i.length,l,f="value"in Bi?Bi.value:Bi.textContent,m=f.length;for(t=0;t<a&&i[t]===f[t];t++);var w=a-t;for(l=1;l<=w&&i[a-l]===f[m-l];l++);return Fs=f.slice(t,1<l?1-l:void 0)}function Hs(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function sr(){return!0}function _i(){return!1}function mn(t){function i(a,l,f,m,w){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=m,this.target=w,this.currentTarget=null;for(var L in t)t.hasOwnProperty(L)&&(a=t[L],this[L]=a?a(m):m[L]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?sr:_i,this.isPropagationStopped=_i,this}return v(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=sr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=sr)},persist:function(){},isPersistent:sr}),i}var ar={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fi=mn(ar),qr=v({},ar,{view:0,detail:0}),tl=mn(qr),Gr,Ia,Hi,ka=v({},qr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Hi&&(Hi&&t.type==="mousemove"?(Gr=t.screenX-Hi.screenX,Ia=t.screenY-Hi.screenY):Ia=Gr=0,Hi=t),Gr)},movementY:function(t){return"movementY"in t?t.movementY:Ia}}),nl=mn(ka),qs=v({},ka,{dataTransfer:0}),ku=mn(qs),Du=v({},qr,{relatedTarget:0}),Gs=mn(Du),il=v({},ar,{animationName:0,elapsedTime:0,pseudoElement:0}),Ou=mn(il),Da=v({},ar,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Mu=mn(Da),ju=v({},ar,{data:0}),qi=mn(ju),Lu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Pu[t])?!!i[t]:!1}function Qr(){return zu}var An=v({},qr,{key:function(t){if(t.key){var i=Lu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Hs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Vu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qr,charCode:function(t){return t.type==="keypress"?Hs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Hs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Uu=mn(An),Bu=v({},ka,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),or=mn(Bu),h=v({},qr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qr}),y=mn(h),S=v({},ar,{propertyName:0,elapsedTime:0,pseudoElement:0}),U=mn(S),ne=v({},ka,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ce=mn(ne),Ce=v({},ar,{newState:0,oldState:0}),We=mn(Ce),Ht=[9,13,27,32],_t=ei&&"CompositionEvent"in window,jt=null;ei&&"documentMode"in document&&(jt=document.documentMode);var ti=ei&&"TextEvent"in window&&!jt,Gi=ei&&(!_t||jt&&8<jt&&11>=jt),vi=" ",bi=!1;function Qs(t,i){switch(t){case"keyup":return Ht.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Oa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ma=!1;function hE(t,i){switch(t){case"compositionend":return Oa(i);case"keypress":return i.which!==32?null:(bi=!0,vi);case"textInput":return t=i.data,t===vi&&bi?null:t;default:return null}}function fE(t,i){if(Ma)return t==="compositionend"||!_t&&Qs(t,i)?(t=el(),Fs=Jo=Bi=null,Ma=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Gi&&i.locale!=="ko"?null:i.data;default:return null}}var dE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $p(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!dE[t.type]:i==="textarea"}function Wp(t,i,a,l){Fr?Ui?Ui.push(l):Ui=[l]:Fr=l,i=Ic(i,"onChange"),0<i.length&&(a=new Fi("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var rl=null,sl=null;function mE(t){O_(t,0)}function Fu(t){var i=Vn(t);if(Ps(i))return t}function Zp(t,i){if(t==="change")return i}var Jp=!1;if(ei){var uf;if(ei){var cf="oninput"in document;if(!cf){var eg=document.createElement("div");eg.setAttribute("oninput","return;"),cf=typeof eg.oninput=="function"}uf=cf}else uf=!1;Jp=uf&&(!document.documentMode||9<document.documentMode)}function tg(){rl&&(rl.detachEvent("onpropertychange",ng),sl=rl=null)}function ng(t){if(t.propertyName==="value"&&Fu(sl)){var i=[];Wp(i,sl,t,Jn(t)),Hr(mE,i)}}function pE(t,i,a){t==="focusin"?(tg(),rl=i,sl=a,rl.attachEvent("onpropertychange",ng)):t==="focusout"&&tg()}function gE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Fu(sl)}function yE(t,i){if(t==="click")return Fu(i)}function _E(t,i){if(t==="input"||t==="change")return Fu(i)}function vE(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var zn=typeof Object.is=="function"?Object.is:vE;function al(t,i){if(zn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!X.call(i,f)||!zn(t[f],i[f]))return!1}return!0}function ig(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function rg(t,i){var a=ig(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ig(a)}}function sg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?sg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function ag(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=zi(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=zi(t.document)}return i}function hf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var bE=ei&&"documentMode"in document&&11>=document.documentMode,ja=null,ff=null,ol=null,df=!1;function og(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;df||ja==null||ja!==zi(l)||(l=ja,"selectionStart"in l&&hf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ol&&al(ol,l)||(ol=l,l=Ic(ff,"onSelect"),0<l.length&&(i=new Fi("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=ja)))}function Ks(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var La={animationend:Ks("Animation","AnimationEnd"),animationiteration:Ks("Animation","AnimationIteration"),animationstart:Ks("Animation","AnimationStart"),transitionrun:Ks("Transition","TransitionRun"),transitionstart:Ks("Transition","TransitionStart"),transitioncancel:Ks("Transition","TransitionCancel"),transitionend:Ks("Transition","TransitionEnd")},mf={},lg={};ei&&(lg=document.createElement("div").style,"AnimationEvent"in window||(delete La.animationend.animation,delete La.animationiteration.animation,delete La.animationstart.animation),"TransitionEvent"in window||delete La.transitionend.transition);function Ys(t){if(mf[t])return mf[t];if(!La[t])return t;var i=La[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in lg)return mf[t]=i[a];return t}var ug=Ys("animationend"),cg=Ys("animationiteration"),hg=Ys("animationstart"),wE=Ys("transitionrun"),EE=Ys("transitionstart"),xE=Ys("transitioncancel"),fg=Ys("transitionend"),dg=new Map,pf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");pf.push("scrollEnd");function wi(t,i){dg.set(t,i),Vi(i,[t])}var Hu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},ni=[],Va=0,gf=0;function qu(){for(var t=Va,i=gf=Va=0;i<t;){var a=ni[i];ni[i++]=null;var l=ni[i];ni[i++]=null;var f=ni[i];ni[i++]=null;var m=ni[i];if(ni[i++]=null,l!==null&&f!==null){var w=l.pending;w===null?f.next=f:(f.next=w.next,w.next=f),l.pending=f}m!==0&&mg(a,f,m)}}function Gu(t,i,a,l){ni[Va++]=t,ni[Va++]=i,ni[Va++]=a,ni[Va++]=l,gf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function yf(t,i,a,l){return Gu(t,i,a,l),Qu(t)}function Xs(t,i){return Gu(t,null,null,i),Qu(t)}function mg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,m=t.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(f=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,f&&i!==null&&(f=31-rt(a),t=m.hiddenUpdates,l=t[f],l===null?t[f]=[i]:l.push(i),i.lane=a|536870912),m):null}function Qu(t){if(50<Nl)throw Nl=0,Ad=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Pa={};function TE(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Un(t,i,a,l){return new TE(t,i,a,l)}function _f(t){return t=t.prototype,!(!t||!t.isReactComponent)}function lr(t,i){var a=t.alternate;return a===null?(a=Un(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function pg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Ku(t,i,a,l,f,m){var w=0;if(l=t,typeof t=="function")_f(t)&&(w=1);else if(typeof t=="string")w=Nx(t,a,fe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case O:return t=Un(31,a,i,f),t.elementType=O,t.lanes=m,t;case A:return $s(a.children,f,m,i);case C:w=8,f|=24;break;case I:return t=Un(12,a,i,f|2),t.elementType=I,t.lanes=m,t;case Y:return t=Un(13,a,i,f),t.elementType=Y,t.lanes=m,t;case ie:return t=Un(19,a,i,f),t.elementType=ie,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case z:w=10;break e;case P:w=9;break e;case K:w=11;break e;case M:w=14;break e;case j:w=16,l=null;break e}w=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=Un(w,a,i,f),i.elementType=t,i.type=l,i.lanes=m,i}function $s(t,i,a,l){return t=Un(7,t,l,i),t.lanes=a,t}function vf(t,i,a){return t=Un(6,t,null,i),t.lanes=a,t}function gg(t){var i=Un(18,null,null,0);return i.stateNode=t,i}function bf(t,i,a){return i=Un(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var yg=new WeakMap;function ii(t,i){if(typeof t=="object"&&t!==null){var a=yg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:F(i)},yg.set(t,i),i)}return{value:t,source:i,stack:F(i)}}var za=[],Ua=0,Yu=null,ll=0,ri=[],si=0,Kr=null,Qi=1,Ki="";function ur(t,i){za[Ua++]=ll,za[Ua++]=Yu,Yu=t,ll=i}function _g(t,i,a){ri[si++]=Qi,ri[si++]=Ki,ri[si++]=Kr,Kr=t;var l=Qi;t=Ki;var f=32-rt(l)-1;l&=~(1<<f),a+=1;var m=32-rt(i)+f;if(30<m){var w=f-f%5;m=(l&(1<<w)-1).toString(32),l>>=w,f-=w,Qi=1<<32-rt(i)+f|a<<f|l,Ki=m+t}else Qi=1<<m|a<<f|l,Ki=t}function wf(t){t.return!==null&&(ur(t,1),_g(t,1,0))}function Ef(t){for(;t===Yu;)Yu=za[--Ua],za[Ua]=null,ll=za[--Ua],za[Ua]=null;for(;t===Kr;)Kr=ri[--si],ri[si]=null,Ki=ri[--si],ri[si]=null,Qi=ri[--si],ri[si]=null}function vg(t,i){ri[si++]=Qi,ri[si++]=Ki,ri[si++]=Kr,Qi=i.id,Ki=i.overflow,Kr=t}var pn=null,Dt=null,ct=!1,Yr=null,ai=!1,xf=Error(s(519));function Xr(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ul(ii(i,t)),xf}function bg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Kt]=t,i[on]=l,a){case"dialog":nt("cancel",i),nt("close",i);break;case"iframe":case"object":case"embed":nt("load",i);break;case"video":case"audio":for(a=0;a<kl.length;a++)nt(kl[a],i);break;case"source":nt("error",i);break;case"img":case"image":case"link":nt("error",i),nt("load",i);break;case"details":nt("toggle",i);break;case"input":nt("invalid",i),Ru(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":nt("invalid",i);break;case"textarea":nt("invalid",i),Ur(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||V_(i.textContent,a)?(l.popover!=null&&(nt("beforetoggle",i),nt("toggle",i)),l.onScroll!=null&&nt("scroll",i),l.onScrollEnd!=null&&nt("scrollend",i),l.onClick!=null&&(i.onclick=gi),i=!0):i=!1,i||Xr(t,!0)}function wg(t){for(pn=t.return;pn;)switch(pn.tag){case 5:case 31:case 13:ai=!1;return;case 27:case 3:ai=!0;return;default:pn=pn.return}}function Ba(t){if(t!==pn)return!1;if(!ct)return wg(t),ct=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Bd(t.type,t.memoizedProps)),a=!a),a&&Dt&&Xr(t),wg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));Dt=Q_(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));Dt=Q_(t)}else i===27?(i=Dt,us(t.type)?(t=Qd,Qd=null,Dt=t):Dt=i):Dt=pn?li(t.stateNode.nextSibling):null;return!0}function Ws(){Dt=pn=null,ct=!1}function Tf(){var t=Yr;return t!==null&&(On===null?On=t:On.push.apply(On,t),Yr=null),t}function ul(t){Yr===null?Yr=[t]:Yr.push(t)}var Sf=V(null),Zs=null,cr=null;function $r(t,i,a){me(Sf,i._currentValue),i._currentValue=a}function hr(t){t._currentValue=Sf.current,G(Sf)}function Af(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Rf(t,i,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var m=f.dependencies;if(m!==null){var w=f.child;m=m.firstContext;e:for(;m!==null;){var L=m;m=f;for(var Q=0;Q<i.length;Q++)if(L.context===i[Q]){m.lanes|=a,L=m.alternate,L!==null&&(L.lanes|=a),Af(m.return,a,t),l||(w=null);break e}m=L.next}}else if(f.tag===18){if(w=f.return,w===null)throw Error(s(341));w.lanes|=a,m=w.alternate,m!==null&&(m.lanes|=a),Af(w,a,t),w=null}else w=f.child;if(w!==null)w.return=f;else for(w=f;w!==null;){if(w===t){w=null;break}if(f=w.sibling,f!==null){f.return=w.return,w=f;break}w=w.return}f=w}}function Fa(t,i,a,l){t=null;for(var f=i,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var w=f.alternate;if(w===null)throw Error(s(387));if(w=w.memoizedProps,w!==null){var L=f.type;zn(f.pendingProps.value,w.value)||(t!==null?t.push(L):t=[L])}}else if(f===ze.current){if(w=f.alternate,w===null)throw Error(s(387));w.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Ll):t=[Ll])}f=f.return}t!==null&&Rf(i,t,a,l),i.flags|=262144}function Xu(t){for(t=t.firstContext;t!==null;){if(!zn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Js(t){Zs=t,cr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function gn(t){return Eg(Zs,t)}function $u(t,i){return Zs===null&&Js(t),Eg(t,i)}function Eg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},cr===null){if(t===null)throw Error(s(308));cr=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else cr=cr.next=i;return a}var SE=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},AE=r.unstable_scheduleCallback,RE=r.unstable_NormalPriority,$t={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Cf(){return{controller:new SE,data:new Map,refCount:0}}function cl(t){t.refCount--,t.refCount===0&&AE(RE,function(){t.controller.abort()})}var hl=null,Nf=0,Ha=0,qa=null;function CE(t,i){if(hl===null){var a=hl=[];Nf=0,Ha=Dd(),qa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Nf++,i.then(xg,xg),i}function xg(){if(--Nf===0&&hl!==null){qa!==null&&(qa.status="fulfilled");var t=hl;hl=null,Ha=0,qa=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function NE(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Tg=W.S;W.S=function(t,i){o_=Re(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&CE(t,i),Tg!==null&&Tg(t,i)};var ea=V(null);function If(){var t=ea.current;return t!==null?t:Ct.pooledCache}function Wu(t,i){i===null?me(ea,ea.current):me(ea,i.pool)}function Sg(){var t=If();return t===null?null:{parent:$t._currentValue,pool:t}}var Ga=Error(s(460)),kf=Error(s(474)),Zu=Error(s(542)),Ju={then:function(){}};function Ag(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Rg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(gi,gi),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Ng(t),t;default:if(typeof i.status=="string")i.then(gi,gi);else{if(t=Ct,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=l}},function(l){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Ng(t),t}throw na=i,Ga}}function ta(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(na=a,Ga):a}}var na=null;function Cg(){if(na===null)throw Error(s(459));var t=na;return na=null,t}function Ng(t){if(t===Ga||t===Zu)throw Error(s(483))}var Qa=null,fl=0;function ec(t){var i=fl;return fl+=1,Qa===null&&(Qa=[]),Rg(Qa,t,i)}function dl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function tc(t,i){throw i.$$typeof===x?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Ig(t){function i(J,$){if(t){var re=J.deletions;re===null?(J.deletions=[$],J.flags|=16):re.push($)}}function a(J,$){if(!t)return null;for(;$!==null;)i(J,$),$=$.sibling;return null}function l(J){for(var $=new Map;J!==null;)J.key!==null?$.set(J.key,J):$.set(J.index,J),J=J.sibling;return $}function f(J,$){return J=lr(J,$),J.index=0,J.sibling=null,J}function m(J,$,re){return J.index=re,t?(re=J.alternate,re!==null?(re=re.index,re<$?(J.flags|=67108866,$):re):(J.flags|=67108866,$)):(J.flags|=1048576,$)}function w(J){return t&&J.alternate===null&&(J.flags|=67108866),J}function L(J,$,re,ve){return $===null||$.tag!==6?($=vf(re,J.mode,ve),$.return=J,$):($=f($,re),$.return=J,$)}function Q(J,$,re,ve){var Ue=re.type;return Ue===A?ye(J,$,re.props.children,ve,re.key):$!==null&&($.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===j&&ta(Ue)===$.type)?($=f($,re.props),dl($,re),$.return=J,$):($=Ku(re.type,re.key,re.props,null,J.mode,ve),dl($,re),$.return=J,$)}function ae(J,$,re,ve){return $===null||$.tag!==4||$.stateNode.containerInfo!==re.containerInfo||$.stateNode.implementation!==re.implementation?($=bf(re,J.mode,ve),$.return=J,$):($=f($,re.children||[]),$.return=J,$)}function ye(J,$,re,ve,Ue){return $===null||$.tag!==7?($=$s(re,J.mode,ve,Ue),$.return=J,$):($=f($,re),$.return=J,$)}function be(J,$,re){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return $=vf(""+$,J.mode,re),$.return=J,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case E:return re=Ku($.type,$.key,$.props,null,J.mode,re),dl(re,$),re.return=J,re;case k:return $=bf($,J.mode,re),$.return=J,$;case j:return $=ta($),be(J,$,re)}if(te($)||N($))return $=$s($,J.mode,re,null),$.return=J,$;if(typeof $.then=="function")return be(J,ec($),re);if($.$$typeof===z)return be(J,$u(J,$),re);tc(J,$)}return null}function le(J,$,re,ve){var Ue=$!==null?$.key:null;if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return Ue!==null?null:L(J,$,""+re,ve);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case E:return re.key===Ue?Q(J,$,re,ve):null;case k:return re.key===Ue?ae(J,$,re,ve):null;case j:return re=ta(re),le(J,$,re,ve)}if(te(re)||N(re))return Ue!==null?null:ye(J,$,re,ve,null);if(typeof re.then=="function")return le(J,$,ec(re),ve);if(re.$$typeof===z)return le(J,$,$u(J,re),ve);tc(J,re)}return null}function he(J,$,re,ve,Ue){if(typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint")return J=J.get(re)||null,L($,J,""+ve,Ue);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case E:return J=J.get(ve.key===null?re:ve.key)||null,Q($,J,ve,Ue);case k:return J=J.get(ve.key===null?re:ve.key)||null,ae($,J,ve,Ue);case j:return ve=ta(ve),he(J,$,re,ve,Ue)}if(te(ve)||N(ve))return J=J.get(re)||null,ye($,J,ve,Ue,null);if(typeof ve.then=="function")return he(J,$,re,ec(ve),Ue);if(ve.$$typeof===z)return he(J,$,re,$u($,ve),Ue);tc($,ve)}return null}function Oe(J,$,re,ve){for(var Ue=null,pt=null,Le=$,Je=$=0,at=null;Le!==null&&Je<re.length;Je++){Le.index>Je?(at=Le,Le=null):at=Le.sibling;var gt=le(J,Le,re[Je],ve);if(gt===null){Le===null&&(Le=at);break}t&&Le&&gt.alternate===null&&i(J,Le),$=m(gt,$,Je),pt===null?Ue=gt:pt.sibling=gt,pt=gt,Le=at}if(Je===re.length)return a(J,Le),ct&&ur(J,Je),Ue;if(Le===null){for(;Je<re.length;Je++)Le=be(J,re[Je],ve),Le!==null&&($=m(Le,$,Je),pt===null?Ue=Le:pt.sibling=Le,pt=Le);return ct&&ur(J,Je),Ue}for(Le=l(Le);Je<re.length;Je++)at=he(Le,J,Je,re[Je],ve),at!==null&&(t&&at.alternate!==null&&Le.delete(at.key===null?Je:at.key),$=m(at,$,Je),pt===null?Ue=at:pt.sibling=at,pt=at);return t&&Le.forEach(function(ms){return i(J,ms)}),ct&&ur(J,Je),Ue}function Fe(J,$,re,ve){if(re==null)throw Error(s(151));for(var Ue=null,pt=null,Le=$,Je=$=0,at=null,gt=re.next();Le!==null&&!gt.done;Je++,gt=re.next()){Le.index>Je?(at=Le,Le=null):at=Le.sibling;var ms=le(J,Le,gt.value,ve);if(ms===null){Le===null&&(Le=at);break}t&&Le&&ms.alternate===null&&i(J,Le),$=m(ms,$,Je),pt===null?Ue=ms:pt.sibling=ms,pt=ms,Le=at}if(gt.done)return a(J,Le),ct&&ur(J,Je),Ue;if(Le===null){for(;!gt.done;Je++,gt=re.next())gt=be(J,gt.value,ve),gt!==null&&($=m(gt,$,Je),pt===null?Ue=gt:pt.sibling=gt,pt=gt);return ct&&ur(J,Je),Ue}for(Le=l(Le);!gt.done;Je++,gt=re.next())gt=he(Le,J,Je,gt.value,ve),gt!==null&&(t&&gt.alternate!==null&&Le.delete(gt.key===null?Je:gt.key),$=m(gt,$,Je),pt===null?Ue=gt:pt.sibling=gt,pt=gt);return t&&Le.forEach(function(Ux){return i(J,Ux)}),ct&&ur(J,Je),Ue}function Rt(J,$,re,ve){if(typeof re=="object"&&re!==null&&re.type===A&&re.key===null&&(re=re.props.children),typeof re=="object"&&re!==null){switch(re.$$typeof){case E:e:{for(var Ue=re.key;$!==null;){if($.key===Ue){if(Ue=re.type,Ue===A){if($.tag===7){a(J,$.sibling),ve=f($,re.props.children),ve.return=J,J=ve;break e}}else if($.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===j&&ta(Ue)===$.type){a(J,$.sibling),ve=f($,re.props),dl(ve,re),ve.return=J,J=ve;break e}a(J,$);break}else i(J,$);$=$.sibling}re.type===A?(ve=$s(re.props.children,J.mode,ve,re.key),ve.return=J,J=ve):(ve=Ku(re.type,re.key,re.props,null,J.mode,ve),dl(ve,re),ve.return=J,J=ve)}return w(J);case k:e:{for(Ue=re.key;$!==null;){if($.key===Ue)if($.tag===4&&$.stateNode.containerInfo===re.containerInfo&&$.stateNode.implementation===re.implementation){a(J,$.sibling),ve=f($,re.children||[]),ve.return=J,J=ve;break e}else{a(J,$);break}else i(J,$);$=$.sibling}ve=bf(re,J.mode,ve),ve.return=J,J=ve}return w(J);case j:return re=ta(re),Rt(J,$,re,ve)}if(te(re))return Oe(J,$,re,ve);if(N(re)){if(Ue=N(re),typeof Ue!="function")throw Error(s(150));return re=Ue.call(re),Fe(J,$,re,ve)}if(typeof re.then=="function")return Rt(J,$,ec(re),ve);if(re.$$typeof===z)return Rt(J,$,$u(J,re),ve);tc(J,re)}return typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint"?(re=""+re,$!==null&&$.tag===6?(a(J,$.sibling),ve=f($,re),ve.return=J,J=ve):(a(J,$),ve=vf(re,J.mode,ve),ve.return=J,J=ve),w(J)):a(J,$)}return function(J,$,re,ve){try{fl=0;var Ue=Rt(J,$,re,ve);return Qa=null,Ue}catch(Le){if(Le===Ga||Le===Zu)throw Le;var pt=Un(29,Le,null,J.mode);return pt.lanes=ve,pt.return=J,pt}finally{}}}var ia=Ig(!0),kg=Ig(!1),Wr=!1;function Df(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Of(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Zr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Jr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(vt&2)!==0){var f=l.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),l.pending=i,i=Qu(t),mg(t,null,a),i}return Gu(t,l,i,a),Qu(t)}function ml(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Bo(t,a)}}function Mf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var w={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?f=m=w:m=m.next=w,a=a.next}while(a!==null);m===null?f=m=i:m=m.next=i}else f=m=i;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var jf=!1;function pl(){if(jf){var t=qa;if(t!==null)throw t}}function gl(t,i,a,l){jf=!1;var f=t.updateQueue;Wr=!1;var m=f.firstBaseUpdate,w=f.lastBaseUpdate,L=f.shared.pending;if(L!==null){f.shared.pending=null;var Q=L,ae=Q.next;Q.next=null,w===null?m=ae:w.next=ae,w=Q;var ye=t.alternate;ye!==null&&(ye=ye.updateQueue,L=ye.lastBaseUpdate,L!==w&&(L===null?ye.firstBaseUpdate=ae:L.next=ae,ye.lastBaseUpdate=Q))}if(m!==null){var be=f.baseState;w=0,ye=ae=Q=null,L=m;do{var le=L.lane&-536870913,he=le!==L.lane;if(he?(st&le)===le:(l&le)===le){le!==0&&le===Ha&&(jf=!0),ye!==null&&(ye=ye.next={lane:0,tag:L.tag,payload:L.payload,callback:null,next:null});e:{var Oe=t,Fe=L;le=i;var Rt=a;switch(Fe.tag){case 1:if(Oe=Fe.payload,typeof Oe=="function"){be=Oe.call(Rt,be,le);break e}be=Oe;break e;case 3:Oe.flags=Oe.flags&-65537|128;case 0:if(Oe=Fe.payload,le=typeof Oe=="function"?Oe.call(Rt,be,le):Oe,le==null)break e;be=v({},be,le);break e;case 2:Wr=!0}}le=L.callback,le!==null&&(t.flags|=64,he&&(t.flags|=8192),he=f.callbacks,he===null?f.callbacks=[le]:he.push(le))}else he={lane:le,tag:L.tag,payload:L.payload,callback:L.callback,next:null},ye===null?(ae=ye=he,Q=be):ye=ye.next=he,w|=le;if(L=L.next,L===null){if(L=f.shared.pending,L===null)break;he=L,L=he.next,he.next=null,f.lastBaseUpdate=he,f.shared.pending=null}}while(!0);ye===null&&(Q=be),f.baseState=Q,f.firstBaseUpdate=ae,f.lastBaseUpdate=ye,m===null&&(f.shared.lanes=0),rs|=w,t.lanes=w,t.memoizedState=be}}function Dg(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function Og(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Dg(a[t],i)}var Ka=V(null),nc=V(0);function Mg(t,i){t=br,me(nc,t),me(Ka,i),br=t|i.baseLanes}function Lf(){me(nc,br),me(Ka,Ka.current)}function Vf(){br=nc.current,G(Ka),G(nc)}var Bn=V(null),oi=null;function es(t){var i=t.alternate;me(qt,qt.current&1),me(Bn,t),oi===null&&(i===null||Ka.current!==null||i.memoizedState!==null)&&(oi=t)}function Pf(t){me(qt,qt.current),me(Bn,t),oi===null&&(oi=t)}function jg(t){t.tag===22?(me(qt,qt.current),me(Bn,t),oi===null&&(oi=t)):ts()}function ts(){me(qt,qt.current),me(Bn,Bn.current)}function Fn(t){G(Bn),oi===t&&(oi=null),G(qt)}var qt=V(0);function ic(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||qd(a)||Gd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var fr=0,Ze=null,St=null,Wt=null,rc=!1,Ya=!1,ra=!1,sc=0,yl=0,Xa=null,IE=0;function Bt(){throw Error(s(321))}function zf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!zn(t[a],i[a]))return!1;return!0}function Uf(t,i,a,l,f,m){return fr=m,Ze=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,W.H=t===null||t.memoizedState===null?_y:td,ra=!1,m=a(l,f),ra=!1,Ya&&(m=Vg(i,a,l,f)),Lg(t),m}function Lg(t){W.H=bl;var i=St!==null&&St.next!==null;if(fr=0,Wt=St=Ze=null,rc=!1,yl=0,Xa=null,i)throw Error(s(300));t===null||Zt||(t=t.dependencies,t!==null&&Xu(t)&&(Zt=!0))}function Vg(t,i,a,l){Ze=t;var f=0;do{if(Ya&&(Xa=null),yl=0,Ya=!1,25<=f)throw Error(s(301));if(f+=1,Wt=St=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}W.H=vy,m=i(a,l)}while(Ya);return m}function kE(){var t=W.H,i=t.useState()[0];return i=typeof i.then=="function"?_l(i):i,t=t.useState()[0],(St!==null?St.memoizedState:null)!==t&&(Ze.flags|=1024),i}function Bf(){var t=sc!==0;return sc=0,t}function Ff(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Hf(t){if(rc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}rc=!1}fr=0,Wt=St=Ze=null,Ya=!1,yl=sc=0,Xa=null}function Rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wt===null?Ze.memoizedState=Wt=t:Wt=Wt.next=t,Wt}function Gt(){if(St===null){var t=Ze.alternate;t=t!==null?t.memoizedState:null}else t=St.next;var i=Wt===null?Ze.memoizedState:Wt.next;if(i!==null)Wt=i,St=t;else{if(t===null)throw Ze.alternate===null?Error(s(467)):Error(s(310));St=t,t={memoizedState:St.memoizedState,baseState:St.baseState,baseQueue:St.baseQueue,queue:St.queue,next:null},Wt===null?Ze.memoizedState=Wt=t:Wt=Wt.next=t}return Wt}function ac(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function _l(t){var i=yl;return yl+=1,Xa===null&&(Xa=[]),t=Rg(Xa,t,i),i=Ze,(Wt===null?i.memoizedState:Wt.next)===null&&(i=i.alternate,W.H=i===null||i.memoizedState===null?_y:td),t}function oc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return _l(t);if(t.$$typeof===z)return gn(t)}throw Error(s(438,String(t)))}function qf(t){var i=null,a=Ze.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ze.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=ac(),Ze.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=B;return i.index++,a}function dr(t,i){return typeof i=="function"?i(t):i}function lc(t){var i=Gt();return Gf(i,St,t)}function Gf(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=t.baseQueue,m=l.pending;if(m!==null){if(f!==null){var w=f.next;f.next=m.next,m.next=w}i.baseQueue=f=m,l.pending=null}if(m=t.baseState,f===null)t.memoizedState=m;else{i=f.next;var L=w=null,Q=null,ae=i,ye=!1;do{var be=ae.lane&-536870913;if(be!==ae.lane?(st&be)===be:(fr&be)===be){var le=ae.revertLane;if(le===0)Q!==null&&(Q=Q.next={lane:0,revertLane:0,gesture:null,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null}),be===Ha&&(ye=!0);else if((fr&le)===le){ae=ae.next,le===Ha&&(ye=!0);continue}else be={lane:0,revertLane:ae.revertLane,gesture:null,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null},Q===null?(L=Q=be,w=m):Q=Q.next=be,Ze.lanes|=le,rs|=le;be=ae.action,ra&&a(m,be),m=ae.hasEagerState?ae.eagerState:a(m,be)}else le={lane:be,revertLane:ae.revertLane,gesture:ae.gesture,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null},Q===null?(L=Q=le,w=m):Q=Q.next=le,Ze.lanes|=be,rs|=be;ae=ae.next}while(ae!==null&&ae!==i);if(Q===null?w=m:Q.next=L,!zn(m,t.memoizedState)&&(Zt=!0,ye&&(a=qa,a!==null)))throw a;t.memoizedState=m,t.baseState=w,t.baseQueue=Q,l.lastRenderedState=m}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Qf(t){var i=Gt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,m=i.memoizedState;if(f!==null){a.pending=null;var w=f=f.next;do m=t(m,w.action),w=w.next;while(w!==f);zn(m,i.memoizedState)||(Zt=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),a.lastRenderedState=m}return[m,l]}function Pg(t,i,a){var l=Ze,f=Gt(),m=ct;if(m){if(a===void 0)throw Error(s(407));a=a()}else a=i();var w=!zn((St||f).memoizedState,a);if(w&&(f.memoizedState=a,Zt=!0),f=f.queue,Xf(Bg.bind(null,l,f,t),[t]),f.getSnapshot!==i||w||Wt!==null&&Wt.memoizedState.tag&1){if(l.flags|=2048,$a(9,{destroy:void 0},Ug.bind(null,l,f,a,i),null),Ct===null)throw Error(s(349));m||(fr&127)!==0||zg(l,i,a)}return a}function zg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ze.updateQueue,i===null?(i=ac(),Ze.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Ug(t,i,a,l){i.value=a,i.getSnapshot=l,Fg(i)&&Hg(t)}function Bg(t,i,a){return a(function(){Fg(i)&&Hg(t)})}function Fg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!zn(t,a)}catch{return!0}}function Hg(t){var i=Xs(t,2);i!==null&&Mn(i,t,2)}function Kf(t){var i=Rn();if(typeof t=="function"){var a=t;if(t=a(),ra){Mt(!0);try{a()}finally{Mt(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dr,lastRenderedState:t},i}function qg(t,i,a,l){return t.baseState=a,Gf(t,St,typeof l=="function"?l:dr)}function DE(t,i,a,l,f){if(hc(t))throw Error(s(485));if(t=i.action,t!==null){var m={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){m.listeners.push(w)}};W.T!==null?a(!0):m.isTransition=!1,l(m),a=i.pending,a===null?(m.next=i.pending=m,Gg(i,m)):(m.next=a.next,i.pending=a.next=m)}}function Gg(t,i){var a=i.action,l=i.payload,f=t.state;if(i.isTransition){var m=W.T,w={};W.T=w;try{var L=a(f,l),Q=W.S;Q!==null&&Q(w,L),Qg(t,i,L)}catch(ae){Yf(t,i,ae)}finally{m!==null&&w.types!==null&&(m.types=w.types),W.T=m}}else try{m=a(f,l),Qg(t,i,m)}catch(ae){Yf(t,i,ae)}}function Qg(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Kg(t,i,l)},function(l){return Yf(t,i,l)}):Kg(t,i,a)}function Kg(t,i,a){i.status="fulfilled",i.value=a,Yg(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Gg(t,a)))}function Yf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Yg(i),i=i.next;while(i!==l)}t.action=null}function Yg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Xg(t,i){return i}function $g(t,i){if(ct){var a=Ct.formState;if(a!==null){e:{var l=Ze;if(ct){if(Dt){t:{for(var f=Dt,m=ai;f.nodeType!==8;){if(!m){f=null;break t}if(f=li(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){Dt=li(f.nextSibling),l=f.data==="F!";break e}}Xr(l)}l=!1}l&&(i=a[0])}}return a=Rn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xg,lastRenderedState:i},a.queue=l,a=py.bind(null,Ze,l),l.dispatch=a,l=Kf(!1),m=ed.bind(null,Ze,!1,l.queue),l=Rn(),f={state:i,dispatch:null,action:t,pending:null},l.queue=f,a=DE.bind(null,Ze,f,m,a),f.dispatch=a,l.memoizedState=t,[i,a,!1]}function Wg(t){var i=Gt();return Zg(i,St,t)}function Zg(t,i,a){if(i=Gf(t,i,Xg)[0],t=lc(dr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=_l(i)}catch(w){throw w===Ga?Zu:w}else l=i;i=Gt();var f=i.queue,m=f.dispatch;return a!==i.memoizedState&&(Ze.flags|=2048,$a(9,{destroy:void 0},OE.bind(null,f,a),null)),[l,m,t]}function OE(t,i){t.action=i}function Jg(t){var i=Gt(),a=St;if(a!==null)return Zg(i,a,t);Gt(),i=i.memoizedState,a=Gt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function $a(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Ze.updateQueue,i===null&&(i=ac(),Ze.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function ey(){return Gt().memoizedState}function uc(t,i,a,l){var f=Rn();Ze.flags|=t,f.memoizedState=$a(1|i,{destroy:void 0},a,l===void 0?null:l)}function cc(t,i,a,l){var f=Gt();l=l===void 0?null:l;var m=f.memoizedState.inst;St!==null&&l!==null&&zf(l,St.memoizedState.deps)?f.memoizedState=$a(i,m,a,l):(Ze.flags|=t,f.memoizedState=$a(1|i,m,a,l))}function ty(t,i){uc(8390656,8,t,i)}function Xf(t,i){cc(2048,8,t,i)}function ME(t){Ze.flags|=4;var i=Ze.updateQueue;if(i===null)i=ac(),Ze.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function ny(t){var i=Gt().memoizedState;return ME({ref:i,nextImpl:t}),function(){if((vt&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function iy(t,i){return cc(4,2,t,i)}function ry(t,i){return cc(4,4,t,i)}function sy(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function ay(t,i,a){a=a!=null?a.concat([t]):null,cc(4,4,sy.bind(null,i,t),a)}function $f(){}function oy(t,i){var a=Gt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&zf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function ly(t,i){var a=Gt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&zf(i,l[1]))return l[0];if(l=t(),ra){Mt(!0);try{t()}finally{Mt(!1)}}return a.memoizedState=[l,i],l}function Wf(t,i,a){return a===void 0||(fr&1073741824)!==0&&(st&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=u_(),Ze.lanes|=t,rs|=t,a)}function uy(t,i,a,l){return zn(a,i)?a:Ka.current!==null?(t=Wf(t,a,l),zn(t,i)||(Zt=!0),t):(fr&42)===0||(fr&1073741824)!==0&&(st&261930)===0?(Zt=!0,t.memoizedState=a):(t=u_(),Ze.lanes|=t,rs|=t,i)}function cy(t,i,a,l,f){var m=ee.p;ee.p=m!==0&&8>m?m:8;var w=W.T,L={};W.T=L,ed(t,!1,i,a);try{var Q=f(),ae=W.S;if(ae!==null&&ae(L,Q),Q!==null&&typeof Q=="object"&&typeof Q.then=="function"){var ye=NE(Q,l);vl(t,i,ye,Gn(t))}else vl(t,i,l,Gn(t))}catch(be){vl(t,i,{then:function(){},status:"rejected",reason:be},Gn())}finally{ee.p=m,w!==null&&L.types!==null&&(w.types=L.types),W.T=w}}function jE(){}function Zf(t,i,a,l){if(t.tag!==5)throw Error(s(476));var f=hy(t).queue;cy(t,f,i,Te,a===null?jE:function(){return fy(t),a(l)})}function hy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:Te,baseState:Te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:dr,lastRenderedState:Te},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:dr,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function fy(t){var i=hy(t);i.next===null&&(i=t.alternate.memoizedState),vl(t,i.next.queue,{},Gn())}function Jf(){return gn(Ll)}function dy(){return Gt().memoizedState}function my(){return Gt().memoizedState}function LE(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Gn();t=Zr(a);var l=Jr(i,t,a);l!==null&&(Mn(l,i,a),ml(l,i,a)),i={cache:Cf()},t.payload=i;return}i=i.return}}function VE(t,i,a){var l=Gn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},hc(t)?gy(i,a):(a=yf(t,i,a,l),a!==null&&(Mn(a,t,l),yy(a,i,l)))}function py(t,i,a){var l=Gn();vl(t,i,a,l)}function vl(t,i,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(hc(t))gy(i,f);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var w=i.lastRenderedState,L=m(w,a);if(f.hasEagerState=!0,f.eagerState=L,zn(L,w))return Gu(t,i,f,0),Ct===null&&qu(),!1}catch{}finally{}if(a=yf(t,i,f,l),a!==null)return Mn(a,t,l),yy(a,i,l),!0}return!1}function ed(t,i,a,l){if(l={lane:2,revertLane:Dd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},hc(t)){if(i)throw Error(s(479))}else i=yf(t,a,l,2),i!==null&&Mn(i,t,2)}function hc(t){var i=t.alternate;return t===Ze||i!==null&&i===Ze}function gy(t,i){Ya=rc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function yy(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Bo(t,a)}}var bl={readContext:gn,use:oc,useCallback:Bt,useContext:Bt,useEffect:Bt,useImperativeHandle:Bt,useLayoutEffect:Bt,useInsertionEffect:Bt,useMemo:Bt,useReducer:Bt,useRef:Bt,useState:Bt,useDebugValue:Bt,useDeferredValue:Bt,useTransition:Bt,useSyncExternalStore:Bt,useId:Bt,useHostTransitionStatus:Bt,useFormState:Bt,useActionState:Bt,useOptimistic:Bt,useMemoCache:Bt,useCacheRefresh:Bt};bl.useEffectEvent=Bt;var _y={readContext:gn,use:oc,useCallback:function(t,i){return Rn().memoizedState=[t,i===void 0?null:i],t},useContext:gn,useEffect:ty,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,uc(4194308,4,sy.bind(null,i,t),a)},useLayoutEffect:function(t,i){return uc(4194308,4,t,i)},useInsertionEffect:function(t,i){uc(4,2,t,i)},useMemo:function(t,i){var a=Rn();i=i===void 0?null:i;var l=t();if(ra){Mt(!0);try{t()}finally{Mt(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=Rn();if(a!==void 0){var f=a(i);if(ra){Mt(!0);try{a(i)}finally{Mt(!1)}}}else f=i;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=VE.bind(null,Ze,t),[l.memoizedState,t]},useRef:function(t){var i=Rn();return t={current:t},i.memoizedState=t},useState:function(t){t=Kf(t);var i=t.queue,a=py.bind(null,Ze,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:$f,useDeferredValue:function(t,i){var a=Rn();return Wf(a,t,i)},useTransition:function(){var t=Kf(!1);return t=cy.bind(null,Ze,t.queue,!0,!1),Rn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ze,f=Rn();if(ct){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Ct===null)throw Error(s(349));(st&127)!==0||zg(l,i,a)}f.memoizedState=a;var m={value:a,getSnapshot:i};return f.queue=m,ty(Bg.bind(null,l,m,t),[t]),l.flags|=2048,$a(9,{destroy:void 0},Ug.bind(null,l,m,a,i),null),a},useId:function(){var t=Rn(),i=Ct.identifierPrefix;if(ct){var a=Ki,l=Qi;a=(l&~(1<<32-rt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=sc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=IE++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Jf,useFormState:$g,useActionState:$g,useOptimistic:function(t){var i=Rn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=ed.bind(null,Ze,!0,a),a.dispatch=i,[t,i]},useMemoCache:qf,useCacheRefresh:function(){return Rn().memoizedState=LE.bind(null,Ze)},useEffectEvent:function(t){var i=Rn(),a={impl:t};return i.memoizedState=a,function(){if((vt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},td={readContext:gn,use:oc,useCallback:oy,useContext:gn,useEffect:Xf,useImperativeHandle:ay,useInsertionEffect:iy,useLayoutEffect:ry,useMemo:ly,useReducer:lc,useRef:ey,useState:function(){return lc(dr)},useDebugValue:$f,useDeferredValue:function(t,i){var a=Gt();return uy(a,St.memoizedState,t,i)},useTransition:function(){var t=lc(dr)[0],i=Gt().memoizedState;return[typeof t=="boolean"?t:_l(t),i]},useSyncExternalStore:Pg,useId:dy,useHostTransitionStatus:Jf,useFormState:Wg,useActionState:Wg,useOptimistic:function(t,i){var a=Gt();return qg(a,St,t,i)},useMemoCache:qf,useCacheRefresh:my};td.useEffectEvent=ny;var vy={readContext:gn,use:oc,useCallback:oy,useContext:gn,useEffect:Xf,useImperativeHandle:ay,useInsertionEffect:iy,useLayoutEffect:ry,useMemo:ly,useReducer:Qf,useRef:ey,useState:function(){return Qf(dr)},useDebugValue:$f,useDeferredValue:function(t,i){var a=Gt();return St===null?Wf(a,t,i):uy(a,St.memoizedState,t,i)},useTransition:function(){var t=Qf(dr)[0],i=Gt().memoizedState;return[typeof t=="boolean"?t:_l(t),i]},useSyncExternalStore:Pg,useId:dy,useHostTransitionStatus:Jf,useFormState:Jg,useActionState:Jg,useOptimistic:function(t,i){var a=Gt();return St!==null?qg(a,St,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:qf,useCacheRefresh:my};vy.useEffectEvent=ny;function nd(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:v({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var id={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=Gn(),f=Zr(l);f.payload=i,a!=null&&(f.callback=a),i=Jr(t,f,l),i!==null&&(Mn(i,t,l),ml(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=Gn(),f=Zr(l);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=Jr(t,f,l),i!==null&&(Mn(i,t,l),ml(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Gn(),l=Zr(a);l.tag=2,i!=null&&(l.callback=i),i=Jr(t,l,a),i!==null&&(Mn(i,t,a),ml(i,t,a))}};function by(t,i,a,l,f,m,w){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,m,w):i.prototype&&i.prototype.isPureReactComponent?!al(a,l)||!al(f,m):!0}function wy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&id.enqueueReplaceState(i,i.state,null)}function sa(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=v({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function Ey(t){Hu(t)}function xy(t){console.error(t)}function Ty(t){Hu(t)}function fc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Sy(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function rd(t,i,a){return a=Zr(a),a.tag=3,a.payload={element:null},a.callback=function(){fc(t,i)},a}function Ay(t){return t=Zr(t),t.tag=3,t}function Ry(t,i,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var m=l.value;t.payload=function(){return f(m)},t.callback=function(){Sy(i,a,l)}}var w=a.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(t.callback=function(){Sy(i,a,l),typeof f!="function"&&(ss===null?ss=new Set([this]):ss.add(this));var L=l.stack;this.componentDidCatch(l.value,{componentStack:L!==null?L:""})})}function PE(t,i,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Fa(i,a,f,!0),a=Bn.current,a!==null){switch(a.tag){case 31:case 13:return oi===null?Tc():a.alternate===null&&Ft===0&&(Ft=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Ju?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Nd(t,l,f)),!1;case 22:return a.flags|=65536,l===Ju?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Nd(t,l,f)),!1}throw Error(s(435,a.tag))}return Nd(t,l,f),Tc(),!1}if(ct)return i=Bn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,l!==xf&&(t=Error(s(422),{cause:l}),ul(ii(t,a)))):(l!==xf&&(i=Error(s(423),{cause:l}),ul(ii(i,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=ii(l,a),f=rd(t.stateNode,l,f),Mf(t,f),Ft!==4&&(Ft=2)),!1;var m=Error(s(520),{cause:l});if(m=ii(m,a),Cl===null?Cl=[m]:Cl.push(m),Ft!==4&&(Ft=2),i===null)return!0;l=ii(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=rd(a.stateNode,l,t),Mf(a,t),!1;case 1:if(i=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(ss===null||!ss.has(m))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Ay(f),Ry(f,t,a,l),Mf(a,f),!1}a=a.return}while(a!==null);return!1}var sd=Error(s(461)),Zt=!1;function yn(t,i,a,l){i.child=t===null?kg(i,null,a,l):ia(i,t.child,a,l)}function Cy(t,i,a,l,f){a=a.render;var m=i.ref;if("ref"in l){var w={};for(var L in l)L!=="ref"&&(w[L]=l[L])}else w=l;return Js(i),l=Uf(t,i,a,w,m,f),L=Bf(),t!==null&&!Zt?(Ff(t,i,f),mr(t,i,f)):(ct&&L&&wf(i),i.flags|=1,yn(t,i,l,f),i.child)}function Ny(t,i,a,l,f){if(t===null){var m=a.type;return typeof m=="function"&&!_f(m)&&m.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=m,Iy(t,i,m,l,f)):(t=Ku(a.type,null,l,i,i.mode,f),t.ref=i.ref,t.return=i,i.child=t)}if(m=t.child,!dd(t,f)){var w=m.memoizedProps;if(a=a.compare,a=a!==null?a:al,a(w,l)&&t.ref===i.ref)return mr(t,i,f)}return i.flags|=1,t=lr(m,l),t.ref=i.ref,t.return=i,i.child=t}function Iy(t,i,a,l,f){if(t!==null){var m=t.memoizedProps;if(al(m,l)&&t.ref===i.ref)if(Zt=!1,i.pendingProps=l=m,dd(t,f))(t.flags&131072)!==0&&(Zt=!0);else return i.lanes=t.lanes,mr(t,i,f)}return ad(t,i,a,l,f)}function ky(t,i,a,l){var f=l.children,m=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(m=m!==null?m.baseLanes|a:a,t!==null){for(l=i.child=t.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~m}else l=0,i.child=null;return Dy(t,i,m,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Wu(i,m!==null?m.cachePool:null),m!==null?Mg(i,m):Lf(),jg(i);else return l=i.lanes=536870912,Dy(t,i,m!==null?m.baseLanes|a:a,a,l)}else m!==null?(Wu(i,m.cachePool),Mg(i,m),ts(),i.memoizedState=null):(t!==null&&Wu(i,null),Lf(),ts());return yn(t,i,f,a),i.child}function wl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Dy(t,i,a,l,f){var m=If();return m=m===null?null:{parent:$t._currentValue,pool:m},i.memoizedState={baseLanes:a,cachePool:m},t!==null&&Wu(i,null),Lf(),jg(i),t!==null&&Fa(t,i,l,!0),i.childLanes=f,null}function dc(t,i){return i=pc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Oy(t,i,a){return ia(i,t.child,null,a),t=dc(i,i.pendingProps),t.flags|=2,Fn(i),i.memoizedState=null,t}function zE(t,i,a){var l=i.pendingProps,f=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(ct){if(l.mode==="hidden")return t=dc(i,l),i.lanes=536870912,wl(null,t);if(Pf(i),(t=Dt)?(t=G_(t,ai),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Kr!==null?{id:Qi,overflow:Ki}:null,retryLane:536870912,hydrationErrors:null},a=gg(t),a.return=i,i.child=a,pn=i,Dt=null)):t=null,t===null)throw Xr(i);return i.lanes=536870912,null}return dc(i,l)}var m=t.memoizedState;if(m!==null){var w=m.dehydrated;if(Pf(i),f)if(i.flags&256)i.flags&=-257,i=Oy(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(Zt||Fa(t,i,a,!1),f=(a&t.childLanes)!==0,Zt||f){if(l=Ct,l!==null&&(w=Fo(l,a),w!==0&&w!==m.retryLane))throw m.retryLane=w,Xs(t,w),Mn(l,t,w),sd;Tc(),i=Oy(t,i,a)}else t=m.treeContext,Dt=li(w.nextSibling),pn=i,ct=!0,Yr=null,ai=!1,t!==null&&vg(i,t),i=dc(i,l),i.flags|=4096;return i}return t=lr(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function mc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function ad(t,i,a,l,f){return Js(i),a=Uf(t,i,a,l,void 0,f),l=Bf(),t!==null&&!Zt?(Ff(t,i,f),mr(t,i,f)):(ct&&l&&wf(i),i.flags|=1,yn(t,i,a,f),i.child)}function My(t,i,a,l,f,m){return Js(i),i.updateQueue=null,a=Vg(i,l,a,f),Lg(t),l=Bf(),t!==null&&!Zt?(Ff(t,i,m),mr(t,i,m)):(ct&&l&&wf(i),i.flags|=1,yn(t,i,a,m),i.child)}function jy(t,i,a,l,f){if(Js(i),i.stateNode===null){var m=Pa,w=a.contextType;typeof w=="object"&&w!==null&&(m=gn(w)),m=new a(l,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=id,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=l,m.state=i.memoizedState,m.refs={},Df(i),w=a.contextType,m.context=typeof w=="object"&&w!==null?gn(w):Pa,m.state=i.memoizedState,w=a.getDerivedStateFromProps,typeof w=="function"&&(nd(i,a,w,l),m.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(w=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),w!==m.state&&id.enqueueReplaceState(m,m.state,null),gl(i,l,m,f),pl(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){m=i.stateNode;var L=i.memoizedProps,Q=sa(a,L);m.props=Q;var ae=m.context,ye=a.contextType;w=Pa,typeof ye=="object"&&ye!==null&&(w=gn(ye));var be=a.getDerivedStateFromProps;ye=typeof be=="function"||typeof m.getSnapshotBeforeUpdate=="function",L=i.pendingProps!==L,ye||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(L||ae!==w)&&wy(i,m,l,w),Wr=!1;var le=i.memoizedState;m.state=le,gl(i,l,m,f),pl(),ae=i.memoizedState,L||le!==ae||Wr?(typeof be=="function"&&(nd(i,a,be,l),ae=i.memoizedState),(Q=Wr||by(i,a,Q,l,le,ae,w))?(ye||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=ae),m.props=l,m.state=ae,m.context=w,l=Q):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{m=i.stateNode,Of(t,i),w=i.memoizedProps,ye=sa(a,w),m.props=ye,be=i.pendingProps,le=m.context,ae=a.contextType,Q=Pa,typeof ae=="object"&&ae!==null&&(Q=gn(ae)),L=a.getDerivedStateFromProps,(ae=typeof L=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(w!==be||le!==Q)&&wy(i,m,l,Q),Wr=!1,le=i.memoizedState,m.state=le,gl(i,l,m,f),pl();var he=i.memoizedState;w!==be||le!==he||Wr||t!==null&&t.dependencies!==null&&Xu(t.dependencies)?(typeof L=="function"&&(nd(i,a,L,l),he=i.memoizedState),(ye=Wr||by(i,a,ye,l,le,he,Q)||t!==null&&t.dependencies!==null&&Xu(t.dependencies))?(ae||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,he,Q),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,he,Q)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||w===t.memoizedProps&&le===t.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||w===t.memoizedProps&&le===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=he),m.props=l,m.state=he,m.context=Q,l=ye):(typeof m.componentDidUpdate!="function"||w===t.memoizedProps&&le===t.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||w===t.memoizedProps&&le===t.memoizedState||(i.flags|=1024),l=!1)}return m=l,mc(t,i),l=(i.flags&128)!==0,m||l?(m=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,t!==null&&l?(i.child=ia(i,t.child,null,f),i.child=ia(i,null,a,f)):yn(t,i,a,f),i.memoizedState=m.state,t=i.child):t=mr(t,i,f),t}function Ly(t,i,a,l){return Ws(),i.flags|=256,yn(t,i,a,l),i.child}var od={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ld(t){return{baseLanes:t,cachePool:Sg()}}function ud(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=qn),t}function Vy(t,i,a){var l=i.pendingProps,f=!1,m=(i.flags&128)!==0,w;if((w=m)||(w=t!==null&&t.memoizedState===null?!1:(qt.current&2)!==0),w&&(f=!0,i.flags&=-129),w=(i.flags&32)!==0,i.flags&=-33,t===null){if(ct){if(f?es(i):ts(),(t=Dt)?(t=G_(t,ai),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Kr!==null?{id:Qi,overflow:Ki}:null,retryLane:536870912,hydrationErrors:null},a=gg(t),a.return=i,i.child=a,pn=i,Dt=null)):t=null,t===null)throw Xr(i);return Gd(t)?i.lanes=32:i.lanes=536870912,null}var L=l.children;return l=l.fallback,f?(ts(),f=i.mode,L=pc({mode:"hidden",children:L},f),l=$s(l,f,a,null),L.return=i,l.return=i,L.sibling=l,i.child=L,l=i.child,l.memoizedState=ld(a),l.childLanes=ud(t,w,a),i.memoizedState=od,wl(null,l)):(es(i),cd(i,L))}var Q=t.memoizedState;if(Q!==null&&(L=Q.dehydrated,L!==null)){if(m)i.flags&256?(es(i),i.flags&=-257,i=hd(t,i,a)):i.memoizedState!==null?(ts(),i.child=t.child,i.flags|=128,i=null):(ts(),L=l.fallback,f=i.mode,l=pc({mode:"visible",children:l.children},f),L=$s(L,f,a,null),L.flags|=2,l.return=i,L.return=i,l.sibling=L,i.child=l,ia(i,t.child,null,a),l=i.child,l.memoizedState=ld(a),l.childLanes=ud(t,w,a),i.memoizedState=od,i=wl(null,l));else if(es(i),Gd(L)){if(w=L.nextSibling&&L.nextSibling.dataset,w)var ae=w.dgst;w=ae,l=Error(s(419)),l.stack="",l.digest=w,ul({value:l,source:null,stack:null}),i=hd(t,i,a)}else if(Zt||Fa(t,i,a,!1),w=(a&t.childLanes)!==0,Zt||w){if(w=Ct,w!==null&&(l=Fo(w,a),l!==0&&l!==Q.retryLane))throw Q.retryLane=l,Xs(t,l),Mn(w,t,l),sd;qd(L)||Tc(),i=hd(t,i,a)}else qd(L)?(i.flags|=192,i.child=t.child,i=null):(t=Q.treeContext,Dt=li(L.nextSibling),pn=i,ct=!0,Yr=null,ai=!1,t!==null&&vg(i,t),i=cd(i,l.children),i.flags|=4096);return i}return f?(ts(),L=l.fallback,f=i.mode,Q=t.child,ae=Q.sibling,l=lr(Q,{mode:"hidden",children:l.children}),l.subtreeFlags=Q.subtreeFlags&65011712,ae!==null?L=lr(ae,L):(L=$s(L,f,a,null),L.flags|=2),L.return=i,l.return=i,l.sibling=L,i.child=l,wl(null,l),l=i.child,L=t.child.memoizedState,L===null?L=ld(a):(f=L.cachePool,f!==null?(Q=$t._currentValue,f=f.parent!==Q?{parent:Q,pool:Q}:f):f=Sg(),L={baseLanes:L.baseLanes|a,cachePool:f}),l.memoizedState=L,l.childLanes=ud(t,w,a),i.memoizedState=od,wl(t.child,l)):(es(i),a=t.child,t=a.sibling,a=lr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(w=i.deletions,w===null?(i.deletions=[t],i.flags|=16):w.push(t)),i.child=a,i.memoizedState=null,a)}function cd(t,i){return i=pc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function pc(t,i){return t=Un(22,t,null,i),t.lanes=0,t}function hd(t,i,a){return ia(i,t.child,null,a),t=cd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Py(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Af(t.return,i,a)}function fd(t,i,a,l,f,m){var w=t.memoizedState;w===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:m}:(w.isBackwards=i,w.rendering=null,w.renderingStartTime=0,w.last=l,w.tail=a,w.tailMode=f,w.treeForkCount=m)}function zy(t,i,a){var l=i.pendingProps,f=l.revealOrder,m=l.tail;l=l.children;var w=qt.current,L=(w&2)!==0;if(L?(w=w&1|2,i.flags|=128):w&=1,me(qt,w),yn(t,i,l,a),l=ct?ll:0,!L&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Py(t,a,i);else if(t.tag===19)Py(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=i.child,f=null;a!==null;)t=a.alternate,t!==null&&ic(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),fd(i,!1,f,a,m,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(t=f.alternate,t!==null&&ic(t)===null){i.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}fd(i,!0,a,null,m,l);break;case"together":fd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function mr(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),rs|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Fa(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=lr(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=lr(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function dd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Xu(t)))}function UE(t,i,a){switch(i.tag){case 3:Ve(i,i.stateNode.containerInfo),$r(i,$t,t.memoizedState.cache),Ws();break;case 27:case 5:yt(i);break;case 4:Ve(i,i.stateNode.containerInfo);break;case 10:$r(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Pf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(es(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Vy(t,i,a):(es(i),t=mr(t,i,a),t!==null?t.sibling:null);es(i);break;case 19:var f=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Fa(t,i,a,!1),l=(a&i.childLanes)!==0),f){if(l)return zy(t,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),me(qt,qt.current),l)break;return null;case 22:return i.lanes=0,ky(t,i,a,i.pendingProps);case 24:$r(i,$t,t.memoizedState.cache)}return mr(t,i,a)}function Uy(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Zt=!0;else{if(!dd(t,a)&&(i.flags&128)===0)return Zt=!1,UE(t,i,a);Zt=(t.flags&131072)!==0}else Zt=!1,ct&&(i.flags&1048576)!==0&&_g(i,ll,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=ta(i.elementType),i.type=t,typeof t=="function")_f(t)?(l=sa(t,l),i.tag=1,i=jy(null,i,t,l,a)):(i.tag=0,i=ad(null,i,t,l,a));else{if(t!=null){var f=t.$$typeof;if(f===K){i.tag=11,i=Cy(null,i,t,l,a);break e}else if(f===M){i.tag=14,i=Ny(null,i,t,l,a);break e}}throw i=R(t)||t,Error(s(306,i,""))}}return i;case 0:return ad(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,f=sa(l,i.pendingProps),jy(t,i,l,f,a);case 3:e:{if(Ve(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var m=i.memoizedState;f=m.element,Of(t,i),gl(i,l,null,a);var w=i.memoizedState;if(l=w.cache,$r(i,$t,l),l!==m.cache&&Rf(i,[$t],a,!0),pl(),l=w.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:w.cache},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){i=Ly(t,i,l,a);break e}else if(l!==f){f=ii(Error(s(424)),i),ul(f),i=Ly(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Dt=li(t.firstChild),pn=i,ct=!0,Yr=null,ai=!0,a=kg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ws(),l===f){i=mr(t,i,a);break e}yn(t,i,l,a)}i=i.child}return i;case 26:return mc(t,i),t===null?(a=W_(i.type,null,i.pendingProps,null))?i.memoizedState=a:ct||(a=i.type,t=i.pendingProps,l=kc(ke.current).createElement(a),l[Kt]=i,l[on]=t,_n(l,a,t),Yt(l),i.stateNode=l):i.memoizedState=W_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return yt(i),t===null&&ct&&(l=i.stateNode=Y_(i.type,i.pendingProps,ke.current),pn=i,ai=!0,f=Dt,us(i.type)?(Qd=f,Dt=li(l.firstChild)):Dt=f),yn(t,i,i.pendingProps.children,a),mc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&ct&&((f=l=Dt)&&(l=gx(l,i.type,i.pendingProps,ai),l!==null?(i.stateNode=l,pn=i,Dt=li(l.firstChild),ai=!1,f=!0):f=!1),f||Xr(i)),yt(i),f=i.type,m=i.pendingProps,w=t!==null?t.memoizedProps:null,l=m.children,Bd(f,m)?l=null:w!==null&&Bd(f,w)&&(i.flags|=32),i.memoizedState!==null&&(f=Uf(t,i,kE,null,null,a),Ll._currentValue=f),mc(t,i),yn(t,i,l,a),i.child;case 6:return t===null&&ct&&((t=a=Dt)&&(a=yx(a,i.pendingProps,ai),a!==null?(i.stateNode=a,pn=i,Dt=null,t=!0):t=!1),t||Xr(i)),null;case 13:return Vy(t,i,a);case 4:return Ve(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=ia(i,null,l,a):yn(t,i,l,a),i.child;case 11:return Cy(t,i,i.type,i.pendingProps,a);case 7:return yn(t,i,i.pendingProps,a),i.child;case 8:return yn(t,i,i.pendingProps.children,a),i.child;case 12:return yn(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,$r(i,i.type,l.value),yn(t,i,l.children,a),i.child;case 9:return f=i.type._context,l=i.pendingProps.children,Js(i),f=gn(f),l=l(f),i.flags|=1,yn(t,i,l,a),i.child;case 14:return Ny(t,i,i.type,i.pendingProps,a);case 15:return Iy(t,i,i.type,i.pendingProps,a);case 19:return zy(t,i,a);case 31:return zE(t,i,a);case 22:return ky(t,i,a,i.pendingProps);case 24:return Js(i),l=gn($t),t===null?(f=If(),f===null&&(f=Ct,m=Cf(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=a),f=m),i.memoizedState={parent:l,cache:f},Df(i),$r(i,$t,f)):((t.lanes&a)!==0&&(Of(t,i),gl(i,null,null,a),pl()),f=t.memoizedState,m=i.memoizedState,f.parent!==l?(f={parent:l,cache:l},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),$r(i,$t,l)):(l=m.cache,$r(i,$t,l),l!==f.cache&&Rf(i,[$t],a,!0))),yn(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function pr(t){t.flags|=4}function md(t,i,a,l,f){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(d_())t.flags|=8192;else throw na=Ju,kf}else t.flags&=-16777217}function By(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!nv(i))if(d_())t.flags|=8192;else throw na=Ju,kf}function gc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Eu():536870912,t.lanes|=i,eo|=i)}function El(t,i){if(!ct)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Ot(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function BE(t,i,a){var l=i.pendingProps;switch(Ef(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(i),null;case 1:return Ot(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),hr($t),Me(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ba(i)?pr(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Tf())),Ot(i),null;case 26:var f=i.type,m=i.memoizedState;return t===null?(pr(i),m!==null?(Ot(i),By(i,m)):(Ot(i),md(i,f,null,l,a))):m?m!==t.memoizedState?(pr(i),Ot(i),By(i,m)):(Ot(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&pr(i),Ot(i),md(i,f,t,l,a)),null;case 27:if(ft(i),a=ke.current,f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&pr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return Ot(i),null}t=fe.current,Ba(i)?bg(i):(t=Y_(f,l,a),i.stateNode=t,pr(i))}return Ot(i),null;case 5:if(ft(i),f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&pr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return Ot(i),null}if(m=fe.current,Ba(i))bg(i);else{var w=kc(ke.current);switch(m){case 1:m=w.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=w.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=w.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=w.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=w.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof l.is=="string"?w.createElement("select",{is:l.is}):w.createElement("select"),l.multiple?m.multiple=!0:l.size&&(m.size=l.size);break;default:m=typeof l.is=="string"?w.createElement(f,{is:l.is}):w.createElement(f)}}m[Kt]=i,m[on]=l;e:for(w=i.child;w!==null;){if(w.tag===5||w.tag===6)m.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===i)break e;for(;w.sibling===null;){if(w.return===null||w.return===i)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}i.stateNode=m;e:switch(_n(m,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&pr(i)}}return Ot(i),md(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&pr(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=ke.current,Ba(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,f=pn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[Kt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||V_(t.nodeValue,a)),t||Xr(i,!0)}else t=kc(t).createTextNode(l),t[Kt]=i,i.stateNode=t}return Ot(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=Ba(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Kt]=i}else Ws(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Ot(i),t=!1}else a=Tf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(Fn(i),i):(Fn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return Ot(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Ba(i),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Kt]=i}else Ws(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Ot(i),f=!1}else f=Tf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(Fn(i),i):(Fn(i),null)}return Fn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==f&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),gc(i,i.updateQueue),Ot(i),null);case 4:return Me(),t===null&&Ld(i.stateNode.containerInfo),Ot(i),null;case 10:return hr(i.type),Ot(i),null;case 19:if(G(qt),l=i.memoizedState,l===null)return Ot(i),null;if(f=(i.flags&128)!==0,m=l.rendering,m===null)if(f)El(l,!1);else{if(Ft!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(m=ic(t),m!==null){for(i.flags|=128,El(l,!1),t=m.updateQueue,i.updateQueue=t,gc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)pg(a,t),a=a.sibling;return me(qt,qt.current&1|2),ct&&ur(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&Re()>wc&&(i.flags|=128,f=!0,El(l,!1),i.lanes=4194304)}else{if(!f)if(t=ic(m),t!==null){if(i.flags|=128,f=!0,t=t.updateQueue,i.updateQueue=t,gc(i,t),El(l,!0),l.tail===null&&l.tailMode==="hidden"&&!m.alternate&&!ct)return Ot(i),null}else 2*Re()-l.renderingStartTime>wc&&a!==536870912&&(i.flags|=128,f=!0,El(l,!1),i.lanes=4194304);l.isBackwards?(m.sibling=i.child,i.child=m):(t=l.last,t!==null?t.sibling=m:i.child=m,l.last=m)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Re(),t.sibling=null,a=qt.current,me(qt,f?a&1|2:a&1),ct&&ur(i,l.treeForkCount),t):(Ot(i),null);case 22:case 23:return Fn(i),Vf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(Ot(i),i.subtreeFlags&6&&(i.flags|=8192)):Ot(i),a=i.updateQueue,a!==null&&gc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&G(ea),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),hr($t),Ot(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function FE(t,i){switch(Ef(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return hr($t),Me(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return ft(i),null;case 31:if(i.memoizedState!==null){if(Fn(i),i.alternate===null)throw Error(s(340));Ws()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Fn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Ws()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return G(qt),null;case 4:return Me(),null;case 10:return hr(i.type),null;case 22:case 23:return Fn(i),Vf(),t!==null&&G(ea),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return hr($t),null;case 25:return null;default:return null}}function Fy(t,i){switch(Ef(i),i.tag){case 3:hr($t),Me();break;case 26:case 27:case 5:ft(i);break;case 4:Me();break;case 31:i.memoizedState!==null&&Fn(i);break;case 13:Fn(i);break;case 19:G(qt);break;case 10:hr(i.type);break;case 22:case 23:Fn(i),Vf(),t!==null&&G(ea);break;case 24:hr($t)}}function xl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var m=a.create,w=a.inst;l=m(),w.destroy=l}a=a.next}while(a!==f)}}catch(L){xt(i,i.return,L)}}function ns(t,i,a){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var m=f.next;l=m;do{if((l.tag&t)===t){var w=l.inst,L=w.destroy;if(L!==void 0){w.destroy=void 0,f=i;var Q=a,ae=L;try{ae()}catch(ye){xt(f,Q,ye)}}}l=l.next}while(l!==m)}}catch(ye){xt(i,i.return,ye)}}function Hy(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Og(i,a)}catch(l){xt(t,t.return,l)}}}function qy(t,i,a){a.props=sa(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){xt(t,i,l)}}function Tl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(f){xt(t,i,f)}}function Yi(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){xt(t,i,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){xt(t,i,f)}else a.current=null}function Gy(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){xt(t,t.return,f)}}function pd(t,i,a){try{var l=t.stateNode;cx(l,t.type,a,i),l[on]=i}catch(f){xt(t,t.return,f)}}function Qy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&us(t.type)||t.tag===4}function gd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Qy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&us(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function yd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=gi));else if(l!==4&&(l===27&&us(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(yd(t,i,a),t=t.sibling;t!==null;)yd(t,i,a),t=t.sibling}function yc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&us(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(yc(t,i,a),t=t.sibling;t!==null;)yc(t,i,a),t=t.sibling}function Ky(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);_n(i,l,a),i[Kt]=t,i[on]=a}catch(m){xt(t,t.return,m)}}var gr=!1,Jt=!1,_d=!1,Yy=typeof WeakSet=="function"?WeakSet:Set,un=null;function HE(t,i){if(t=t.containerInfo,zd=Pc,t=ag(t),hf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var w=0,L=-1,Q=-1,ae=0,ye=0,be=t,le=null;t:for(;;){for(var he;be!==a||f!==0&&be.nodeType!==3||(L=w+f),be!==m||l!==0&&be.nodeType!==3||(Q=w+l),be.nodeType===3&&(w+=be.nodeValue.length),(he=be.firstChild)!==null;)le=be,be=he;for(;;){if(be===t)break t;if(le===a&&++ae===f&&(L=w),le===m&&++ye===l&&(Q=w),(he=be.nextSibling)!==null)break;be=le,le=be.parentNode}be=he}a=L===-1||Q===-1?null:{start:L,end:Q}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ud={focusedElem:t,selectionRange:a},Pc=!1,un=i;un!==null;)if(i=un,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,un=t;else for(;un!==null;){switch(i=un,m=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,a=i,f=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var Oe=sa(a.type,f);t=l.getSnapshotBeforeUpdate(Oe,m),l.__reactInternalSnapshotBeforeUpdate=t}catch(Fe){xt(a,a.return,Fe)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Hd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Hd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,un=t;break}un=i.return}}function Xy(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:_r(t,a),l&4&&xl(5,a);break;case 1:if(_r(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(w){xt(a,a.return,w)}else{var f=sa(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(f,i,t.__reactInternalSnapshotBeforeUpdate)}catch(w){xt(a,a.return,w)}}l&64&&Hy(a),l&512&&Tl(a,a.return);break;case 3:if(_r(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Og(t,i)}catch(w){xt(a,a.return,w)}}break;case 27:i===null&&l&4&&Ky(a);case 26:case 5:_r(t,a),i===null&&l&4&&Gy(a),l&512&&Tl(a,a.return);break;case 12:_r(t,a);break;case 31:_r(t,a),l&4&&Zy(t,a);break;case 13:_r(t,a),l&4&&Jy(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=ZE.bind(null,a),_x(t,a))));break;case 22:if(l=a.memoizedState!==null||gr,!l){i=i!==null&&i.memoizedState!==null||Jt,f=gr;var m=Jt;gr=l,(Jt=i)&&!m?vr(t,a,(a.subtreeFlags&8772)!==0):_r(t,a),gr=f,Jt=m}break;case 30:break;default:_r(t,a)}}function $y(t){var i=t.alternate;i!==null&&(t.alternate=null,$y(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Ta(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Lt=null,In=!1;function yr(t,i,a){for(a=a.child;a!==null;)Wy(t,i,a),a=a.sibling}function Wy(t,i,a){if(it&&typeof it.onCommitFiberUnmount=="function")try{it.onCommitFiberUnmount(Ke,a)}catch{}switch(a.tag){case 26:Jt||Yi(a,i),yr(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Jt||Yi(a,i);var l=Lt,f=In;us(a.type)&&(Lt=a.stateNode,In=!1),yr(t,i,a),Ol(a.stateNode),Lt=l,In=f;break;case 5:Jt||Yi(a,i);case 6:if(l=Lt,f=In,Lt=null,yr(t,i,a),Lt=l,In=f,Lt!==null)if(In)try{(Lt.nodeType===9?Lt.body:Lt.nodeName==="HTML"?Lt.ownerDocument.body:Lt).removeChild(a.stateNode)}catch(m){xt(a,i,m)}else try{Lt.removeChild(a.stateNode)}catch(m){xt(a,i,m)}break;case 18:Lt!==null&&(In?(t=Lt,H_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),lo(t)):H_(Lt,a.stateNode));break;case 4:l=Lt,f=In,Lt=a.stateNode.containerInfo,In=!0,yr(t,i,a),Lt=l,In=f;break;case 0:case 11:case 14:case 15:ns(2,a,i),Jt||ns(4,a,i),yr(t,i,a);break;case 1:Jt||(Yi(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&qy(a,i,l)),yr(t,i,a);break;case 21:yr(t,i,a);break;case 22:Jt=(l=Jt)||a.memoizedState!==null,yr(t,i,a),Jt=l;break;default:yr(t,i,a)}}function Zy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{lo(t)}catch(a){xt(i,i.return,a)}}}function Jy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{lo(t)}catch(a){xt(i,i.return,a)}}function qE(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Yy),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Yy),i;default:throw Error(s(435,t.tag))}}function _c(t,i){var a=qE(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var f=JE.bind(null,t,l);l.then(f,f)}})}function kn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],m=t,w=i,L=w;e:for(;L!==null;){switch(L.tag){case 27:if(us(L.type)){Lt=L.stateNode,In=!1;break e}break;case 5:Lt=L.stateNode,In=!1;break e;case 3:case 4:Lt=L.stateNode.containerInfo,In=!0;break e}L=L.return}if(Lt===null)throw Error(s(160));Wy(m,w,f),Lt=null,In=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)e_(i,t),i=i.sibling}var Ei=null;function e_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:kn(i,t),Dn(t),l&4&&(ns(3,t,t.return),xl(3,t),ns(5,t,t.return));break;case 1:kn(i,t),Dn(t),l&512&&(Jt||a===null||Yi(a,a.return)),l&64&&gr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Ei;if(kn(i,t),Dn(t),l&512&&(Jt||a===null||Yi(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":m=f.getElementsByTagName("title")[0],(!m||m[Mi]||m[Kt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(l),f.head.insertBefore(m,f.querySelector("head > title"))),_n(m,l,a),m[Kt]=t,Yt(m),l=m;break e;case"link":var w=ev("link","href",f).get(l+(a.href||""));if(w){for(var L=0;L<w.length;L++)if(m=w[L],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){w.splice(L,1);break t}}m=f.createElement(l),_n(m,l,a),f.head.appendChild(m);break;case"meta":if(w=ev("meta","content",f).get(l+(a.content||""))){for(L=0;L<w.length;L++)if(m=w[L],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){w.splice(L,1);break t}}m=f.createElement(l),_n(m,l,a),f.head.appendChild(m);break;default:throw Error(s(468,l))}m[Kt]=t,Yt(m),l=m}t.stateNode=l}else tv(f,t.type,t.stateNode);else t.stateNode=J_(f,l,t.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?tv(f,t.type,t.stateNode):J_(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&pd(t,t.memoizedProps,a.memoizedProps)}break;case 27:kn(i,t),Dn(t),l&512&&(Jt||a===null||Yi(a,a.return)),a!==null&&l&4&&pd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(kn(i,t),Dn(t),l&512&&(Jt||a===null||Yi(a,a.return)),t.flags&32){f=t.stateNode;try{Nn(f,"")}catch(Oe){xt(t,t.return,Oe)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,pd(t,f,a!==null?a.memoizedProps:f)),l&1024&&(_d=!0);break;case 6:if(kn(i,t),Dn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(Oe){xt(t,t.return,Oe)}}break;case 3:if(Mc=null,f=Ei,Ei=Dc(i.containerInfo),kn(i,t),Ei=f,Dn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{lo(i.containerInfo)}catch(Oe){xt(t,t.return,Oe)}_d&&(_d=!1,t_(t));break;case 4:l=Ei,Ei=Dc(t.stateNode.containerInfo),kn(i,t),Dn(t),Ei=l;break;case 12:kn(i,t),Dn(t);break;case 31:kn(i,t),Dn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,_c(t,l)));break;case 13:kn(i,t),Dn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(bc=Re()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,_c(t,l)));break;case 22:f=t.memoizedState!==null;var Q=a!==null&&a.memoizedState!==null,ae=gr,ye=Jt;if(gr=ae||f,Jt=ye||Q,kn(i,t),Jt=ye,gr=ae,Dn(t),l&8192)e:for(i=t.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(a===null||Q||gr||Jt||aa(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){Q=a=i;try{if(m=Q.stateNode,f)w=m.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{L=Q.stateNode;var be=Q.memoizedProps.style,le=be!=null&&be.hasOwnProperty("display")?be.display:null;L.style.display=le==null||typeof le=="boolean"?"":(""+le).trim()}}catch(Oe){xt(Q,Q.return,Oe)}}}else if(i.tag===6){if(a===null){Q=i;try{Q.stateNode.nodeValue=f?"":Q.memoizedProps}catch(Oe){xt(Q,Q.return,Oe)}}}else if(i.tag===18){if(a===null){Q=i;try{var he=Q.stateNode;f?q_(he,!0):q_(Q.stateNode,!1)}catch(Oe){xt(Q,Q.return,Oe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,_c(t,a))));break;case 19:kn(i,t),Dn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,_c(t,l)));break;case 30:break;case 21:break;default:kn(i,t),Dn(t)}}function Dn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(Qy(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,m=gd(t);yc(t,m,f);break;case 5:var w=a.stateNode;a.flags&32&&(Nn(w,""),a.flags&=-33);var L=gd(t);yc(t,L,w);break;case 3:case 4:var Q=a.stateNode.containerInfo,ae=gd(t);yd(t,ae,Q);break;default:throw Error(s(161))}}catch(ye){xt(t,t.return,ye)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function t_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;t_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function _r(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Xy(t,i.alternate,i),i=i.sibling}function aa(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:ns(4,i,i.return),aa(i);break;case 1:Yi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&qy(i,i.return,a),aa(i);break;case 27:Ol(i.stateNode);case 26:case 5:Yi(i,i.return),aa(i);break;case 22:i.memoizedState===null&&aa(i);break;case 30:aa(i);break;default:aa(i)}t=t.sibling}}function vr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,f=t,m=i,w=m.flags;switch(m.tag){case 0:case 11:case 15:vr(f,m,a),xl(4,m);break;case 1:if(vr(f,m,a),l=m,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(ae){xt(l,l.return,ae)}if(l=m,f=l.updateQueue,f!==null){var L=l.stateNode;try{var Q=f.shared.hiddenCallbacks;if(Q!==null)for(f.shared.hiddenCallbacks=null,f=0;f<Q.length;f++)Dg(Q[f],L)}catch(ae){xt(l,l.return,ae)}}a&&w&64&&Hy(m),Tl(m,m.return);break;case 27:Ky(m);case 26:case 5:vr(f,m,a),a&&l===null&&w&4&&Gy(m),Tl(m,m.return);break;case 12:vr(f,m,a);break;case 31:vr(f,m,a),a&&w&4&&Zy(f,m);break;case 13:vr(f,m,a),a&&w&4&&Jy(f,m);break;case 22:m.memoizedState===null&&vr(f,m,a),Tl(m,m.return);break;case 30:break;default:vr(f,m,a)}i=i.sibling}}function vd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&cl(a))}function bd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&cl(t))}function xi(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)n_(t,i,a,l),i=i.sibling}function n_(t,i,a,l){var f=i.flags;switch(i.tag){case 0:case 11:case 15:xi(t,i,a,l),f&2048&&xl(9,i);break;case 1:xi(t,i,a,l);break;case 3:xi(t,i,a,l),f&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&cl(t)));break;case 12:if(f&2048){xi(t,i,a,l),t=i.stateNode;try{var m=i.memoizedProps,w=m.id,L=m.onPostCommit;typeof L=="function"&&L(w,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(Q){xt(i,i.return,Q)}}else xi(t,i,a,l);break;case 31:xi(t,i,a,l);break;case 13:xi(t,i,a,l);break;case 23:break;case 22:m=i.stateNode,w=i.alternate,i.memoizedState!==null?m._visibility&2?xi(t,i,a,l):Sl(t,i):m._visibility&2?xi(t,i,a,l):(m._visibility|=2,Wa(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),f&2048&&vd(w,i);break;case 24:xi(t,i,a,l),f&2048&&bd(i.alternate,i);break;default:xi(t,i,a,l)}}function Wa(t,i,a,l,f){for(f=f&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var m=t,w=i,L=a,Q=l,ae=w.flags;switch(w.tag){case 0:case 11:case 15:Wa(m,w,L,Q,f),xl(8,w);break;case 23:break;case 22:var ye=w.stateNode;w.memoizedState!==null?ye._visibility&2?Wa(m,w,L,Q,f):Sl(m,w):(ye._visibility|=2,Wa(m,w,L,Q,f)),f&&ae&2048&&vd(w.alternate,w);break;case 24:Wa(m,w,L,Q,f),f&&ae&2048&&bd(w.alternate,w);break;default:Wa(m,w,L,Q,f)}i=i.sibling}}function Sl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,f=l.flags;switch(l.tag){case 22:Sl(a,l),f&2048&&vd(l.alternate,l);break;case 24:Sl(a,l),f&2048&&bd(l.alternate,l);break;default:Sl(a,l)}i=i.sibling}}var Al=8192;function Za(t,i,a){if(t.subtreeFlags&Al)for(t=t.child;t!==null;)i_(t,i,a),t=t.sibling}function i_(t,i,a){switch(t.tag){case 26:Za(t,i,a),t.flags&Al&&t.memoizedState!==null&&Ix(a,Ei,t.memoizedState,t.memoizedProps);break;case 5:Za(t,i,a);break;case 3:case 4:var l=Ei;Ei=Dc(t.stateNode.containerInfo),Za(t,i,a),Ei=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Al,Al=16777216,Za(t,i,a),Al=l):Za(t,i,a));break;default:Za(t,i,a)}}function r_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Rl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];un=l,a_(l,t)}r_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)s_(t),t=t.sibling}function s_(t){switch(t.tag){case 0:case 11:case 15:Rl(t),t.flags&2048&&ns(9,t,t.return);break;case 3:Rl(t);break;case 12:Rl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,vc(t)):Rl(t);break;default:Rl(t)}}function vc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];un=l,a_(l,t)}r_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:ns(8,i,i.return),vc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,vc(i));break;default:vc(i)}t=t.sibling}}function a_(t,i){for(;un!==null;){var a=un;switch(a.tag){case 0:case 11:case 15:ns(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:cl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,un=l;else e:for(a=t;un!==null;){l=un;var f=l.sibling,m=l.return;if($y(l),l===a){un=null;break e}if(f!==null){f.return=m,un=f;break e}un=m}}}var GE={getCacheForType:function(t){var i=gn($t),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return gn($t).controller.signal}},QE=typeof WeakMap=="function"?WeakMap:Map,vt=0,Ct=null,tt=null,st=0,Et=0,Hn=null,is=!1,Ja=!1,wd=!1,br=0,Ft=0,rs=0,oa=0,Ed=0,qn=0,eo=0,Cl=null,On=null,xd=!1,bc=0,o_=0,wc=1/0,Ec=null,ss=null,nn=0,as=null,to=null,wr=0,Td=0,Sd=null,l_=null,Nl=0,Ad=null;function Gn(){return(vt&2)!==0&&st!==0?st&-st:W.T!==null?Dd():xu()}function u_(){if(qn===0)if((st&536870912)===0||ct){var t=Ii;Ii<<=1,(Ii&3932160)===0&&(Ii=262144),qn=t}else qn=536870912;return t=Bn.current,t!==null&&(t.flags|=32),qn}function Mn(t,i,a){(t===Ct&&(Et===2||Et===9)||t.cancelPendingCommit!==null)&&(no(t,0),os(t,st,qn,!1)),js(t,a),((vt&2)===0||t!==Ct)&&(t===Ct&&((vt&2)===0&&(oa|=a),Ft===4&&os(t,st,qn,!1)),Xi(t))}function c_(t,i,a){if((vt&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||di(t,i),f=l?XE(t,i):Cd(t,i,!0),m=l;do{if(f===0){Ja&&!l&&os(t,i,0,!1);break}else{if(a=t.current.alternate,m&&!KE(a)){f=Cd(t,i,!1),m=!1;continue}if(f===2){if(m=i,t.errorRecoveryDisabledLanes&m)var w=0;else w=t.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){i=w;e:{var L=t;f=Cl;var Q=L.current.memoizedState.isDehydrated;if(Q&&(no(L,w).flags|=256),w=Cd(L,w,!1),w!==2){if(wd&&!Q){L.errorRecoveryDisabledLanes|=m,oa|=m,f=4;break e}m=On,On=f,m!==null&&(On===null?On=m:On.push.apply(On,m))}f=w}if(m=!1,f!==2)continue}}if(f===1){no(t,0),os(t,i,0,!0);break}e:{switch(l=t,m=f,m){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:os(l,i,qn,!is);break e;case 2:On=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(f=bc+300-Re(),10<f)){if(os(l,i,qn,!is),ki(l,0,!0)!==0)break e;wr=i,l.timeoutHandle=B_(h_.bind(null,l,a,On,Ec,xd,i,qn,oa,eo,is,m,"Throttled",-0,0),f);break e}h_(l,a,On,Ec,xd,i,qn,oa,eo,is,m,null,-0,0)}}break}while(!0);Xi(t)}function h_(t,i,a,l,f,m,w,L,Q,ae,ye,be,le,he){if(t.timeoutHandle=-1,be=i.subtreeFlags,be&8192||(be&16785408)===16785408){be={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:gi},i_(i,m,be);var Oe=(m&62914560)===m?bc-Re():(m&4194048)===m?o_-Re():0;if(Oe=kx(be,Oe),Oe!==null){wr=m,t.cancelPendingCommit=Oe(v_.bind(null,t,i,m,a,l,f,w,L,Q,ye,be,null,le,he)),os(t,m,w,!ae);return}}v_(t,i,m,a,l,f,w,L,Q)}function KE(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],m=f.getSnapshot;f=f.value;try{if(!zn(m(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function os(t,i,a,l){i&=~Ed,i&=~oa,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var f=i;0<f;){var m=31-rt(f),w=1<<m;l[m]=-1,f&=~w}a!==0&&Ls(t,a,i)}function xc(){return(vt&6)===0?(Il(0),!1):!0}function Rd(){if(tt!==null){if(Et===0)var t=tt.return;else t=tt,cr=Zs=null,Hf(t),Qa=null,fl=0,t=tt;for(;t!==null;)Fy(t.alternate,t),t=t.return;tt=null}}function no(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,dx(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),wr=0,Rd(),Ct=t,tt=a=lr(t.current,null),st=i,Et=0,Hn=null,is=!1,Ja=di(t,i),wd=!1,eo=qn=Ed=oa=rs=Ft=0,On=Cl=null,xd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var f=31-rt(l),m=1<<f;i|=t[f],l&=~m}return br=i,qu(),a}function f_(t,i){Ze=null,W.H=bl,i===Ga||i===Zu?(i=Cg(),Et=3):i===kf?(i=Cg(),Et=4):Et=i===sd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Hn=i,tt===null&&(Ft=1,fc(t,ii(i,t.current)))}function d_(){var t=Bn.current;return t===null?!0:(st&4194048)===st?oi===null:(st&62914560)===st||(st&536870912)!==0?t===oi:!1}function m_(){var t=W.H;return W.H=bl,t===null?bl:t}function p_(){var t=W.A;return W.A=GE,t}function Tc(){Ft=4,is||(st&4194048)!==st&&Bn.current!==null||(Ja=!0),(rs&134217727)===0&&(oa&134217727)===0||Ct===null||os(Ct,st,qn,!1)}function Cd(t,i,a){var l=vt;vt|=2;var f=m_(),m=p_();(Ct!==t||st!==i)&&(Ec=null,no(t,i)),i=!1;var w=Ft;e:do try{if(Et!==0&&tt!==null){var L=tt,Q=Hn;switch(Et){case 8:Rd(),w=6;break e;case 3:case 2:case 9:case 6:Bn.current===null&&(i=!0);var ae=Et;if(Et=0,Hn=null,io(t,L,Q,ae),a&&Ja){w=0;break e}break;default:ae=Et,Et=0,Hn=null,io(t,L,Q,ae)}}YE(),w=Ft;break}catch(ye){f_(t,ye)}while(!0);return i&&t.shellSuspendCounter++,cr=Zs=null,vt=l,W.H=f,W.A=m,tt===null&&(Ct=null,st=0,qu()),w}function YE(){for(;tt!==null;)g_(tt)}function XE(t,i){var a=vt;vt|=2;var l=m_(),f=p_();Ct!==t||st!==i?(Ec=null,wc=Re()+500,no(t,i)):Ja=di(t,i);e:do try{if(Et!==0&&tt!==null){i=tt;var m=Hn;t:switch(Et){case 1:Et=0,Hn=null,io(t,i,m,1);break;case 2:case 9:if(Ag(m)){Et=0,Hn=null,y_(i);break}i=function(){Et!==2&&Et!==9||Ct!==t||(Et=7),Xi(t)},m.then(i,i);break e;case 3:Et=7;break e;case 4:Et=5;break e;case 7:Ag(m)?(Et=0,Hn=null,y_(i)):(Et=0,Hn=null,io(t,i,m,7));break;case 5:var w=null;switch(tt.tag){case 26:w=tt.memoizedState;case 5:case 27:var L=tt;if(w?nv(w):L.stateNode.complete){Et=0,Hn=null;var Q=L.sibling;if(Q!==null)tt=Q;else{var ae=L.return;ae!==null?(tt=ae,Sc(ae)):tt=null}break t}}Et=0,Hn=null,io(t,i,m,5);break;case 6:Et=0,Hn=null,io(t,i,m,6);break;case 8:Rd(),Ft=6;break e;default:throw Error(s(462))}}$E();break}catch(ye){f_(t,ye)}while(!0);return cr=Zs=null,W.H=l,W.A=f,vt=a,tt!==null?0:(Ct=null,st=0,qu(),Ft)}function $E(){for(;tt!==null&&!se();)g_(tt)}function g_(t){var i=Uy(t.alternate,t,br);t.memoizedProps=t.pendingProps,i===null?Sc(t):tt=i}function y_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=My(a,i,i.pendingProps,i.type,void 0,st);break;case 11:i=My(a,i,i.pendingProps,i.type.render,i.ref,st);break;case 5:Hf(i);default:Fy(a,i),i=tt=pg(i,br),i=Uy(a,i,br)}t.memoizedProps=t.pendingProps,i===null?Sc(t):tt=i}function io(t,i,a,l){cr=Zs=null,Hf(i),Qa=null,fl=0;var f=i.return;try{if(PE(t,f,i,a,st)){Ft=1,fc(t,ii(a,t.current)),tt=null;return}}catch(m){if(f!==null)throw tt=f,m;Ft=1,fc(t,ii(a,t.current)),tt=null;return}i.flags&32768?(ct||l===1?t=!0:Ja||(st&536870912)!==0?t=!1:(is=t=!0,(l===2||l===9||l===3||l===6)&&(l=Bn.current,l!==null&&l.tag===13&&(l.flags|=16384))),__(i,t)):Sc(i)}function Sc(t){var i=t;do{if((i.flags&32768)!==0){__(i,is);return}t=i.return;var a=BE(i.alternate,i,br);if(a!==null){tt=a;return}if(i=i.sibling,i!==null){tt=i;return}tt=i=t}while(i!==null);Ft===0&&(Ft=5)}function __(t,i){do{var a=FE(t.alternate,t);if(a!==null){a.flags&=32767,tt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){tt=t;return}tt=t=a}while(t!==null);Ft=6,tt=null}function v_(t,i,a,l,f,m,w,L,Q){t.cancelPendingCommit=null;do Ac();while(nn!==0);if((vt&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(m=i.lanes|i.childLanes,m|=gf,of(t,a,m,w,L,Q),t===Ct&&(tt=Ct=null,st=0),to=i,as=t,wr=a,Td=m,Sd=f,l_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,ex(Ge,function(){return T_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=W.T,W.T=null,f=ee.p,ee.p=2,w=vt,vt|=4;try{HE(t,i,a)}finally{vt=w,ee.p=f,W.T=l}}nn=1,b_(),w_(),E_()}}function b_(){if(nn===1){nn=0;var t=as,i=to,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=W.T,W.T=null;var l=ee.p;ee.p=2;var f=vt;vt|=4;try{e_(i,t);var m=Ud,w=ag(t.containerInfo),L=m.focusedElem,Q=m.selectionRange;if(w!==L&&L&&L.ownerDocument&&sg(L.ownerDocument.documentElement,L)){if(Q!==null&&hf(L)){var ae=Q.start,ye=Q.end;if(ye===void 0&&(ye=ae),"selectionStart"in L)L.selectionStart=ae,L.selectionEnd=Math.min(ye,L.value.length);else{var be=L.ownerDocument||document,le=be&&be.defaultView||window;if(le.getSelection){var he=le.getSelection(),Oe=L.textContent.length,Fe=Math.min(Q.start,Oe),Rt=Q.end===void 0?Fe:Math.min(Q.end,Oe);!he.extend&&Fe>Rt&&(w=Rt,Rt=Fe,Fe=w);var J=rg(L,Fe),$=rg(L,Rt);if(J&&$&&(he.rangeCount!==1||he.anchorNode!==J.node||he.anchorOffset!==J.offset||he.focusNode!==$.node||he.focusOffset!==$.offset)){var re=be.createRange();re.setStart(J.node,J.offset),he.removeAllRanges(),Fe>Rt?(he.addRange(re),he.extend($.node,$.offset)):(re.setEnd($.node,$.offset),he.addRange(re))}}}}for(be=[],he=L;he=he.parentNode;)he.nodeType===1&&be.push({element:he,left:he.scrollLeft,top:he.scrollTop});for(typeof L.focus=="function"&&L.focus(),L=0;L<be.length;L++){var ve=be[L];ve.element.scrollLeft=ve.left,ve.element.scrollTop=ve.top}}Pc=!!zd,Ud=zd=null}finally{vt=f,ee.p=l,W.T=a}}t.current=i,nn=2}}function w_(){if(nn===2){nn=0;var t=as,i=to,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=W.T,W.T=null;var l=ee.p;ee.p=2;var f=vt;vt|=4;try{Xy(t,i.alternate,i)}finally{vt=f,ee.p=l,W.T=a}}nn=3}}function E_(){if(nn===4||nn===3){nn=0,Se();var t=as,i=to,a=wr,l=l_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?nn=5:(nn=0,to=as=null,x_(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(ss=null),rr(a),i=i.stateNode,it&&typeof it.onCommitFiberRoot=="function")try{it.onCommitFiberRoot(Ke,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=W.T,f=ee.p,ee.p=2,W.T=null;try{for(var m=t.onRecoverableError,w=0;w<l.length;w++){var L=l[w];m(L.value,{componentStack:L.stack})}}finally{W.T=i,ee.p=f}}(wr&3)!==0&&Ac(),Xi(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===Ad?Nl++:(Nl=0,Ad=t):Nl=0,Il(0)}}function x_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,cl(i)))}function Ac(){return b_(),w_(),E_(),T_()}function T_(){if(nn!==5)return!1;var t=as,i=Td;Td=0;var a=rr(wr),l=W.T,f=ee.p;try{ee.p=32>a?32:a,W.T=null,a=Sd,Sd=null;var m=as,w=wr;if(nn=0,to=as=null,wr=0,(vt&6)!==0)throw Error(s(331));var L=vt;if(vt|=4,s_(m.current),n_(m,m.current,w,a),vt=L,Il(0,!1),it&&typeof it.onPostCommitFiberRoot=="function")try{it.onPostCommitFiberRoot(Ke,m)}catch{}return!0}finally{ee.p=f,W.T=l,x_(t,i)}}function S_(t,i,a){i=ii(a,i),i=rd(t.stateNode,i,2),t=Jr(t,i,2),t!==null&&(js(t,2),Xi(t))}function xt(t,i,a){if(t.tag===3)S_(t,t,a);else for(;i!==null;){if(i.tag===3){S_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ss===null||!ss.has(l))){t=ii(a,t),a=Ay(2),l=Jr(i,a,2),l!==null&&(Ry(a,l,i,t),js(l,2),Xi(l));break}}i=i.return}}function Nd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new QE;var f=new Set;l.set(i,f)}else f=l.get(i),f===void 0&&(f=new Set,l.set(i,f));f.has(a)||(wd=!0,f.add(a),t=WE.bind(null,t,i,a),i.then(t,t))}function WE(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Ct===t&&(st&a)===a&&(Ft===4||Ft===3&&(st&62914560)===st&&300>Re()-bc?(vt&2)===0&&no(t,0):Ed|=a,eo===st&&(eo=0)),Xi(t)}function A_(t,i){i===0&&(i=Eu()),t=Xs(t,i),t!==null&&(js(t,i),Xi(t))}function ZE(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),A_(t,a)}function JE(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),A_(t,a)}function ex(t,i){return ue(t,i)}var Rc=null,ro=null,Id=!1,Cc=!1,kd=!1,ls=0;function Xi(t){t!==ro&&t.next===null&&(ro===null?Rc=ro=t:ro=ro.next=t),Cc=!0,Id||(Id=!0,nx())}function Il(t,i){if(!kd&&Cc){kd=!0;do for(var a=!1,l=Rc;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var m=0;else{var w=l.suspendedLanes,L=l.pingedLanes;m=(1<<31-rt(42|t)+1)-1,m&=f&~(w&~L),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,I_(l,m))}else m=st,m=ki(l,l===Ct?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||di(l,m)||(a=!0,I_(l,m));l=l.next}while(a);kd=!1}}function tx(){R_()}function R_(){Cc=Id=!1;var t=0;ls!==0&&fx()&&(t=ls);for(var i=Re(),a=null,l=Rc;l!==null;){var f=l.next,m=C_(l,i);m===0?(l.next=null,a===null?Rc=f:a.next=f,f===null&&(ro=a)):(a=l,(t!==0||(m&3)!==0)&&(Cc=!0)),l=f}nn!==0&&nn!==5||Il(t),ls!==0&&(ls=0)}function C_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var w=31-rt(m),L=1<<w,Q=f[w];Q===-1?((L&a)===0||(L&l)!==0)&&(f[w]=af(L,i)):Q<=i&&(t.expiredLanes|=L),m&=~L}if(i=Ct,a=st,a=ki(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Et===2||Et===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&_e(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||di(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&_e(l),rr(a)){case 2:case 8:a=et;break;case 32:a=Ge;break;case 268435456:a=Qe;break;default:a=Ge}return l=N_.bind(null,t),a=ue(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&_e(l),t.callbackPriority=2,t.callbackNode=null,2}function N_(t,i){if(nn!==0&&nn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Ac()&&t.callbackNode!==a)return null;var l=st;return l=ki(t,t===Ct?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(c_(t,l,i),C_(t,Re()),t.callbackNode!=null&&t.callbackNode===a?N_.bind(null,t):null)}function I_(t,i){if(Ac())return null;c_(t,i,!0)}function nx(){mx(function(){(vt&6)!==0?ue(je,tx):R_()})}function Dd(){if(ls===0){var t=Ha;t===0&&(t=Wn,Wn<<=1,(Wn&261888)===0&&(Wn=256)),ls=t}return ls}function k_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ca(""+t)}function D_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function ix(t,i,a,l,f){if(i==="submit"&&a&&a.stateNode===f){var m=k_((f[on]||null).action),w=l.submitter;w&&(i=(i=w[on]||null)?k_(i.formAction):w.getAttribute("formAction"),i!==null&&(m=i,w=null));var L=new Fi("action","action",null,l,f);t.push({event:L,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ls!==0){var Q=w?D_(f,w):new FormData(f);Zf(a,{pending:!0,data:Q,method:f.method,action:m},null,Q)}}else typeof m=="function"&&(L.preventDefault(),Q=w?D_(f,w):new FormData(f),Zf(a,{pending:!0,data:Q,method:f.method,action:m},m,Q))},currentTarget:f}]})}}for(var Od=0;Od<pf.length;Od++){var Md=pf[Od],rx=Md.toLowerCase(),sx=Md[0].toUpperCase()+Md.slice(1);wi(rx,"on"+sx)}wi(ug,"onAnimationEnd"),wi(cg,"onAnimationIteration"),wi(hg,"onAnimationStart"),wi("dblclick","onDoubleClick"),wi("focusin","onFocus"),wi("focusout","onBlur"),wi(wE,"onTransitionRun"),wi(EE,"onTransitionStart"),wi(xE,"onTransitionCancel"),wi(fg,"onTransitionEnd"),Pi("onMouseEnter",["mouseout","mouseover"]),Pi("onMouseLeave",["mouseout","mouseover"]),Pi("onPointerEnter",["pointerout","pointerover"]),Pi("onPointerLeave",["pointerout","pointerover"]),Vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ax=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(kl));function O_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var m=void 0;if(i)for(var w=l.length-1;0<=w;w--){var L=l[w],Q=L.instance,ae=L.currentTarget;if(L=L.listener,Q!==m&&f.isPropagationStopped())break e;m=L,f.currentTarget=ae;try{m(f)}catch(ye){Hu(ye)}f.currentTarget=null,m=Q}else for(w=0;w<l.length;w++){if(L=l[w],Q=L.instance,ae=L.currentTarget,L=L.listener,Q!==m&&f.isPropagationStopped())break e;m=L,f.currentTarget=ae;try{m(f)}catch(ye){Hu(ye)}f.currentTarget=null,m=Q}}}}function nt(t,i){var a=i[xa];a===void 0&&(a=i[xa]=new Set);var l=t+"__bubble";a.has(l)||(M_(i,t,2,!1),a.add(l))}function jd(t,i,a){var l=0;i&&(l|=4),M_(a,t,l,i)}var Nc="_reactListening"+Math.random().toString(36).slice(2);function Ld(t){if(!t[Nc]){t[Nc]=!0,Ho.forEach(function(a){a!=="selectionchange"&&(ax.has(a)||jd(a,!1,t),jd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Nc]||(i[Nc]=!0,jd("selectionchange",!1,i))}}function M_(t,i,a,l){switch(uv(i)){case 2:var f=Mx;break;case 8:f=jx;break;default:f=Wd}a=f.bind(null,i,a,t),f=void 0,!Bs||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(i,a,{capture:!0,passive:f}):t.addEventListener(i,a,!0):f!==void 0?t.addEventListener(i,a,{passive:f}):t.addEventListener(i,a,!1)}function Vd(t,i,a,l,f){var m=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var w=l.tag;if(w===3||w===4){var L=l.stateNode.containerInfo;if(L===f)break;if(w===4)for(w=l.return;w!==null;){var Q=w.tag;if((Q===3||Q===4)&&w.stateNode.containerInfo===f)return;w=w.return}for(;L!==null;){if(w=ji(L),w===null)return;if(Q=w.tag,Q===5||Q===6||Q===26||Q===27){l=m=w;continue e}L=L.parentNode}}l=l.return}Hr(function(){var ae=m,ye=Jn(a),be=[];e:{var le=dg.get(t);if(le!==void 0){var he=Fi,Oe=t;switch(t){case"keypress":if(Hs(a)===0)break e;case"keydown":case"keyup":he=Uu;break;case"focusin":Oe="focus",he=Gs;break;case"focusout":Oe="blur",he=Gs;break;case"beforeblur":case"afterblur":he=Gs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":he=nl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":he=ku;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":he=y;break;case ug:case cg:case hg:he=Ou;break;case fg:he=U;break;case"scroll":case"scrollend":he=tl;break;case"wheel":he=ce;break;case"copy":case"cut":case"paste":he=Mu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":he=or;break;case"toggle":case"beforetoggle":he=We}var Fe=(i&4)!==0,Rt=!Fe&&(t==="scroll"||t==="scrollend"),J=Fe?le!==null?le+"Capture":null:le;Fe=[];for(var $=ae,re;$!==null;){var ve=$;if(re=ve.stateNode,ve=ve.tag,ve!==5&&ve!==26&&ve!==27||re===null||J===null||(ve=yi($,J),ve!=null&&Fe.push(Dl($,ve,re))),Rt)break;$=$.return}0<Fe.length&&(le=new he(le,Oe,null,a,ye),be.push({event:le,listeners:Fe}))}}if((i&7)===0){e:{if(le=t==="mouseover"||t==="pointerover",he=t==="mouseout"||t==="pointerout",le&&a!==Zo&&(Oe=a.relatedTarget||a.fromElement)&&(ji(Oe)||Oe[Oi]))break e;if((he||le)&&(le=ye.window===ye?ye:(le=ye.ownerDocument)?le.defaultView||le.parentWindow:window,he?(Oe=a.relatedTarget||a.toElement,he=ae,Oe=Oe?ji(Oe):null,Oe!==null&&(Rt=u(Oe),Fe=Oe.tag,Oe!==Rt||Fe!==5&&Fe!==27&&Fe!==6)&&(Oe=null)):(he=null,Oe=ae),he!==Oe)){if(Fe=nl,ve="onMouseLeave",J="onMouseEnter",$="mouse",(t==="pointerout"||t==="pointerover")&&(Fe=or,ve="onPointerLeave",J="onPointerEnter",$="pointer"),Rt=he==null?le:Vn(he),re=Oe==null?le:Vn(Oe),le=new Fe(ve,$+"leave",he,a,ye),le.target=Rt,le.relatedTarget=re,ve=null,ji(ye)===ae&&(Fe=new Fe(J,$+"enter",Oe,a,ye),Fe.target=re,Fe.relatedTarget=Rt,ve=Fe),Rt=ve,he&&Oe)t:{for(Fe=ox,J=he,$=Oe,re=0,ve=J;ve;ve=Fe(ve))re++;ve=0;for(var Ue=$;Ue;Ue=Fe(Ue))ve++;for(;0<re-ve;)J=Fe(J),re--;for(;0<ve-re;)$=Fe($),ve--;for(;re--;){if(J===$||$!==null&&J===$.alternate){Fe=J;break t}J=Fe(J),$=Fe($)}Fe=null}else Fe=null;he!==null&&j_(be,le,he,Fe,!1),Oe!==null&&Rt!==null&&j_(be,Rt,Oe,Fe,!0)}}e:{if(le=ae?Vn(ae):window,he=le.nodeName&&le.nodeName.toLowerCase(),he==="select"||he==="input"&&le.type==="file")var pt=Zp;else if($p(le))if(Jp)pt=_E;else{pt=gE;var Le=pE}else he=le.nodeName,!he||he.toLowerCase()!=="input"||le.type!=="checkbox"&&le.type!=="radio"?ae&&Ra(ae.elementType)&&(pt=Zp):pt=yE;if(pt&&(pt=pt(t,ae))){Wp(be,pt,a,ye);break e}Le&&Le(t,le,ae),t==="focusout"&&ae&&le.type==="number"&&ae.memoizedProps.value!=null&&Xo(le,"number",le.value)}switch(Le=ae?Vn(ae):window,t){case"focusin":($p(Le)||Le.contentEditable==="true")&&(ja=Le,ff=ae,ol=null);break;case"focusout":ol=ff=ja=null;break;case"mousedown":df=!0;break;case"contextmenu":case"mouseup":case"dragend":df=!1,og(be,a,ye);break;case"selectionchange":if(bE)break;case"keydown":case"keyup":og(be,a,ye)}var Je;if(_t)e:{switch(t){case"compositionstart":var at="onCompositionStart";break e;case"compositionend":at="onCompositionEnd";break e;case"compositionupdate":at="onCompositionUpdate";break e}at=void 0}else Ma?Qs(t,a)&&(at="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(at="onCompositionStart");at&&(Gi&&a.locale!=="ko"&&(Ma||at!=="onCompositionStart"?at==="onCompositionEnd"&&Ma&&(Je=el()):(Bi=ye,Jo="value"in Bi?Bi.value:Bi.textContent,Ma=!0)),Le=Ic(ae,at),0<Le.length&&(at=new qi(at,t,null,a,ye),be.push({event:at,listeners:Le}),Je?at.data=Je:(Je=Oa(a),Je!==null&&(at.data=Je)))),(Je=ti?hE(t,a):fE(t,a))&&(at=Ic(ae,"onBeforeInput"),0<at.length&&(Le=new qi("onBeforeInput","beforeinput",null,a,ye),be.push({event:Le,listeners:at}),Le.data=Je)),ix(be,t,ae,a,ye)}O_(be,i)})}function Dl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Ic(t,i){for(var a=i+"Capture",l=[];t!==null;){var f=t,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=yi(t,a),f!=null&&l.unshift(Dl(t,f,m)),f=yi(t,i),f!=null&&l.push(Dl(t,f,m))),t.tag===3)return l;t=t.return}return[]}function ox(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function j_(t,i,a,l,f){for(var m=i._reactName,w=[];a!==null&&a!==l;){var L=a,Q=L.alternate,ae=L.stateNode;if(L=L.tag,Q!==null&&Q===l)break;L!==5&&L!==26&&L!==27||ae===null||(Q=ae,f?(ae=yi(a,m),ae!=null&&w.unshift(Dl(a,ae,Q))):f||(ae=yi(a,m),ae!=null&&w.push(Dl(a,ae,Q)))),a=a.return}w.length!==0&&t.push({event:i,listeners:w})}var lx=/\r\n?/g,ux=/\u0000|\uFFFD/g;function L_(t){return(typeof t=="string"?t:""+t).replace(lx,`
`).replace(ux,"")}function V_(t,i){return i=L_(i),L_(t)===i}function At(t,i,a,l,f,m){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Nn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Nn(t,""+l);break;case"className":Pn(t,"class",l);break;case"tabIndex":Pn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Pn(t,a,l);break;case"style":Wo(t,l,m);break;case"data":if(i!=="object"){Pn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ca(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(i!=="input"&&At(t,i,"name",f.name,f,null),At(t,i,"formEncType",f.formEncType,f,null),At(t,i,"formMethod",f.formMethod,f,null),At(t,i,"formTarget",f.formTarget,f,null)):(At(t,i,"encType",f.encType,f,null),At(t,i,"method",f.method,f,null),At(t,i,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ca(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=gi);break;case"onScroll":l!=null&&nt("scroll",t);break;case"onScrollEnd":l!=null&&nt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ca(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":nt("beforetoggle",t),nt("toggle",t),Sa(t,"popover",l);break;case"xlinkActuate":Xt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Xt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Xt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Xt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Xt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Xt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Xt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Xt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Xt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Sa(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Iu.get(a)||a,Sa(t,a,l))}}function Pd(t,i,a,l,f,m){switch(a){case"style":Wo(t,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Nn(t,l):(typeof l=="number"||typeof l=="bigint")&&Nn(t,""+l);break;case"onScroll":l!=null&&nt("scroll",t);break;case"onScrollEnd":l!=null&&nt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=gi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!qo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),m=t[on]||null,m=m!=null?m[a]:null,typeof m=="function"&&t.removeEventListener(i,m,f),typeof l=="function")){typeof m!="function"&&m!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Sa(t,a,l)}}}function _n(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":nt("error",t),nt("load",t);var l=!1,f=!1,m;for(m in a)if(a.hasOwnProperty(m)){var w=a[m];if(w!=null)switch(m){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:At(t,i,m,w,a,null)}}f&&At(t,i,"srcSet",a.srcSet,a,null),l&&At(t,i,"src",a.src,a,null);return;case"input":nt("invalid",t);var L=m=w=f=null,Q=null,ae=null;for(l in a)if(a.hasOwnProperty(l)){var ye=a[l];if(ye!=null)switch(l){case"name":f=ye;break;case"type":w=ye;break;case"checked":Q=ye;break;case"defaultChecked":ae=ye;break;case"value":m=ye;break;case"defaultValue":L=ye;break;case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(s(137,i));break;default:At(t,i,l,ye,a,null)}}Ru(t,m,L,Q,ae,w,f,!1);return;case"select":nt("invalid",t),l=w=m=null;for(f in a)if(a.hasOwnProperty(f)&&(L=a[f],L!=null))switch(f){case"value":m=L;break;case"defaultValue":w=L;break;case"multiple":l=L;default:At(t,i,f,L,a,null)}i=m,a=w,t.multiple=!!l,i!=null?zr(t,!!l,i,!1):a!=null&&zr(t,!!l,a,!0);return;case"textarea":nt("invalid",t),m=f=l=null;for(w in a)if(a.hasOwnProperty(w)&&(L=a[w],L!=null))switch(w){case"value":l=L;break;case"defaultValue":f=L;break;case"children":m=L;break;case"dangerouslySetInnerHTML":if(L!=null)throw Error(s(91));break;default:At(t,i,w,L,a,null)}Ur(t,l,f,m);return;case"option":for(Q in a)if(a.hasOwnProperty(Q)&&(l=a[Q],l!=null))switch(Q){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:At(t,i,Q,l,a,null)}return;case"dialog":nt("beforetoggle",t),nt("toggle",t),nt("cancel",t),nt("close",t);break;case"iframe":case"object":nt("load",t);break;case"video":case"audio":for(l=0;l<kl.length;l++)nt(kl[l],t);break;case"image":nt("error",t),nt("load",t);break;case"details":nt("toggle",t);break;case"embed":case"source":case"link":nt("error",t),nt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ae in a)if(a.hasOwnProperty(ae)&&(l=a[ae],l!=null))switch(ae){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:At(t,i,ae,l,a,null)}return;default:if(Ra(i)){for(ye in a)a.hasOwnProperty(ye)&&(l=a[ye],l!==void 0&&Pd(t,i,ye,l,a,void 0));return}}for(L in a)a.hasOwnProperty(L)&&(l=a[L],l!=null&&At(t,i,L,l,a,null))}function cx(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,w=null,L=null,Q=null,ae=null,ye=null;for(he in a){var be=a[he];if(a.hasOwnProperty(he)&&be!=null)switch(he){case"checked":break;case"value":break;case"defaultValue":Q=be;default:l.hasOwnProperty(he)||At(t,i,he,null,l,be)}}for(var le in l){var he=l[le];if(be=a[le],l.hasOwnProperty(le)&&(he!=null||be!=null))switch(le){case"type":m=he;break;case"name":f=he;break;case"checked":ae=he;break;case"defaultChecked":ye=he;break;case"value":w=he;break;case"defaultValue":L=he;break;case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(s(137,i));break;default:he!==be&&At(t,i,le,he,l,be)}}Aa(t,w,L,Q,ae,ye,m,f);return;case"select":he=w=L=le=null;for(m in a)if(Q=a[m],a.hasOwnProperty(m)&&Q!=null)switch(m){case"value":break;case"multiple":he=Q;default:l.hasOwnProperty(m)||At(t,i,m,null,l,Q)}for(f in l)if(m=l[f],Q=a[f],l.hasOwnProperty(f)&&(m!=null||Q!=null))switch(f){case"value":le=m;break;case"defaultValue":L=m;break;case"multiple":w=m;default:m!==Q&&At(t,i,f,m,l,Q)}i=L,a=w,l=he,le!=null?zr(t,!!a,le,!1):!!l!=!!a&&(i!=null?zr(t,!!a,i,!0):zr(t,!!a,a?[]:"",!1));return;case"textarea":he=le=null;for(L in a)if(f=a[L],a.hasOwnProperty(L)&&f!=null&&!l.hasOwnProperty(L))switch(L){case"value":break;case"children":break;default:At(t,i,L,null,l,f)}for(w in l)if(f=l[w],m=a[w],l.hasOwnProperty(w)&&(f!=null||m!=null))switch(w){case"value":le=f;break;case"defaultValue":he=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==m&&At(t,i,w,f,l,m)}Cu(t,le,he);return;case"option":for(var Oe in a)if(le=a[Oe],a.hasOwnProperty(Oe)&&le!=null&&!l.hasOwnProperty(Oe))switch(Oe){case"selected":t.selected=!1;break;default:At(t,i,Oe,null,l,le)}for(Q in l)if(le=l[Q],he=a[Q],l.hasOwnProperty(Q)&&le!==he&&(le!=null||he!=null))switch(Q){case"selected":t.selected=le&&typeof le!="function"&&typeof le!="symbol";break;default:At(t,i,Q,le,l,he)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Fe in a)le=a[Fe],a.hasOwnProperty(Fe)&&le!=null&&!l.hasOwnProperty(Fe)&&At(t,i,Fe,null,l,le);for(ae in l)if(le=l[ae],he=a[ae],l.hasOwnProperty(ae)&&le!==he&&(le!=null||he!=null))switch(ae){case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(s(137,i));break;default:At(t,i,ae,le,l,he)}return;default:if(Ra(i)){for(var Rt in a)le=a[Rt],a.hasOwnProperty(Rt)&&le!==void 0&&!l.hasOwnProperty(Rt)&&Pd(t,i,Rt,void 0,l,le);for(ye in l)le=l[ye],he=a[ye],!l.hasOwnProperty(ye)||le===he||le===void 0&&he===void 0||Pd(t,i,ye,le,l,he);return}}for(var J in a)le=a[J],a.hasOwnProperty(J)&&le!=null&&!l.hasOwnProperty(J)&&At(t,i,J,null,l,le);for(be in l)le=l[be],he=a[be],!l.hasOwnProperty(be)||le===he||le==null&&he==null||At(t,i,be,le,l,he)}function P_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function hx(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],m=f.transferSize,w=f.initiatorType,L=f.duration;if(m&&L&&P_(w)){for(w=0,L=f.responseEnd,l+=1;l<a.length;l++){var Q=a[l],ae=Q.startTime;if(ae>L)break;var ye=Q.transferSize,be=Q.initiatorType;ye&&P_(be)&&(Q=Q.responseEnd,w+=ye*(Q<L?1:(L-ae)/(Q-ae)))}if(--l,i+=8*(m+w)/(f.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var zd=null,Ud=null;function kc(t){return t.nodeType===9?t:t.ownerDocument}function z_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function U_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Bd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Fd=null;function fx(){var t=window.event;return t&&t.type==="popstate"?t===Fd?!1:(Fd=t,!0):(Fd=null,!1)}var B_=typeof setTimeout=="function"?setTimeout:void 0,dx=typeof clearTimeout=="function"?clearTimeout:void 0,F_=typeof Promise=="function"?Promise:void 0,mx=typeof queueMicrotask=="function"?queueMicrotask:typeof F_<"u"?function(t){return F_.resolve(null).then(t).catch(px)}:B_;function px(t){setTimeout(function(){throw t})}function us(t){return t==="head"}function H_(t,i){var a=i,l=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(f),lo(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Ol(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Ol(a);for(var m=a.firstChild;m;){var w=m.nextSibling,L=m.nodeName;m[Mi]||L==="SCRIPT"||L==="STYLE"||L==="LINK"&&m.rel.toLowerCase()==="stylesheet"||a.removeChild(m),m=w}}else a==="body"&&Ol(t.ownerDocument.body);a=f}while(a);lo(i)}function q_(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Hd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Hd(a),Ta(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function gx(t,i,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Mi])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=li(t.nextSibling),t===null)break}return null}function yx(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=li(t.nextSibling),t===null))return null;return t}function G_(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=li(t.nextSibling),t===null))return null;return t}function qd(t){return t.data==="$?"||t.data==="$~"}function Gd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function _x(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function li(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Qd=null;function Q_(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return li(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function K_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function Y_(t,i,a){switch(i=kc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Ol(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Ta(t)}var ui=new Map,X_=new Set;function Dc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Er=ee.d;ee.d={f:vx,r:bx,D:wx,C:Ex,L:xx,m:Tx,X:Ax,S:Sx,M:Rx};function vx(){var t=Er.f(),i=xc();return t||i}function bx(t){var i=Zn(t);i!==null&&i.tag===5&&i.type==="form"?fy(i):Er.r(t)}var so=typeof document>"u"?null:document;function $_(t,i,a){var l=so;if(l&&typeof i=="string"&&i){var f=Cn(i);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),X_.has(f)||(X_.add(f),t={rel:t,crossOrigin:a,href:i},l.querySelector(f)===null&&(i=l.createElement("link"),_n(i,"link",t),Yt(i),l.head.appendChild(i)))}}function wx(t){Er.D(t),$_("dns-prefetch",t,null)}function Ex(t,i){Er.C(t,i),$_("preconnect",t,i)}function xx(t,i,a){Er.L(t,i,a);var l=so;if(l&&t&&i){var f='link[rel="preload"][as="'+Cn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+Cn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+Cn(a.imageSizes)+'"]')):f+='[href="'+Cn(t)+'"]';var m=f;switch(i){case"style":m=ao(t);break;case"script":m=oo(t)}ui.has(m)||(t=v({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),ui.set(m,t),l.querySelector(f)!==null||i==="style"&&l.querySelector(Ml(m))||i==="script"&&l.querySelector(jl(m))||(i=l.createElement("link"),_n(i,"link",t),Yt(i),l.head.appendChild(i)))}}function Tx(t,i){Er.m(t,i);var a=so;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+Cn(l)+'"][href="'+Cn(t)+'"]',m=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=oo(t)}if(!ui.has(m)&&(t=v({rel:"modulepreload",href:t},i),ui.set(m,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(jl(m)))return}l=a.createElement("link"),_n(l,"link",t),Yt(l),a.head.appendChild(l)}}}function Sx(t,i,a){Er.S(t,i,a);var l=so;if(l&&t){var f=Li(l).hoistableStyles,m=ao(t);i=i||"default";var w=f.get(m);if(!w){var L={loading:0,preload:null};if(w=l.querySelector(Ml(m)))L.loading=5;else{t=v({rel:"stylesheet",href:t,"data-precedence":i},a),(a=ui.get(m))&&Kd(t,a);var Q=w=l.createElement("link");Yt(Q),_n(Q,"link",t),Q._p=new Promise(function(ae,ye){Q.onload=ae,Q.onerror=ye}),Q.addEventListener("load",function(){L.loading|=1}),Q.addEventListener("error",function(){L.loading|=2}),L.loading|=4,Oc(w,i,l)}w={type:"stylesheet",instance:w,count:1,state:L},f.set(m,w)}}}function Ax(t,i){Er.X(t,i);var a=so;if(a&&t){var l=Li(a).hoistableScripts,f=oo(t),m=l.get(f);m||(m=a.querySelector(jl(f)),m||(t=v({src:t,async:!0},i),(i=ui.get(f))&&Yd(t,i),m=a.createElement("script"),Yt(m),_n(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function Rx(t,i){Er.M(t,i);var a=so;if(a&&t){var l=Li(a).hoistableScripts,f=oo(t),m=l.get(f);m||(m=a.querySelector(jl(f)),m||(t=v({src:t,async:!0,type:"module"},i),(i=ui.get(f))&&Yd(t,i),m=a.createElement("script"),Yt(m),_n(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function W_(t,i,a,l){var f=(f=ke.current)?Dc(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=ao(a.href),a=Li(f).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=ao(a.href);var m=Li(f).hoistableStyles,w=m.get(t);if(w||(f=f.ownerDocument||f,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,w),(m=f.querySelector(Ml(t)))&&!m._p&&(w.instance=m,w.state.loading=5),ui.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ui.set(t,a),m||Cx(f,t,a,w.state))),i&&l===null)throw Error(s(528,""));return w}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=oo(a),a=Li(f).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function ao(t){return'href="'+Cn(t)+'"'}function Ml(t){return'link[rel="stylesheet"]['+t+"]"}function Z_(t){return v({},t,{"data-precedence":t.precedence,precedence:null})}function Cx(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),_n(i,"link",a),Yt(i),t.head.appendChild(i))}function oo(t){return'[src="'+Cn(t)+'"]'}function jl(t){return"script[async]"+t}function J_(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+Cn(a.href)+'"]');if(l)return i.instance=l,Yt(l),l;var f=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Yt(l),_n(l,"style",f),Oc(l,a.precedence,t),i.instance=l;case"stylesheet":f=ao(a.href);var m=t.querySelector(Ml(f));if(m)return i.state.loading|=4,i.instance=m,Yt(m),m;l=Z_(a),(f=ui.get(f))&&Kd(l,f),m=(t.ownerDocument||t).createElement("link"),Yt(m);var w=m;return w._p=new Promise(function(L,Q){w.onload=L,w.onerror=Q}),_n(m,"link",l),i.state.loading|=4,Oc(m,a.precedence,t),i.instance=m;case"script":return m=oo(a.src),(f=t.querySelector(jl(m)))?(i.instance=f,Yt(f),f):(l=a,(f=ui.get(m))&&(l=v({},a),Yd(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),Yt(f),_n(f,"link",l),t.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Oc(l,a.precedence,t));return i.instance}function Oc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,m=f,w=0;w<l.length;w++){var L=l[w];if(L.dataset.precedence===i)m=L;else if(m!==f)break}m?m.parentNode.insertBefore(t,m.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Kd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Yd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Mc=null;function ev(t,i,a){if(Mc===null){var l=new Map,f=Mc=new Map;f.set(a,l)}else f=Mc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var m=a[f];if(!(m[Mi]||m[Kt]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var w=m.getAttribute(i)||"";w=t+w;var L=l.get(w);L?L.push(m):l.set(w,[m])}}return l}function tv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function Nx(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function nv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Ix(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=ao(l.href),m=i.querySelector(Ml(f));if(m){i=m._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=jc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=m,Yt(m);return}m=i.ownerDocument||i,l=Z_(l),(f=ui.get(f))&&Kd(l,f),m=m.createElement("link"),Yt(m);var w=m;w._p=new Promise(function(L,Q){w.onload=L,w.onerror=Q}),_n(m,"link",l),a.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=jc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var Xd=0;function kx(t,i){return t.stylesheets&&t.count===0&&Vc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Vc(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+i);0<t.imgBytes&&Xd===0&&(Xd=62500*hx());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Vc(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>Xd?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function jc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Vc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Lc=null;function Vc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Lc=new Map,i.forEach(Dx,t),Lc=null,jc.call(t))}function Dx(t,i){if(!(i.state.loading&4)){var a=Lc.get(t);if(a)var l=a.get(null);else{a=new Map,Lc.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var w=f[m];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(a.set(w.dataset.precedence,w),l=w)}l&&a.set(null,l)}f=i.instance,w=f.getAttribute("data-precedence"),m=a.get(w)||l,m===l&&a.set(null,f),a.set(w,f),this.count++,l=jc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),m?m.parentNode.insertBefore(f,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),i.state.loading|=4}}var Ll={$$typeof:z,Provider:null,Consumer:null,_currentValue:Te,_currentValue2:Te,_threadCount:0};function Ox(t,i,a,l,f,m,w,L,Q){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Di(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Di(0),this.hiddenUpdates=Di(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Q,this.incompleteTransitions=new Map}function iv(t,i,a,l,f,m,w,L,Q,ae,ye,be){return t=new Ox(t,i,a,w,Q,ae,ye,be,L),i=1,m===!0&&(i|=24),m=Un(3,null,null,i),t.current=m,m.stateNode=t,i=Cf(),i.refCount++,t.pooledCache=i,i.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:i},Df(m),t}function rv(t){return t?(t=Pa,t):Pa}function sv(t,i,a,l,f,m){f=rv(f),l.context===null?l.context=f:l.pendingContext=f,l=Zr(i),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=Jr(t,l,i),a!==null&&(Mn(a,t,i),ml(a,t,i))}function av(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function $d(t,i){av(t,i),(t=t.alternate)&&av(t,i)}function ov(t){if(t.tag===13||t.tag===31){var i=Xs(t,67108864);i!==null&&Mn(i,t,67108864),$d(t,67108864)}}function lv(t){if(t.tag===13||t.tag===31){var i=Gn();i=Vs(i);var a=Xs(t,i);a!==null&&Mn(a,t,i),$d(t,i)}}var Pc=!0;function Mx(t,i,a,l){var f=W.T;W.T=null;var m=ee.p;try{ee.p=2,Wd(t,i,a,l)}finally{ee.p=m,W.T=f}}function jx(t,i,a,l){var f=W.T;W.T=null;var m=ee.p;try{ee.p=8,Wd(t,i,a,l)}finally{ee.p=m,W.T=f}}function Wd(t,i,a,l){if(Pc){var f=Zd(l);if(f===null)Vd(t,i,l,zc,a),cv(t,l);else if(Vx(f,t,i,a,l))l.stopPropagation();else if(cv(t,l),i&4&&-1<Lx.indexOf(t)){for(;f!==null;){var m=Zn(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var w=Sn(m.pendingLanes);if(w!==0){var L=m;for(L.pendingLanes|=2,L.entangledLanes|=2;w;){var Q=1<<31-rt(w);L.entanglements[1]|=Q,w&=~Q}Xi(m),(vt&6)===0&&(wc=Re()+500,Il(0))}}break;case 31:case 13:L=Xs(m,2),L!==null&&Mn(L,m,2),xc(),$d(m,2)}if(m=Zd(l),m===null&&Vd(t,i,l,zc,a),m===f)break;f=m}f!==null&&l.stopPropagation()}else Vd(t,i,l,null,a)}}function Zd(t){return t=Jn(t),Jd(t)}var zc=null;function Jd(t){if(zc=null,t=ji(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=c(i),t!==null)return t;t=null}else if(a===31){if(t=d(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return zc=t,null}function uv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ae()){case je:return 2;case et:return 8;case Ge:case Ee:return 32;case Qe:return 268435456;default:return 32}default:return 32}}var em=!1,cs=null,hs=null,fs=null,Vl=new Map,Pl=new Map,ds=[],Lx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function cv(t,i){switch(t){case"focusin":case"focusout":cs=null;break;case"dragenter":case"dragleave":hs=null;break;case"mouseover":case"mouseout":fs=null;break;case"pointerover":case"pointerout":Vl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pl.delete(i.pointerId)}}function zl(t,i,a,l,f,m){return t===null||t.nativeEvent!==m?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[f]},i!==null&&(i=Zn(i),i!==null&&ov(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),t)}function Vx(t,i,a,l,f){switch(i){case"focusin":return cs=zl(cs,t,i,a,l,f),!0;case"dragenter":return hs=zl(hs,t,i,a,l,f),!0;case"mouseover":return fs=zl(fs,t,i,a,l,f),!0;case"pointerover":var m=f.pointerId;return Vl.set(m,zl(Vl.get(m)||null,t,i,a,l,f)),!0;case"gotpointercapture":return m=f.pointerId,Pl.set(m,zl(Pl.get(m)||null,t,i,a,l,f)),!0}return!1}function hv(t){var i=ji(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=c(a),i!==null){t.blockedOn=i,mi(t.priority,function(){lv(a)});return}}else if(i===31){if(i=d(a),i!==null){t.blockedOn=i,mi(t.priority,function(){lv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Uc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Zd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Zo=l,a.target.dispatchEvent(l),Zo=null}else return i=Zn(a),i!==null&&ov(i),t.blockedOn=a,!1;i.shift()}return!0}function fv(t,i,a){Uc(t)&&a.delete(i)}function Px(){em=!1,cs!==null&&Uc(cs)&&(cs=null),hs!==null&&Uc(hs)&&(hs=null),fs!==null&&Uc(fs)&&(fs=null),Vl.forEach(fv),Pl.forEach(fv)}function Bc(t,i){t.blockedOn===i&&(t.blockedOn=null,em||(em=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Px)))}var Fc=null;function dv(t){Fc!==t&&(Fc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Fc===t&&(Fc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],f=t[i+2];if(typeof l!="function"){if(Jd(l||a)===null)continue;break}var m=Zn(a);m!==null&&(t.splice(i,3),i-=3,Zf(m,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function lo(t){function i(Q){return Bc(Q,t)}cs!==null&&Bc(cs,t),hs!==null&&Bc(hs,t),fs!==null&&Bc(fs,t),Vl.forEach(i),Pl.forEach(i);for(var a=0;a<ds.length;a++){var l=ds[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ds.length&&(a=ds[0],a.blockedOn===null);)hv(a),a.blockedOn===null&&ds.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],m=a[l+1],w=f[on]||null;if(typeof m=="function")w||dv(a);else if(w){var L=null;if(m&&m.hasAttribute("formAction")){if(f=m,w=m[on]||null)L=w.formAction;else if(Jd(f)!==null)continue}else L=w.action;typeof L=="function"?a[l+1]=L:(a.splice(l,3),l-=3),dv(a)}}}function mv(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(w){return f=w})},focusReset:"manual",scroll:"manual"})}function i(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),f!==null&&(f(),f=null)}}}function tm(t){this._internalRoot=t}Hc.prototype.render=tm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Gn();sv(a,l,t,i,null,null)},Hc.prototype.unmount=tm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;sv(t.current,2,null,t,null,null),xc(),i[Oi]=null}};function Hc(t){this._internalRoot=t}Hc.prototype.unstable_scheduleHydration=function(t){if(t){var i=xu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<ds.length&&i!==0&&i<ds[a].priority;a++);ds.splice(a,0,t),a===0&&hv(t)}};var pv=e.version;if(pv!=="19.2.3")throw Error(s(527,pv,"19.2.3"));ee.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(i),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var zx={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qc.isDisabled&&qc.supportsFiber)try{Ke=qc.inject(zx),it=qc}catch{}}return Bl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",f=Ey,m=xy,w=Ty;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(w=i.onRecoverableError)),i=iv(t,1,!1,null,null,a,l,null,f,m,w,mv),t[Oi]=i.current,Ld(t),new tm(i)},Bl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,f="",m=Ey,w=xy,L=Ty,Q=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(w=a.onCaughtError),a.onRecoverableError!==void 0&&(L=a.onRecoverableError),a.formState!==void 0&&(Q=a.formState)),i=iv(t,1,!0,i,a??null,l,f,Q,m,w,L,mv),i.context=rv(null),a=i.current,l=Gn(),l=Vs(l),f=Zr(l),f.callback=null,Jr(a,f,l),a=l,i.current.lanes=a,js(i,a),Xi(i),t[Oi]=i.current,Ld(t),new Hc(i)},Bl.version="19.2.3",Bl}var Sv;function $x(){if(Sv)return rm.exports;Sv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),rm.exports=Xx(),rm.exports}var Wx=$x();const Zx=ep(Wx);/**
 * react-router v7.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Av="popstate";function Jx(r={}){function e(o,u){let{pathname:c="/",search:d="",hash:p=""}=ya(o.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Tm("",{pathname:c,search:d,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let c=o.document.querySelector("base"),d="";if(c&&c.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");d=g===-1?p:p.slice(0,g)}return d+"#"+(typeof u=="string"?u:tu(u))}function s(o,u){Yn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return t2(e,n,s,r)}function Vt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Yn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function e2(){return Math.random().toString(36).substring(2,10)}function Rv(r,e){return{usr:r.state,key:r.key,idx:e}}function Tm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?ya(e):e,state:n,key:e&&e.key||s||e2()}}function tu({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function ya(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function t2(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,c=o.history,d="POP",p=null,g=_();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function _(){return(c.state||{idx:null}).idx}function v(){d="POP";let C=_(),I=C==null?null:C-g;g=C,p&&p({action:d,location:A.location,delta:I})}function x(C,I){d="PUSH";let P=Tm(A.location,C,I);n&&n(P,C),g=_()+1;let z=Rv(P,g),K=A.createHref(P);try{c.pushState(z,"",K)}catch(Y){if(Y instanceof DOMException&&Y.name==="DataCloneError")throw Y;o.location.assign(K)}u&&p&&p({action:d,location:A.location,delta:1})}function E(C,I){d="REPLACE";let P=Tm(A.location,C,I);n&&n(P,C),g=_();let z=Rv(P,g),K=A.createHref(P);c.replaceState(z,"",K),u&&p&&p({action:d,location:A.location,delta:0})}function k(C){return n2(C)}let A={get action(){return d},get location(){return r(o,c)},listen(C){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Av,v),p=C,()=>{o.removeEventListener(Av,v),p=null}},createHref(C){return e(o,C)},createURL:k,encodeLocation(C){let I=k(C);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:x,replace:E,go(C){return c.go(C)}};return A}function n2(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Vt(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:tu(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function ab(r,e,n="/"){return i2(r,e,n,!1)}function i2(r,e,n,s){let o=typeof e=="string"?ya(e):e,u=kr(o.pathname||"/",n);if(u==null)return null;let c=ob(r);r2(c);let d=null;for(let p=0;d==null&&p<c.length;++p){let g=p2(u);d=d2(c[p],g,s)}return d}function ob(r,e=[],n=[],s="",o=!1){let u=(c,d,p=o,g)=>{let _={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(s)&&p)return;Vt(_.relativePath.startsWith(s),`Absolute route path "${_.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(s.length)}let v=Cr([s,_.relativePath]),x=n.concat(_);c.children&&c.children.length>0&&(Vt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),ob(c.children,e,x,v,p)),!(c.path==null&&!c.index)&&e.push({path:v,score:h2(v,c.index),routesMeta:x})};return r.forEach((c,d)=>{var p;if(c.path===""||!((p=c.path)!=null&&p.includes("?")))u(c,d);else for(let g of lb(c.path))u(c,d,!0,g)}),e}function lb(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let c=lb(s.join("/")),d=[];return d.push(...c.map(p=>p===""?u:[u,p].join("/"))),o&&d.push(...c),d.map(p=>r.startsWith("/")&&p===""?"/":p)}function r2(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:f2(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var s2=/^:[\w-]+$/,a2=3,o2=2,l2=1,u2=10,c2=-2,Cv=r=>r==="*";function h2(r,e){let n=r.split("/"),s=n.length;return n.some(Cv)&&(s+=c2),e&&(s+=o2),n.filter(o=>!Cv(o)).reduce((o,u)=>o+(s2.test(u)?a2:u===""?l2:u2),s)}function f2(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function d2(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",c=[];for(let d=0;d<s.length;++d){let p=s[d],g=d===s.length-1,_=u==="/"?e:e.slice(u.length)||"/",v=fh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},_),x=p.route;if(!v&&g&&n&&!s[s.length-1].route.index&&(v=fh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!v)return null;Object.assign(o,v.params),c.push({params:o,pathname:Cr([u,v.pathname]),pathnameBase:v2(Cr([u,v.pathnameBase])),route:x}),v.pathnameBase!=="/"&&(u=Cr([u,v.pathnameBase]))}return c}function fh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=m2(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],c=u.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:s.reduce((g,{paramName:_,isOptional:v},x)=>{if(_==="*"){let k=d[x]||"";c=u.slice(0,u.length-k.length).replace(/(.)\/+$/,"$1")}const E=d[x];return v&&!E?g[_]=void 0:g[_]=(E||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:c,pattern:r}}function m2(r,e=!1,n=!0){Yn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,p)=>(s.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function p2(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Yn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function kr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var ub=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,g2=r=>ub.test(r);function y2(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?ya(r):r,u;if(n)if(g2(n))u=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),Yn(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${n}`)}n.startsWith("/")?u=Nv(n.substring(1),"/"):u=Nv(n,e)}else u=e;return{pathname:u,search:b2(s),hash:w2(o)}}function Nv(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function lm(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function _2(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function np(r){let e=_2(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function ip(r,e,n,s=!1){let o;typeof r=="string"?o=ya(r):(o={...r},Vt(!o.pathname||!o.pathname.includes("?"),lm("?","pathname","search",o)),Vt(!o.pathname||!o.pathname.includes("#"),lm("#","pathname","hash",o)),Vt(!o.search||!o.search.includes("#"),lm("#","search","hash",o)));let u=r===""||o.pathname==="",c=u?"/":o.pathname,d;if(c==null)d=n;else{let v=e.length-1;if(!s&&c.startsWith("..")){let x=c.split("/");for(;x[0]==="..";)x.shift(),v-=1;o.pathname=x.join("/")}d=v>=0?e[v]:"/"}let p=y2(o,d),g=c&&c!=="/"&&c.endsWith("/"),_=(u||c===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||_)&&(p.pathname+="/"),p}var Cr=r=>r.join("/").replace(/\/\/+/g,"/"),v2=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),b2=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,w2=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,E2=class{constructor(r,e,n,s=!1){this.status=r,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function x2(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function T2(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var cb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function hb(r,e){let n=r;if(typeof n!="string"||!ub.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(cb)try{let u=new URL(window.location.href),c=n.startsWith("//")?new URL(u.protocol+n):new URL(n),d=kr(c.pathname,e);c.origin===u.origin&&d!=null?n=d+c.search+c.hash:o=!0}catch{Yn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var fb=["POST","PUT","PATCH","DELETE"];new Set(fb);var S2=["GET",...fb];new Set(S2);var Oo=Z.createContext(null);Oo.displayName="DataRouter";var jh=Z.createContext(null);jh.displayName="DataRouterState";var A2=Z.createContext(!1),db=Z.createContext({isTransitioning:!1});db.displayName="ViewTransition";var R2=Z.createContext(new Map);R2.displayName="Fetchers";var C2=Z.createContext(null);C2.displayName="Await";var $n=Z.createContext(null);$n.displayName="Navigation";var lu=Z.createContext(null);lu.displayName="Location";var ir=Z.createContext({outlet:null,matches:[],isDataRoute:!1});ir.displayName="Route";var rp=Z.createContext(null);rp.displayName="RouteError";var mb="REACT_ROUTER_ERROR",N2="REDIRECT",I2="ROUTE_ERROR_RESPONSE";function k2(r){if(r.startsWith(`${mb}:${N2}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function D2(r){if(r.startsWith(`${mb}:${I2}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new E2(e.status,e.statusText,e.data)}catch{}}function O2(r,{relative:e}={}){Vt(Mo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=Z.useContext($n),{hash:o,pathname:u,search:c}=cu(r,{relative:e}),d=u;return n!=="/"&&(d=u==="/"?n:Cr([n,u])),s.createHref({pathname:d,search:c,hash:o})}function Mo(){return Z.useContext(lu)!=null}function Ds(){return Vt(Mo(),"useLocation() may be used only in the context of a <Router> component."),Z.useContext(lu).location}var pb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function gb(r){Z.useContext($n).static||Z.useLayoutEffect(r)}function uu(){let{isDataRoute:r}=Z.useContext(ir);return r?Q2():M2()}function M2(){Vt(Mo(),"useNavigate() may be used only in the context of a <Router> component.");let r=Z.useContext(Oo),{basename:e,navigator:n}=Z.useContext($n),{matches:s}=Z.useContext(ir),{pathname:o}=Ds(),u=JSON.stringify(np(s)),c=Z.useRef(!1);return gb(()=>{c.current=!0}),Z.useCallback((p,g={})=>{if(Yn(c.current,pb),!c.current)return;if(typeof p=="number"){n.go(p);return}let _=ip(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Cr([e,_.pathname])),(g.replace?n.replace:n.push)(_,g.state,g)},[e,n,u,o,r])}Z.createContext(null);function cu(r,{relative:e}={}){let{matches:n}=Z.useContext(ir),{pathname:s}=Ds(),o=JSON.stringify(np(n));return Z.useMemo(()=>ip(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function j2(r,e){return yb(r,e)}function yb(r,e,n,s,o){var P;Vt(Mo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=Z.useContext($n),{matches:c}=Z.useContext(ir),d=c[c.length-1],p=d?d.params:{},g=d?d.pathname:"/",_=d?d.pathnameBase:"/",v=d&&d.route;{let z=v&&v.path||"";vb(g,!v||z.endsWith("*")||z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${z}"> to <Route path="${z==="/"?"*":`${z}/*`}">.`)}let x=Ds(),E;if(e){let z=typeof e=="string"?ya(e):e;Vt(_==="/"||((P=z.pathname)==null?void 0:P.startsWith(_)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${z.pathname}" was given in the \`location\` prop.`),E=z}else E=x;let k=E.pathname||"/",A=k;if(_!=="/"){let z=_.replace(/^\//,"").split("/");A="/"+k.replace(/^\//,"").split("/").slice(z.length).join("/")}let C=ab(r,{pathname:A});Yn(v||C!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),Yn(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let I=U2(C&&C.map(z=>Object.assign({},z,{params:Object.assign({},p,z.params),pathname:Cr([_,u.encodeLocation?u.encodeLocation(z.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:z.pathname]),pathnameBase:z.pathnameBase==="/"?_:Cr([_,u.encodeLocation?u.encodeLocation(z.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:z.pathnameBase])})),c,n,s,o);return e&&I?Z.createElement(lu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},I):I}function L2(){let r=G2(),e=x2(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",r),c=Z.createElement(Z.Fragment,null,Z.createElement("p",null," Hey developer "),Z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Z.createElement("code",{style:u},"ErrorBoundary")," or"," ",Z.createElement("code",{style:u},"errorElement")," prop on your route.")),Z.createElement(Z.Fragment,null,Z.createElement("h2",null,"Unexpected Application Error!"),Z.createElement("h3",{style:{fontStyle:"italic"}},e),n?Z.createElement("pre",{style:o},n):null,c)}var V2=Z.createElement(L2,null),_b=class extends Z.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=D2(r.digest);n&&(r=n)}let e=r!==void 0?Z.createElement(ir.Provider,{value:this.props.routeContext},Z.createElement(rp.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?Z.createElement(P2,{error:r},e):e}};_b.contextType=A2;var um=new WeakMap;function P2({children:r,error:e}){let{basename:n}=Z.useContext($n);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=k2(e.digest);if(s){let o=um.get(e);if(o)throw o;let u=hb(s.location,n);if(cb&&!um.get(e))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw um.set(e,c),c}return Z.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return r}function z2({routeContext:r,match:e,children:n}){let s=Z.useContext(Oo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),Z.createElement(ir.Provider,{value:r},n)}function U2(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,c=n==null?void 0:n.errors;if(c!=null){let _=u.findIndex(v=>v.route.id&&(c==null?void 0:c[v.route.id])!==void 0);Vt(_>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),u=u.slice(0,Math.min(u.length,_+1))}let d=!1,p=-1;if(n)for(let _=0;_<u.length;_++){let v=u[_];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(p=_),v.route.id){let{loaderData:x,errors:E}=n,k=v.route.loader&&!x.hasOwnProperty(v.route.id)&&(!E||E[v.route.id]===void 0);if(v.route.lazy||k){d=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let g=n&&s?(_,v)=>{var x,E;s(_,{location:n.location,params:((E=(x=n.matches)==null?void 0:x[0])==null?void 0:E.params)??{},unstable_pattern:T2(n.matches),errorInfo:v})}:void 0;return u.reduceRight((_,v,x)=>{let E,k=!1,A=null,C=null;n&&(E=c&&v.route.id?c[v.route.id]:void 0,A=v.route.errorElement||V2,d&&(p<0&&x===0?(vb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,C=null):p===x&&(k=!0,C=v.route.hydrateFallbackElement||null)));let I=e.concat(u.slice(0,x+1)),P=()=>{let z;return E?z=A:k?z=C:v.route.Component?z=Z.createElement(v.route.Component,null):v.route.element?z=v.route.element:z=_,Z.createElement(z2,{match:v,routeContext:{outlet:_,matches:I,isDataRoute:n!=null},children:z})};return n&&(v.route.ErrorBoundary||v.route.errorElement||x===0)?Z.createElement(_b,{location:n.location,revalidation:n.revalidation,component:A,error:E,children:P(),routeContext:{outlet:null,matches:I,isDataRoute:!0},onError:g}):P()},null)}function sp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function B2(r){let e=Z.useContext(Oo);return Vt(e,sp(r)),e}function F2(r){let e=Z.useContext(jh);return Vt(e,sp(r)),e}function H2(r){let e=Z.useContext(ir);return Vt(e,sp(r)),e}function ap(r){let e=H2(r),n=e.matches[e.matches.length-1];return Vt(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function q2(){return ap("useRouteId")}function G2(){var s;let r=Z.useContext(rp),e=F2("useRouteError"),n=ap("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[n]}function Q2(){let{router:r}=B2("useNavigate"),e=ap("useNavigate"),n=Z.useRef(!1);return gb(()=>{n.current=!0}),Z.useCallback(async(o,u={})=>{Yn(n.current,pb),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var Iv={};function vb(r,e,n){!e&&!Iv[r]&&(Iv[r]=!0,Yn(!1,n))}Z.memo(K2);function K2({routes:r,future:e,state:n,onError:s}){return yb(r,void 0,n,s,e)}function Gc({to:r,replace:e,state:n,relative:s}){Vt(Mo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=Z.useContext($n);Yn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=Z.useContext(ir),{pathname:c}=Ds(),d=uu(),p=ip(r,np(u),c,s==="path"),g=JSON.stringify(p);return Z.useEffect(()=>{d(JSON.parse(g),{replace:e,state:n,relative:s})},[d,g,s,e,n]),null}function uo(r){Vt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Y2({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:c}){Vt(!Mo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=r.replace(/^\/*/,"/"),p=Z.useMemo(()=>({basename:d,navigator:o,static:u,unstable_useTransitions:c,future:{}}),[d,o,u,c]);typeof n=="string"&&(n=ya(n));let{pathname:g="/",search:_="",hash:v="",state:x=null,key:E="default"}=n,k=Z.useMemo(()=>{let A=kr(g,d);return A==null?null:{location:{pathname:A,search:_,hash:v,state:x,key:E},navigationType:s}},[d,g,_,v,x,E,s]);return Yn(k!=null,`<Router basename="${d}"> is not able to match the URL "${g}${_}${v}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:Z.createElement($n.Provider,{value:p},Z.createElement(lu.Provider,{children:e,value:k}))}function X2({children:r,location:e}){return j2(Sm(r),e)}function Sm(r,e=[]){let n=[];return Z.Children.forEach(r,(s,o)=>{if(!Z.isValidElement(s))return;let u=[...e,o];if(s.type===Z.Fragment){n.push.apply(n,Sm(s.props.children,u));return}Vt(s.type===uo,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Vt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=Sm(s.props.children,u)),n.push(c)}),n}var eh="get",th="application/x-www-form-urlencoded";function Lh(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function $2(r){return Lh(r)&&r.tagName.toLowerCase()==="button"}function W2(r){return Lh(r)&&r.tagName.toLowerCase()==="form"}function Z2(r){return Lh(r)&&r.tagName.toLowerCase()==="input"}function J2(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function eT(r,e){return r.button===0&&(!e||e==="_self")&&!J2(r)}var Qc=null;function tT(){if(Qc===null)try{new FormData(document.createElement("form"),0),Qc=!1}catch{Qc=!0}return Qc}var nT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function cm(r){return r!=null&&!nT.has(r)?(Yn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${th}"`),null):r}function iT(r,e){let n,s,o,u,c;if(W2(r)){let d=r.getAttribute("action");s=d?kr(d,e):null,n=r.getAttribute("method")||eh,o=cm(r.getAttribute("enctype"))||th,u=new FormData(r)}else if($2(r)||Z2(r)&&(r.type==="submit"||r.type==="image")){let d=r.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||d.getAttribute("action");if(s=p?kr(p,e):null,n=r.getAttribute("formmethod")||d.getAttribute("method")||eh,o=cm(r.getAttribute("formenctype"))||cm(d.getAttribute("enctype"))||th,u=new FormData(d,r),!tT()){let{name:g,type:_,value:v}=r;if(_==="image"){let x=g?`${g}.`:"";u.append(`${x}x`,"0"),u.append(`${x}y`,"0")}else g&&u.append(g,v)}}else{if(Lh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=eh,s=null,o=th,c=r}return u&&o==="text/plain"&&(c=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function op(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function rT(r,e,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&kr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function sT(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function aT(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function oT(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let c=await sT(u,n);return c.links?c.links():[]}return[]}));return hT(s.flat(1).filter(aT).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function kv(r,e,n,s,o,u){let c=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,d=(p,g)=>{var _;return n[g].pathname!==p.pathname||((_=n[g].route.path)==null?void 0:_.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>c(p,g)||d(p,g)):u==="data"?e.filter((p,g)=>{var v;let _=s.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(c(p,g)||d(p,g))return!0;if(p.route.shouldRevalidate){let x=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((v=n[0])==null?void 0:v.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function lT(r,e,{includeHydrateFallback:n}={}){return uT(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function uT(r){return[...new Set(r)]}function cT(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function hT(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(cT(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function bb(){let r=Z.useContext(Oo);return op(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function fT(){let r=Z.useContext(jh);return op(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var lp=Z.createContext(void 0);lp.displayName="FrameworkContext";function wb(){let r=Z.useContext(lp);return op(r,"You must render this element inside a <HydratedRouter> element"),r}function dT(r,e){let n=Z.useContext(lp),[s,o]=Z.useState(!1),[u,c]=Z.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:g,onMouseLeave:_,onTouchStart:v}=e,x=Z.useRef(null);Z.useEffect(()=>{if(r==="render"&&c(!0),r==="viewport"){let A=I=>{I.forEach(P=>{c(P.isIntersecting)})},C=new IntersectionObserver(A,{threshold:.5});return x.current&&C.observe(x.current),()=>{C.disconnect()}}},[r]),Z.useEffect(()=>{if(s){let A=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(A)}}},[s]);let E=()=>{o(!0)},k=()=>{o(!1),c(!1)};return n?r!=="intent"?[u,x,{}]:[u,x,{onFocus:Fl(d,E),onBlur:Fl(p,k),onMouseEnter:Fl(g,E),onMouseLeave:Fl(_,k),onTouchStart:Fl(v,E)}]:[!1,x,{}]}function Fl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function mT({page:r,...e}){let{router:n}=bb(),s=Z.useMemo(()=>ab(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?Z.createElement(gT,{page:r,matches:s,...e}):null}function pT(r){let{manifest:e,routeModules:n}=wb(),[s,o]=Z.useState([]);return Z.useEffect(()=>{let u=!1;return oT(r,e,n).then(c=>{u||o(c)}),()=>{u=!0}},[r,e,n]),s}function gT({page:r,matches:e,...n}){let s=Ds(),{manifest:o,routeModules:u}=wb(),{basename:c}=bb(),{loaderData:d,matches:p}=fT(),g=Z.useMemo(()=>kv(r,e,p,o,s,"data"),[r,e,p,o,s]),_=Z.useMemo(()=>kv(r,e,p,o,s,"assets"),[r,e,p,o,s]),v=Z.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let k=new Set,A=!1;if(e.forEach(I=>{var z;let P=o.routes[I.route.id];!P||!P.hasLoader||(!g.some(K=>K.route.id===I.route.id)&&I.route.id in d&&((z=u[I.route.id])!=null&&z.shouldRevalidate)||P.hasClientLoader?A=!0:k.add(I.route.id))}),k.size===0)return[];let C=rT(r,c,"data");return A&&k.size>0&&C.searchParams.set("_routes",e.filter(I=>k.has(I.route.id)).map(I=>I.route.id).join(",")),[C.pathname+C.search]},[c,d,s,o,g,e,r,u]),x=Z.useMemo(()=>lT(_,o),[_,o]),E=pT(_);return Z.createElement(Z.Fragment,null,v.map(k=>Z.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...n})),x.map(k=>Z.createElement("link",{key:k,rel:"modulepreload",href:k,...n})),E.map(({key:k,link:A})=>Z.createElement("link",{key:k,nonce:n.nonce,...A})))}function yT(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var _T=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{_T&&(window.__reactRouterVersion="7.11.0")}catch{}function vT({basename:r,children:e,unstable_useTransitions:n,window:s}){let o=Z.useRef();o.current==null&&(o.current=Jx({window:s,v5Compat:!0}));let u=o.current,[c,d]=Z.useState({action:u.action,location:u.location}),p=Z.useCallback(g=>{n===!1?d(g):Z.startTransition(()=>d(g))},[n]);return Z.useLayoutEffect(()=>u.listen(p),[u,p]),Z.createElement(Y2,{basename:r,children:e,location:c.location,navigationType:c.action,navigator:u,unstable_useTransitions:n})}var Eb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_s=Z.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:c,state:d,target:p,to:g,preventScrollReset:_,viewTransition:v,unstable_defaultShouldRevalidate:x,...E},k){let{basename:A,unstable_useTransitions:C}=Z.useContext($n),I=typeof g=="string"&&Eb.test(g),P=hb(g,A);g=P.to;let z=O2(g,{relative:o}),[K,Y,ie]=dT(s,E),M=xT(g,{replace:c,state:d,target:p,preventScrollReset:_,relative:o,viewTransition:v,unstable_defaultShouldRevalidate:x,unstable_useTransitions:C});function j(B){e&&e(B),B.defaultPrevented||M(B)}let O=Z.createElement("a",{...E,...ie,href:P.absoluteURL||z,onClick:P.isExternal||u?e:j,ref:yT(k,Y),target:p,"data-discover":!I&&n==="render"?"true":void 0});return K&&!I?Z.createElement(Z.Fragment,null,O,Z.createElement(mT,{page:z})):O});_s.displayName="Link";var bT=Z.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:c,viewTransition:d,children:p,...g},_){let v=cu(c,{relative:g.relative}),x=Ds(),E=Z.useContext(jh),{navigator:k,basename:A}=Z.useContext($n),C=E!=null&&CT(v)&&d===!0,I=k.encodeLocation?k.encodeLocation(v).pathname:v.pathname,P=x.pathname,z=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;n||(P=P.toLowerCase(),z=z?z.toLowerCase():null,I=I.toLowerCase()),z&&A&&(z=kr(z,A)||z);const K=I!=="/"&&I.endsWith("/")?I.length-1:I.length;let Y=P===I||!o&&P.startsWith(I)&&P.charAt(K)==="/",ie=z!=null&&(z===I||!o&&z.startsWith(I)&&z.charAt(I.length)==="/"),M={isActive:Y,isPending:ie,isTransitioning:C},j=Y?e:void 0,O;typeof s=="function"?O=s(M):O=[s,Y?"active":null,ie?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let B=typeof u=="function"?u(M):u;return Z.createElement(_s,{...g,"aria-current":j,className:O,ref:_,style:B,to:c,viewTransition:d},typeof p=="function"?p(M):p)});bT.displayName="NavLink";var wT=Z.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:c=eh,action:d,onSubmit:p,relative:g,preventScrollReset:_,viewTransition:v,unstable_defaultShouldRevalidate:x,...E},k)=>{let{unstable_useTransitions:A}=Z.useContext($n),C=AT(),I=RT(d,{relative:g}),P=c.toLowerCase()==="get"?"get":"post",z=typeof d=="string"&&Eb.test(d),K=Y=>{if(p&&p(Y),Y.defaultPrevented)return;Y.preventDefault();let ie=Y.nativeEvent.submitter,M=(ie==null?void 0:ie.getAttribute("formmethod"))||c,j=()=>C(ie||Y.currentTarget,{fetcherKey:e,method:M,navigate:n,replace:o,state:u,relative:g,preventScrollReset:_,viewTransition:v,unstable_defaultShouldRevalidate:x});A&&n!==!1?Z.startTransition(()=>j()):j()};return Z.createElement("form",{ref:k,method:P,action:I,onSubmit:s?p:K,...E,"data-discover":!z&&r==="render"?"true":void 0})});wT.displayName="Form";function ET(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xb(r){let e=Z.useContext(Oo);return Vt(e,ET(r)),e}function xT(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:c,unstable_defaultShouldRevalidate:d,unstable_useTransitions:p}={}){let g=uu(),_=Ds(),v=cu(r,{relative:u});return Z.useCallback(x=>{if(eT(x,e)){x.preventDefault();let E=n!==void 0?n:tu(_)===tu(v),k=()=>g(r,{replace:E,state:s,preventScrollReset:o,relative:u,viewTransition:c,unstable_defaultShouldRevalidate:d});p?Z.startTransition(()=>k()):k()}},[_,g,v,n,s,e,r,o,u,c,d,p])}var TT=0,ST=()=>`__${String(++TT)}__`;function AT(){let{router:r}=xb("useSubmit"),{basename:e}=Z.useContext($n),n=q2(),s=r.fetch,o=r.navigate;return Z.useCallback(async(u,c={})=>{let{action:d,method:p,encType:g,formData:_,body:v}=iT(u,e);if(c.navigate===!1){let x=c.fetcherKey||ST();await s(x,n,c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:_,body:v,formMethod:c.method||p,formEncType:c.encType||g,flushSync:c.flushSync})}else await o(c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:_,body:v,formMethod:c.method||p,formEncType:c.encType||g,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[s,o,e,n])}function RT(r,{relative:e}={}){let{basename:n}=Z.useContext($n),s=Z.useContext(ir);Vt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...cu(r||".",{relative:e})},c=Ds();if(r==null){u.search=c.search;let d=new URLSearchParams(u.search),p=d.getAll("index");if(p.some(_=>_==="")){d.delete("index"),p.filter(v=>v).forEach(v=>d.append("index",v));let _=d.toString();u.search=_?`?${_}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Cr([n,u.pathname])),tu(u)}function CT(r,{relative:e}={}){let n=Z.useContext(db);Vt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=xb("useViewTransitionState"),o=cu(r,{relative:e});if(!n.isTransitioning)return!1;let u=kr(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=kr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return fh(o.pathname,c)!=null||fh(o.pathname,u)!=null}var hn=(r=>(r.CONTRIBUTOR="Contributor",r.LEARNER="Learner",r.ADMIN="ADMIN",r))(hn||{});const wo="/assets/hdlbasewhitefinal-removebg-preview-aYHj2qLo.png",NT=({currentUser:r,onSignOut:e})=>{const n=uu(),s=u=>{u.preventDefault(),r?n("/dashboard"):(window.scrollTo({top:0,behavior:"smooth"}),n("/"))},o=u=>{const c=document.getElementById(u);c&&c.scrollIntoView({behavior:"smooth"})};return b.jsxs("div",{className:"min-h-screen bg-matte text-offwhite selection:bg-accent selection:text-matte overflow-x-hidden",children:[b.jsx("nav",{className:"fixed w-full z-50 bg-matte/80 backdrop-blur-xl border-b border-white/5 px-6 py-4",children:b.jsxs("div",{className:"max-w-7xl mx-auto flex justify-between items-center",children:[b.jsx("div",{onClick:s,className:"flex items-center cursor-pointer group",children:b.jsx("span",{className:"text-2xl font-black tracking-tighter group-hover:text-accent transition-colors",children:b.jsx("img",{src:wo,alt:"LOGO",className:"w-32 h-auto mx-auto block"})})}),b.jsxs("div",{className:"hidden md:flex gap-10 text-sm font-bold text-gray-400 uppercase tracking-widest",children:[b.jsx("button",{onClick:()=>o("features"),className:"hover:text-accent transition-colors",children:"Features"}),b.jsx("button",{onClick:()=>o("categories"),className:"hover:text-accent transition-colors",children:"Users"}),b.jsx("button",{onClick:()=>o("process"),className:"hover:text-accent transition-colors",children:"Process"})]}),b.jsx("div",{className:"flex items-center gap-4",children:r?b.jsxs("div",{className:"flex items-center gap-6",children:[b.jsx(_s,{to:"/dashboard",className:"bg-accent text-matte px-6 py-2.5 rounded-full font-bold text-sm hover:scale-105 active:scale-95 transition-all shadow-xl shadow-white/10",children:"Dashboard"}),b.jsx("button",{onClick:e,className:"text-xs font-bold text-gray-500 hover:text-red-400 transition-colors uppercase tracking-widest",children:"Sign Out"})]}):b.jsx(_s,{to:"/login",className:"bg-white/5 border border-white/10 px-8 py-2.5 rounded-full font-bold text-sm hover:bg-white/10 transition-all active:scale-95",children:"Login"})})]})}),b.jsxs("header",{className:"relative pt-56 pb-32 px-6",children:[b.jsxs("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-full h-full pointer-events-none -z-10",children:[b.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-contributor/20 rounded-full blur-[120px] animate-pulse"}),b.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-learner/10 rounded-full blur-[120px] animate-pulse delay-1000"})]}),b.jsxs("div",{className:"max-w-5xl mx-auto text-center",children:[b.jsx("div",{className:"inline-flex items-center gap-2 px-6 py-2 bg-accent/10 border border-white/10 rounded-full text-[11px] font-black tracking-[0.25em] uppercase text-white mb-10",children:"Think LeetCode, but for Hardware."}),b.jsxs("h1",{className:"text-6xl md:text-8xl font-black tracking-tighter mb-10 leading-[0.9] bg-gradient-to-b from-white via-white to-gray-600 bg-clip-text text-transparent",children:["Hardware Design ",b.jsx("br",{}),"Reimagined."]}),b.jsx("p",{className:"text-xl md:text-2xl text-gray-400 mb-14 max-w-3xl mx-auto leading-relaxed font-medium",children:"HDLBase is the ultimate practice ground for Electronics Students. Solve RTL challenges, simulate Verilog/VHDL in-browser, and build a professional hardware portfolio."}),b.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 justify-center",children:[b.jsx(_s,{to:"/signup",className:"bg-accent text-matte px-10 py-5 rounded-2xl font-black text-xl hover:scale-105 active:scale-95 transition-all shadow-2xl shadow-white/10",children:"Start Practicing Free"}),b.jsxs("button",{onClick:()=>o("features"),className:"bg-gunmetal border border-white/10 px-10 py-5 rounded-2xl font-black text-xl hover:bg-white/5 transition-all flex items-center justify-center gap-2",children:["Explore Challenges",b.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M19 9l-7 7-7-7"})})]})]})]})]}),b.jsx("section",{id:"features",className:"py-32 px-6",children:b.jsxs("div",{className:"max-w-7xl mx-auto",children:[b.jsxs("div",{className:"mb-20",children:[b.jsx("h2",{className:"text-4xl md:text-5xl font-black tracking-tighter mb-4",children:"Features"}),b.jsx("div",{className:"w-20 h-2 bg-accent rounded-full"})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[b.jsxs("div",{className:"p-10 bg-gunmetal border border-white/5 rounded-[40px] hover:border-accent/20 transition-all group cursor-pointer text-left",children:[b.jsx("div",{className:"w-14 h-14 bg-contributor/10 text-contributor rounded-2xl flex items-center justify-center mb-8 group-hover:scale-110 transition-transform",children:b.jsx("svg",{className:"w-8 h-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),b.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Interactive Challenges"}),b.jsx("p",{className:"text-gray-500 leading-relaxed font-medium",children:`Sharpen your skills with logic problems designed by industry experts. It's the "LeetCode experience" specifically tailored for VLSI and FPGA engineers.`})]}),b.jsxs("div",{className:"p-10 bg-gunmetal border border-white/5 rounded-[40px] hover:border-accent/20 transition-all group cursor-pointer text-left",children:[b.jsx("div",{className:"w-14 h-14 bg-accent/10 text-accent rounded-2xl flex items-center justify-center mb-8 group-hover:scale-110 transition-transform",children:b.jsx("svg",{className:"w-8 h-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),b.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Real-Time Playground"}),b.jsx("p",{className:"text-gray-500 leading-relaxed font-medium",children:"Don't wait for heavy tools to load. Write, lint, and simulate Verilog and VHDL code instantly in our cloud-based playground."})]}),b.jsxs("div",{className:"p-10 bg-gunmetal border border-white/5 rounded-[40px] hover:border-accent/20 transition-all group cursor-pointer text-left",children:[b.jsx("div",{className:"w-14 h-14 bg-learner/10 text-learner rounded-2xl flex items-center justify-center mb-8 group-hover:scale-110 transition-transform",children:b.jsx("svg",{className:"w-8 h-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253"})})}),b.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Library Access"}),b.jsx("p",{className:"text-gray-500 leading-relaxed font-medium",children:"Explore a massive repository of verified RTL modules. Learn from best practices and download components for your own projects."})]})]})]})}),b.jsx("section",{id:"categories",className:"py-32 px-6 bg-gunmetal/30",children:b.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-20 items-center",children:[b.jsxs("div",{className:"text-left",children:[b.jsxs("h2",{className:"text-5xl font-black tracking-tighter mb-8 leading-tight",children:["Built for ",b.jsx("span",{className:"text-accent",children:"Success."})]}),b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"p-8 rounded-[32px] bg-white/5 border border-white/10 flex gap-6 hover:bg-white/10 transition-colors",children:[b.jsx("div",{className:"w-12 h-12 bg-contributor text-white rounded-xl flex items-center justify-center shrink-0",children:b.jsxs("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 14l9-5-9-5-9 5 9 5z"}),b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 14l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14z"})]})}),b.jsxs("div",{children:[b.jsx("h4",{className:"text-xl font-bold mb-1",children:"Students"}),b.jsx("p",{className:"text-gray-500 font-medium",children:"The best place to prepare for technical interviews and gain hands-on hardware design experience."})]})]}),b.jsxs("div",{className:"p-8 rounded-[32px] bg-white/5 border border-white/10 flex gap-6 hover:bg-white/10 transition-colors",children:[b.jsx("div",{className:"w-12 h-12 bg-learner text-white rounded-xl flex items-center justify-center shrink-0",children:b.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),b.jsxs("div",{children:[b.jsx("h4",{className:"text-xl font-bold mb-1",children:"Educators"}),b.jsx("p",{className:"text-gray-500 font-medium",children:"Automate labs, create assessment quizzes, and manage student repositories in one centralized place."})]})]})]})]}),b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:"aspect-square bg-white/5 rounded-[60px] border border-white/10 flex items-center justify-center p-12",children:b.jsxs("div",{className:"w-full aspect-video bg-matte rounded-3xl border border-accent/20 shadow-2xl overflow-hidden relative group",children:[b.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-accent/10 to-transparent opacity-50"}),b.jsxs("div",{className:"p-6 font-mono text-[10px] text-accent/60 flex flex-col gap-2 text-left",children:[b.jsx("span",{className:"text-accent font-bold",children:"// Chipcrafters HDL Processor"}),b.jsx("span",{children:"module top_chip (input clk, rst);"}),b.jsx("span",{className:"pl-4",children:"reg [31:0] data_bus;"}),b.jsx("span",{className:"pl-4",children:"always @(posedge clk) begin ..."}),b.jsx("span",{children:"endmodule"})]}),b.jsx("div",{className:"absolute bottom-4 right-4 bg-accent text-matte px-4 py-2 rounded-xl text-xs font-black uppercase",children:"Live Simulation"})]})}),b.jsx("div",{className:"absolute -bottom-10 -left-10 w-32 h-32 bg-learner/20 rounded-full blur-2xl"})]})]})}),b.jsx("section",{id:"process",className:"py-32 px-6",children:b.jsxs("div",{className:"max-w-5xl mx-auto",children:[b.jsxs("div",{className:"text-center mb-24",children:[b.jsx("h2",{className:"text-5xl font-black tracking-tighter mb-4",children:"How It Works"}),b.jsx("p",{className:"text-gray-500 font-bold uppercase tracking-widest text-xs",children:"A simple path from beginner to pro"})]}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-12 text-left",children:[{n:"01",t:"Learn",d:"Master logic foundations and HDL syntax through interactive labs."},{n:"02",t:"Code",d:"Draft your designs using our optimized web editor."},{n:"03",t:"Verify",d:"Get instant feedback on your RTL with automated testbenches."},{n:"04",t:"Showcase",d:"Build a profile that recruiters will actually notice."}].map((u,c)=>b.jsxs("div",{className:"relative group cursor-default",children:[b.jsx("div",{className:"text-7xl font-black text-white/5 absolute -top-10 -left-4 group-hover:text-white/10 transition-colors",children:u.n}),b.jsx("h4",{className:"text-xl font-bold mb-4 relative z-10 group-hover:text-accent transition-colors",children:u.t}),b.jsx("p",{className:"text-sm text-gray-500 leading-relaxed font-medium relative z-10",children:u.d}),c<3&&b.jsx("div",{className:"hidden md:block absolute top-1/2 -right-6 w-12 h-0.5 bg-white/5"})]},c))})]})}),b.jsx("footer",{className:"py-20 border-t border-white/5 bg-matte",children:b.jsxs("div",{className:"max-w-7xl mx-auto px-6 flex flex-col md:flex-row justify-between items-center gap-10",children:[b.jsx("div",{onClick:s,className:"flex items-center cursor-pointer",children:b.jsx("span",{className:"font-black tracking-tighter text-lg",children:b.jsx("img",{src:wo,alt:"LOGO",className:"w-32 h-auto block"})})}),b.jsxs("div",{className:"flex gap-12 text-[10px] font-black uppercase tracking-widest text-gray-600",children:[b.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Privacy"}),b.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Terms"})]}),b.jsx("p",{className:"text-gray-600 text-[10px] font-bold uppercase tracking-widest",children:" 2026 Chipcrafters Inc."})]})})]})},IT="modulepreload",kT=function(r){return"/"+r},Dv={},Ti=function(e,n,s){let o=Promise.resolve();if(n&&n.length>0){let c=function(g){return Promise.all(g.map(_=>Promise.resolve(_).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),p=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));o=c(n.map(g=>{if(g=kT(g),g in Dv)return;Dv[g]=!0;const _=g.endsWith(".css"),v=_?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${v}`))return;const x=document.createElement("link");if(x.rel=_?"stylesheet":IT,_||(x.as="script"),x.crossOrigin="",x.href=g,p&&x.setAttribute("nonce",p),document.head.appendChild(x),_)return new Promise((E,k)=>{x.addEventListener("load",E),x.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${g}`)))})}))}function u(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return o.then(c=>{for(const d of c||[])d.status==="rejected"&&u(d.reason);return e().catch(u)})},DT=({onLoginSuccess:r})=>{const[e,n]=Z.useState(!1),[s,o]=Z.useState(""),[u,c]=Z.useState(""),[d,p]=Z.useState(!1),[g,_]=Z.useState(hn.LEARNER),[v,x]=Z.useState(!1),[E,k]=Z.useState(!1),A=async()=>{k(!0);try{const{signInWithPopup:I}=await Ti(async()=>{const{signInWithPopup:D}=await Promise.resolve().then(()=>wh);return{signInWithPopup:D}},[]),{doc:P,setDoc:z,getDoc:K}=await Ti(async()=>{const{doc:D,setDoc:R,getDoc:te}=await Promise.resolve().then(()=>Zm);return{doc:D,setDoc:R,getDoc:te}},void 0),{auth:Y,googleProvider:ie,db:M}=await Ti(async()=>{const{auth:D,googleProvider:R,db:te}=await Promise.resolve().then(()=>Mh);return{auth:D,googleProvider:R,db:te}},void 0),O=(await I(Y,ie)).user,B=P(M,"users",O.uid),H=await K(B),N={uid:O.uid,email:O.email||"",role:g,displayName:O.displayName||"User",username:(O.displayName||"User").toLowerCase().replace(/\s+/g,"_"),category:g===hn.CONTRIBUTOR?"HDL Designer":"Learner"};if(H.exists()){const D=H.data();v?(N.role=g,N.category=g===hn.CONTRIBUTOR?"HDL Designer":"Learner"):(N.role=D.role,N.category=D.category||"Learner")}await z(B,N,{merge:!0}),k(!1)}catch(I){console.error("Google Login Error:",I),alert("Login failed. Check console for details."),k(!1)}},C=async I=>{I.preventDefault(),k(!0);try{const{signInWithEmailAndPassword:P}=await Ti(async()=>{const{signInWithEmailAndPassword:K}=await Promise.resolve().then(()=>wh);return{signInWithEmailAndPassword:K}},void 0),{auth:z}=await Ti(async()=>{const{auth:K}=await Promise.resolve().then(()=>Mh);return{auth:K}},void 0);await P(z,s,u)}catch(P){console.error("Login Error:",P),alert("Login failed: "+P.message),k(!1)}};return b.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 bg-matte relative overflow-hidden",children:[b.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-contributor/10 rounded-full blur-[120px]"}),b.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-learner/10 rounded-full blur-[120px]"}),b.jsxs("div",{className:"w-full max-w-md frosted-glass rounded-2xl p-8 shadow-2xl z-10",children:[b.jsxs("div",{className:"text-center mb-8",children:[b.jsx("h1",{className:"text-4xl font-black tracking-tighter text-accent mb-1",children:b.jsx("a",{href:"Landingpage.tsx",className:"logo-text",children:b.jsx("img",{src:wo,alt:"LOGO",className:"w-32 h-auto mx-auto block"})})}),b.jsx("p",{className:"text-gray-400 text-xs font-bold uppercase tracking-widest",children:"Chipcrafters Inc."})]}),b.jsxs("div",{className:"space-y-6",children:[b.jsxs("form",{onSubmit:C,className:"space-y-4",children:[b.jsxs("div",{className:"space-y-1",children:[b.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Email Address"}),b.jsx("input",{type:"email",required:!0,className:"w-full bg-gunmetal/50 border border-white/10 rounded-xl px-4 py-3 focus:outline-none focus:border-accent transition-colors text-offwhite font-medium",placeholder:"engineer@chipcrafters.com",value:s,onChange:I=>o(I.target.value)})]}),b.jsxs("div",{className:"space-y-1",children:[b.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Password"}),b.jsxs("div",{className:"relative",children:[b.jsx("input",{type:d?"text":"password",required:!0,className:"w-full bg-gunmetal/50 border border-white/10 rounded-xl px-4 py-3 focus:outline-none focus:border-accent transition-colors text-offwhite font-medium pr-10",placeholder:"",value:u,onChange:I=>c(I.target.value)}),b.jsx("button",{type:"button",onClick:()=>p(!d),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white transition-colors",children:d?b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),b.jsxs("div",{className:"space-y-1",children:[b.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Select Role"}),b.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[b.jsx("button",{type:"button",onClick:()=>{_(hn.CONTRIBUTOR),x(!0)},className:`py-2 px-4 rounded-xl border text-[10px] font-black uppercase tracking-widest transition-all ${g===hn.CONTRIBUTOR?"bg-contributor/20 border-contributor text-contributor":"bg-gunmetal border-white/5 text-gray-600"}`,children:"Contributor"}),b.jsx("button",{type:"button",onClick:()=>{_(hn.LEARNER),x(!0)},className:`py-2 px-4 rounded-xl border text-[10px] font-black uppercase tracking-widest transition-all ${g===hn.LEARNER?"bg-learner/20 border-learner text-learner":"bg-gunmetal border-white/5 text-gray-600"}`,children:"Learner"})]})]}),b.jsx("button",{type:"submit",disabled:E,className:"w-full bg-accent text-matte font-black py-4 rounded-xl hover:scale-[1.02] active:scale-[0.98] transition-all disabled:opacity-50 shadow-2xl shadow-white/5 uppercase text-xs tracking-widest",children:E?"Processing...":e?"Create Account":"Sign In"})]}),b.jsxs("div",{className:"relative flex items-center py-2",children:[b.jsx("div",{className:"flex-grow border-t border-white/10"}),b.jsx("span",{className:"flex-shrink mx-4 text-gray-500 text-[9px] uppercase font-black tracking-widest",children:"Or Continue With"}),b.jsx("div",{className:"flex-grow border-t border-white/10"})]}),b.jsxs("button",{onClick:A,className:"w-full bg-white text-gray-800 font-bold py-4 rounded-xl hover:scale-[1.02] active:scale-[0.98] transition-all shadow-2xl flex items-center justify-center gap-3",children:[b.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[b.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),b.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),b.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.84z",fill:"#FBBC05"}),b.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),b.jsx("span",{className:"text-xs uppercase tracking-widest",children:"Sign in with Google"})]}),b.jsxs("div",{className:"flex items-center justify-center gap-2 mt-4",children:[b.jsx("p",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-widest",children:"Don't have an account?"}),b.jsx(_s,{to:"/signup",className:"text-[10px] text-accent font-black uppercase tracking-widest hover:underline",children:"Sign Up"})]})]})]})]})};function Kc(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var hm={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var Ov;function OT(){return Ov||(Ov=1,(function(r,e){(function(n){r.exports=n()})(function(){return(function n(s,o,u){function c(g,_){if(!o[g]){if(!s[g]){var v=typeof Kc=="function"&&Kc;if(!_&&v)return v(g,!0);if(d)return d(g,!0);var x=new Error("Cannot find module '"+g+"'");throw x.code="MODULE_NOT_FOUND",x}var E=o[g]={exports:{}};s[g][0].call(E.exports,function(k){var A=s[g][1][k];return c(A||k)},E,E.exports,n,s,o,u)}return o[g].exports}for(var d=typeof Kc=="function"&&Kc,p=0;p<u.length;p++)c(u[p]);return c})({1:[function(n,s,o){var u=n("./utils"),c=n("./support"),d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";o.encode=function(p){for(var g,_,v,x,E,k,A,C=[],I=0,P=p.length,z=P,K=u.getTypeOf(p)!=="string";I<p.length;)z=P-I,v=K?(g=p[I++],_=I<P?p[I++]:0,I<P?p[I++]:0):(g=p.charCodeAt(I++),_=I<P?p.charCodeAt(I++):0,I<P?p.charCodeAt(I++):0),x=g>>2,E=(3&g)<<4|_>>4,k=1<z?(15&_)<<2|v>>6:64,A=2<z?63&v:64,C.push(d.charAt(x)+d.charAt(E)+d.charAt(k)+d.charAt(A));return C.join("")},o.decode=function(p){var g,_,v,x,E,k,A=0,C=0,I="data:";if(p.substr(0,I.length)===I)throw new Error("Invalid base64 input, it looks like a data url.");var P,z=3*(p=p.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(p.charAt(p.length-1)===d.charAt(64)&&z--,p.charAt(p.length-2)===d.charAt(64)&&z--,z%1!=0)throw new Error("Invalid base64 input, bad content length.");for(P=c.uint8array?new Uint8Array(0|z):new Array(0|z);A<p.length;)g=d.indexOf(p.charAt(A++))<<2|(x=d.indexOf(p.charAt(A++)))>>4,_=(15&x)<<4|(E=d.indexOf(p.charAt(A++)))>>2,v=(3&E)<<6|(k=d.indexOf(p.charAt(A++))),P[C++]=g,E!==64&&(P[C++]=_),k!==64&&(P[C++]=v);return P}},{"./support":30,"./utils":32}],2:[function(n,s,o){var u=n("./external"),c=n("./stream/DataWorker"),d=n("./stream/Crc32Probe"),p=n("./stream/DataLengthProbe");function g(_,v,x,E,k){this.compressedSize=_,this.uncompressedSize=v,this.crc32=x,this.compression=E,this.compressedContent=k}g.prototype={getContentWorker:function(){var _=new c(u.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new p("data_length")),v=this;return _.on("end",function(){if(this.streamInfo.data_length!==v.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),_},getCompressedWorker:function(){return new c(u.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},g.createWorkerFrom=function(_,v,x){return _.pipe(new d).pipe(new p("uncompressedSize")).pipe(v.compressWorker(x)).pipe(new p("compressedSize")).withStreamInfo("compression",v)},s.exports=g},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,s,o){var u=n("./stream/GenericWorker");o.STORE={magic:"\0\0",compressWorker:function(){return new u("STORE compression")},uncompressWorker:function(){return new u("STORE decompression")}},o.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,s,o){var u=n("./utils"),c=(function(){for(var d,p=[],g=0;g<256;g++){d=g;for(var _=0;_<8;_++)d=1&d?3988292384^d>>>1:d>>>1;p[g]=d}return p})();s.exports=function(d,p){return d!==void 0&&d.length?u.getTypeOf(d)!=="string"?(function(g,_,v,x){var E=c,k=x+v;g^=-1;for(var A=x;A<k;A++)g=g>>>8^E[255&(g^_[A])];return-1^g})(0|p,d,d.length,0):(function(g,_,v,x){var E=c,k=x+v;g^=-1;for(var A=x;A<k;A++)g=g>>>8^E[255&(g^_.charCodeAt(A))];return-1^g})(0|p,d,d.length,0):0}},{"./utils":32}],5:[function(n,s,o){o.base64=!1,o.binary=!1,o.dir=!1,o.createFolders=!0,o.date=null,o.compression=null,o.compressionOptions=null,o.comment=null,o.unixPermissions=null,o.dosPermissions=null},{}],6:[function(n,s,o){var u=null;u=typeof Promise<"u"?Promise:n("lie"),s.exports={Promise:u}},{lie:37}],7:[function(n,s,o){var u=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",c=n("pako"),d=n("./utils"),p=n("./stream/GenericWorker"),g=u?"uint8array":"array";function _(v,x){p.call(this,"FlateWorker/"+v),this._pako=null,this._pakoAction=v,this._pakoOptions=x,this.meta={}}o.magic="\b\0",d.inherits(_,p),_.prototype.processChunk=function(v){this.meta=v.meta,this._pako===null&&this._createPako(),this._pako.push(d.transformTo(g,v.data),!1)},_.prototype.flush=function(){p.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},_.prototype.cleanUp=function(){p.prototype.cleanUp.call(this),this._pako=null},_.prototype._createPako=function(){this._pako=new c[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var v=this;this._pako.onData=function(x){v.push({data:x,meta:v.meta})}},o.compressWorker=function(v){return new _("Deflate",v)},o.uncompressWorker=function(){return new _("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,s,o){function u(E,k){var A,C="";for(A=0;A<k;A++)C+=String.fromCharCode(255&E),E>>>=8;return C}function c(E,k,A,C,I,P){var z,K,Y=E.file,ie=E.compression,M=P!==g.utf8encode,j=d.transformTo("string",P(Y.name)),O=d.transformTo("string",g.utf8encode(Y.name)),B=Y.comment,H=d.transformTo("string",P(B)),N=d.transformTo("string",g.utf8encode(B)),D=O.length!==Y.name.length,R=N.length!==B.length,te="",W="",ee="",Te=Y.dir,ge=Y.date,Ne={crc32:0,compressedSize:0,uncompressedSize:0};k&&!A||(Ne.crc32=E.crc32,Ne.compressedSize=E.compressedSize,Ne.uncompressedSize=E.uncompressedSize);var V=0;k&&(V|=8),M||!D&&!R||(V|=2048);var G=0,me=0;Te&&(G|=16),I==="UNIX"?(me=798,G|=(function(pe,ke){var ze=pe;return pe||(ze=ke?16893:33204),(65535&ze)<<16})(Y.unixPermissions,Te)):(me=20,G|=(function(pe){return 63&(pe||0)})(Y.dosPermissions)),z=ge.getUTCHours(),z<<=6,z|=ge.getUTCMinutes(),z<<=5,z|=ge.getUTCSeconds()/2,K=ge.getUTCFullYear()-1980,K<<=4,K|=ge.getUTCMonth()+1,K<<=5,K|=ge.getUTCDate(),D&&(W=u(1,1)+u(_(j),4)+O,te+="up"+u(W.length,2)+W),R&&(ee=u(1,1)+u(_(H),4)+N,te+="uc"+u(ee.length,2)+ee);var fe="";return fe+=`
\0`,fe+=u(V,2),fe+=ie.magic,fe+=u(z,2),fe+=u(K,2),fe+=u(Ne.crc32,4),fe+=u(Ne.compressedSize,4),fe+=u(Ne.uncompressedSize,4),fe+=u(j.length,2),fe+=u(te.length,2),{fileRecord:v.LOCAL_FILE_HEADER+fe+j+te,dirRecord:v.CENTRAL_FILE_HEADER+u(me,2)+fe+u(H.length,2)+"\0\0\0\0"+u(G,4)+u(C,4)+j+te+H}}var d=n("../utils"),p=n("../stream/GenericWorker"),g=n("../utf8"),_=n("../crc32"),v=n("../signature");function x(E,k,A,C){p.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=k,this.zipPlatform=A,this.encodeFileName=C,this.streamFiles=E,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}d.inherits(x,p),x.prototype.push=function(E){var k=E.meta.percent||0,A=this.entriesCount,C=this._sources.length;this.accumulate?this.contentBuffer.push(E):(this.bytesWritten+=E.data.length,p.prototype.push.call(this,{data:E.data,meta:{currentFile:this.currentFile,percent:A?(k+100*(A-C-1))/A:100}}))},x.prototype.openedSource=function(E){this.currentSourceOffset=this.bytesWritten,this.currentFile=E.file.name;var k=this.streamFiles&&!E.file.dir;if(k){var A=c(E,k,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:A.fileRecord,meta:{percent:0}})}else this.accumulate=!0},x.prototype.closedSource=function(E){this.accumulate=!1;var k=this.streamFiles&&!E.file.dir,A=c(E,k,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(A.dirRecord),k)this.push({data:(function(C){return v.DATA_DESCRIPTOR+u(C.crc32,4)+u(C.compressedSize,4)+u(C.uncompressedSize,4)})(E),meta:{percent:100}});else for(this.push({data:A.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},x.prototype.flush=function(){for(var E=this.bytesWritten,k=0;k<this.dirRecords.length;k++)this.push({data:this.dirRecords[k],meta:{percent:100}});var A=this.bytesWritten-E,C=(function(I,P,z,K,Y){var ie=d.transformTo("string",Y(K));return v.CENTRAL_DIRECTORY_END+"\0\0\0\0"+u(I,2)+u(I,2)+u(P,4)+u(z,4)+u(ie.length,2)+ie})(this.dirRecords.length,A,E,this.zipComment,this.encodeFileName);this.push({data:C,meta:{percent:100}})},x.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},x.prototype.registerPrevious=function(E){this._sources.push(E);var k=this;return E.on("data",function(A){k.processChunk(A)}),E.on("end",function(){k.closedSource(k.previous.streamInfo),k._sources.length?k.prepareNextSource():k.end()}),E.on("error",function(A){k.error(A)}),this},x.prototype.resume=function(){return!!p.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},x.prototype.error=function(E){var k=this._sources;if(!p.prototype.error.call(this,E))return!1;for(var A=0;A<k.length;A++)try{k[A].error(E)}catch{}return!0},x.prototype.lock=function(){p.prototype.lock.call(this);for(var E=this._sources,k=0;k<E.length;k++)E[k].lock()},s.exports=x},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,s,o){var u=n("../compressions"),c=n("./ZipFileWorker");o.generateWorker=function(d,p,g){var _=new c(p.streamFiles,g,p.platform,p.encodeFileName),v=0;try{d.forEach(function(x,E){v++;var k=(function(P,z){var K=P||z,Y=u[K];if(!Y)throw new Error(K+" is not a valid compression method !");return Y})(E.options.compression,p.compression),A=E.options.compressionOptions||p.compressionOptions||{},C=E.dir,I=E.date;E._compressWorker(k,A).withStreamInfo("file",{name:x,dir:C,date:I,comment:E.comment||"",unixPermissions:E.unixPermissions,dosPermissions:E.dosPermissions}).pipe(_)}),_.entriesCount=v}catch(x){_.error(x)}return _}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,s,o){function u(){if(!(this instanceof u))return new u;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var c=new u;for(var d in this)typeof this[d]!="function"&&(c[d]=this[d]);return c}}(u.prototype=n("./object")).loadAsync=n("./load"),u.support=n("./support"),u.defaults=n("./defaults"),u.version="3.10.1",u.loadAsync=function(c,d){return new u().loadAsync(c,d)},u.external=n("./external"),s.exports=u},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,s,o){var u=n("./utils"),c=n("./external"),d=n("./utf8"),p=n("./zipEntries"),g=n("./stream/Crc32Probe"),_=n("./nodejsUtils");function v(x){return new c.Promise(function(E,k){var A=x.decompressed.getContentWorker().pipe(new g);A.on("error",function(C){k(C)}).on("end",function(){A.streamInfo.crc32!==x.decompressed.crc32?k(new Error("Corrupted zip : CRC32 mismatch")):E()}).resume()})}s.exports=function(x,E){var k=this;return E=u.extend(E||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:d.utf8decode}),_.isNode&&_.isStream(x)?c.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):u.prepareContent("the loaded zip file",x,!0,E.optimizedBinaryString,E.base64).then(function(A){var C=new p(E);return C.load(A),C}).then(function(A){var C=[c.Promise.resolve(A)],I=A.files;if(E.checkCRC32)for(var P=0;P<I.length;P++)C.push(v(I[P]));return c.Promise.all(C)}).then(function(A){for(var C=A.shift(),I=C.files,P=0;P<I.length;P++){var z=I[P],K=z.fileNameStr,Y=u.resolve(z.fileNameStr);k.file(Y,z.decompressed,{binary:!0,optimizedBinaryString:!0,date:z.date,dir:z.dir,comment:z.fileCommentStr.length?z.fileCommentStr:null,unixPermissions:z.unixPermissions,dosPermissions:z.dosPermissions,createFolders:E.createFolders}),z.dir||(k.file(Y).unsafeOriginalName=K)}return C.zipComment.length&&(k.comment=C.zipComment),k})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,s,o){var u=n("../utils"),c=n("../stream/GenericWorker");function d(p,g){c.call(this,"Nodejs stream input adapter for "+p),this._upstreamEnded=!1,this._bindStream(g)}u.inherits(d,c),d.prototype._bindStream=function(p){var g=this;(this._stream=p).pause(),p.on("data",function(_){g.push({data:_,meta:{percent:0}})}).on("error",function(_){g.isPaused?this.generatedError=_:g.error(_)}).on("end",function(){g.isPaused?g._upstreamEnded=!0:g.end()})},d.prototype.pause=function(){return!!c.prototype.pause.call(this)&&(this._stream.pause(),!0)},d.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},s.exports=d},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,s,o){var u=n("readable-stream").Readable;function c(d,p,g){u.call(this,p),this._helper=d;var _=this;d.on("data",function(v,x){_.push(v)||_._helper.pause(),g&&g(x)}).on("error",function(v){_.emit("error",v)}).on("end",function(){_.push(null)})}n("../utils").inherits(c,u),c.prototype._read=function(){this._helper.resume()},s.exports=c},{"../utils":32,"readable-stream":16}],14:[function(n,s,o){s.exports={isNode:typeof Buffer<"u",newBufferFrom:function(u,c){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(u,c);if(typeof u=="number")throw new Error('The "data" argument must not be a number');return new Buffer(u,c)},allocBuffer:function(u){if(Buffer.alloc)return Buffer.alloc(u);var c=new Buffer(u);return c.fill(0),c},isBuffer:function(u){return Buffer.isBuffer(u)},isStream:function(u){return u&&typeof u.on=="function"&&typeof u.pause=="function"&&typeof u.resume=="function"}}},{}],15:[function(n,s,o){function u(Y,ie,M){var j,O=d.getTypeOf(ie),B=d.extend(M||{},_);B.date=B.date||new Date,B.compression!==null&&(B.compression=B.compression.toUpperCase()),typeof B.unixPermissions=="string"&&(B.unixPermissions=parseInt(B.unixPermissions,8)),B.unixPermissions&&16384&B.unixPermissions&&(B.dir=!0),B.dosPermissions&&16&B.dosPermissions&&(B.dir=!0),B.dir&&(Y=I(Y)),B.createFolders&&(j=C(Y))&&P.call(this,j,!0);var H=O==="string"&&B.binary===!1&&B.base64===!1;M&&M.binary!==void 0||(B.binary=!H),(ie instanceof v&&ie.uncompressedSize===0||B.dir||!ie||ie.length===0)&&(B.base64=!1,B.binary=!0,ie="",B.compression="STORE",O="string");var N=null;N=ie instanceof v||ie instanceof p?ie:k.isNode&&k.isStream(ie)?new A(Y,ie):d.prepareContent(Y,ie,B.binary,B.optimizedBinaryString,B.base64);var D=new x(Y,N,B);this.files[Y]=D}var c=n("./utf8"),d=n("./utils"),p=n("./stream/GenericWorker"),g=n("./stream/StreamHelper"),_=n("./defaults"),v=n("./compressedObject"),x=n("./zipObject"),E=n("./generate"),k=n("./nodejsUtils"),A=n("./nodejs/NodejsStreamInputAdapter"),C=function(Y){Y.slice(-1)==="/"&&(Y=Y.substring(0,Y.length-1));var ie=Y.lastIndexOf("/");return 0<ie?Y.substring(0,ie):""},I=function(Y){return Y.slice(-1)!=="/"&&(Y+="/"),Y},P=function(Y,ie){return ie=ie!==void 0?ie:_.createFolders,Y=I(Y),this.files[Y]||u.call(this,Y,null,{dir:!0,createFolders:ie}),this.files[Y]};function z(Y){return Object.prototype.toString.call(Y)==="[object RegExp]"}var K={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(Y){var ie,M,j;for(ie in this.files)j=this.files[ie],(M=ie.slice(this.root.length,ie.length))&&ie.slice(0,this.root.length)===this.root&&Y(M,j)},filter:function(Y){var ie=[];return this.forEach(function(M,j){Y(M,j)&&ie.push(j)}),ie},file:function(Y,ie,M){if(arguments.length!==1)return Y=this.root+Y,u.call(this,Y,ie,M),this;if(z(Y)){var j=Y;return this.filter(function(B,H){return!H.dir&&j.test(B)})}var O=this.files[this.root+Y];return O&&!O.dir?O:null},folder:function(Y){if(!Y)return this;if(z(Y))return this.filter(function(O,B){return B.dir&&Y.test(O)});var ie=this.root+Y,M=P.call(this,ie),j=this.clone();return j.root=M.name,j},remove:function(Y){Y=this.root+Y;var ie=this.files[Y];if(ie||(Y.slice(-1)!=="/"&&(Y+="/"),ie=this.files[Y]),ie&&!ie.dir)delete this.files[Y];else for(var M=this.filter(function(O,B){return B.name.slice(0,Y.length)===Y}),j=0;j<M.length;j++)delete this.files[M[j].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(Y){var ie,M={};try{if((M=d.extend(Y||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:c.utf8encode})).type=M.type.toLowerCase(),M.compression=M.compression.toUpperCase(),M.type==="binarystring"&&(M.type="string"),!M.type)throw new Error("No output type specified.");d.checkSupport(M.type),M.platform!=="darwin"&&M.platform!=="freebsd"&&M.platform!=="linux"&&M.platform!=="sunos"||(M.platform="UNIX"),M.platform==="win32"&&(M.platform="DOS");var j=M.comment||this.comment||"";ie=E.generateWorker(this,M,j)}catch(O){(ie=new p("error")).error(O)}return new g(ie,M.type||"string",M.mimeType)},generateAsync:function(Y,ie){return this.generateInternalStream(Y).accumulate(ie)},generateNodeStream:function(Y,ie){return(Y=Y||{}).type||(Y.type="nodebuffer"),this.generateInternalStream(Y).toNodejsStream(ie)}};s.exports=K},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,s,o){s.exports=n("stream")},{stream:void 0}],17:[function(n,s,o){var u=n("./DataReader");function c(d){u.call(this,d);for(var p=0;p<this.data.length;p++)d[p]=255&d[p]}n("../utils").inherits(c,u),c.prototype.byteAt=function(d){return this.data[this.zero+d]},c.prototype.lastIndexOfSignature=function(d){for(var p=d.charCodeAt(0),g=d.charCodeAt(1),_=d.charCodeAt(2),v=d.charCodeAt(3),x=this.length-4;0<=x;--x)if(this.data[x]===p&&this.data[x+1]===g&&this.data[x+2]===_&&this.data[x+3]===v)return x-this.zero;return-1},c.prototype.readAndCheckSignature=function(d){var p=d.charCodeAt(0),g=d.charCodeAt(1),_=d.charCodeAt(2),v=d.charCodeAt(3),x=this.readData(4);return p===x[0]&&g===x[1]&&_===x[2]&&v===x[3]},c.prototype.readData=function(d){if(this.checkOffset(d),d===0)return[];var p=this.data.slice(this.zero+this.index,this.zero+this.index+d);return this.index+=d,p},s.exports=c},{"../utils":32,"./DataReader":18}],18:[function(n,s,o){var u=n("../utils");function c(d){this.data=d,this.length=d.length,this.index=0,this.zero=0}c.prototype={checkOffset:function(d){this.checkIndex(this.index+d)},checkIndex:function(d){if(this.length<this.zero+d||d<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+d+"). Corrupted zip ?")},setIndex:function(d){this.checkIndex(d),this.index=d},skip:function(d){this.setIndex(this.index+d)},byteAt:function(){},readInt:function(d){var p,g=0;for(this.checkOffset(d),p=this.index+d-1;p>=this.index;p--)g=(g<<8)+this.byteAt(p);return this.index+=d,g},readString:function(d){return u.transformTo("string",this.readData(d))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var d=this.readInt(4);return new Date(Date.UTC(1980+(d>>25&127),(d>>21&15)-1,d>>16&31,d>>11&31,d>>5&63,(31&d)<<1))}},s.exports=c},{"../utils":32}],19:[function(n,s,o){var u=n("./Uint8ArrayReader");function c(d){u.call(this,d)}n("../utils").inherits(c,u),c.prototype.readData=function(d){this.checkOffset(d);var p=this.data.slice(this.zero+this.index,this.zero+this.index+d);return this.index+=d,p},s.exports=c},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,s,o){var u=n("./DataReader");function c(d){u.call(this,d)}n("../utils").inherits(c,u),c.prototype.byteAt=function(d){return this.data.charCodeAt(this.zero+d)},c.prototype.lastIndexOfSignature=function(d){return this.data.lastIndexOf(d)-this.zero},c.prototype.readAndCheckSignature=function(d){return d===this.readData(4)},c.prototype.readData=function(d){this.checkOffset(d);var p=this.data.slice(this.zero+this.index,this.zero+this.index+d);return this.index+=d,p},s.exports=c},{"../utils":32,"./DataReader":18}],21:[function(n,s,o){var u=n("./ArrayReader");function c(d){u.call(this,d)}n("../utils").inherits(c,u),c.prototype.readData=function(d){if(this.checkOffset(d),d===0)return new Uint8Array(0);var p=this.data.subarray(this.zero+this.index,this.zero+this.index+d);return this.index+=d,p},s.exports=c},{"../utils":32,"./ArrayReader":17}],22:[function(n,s,o){var u=n("../utils"),c=n("../support"),d=n("./ArrayReader"),p=n("./StringReader"),g=n("./NodeBufferReader"),_=n("./Uint8ArrayReader");s.exports=function(v){var x=u.getTypeOf(v);return u.checkSupport(x),x!=="string"||c.uint8array?x==="nodebuffer"?new g(v):c.uint8array?new _(u.transformTo("uint8array",v)):new d(u.transformTo("array",v)):new p(v)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,s,o){o.LOCAL_FILE_HEADER="PK",o.CENTRAL_FILE_HEADER="PK",o.CENTRAL_DIRECTORY_END="PK",o.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",o.ZIP64_CENTRAL_DIRECTORY_END="PK",o.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,s,o){var u=n("./GenericWorker"),c=n("../utils");function d(p){u.call(this,"ConvertWorker to "+p),this.destType=p}c.inherits(d,u),d.prototype.processChunk=function(p){this.push({data:c.transformTo(this.destType,p.data),meta:p.meta})},s.exports=d},{"../utils":32,"./GenericWorker":28}],25:[function(n,s,o){var u=n("./GenericWorker"),c=n("../crc32");function d(){u.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(d,u),d.prototype.processChunk=function(p){this.streamInfo.crc32=c(p.data,this.streamInfo.crc32||0),this.push(p)},s.exports=d},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,s,o){var u=n("../utils"),c=n("./GenericWorker");function d(p){c.call(this,"DataLengthProbe for "+p),this.propName=p,this.withStreamInfo(p,0)}u.inherits(d,c),d.prototype.processChunk=function(p){if(p){var g=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=g+p.data.length}c.prototype.processChunk.call(this,p)},s.exports=d},{"../utils":32,"./GenericWorker":28}],27:[function(n,s,o){var u=n("../utils"),c=n("./GenericWorker");function d(p){c.call(this,"DataWorker");var g=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,p.then(function(_){g.dataIsReady=!0,g.data=_,g.max=_&&_.length||0,g.type=u.getTypeOf(_),g.isPaused||g._tickAndRepeat()},function(_){g.error(_)})}u.inherits(d,c),d.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this.data=null},d.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,u.delay(this._tickAndRepeat,[],this)),!0)},d.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(u.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},d.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var p=null,g=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":p=this.data.substring(this.index,g);break;case"uint8array":p=this.data.subarray(this.index,g);break;case"array":case"nodebuffer":p=this.data.slice(this.index,g)}return this.index=g,this.push({data:p,meta:{percent:this.max?this.index/this.max*100:0}})},s.exports=d},{"../utils":32,"./GenericWorker":28}],28:[function(n,s,o){function u(c){this.name=c||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}u.prototype={push:function(c){this.emit("data",c)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(c){this.emit("error",c)}return!0},error:function(c){return!this.isFinished&&(this.isPaused?this.generatedError=c:(this.isFinished=!0,this.emit("error",c),this.previous&&this.previous.error(c),this.cleanUp()),!0)},on:function(c,d){return this._listeners[c].push(d),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(c,d){if(this._listeners[c])for(var p=0;p<this._listeners[c].length;p++)this._listeners[c][p].call(this,d)},pipe:function(c){return c.registerPrevious(this)},registerPrevious:function(c){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=c.streamInfo,this.mergeStreamInfo(),this.previous=c;var d=this;return c.on("data",function(p){d.processChunk(p)}),c.on("end",function(){d.end()}),c.on("error",function(p){d.error(p)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var c=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),c=!0),this.previous&&this.previous.resume(),!c},flush:function(){},processChunk:function(c){this.push(c)},withStreamInfo:function(c,d){return this.extraStreamInfo[c]=d,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var c in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,c)&&(this.streamInfo[c]=this.extraStreamInfo[c])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var c="Worker "+this.name;return this.previous?this.previous+" -> "+c:c}},s.exports=u},{}],29:[function(n,s,o){var u=n("../utils"),c=n("./ConvertWorker"),d=n("./GenericWorker"),p=n("../base64"),g=n("../support"),_=n("../external"),v=null;if(g.nodestream)try{v=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function x(k,A){return new _.Promise(function(C,I){var P=[],z=k._internalType,K=k._outputType,Y=k._mimeType;k.on("data",function(ie,M){P.push(ie),A&&A(M)}).on("error",function(ie){P=[],I(ie)}).on("end",function(){try{var ie=(function(M,j,O){switch(M){case"blob":return u.newBlob(u.transformTo("arraybuffer",j),O);case"base64":return p.encode(j);default:return u.transformTo(M,j)}})(K,(function(M,j){var O,B=0,H=null,N=0;for(O=0;O<j.length;O++)N+=j[O].length;switch(M){case"string":return j.join("");case"array":return Array.prototype.concat.apply([],j);case"uint8array":for(H=new Uint8Array(N),O=0;O<j.length;O++)H.set(j[O],B),B+=j[O].length;return H;case"nodebuffer":return Buffer.concat(j);default:throw new Error("concat : unsupported type '"+M+"'")}})(z,P),Y);C(ie)}catch(M){I(M)}P=[]}).resume()})}function E(k,A,C){var I=A;switch(A){case"blob":case"arraybuffer":I="uint8array";break;case"base64":I="string"}try{this._internalType=I,this._outputType=A,this._mimeType=C,u.checkSupport(I),this._worker=k.pipe(new c(I)),k.lock()}catch(P){this._worker=new d("error"),this._worker.error(P)}}E.prototype={accumulate:function(k){return x(this,k)},on:function(k,A){var C=this;return k==="data"?this._worker.on(k,function(I){A.call(C,I.data,I.meta)}):this._worker.on(k,function(){u.delay(A,arguments,C)}),this},resume:function(){return u.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(k){if(u.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new v(this,{objectMode:this._outputType!=="nodebuffer"},k)}},s.exports=E},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,s,o){if(o.base64=!0,o.array=!0,o.string=!0,o.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",o.nodebuffer=typeof Buffer<"u",o.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")o.blob=!1;else{var u=new ArrayBuffer(0);try{o.blob=new Blob([u],{type:"application/zip"}).size===0}catch{try{var c=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);c.append(u),o.blob=c.getBlob("application/zip").size===0}catch{o.blob=!1}}}try{o.nodestream=!!n("readable-stream").Readable}catch{o.nodestream=!1}},{"readable-stream":16}],31:[function(n,s,o){for(var u=n("./utils"),c=n("./support"),d=n("./nodejsUtils"),p=n("./stream/GenericWorker"),g=new Array(256),_=0;_<256;_++)g[_]=252<=_?6:248<=_?5:240<=_?4:224<=_?3:192<=_?2:1;g[254]=g[254]=1;function v(){p.call(this,"utf-8 decode"),this.leftOver=null}function x(){p.call(this,"utf-8 encode")}o.utf8encode=function(E){return c.nodebuffer?d.newBufferFrom(E,"utf-8"):(function(k){var A,C,I,P,z,K=k.length,Y=0;for(P=0;P<K;P++)(64512&(C=k.charCodeAt(P)))==55296&&P+1<K&&(64512&(I=k.charCodeAt(P+1)))==56320&&(C=65536+(C-55296<<10)+(I-56320),P++),Y+=C<128?1:C<2048?2:C<65536?3:4;for(A=c.uint8array?new Uint8Array(Y):new Array(Y),P=z=0;z<Y;P++)(64512&(C=k.charCodeAt(P)))==55296&&P+1<K&&(64512&(I=k.charCodeAt(P+1)))==56320&&(C=65536+(C-55296<<10)+(I-56320),P++),C<128?A[z++]=C:(C<2048?A[z++]=192|C>>>6:(C<65536?A[z++]=224|C>>>12:(A[z++]=240|C>>>18,A[z++]=128|C>>>12&63),A[z++]=128|C>>>6&63),A[z++]=128|63&C);return A})(E)},o.utf8decode=function(E){return c.nodebuffer?u.transformTo("nodebuffer",E).toString("utf-8"):(function(k){var A,C,I,P,z=k.length,K=new Array(2*z);for(A=C=0;A<z;)if((I=k[A++])<128)K[C++]=I;else if(4<(P=g[I]))K[C++]=65533,A+=P-1;else{for(I&=P===2?31:P===3?15:7;1<P&&A<z;)I=I<<6|63&k[A++],P--;1<P?K[C++]=65533:I<65536?K[C++]=I:(I-=65536,K[C++]=55296|I>>10&1023,K[C++]=56320|1023&I)}return K.length!==C&&(K.subarray?K=K.subarray(0,C):K.length=C),u.applyFromCharCode(K)})(E=u.transformTo(c.uint8array?"uint8array":"array",E))},u.inherits(v,p),v.prototype.processChunk=function(E){var k=u.transformTo(c.uint8array?"uint8array":"array",E.data);if(this.leftOver&&this.leftOver.length){if(c.uint8array){var A=k;(k=new Uint8Array(A.length+this.leftOver.length)).set(this.leftOver,0),k.set(A,this.leftOver.length)}else k=this.leftOver.concat(k);this.leftOver=null}var C=(function(P,z){var K;for((z=z||P.length)>P.length&&(z=P.length),K=z-1;0<=K&&(192&P[K])==128;)K--;return K<0||K===0?z:K+g[P[K]]>z?K:z})(k),I=k;C!==k.length&&(c.uint8array?(I=k.subarray(0,C),this.leftOver=k.subarray(C,k.length)):(I=k.slice(0,C),this.leftOver=k.slice(C,k.length))),this.push({data:o.utf8decode(I),meta:E.meta})},v.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:o.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},o.Utf8DecodeWorker=v,u.inherits(x,p),x.prototype.processChunk=function(E){this.push({data:o.utf8encode(E.data),meta:E.meta})},o.Utf8EncodeWorker=x},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,s,o){var u=n("./support"),c=n("./base64"),d=n("./nodejsUtils"),p=n("./external");function g(A){return A}function _(A,C){for(var I=0;I<A.length;++I)C[I]=255&A.charCodeAt(I);return C}n("setimmediate"),o.newBlob=function(A,C){o.checkSupport("blob");try{return new Blob([A],{type:C})}catch{try{var I=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return I.append(A),I.getBlob(C)}catch{throw new Error("Bug : can't construct the Blob.")}}};var v={stringifyByChunk:function(A,C,I){var P=[],z=0,K=A.length;if(K<=I)return String.fromCharCode.apply(null,A);for(;z<K;)C==="array"||C==="nodebuffer"?P.push(String.fromCharCode.apply(null,A.slice(z,Math.min(z+I,K)))):P.push(String.fromCharCode.apply(null,A.subarray(z,Math.min(z+I,K)))),z+=I;return P.join("")},stringifyByChar:function(A){for(var C="",I=0;I<A.length;I++)C+=String.fromCharCode(A[I]);return C},applyCanBeUsed:{uint8array:(function(){try{return u.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return u.nodebuffer&&String.fromCharCode.apply(null,d.allocBuffer(1)).length===1}catch{return!1}})()}};function x(A){var C=65536,I=o.getTypeOf(A),P=!0;if(I==="uint8array"?P=v.applyCanBeUsed.uint8array:I==="nodebuffer"&&(P=v.applyCanBeUsed.nodebuffer),P)for(;1<C;)try{return v.stringifyByChunk(A,I,C)}catch{C=Math.floor(C/2)}return v.stringifyByChar(A)}function E(A,C){for(var I=0;I<A.length;I++)C[I]=A[I];return C}o.applyFromCharCode=x;var k={};k.string={string:g,array:function(A){return _(A,new Array(A.length))},arraybuffer:function(A){return k.string.uint8array(A).buffer},uint8array:function(A){return _(A,new Uint8Array(A.length))},nodebuffer:function(A){return _(A,d.allocBuffer(A.length))}},k.array={string:x,array:g,arraybuffer:function(A){return new Uint8Array(A).buffer},uint8array:function(A){return new Uint8Array(A)},nodebuffer:function(A){return d.newBufferFrom(A)}},k.arraybuffer={string:function(A){return x(new Uint8Array(A))},array:function(A){return E(new Uint8Array(A),new Array(A.byteLength))},arraybuffer:g,uint8array:function(A){return new Uint8Array(A)},nodebuffer:function(A){return d.newBufferFrom(new Uint8Array(A))}},k.uint8array={string:x,array:function(A){return E(A,new Array(A.length))},arraybuffer:function(A){return A.buffer},uint8array:g,nodebuffer:function(A){return d.newBufferFrom(A)}},k.nodebuffer={string:x,array:function(A){return E(A,new Array(A.length))},arraybuffer:function(A){return k.nodebuffer.uint8array(A).buffer},uint8array:function(A){return E(A,new Uint8Array(A.length))},nodebuffer:g},o.transformTo=function(A,C){if(C=C||"",!A)return C;o.checkSupport(A);var I=o.getTypeOf(C);return k[I][A](C)},o.resolve=function(A){for(var C=A.split("/"),I=[],P=0;P<C.length;P++){var z=C[P];z==="."||z===""&&P!==0&&P!==C.length-1||(z===".."?I.pop():I.push(z))}return I.join("/")},o.getTypeOf=function(A){return typeof A=="string"?"string":Object.prototype.toString.call(A)==="[object Array]"?"array":u.nodebuffer&&d.isBuffer(A)?"nodebuffer":u.uint8array&&A instanceof Uint8Array?"uint8array":u.arraybuffer&&A instanceof ArrayBuffer?"arraybuffer":void 0},o.checkSupport=function(A){if(!u[A.toLowerCase()])throw new Error(A+" is not supported by this platform")},o.MAX_VALUE_16BITS=65535,o.MAX_VALUE_32BITS=-1,o.pretty=function(A){var C,I,P="";for(I=0;I<(A||"").length;I++)P+="\\x"+((C=A.charCodeAt(I))<16?"0":"")+C.toString(16).toUpperCase();return P},o.delay=function(A,C,I){setImmediate(function(){A.apply(I||null,C||[])})},o.inherits=function(A,C){function I(){}I.prototype=C.prototype,A.prototype=new I},o.extend=function(){var A,C,I={};for(A=0;A<arguments.length;A++)for(C in arguments[A])Object.prototype.hasOwnProperty.call(arguments[A],C)&&I[C]===void 0&&(I[C]=arguments[A][C]);return I},o.prepareContent=function(A,C,I,P,z){return p.Promise.resolve(C).then(function(K){return u.blob&&(K instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(K))!==-1)&&typeof FileReader<"u"?new p.Promise(function(Y,ie){var M=new FileReader;M.onload=function(j){Y(j.target.result)},M.onerror=function(j){ie(j.target.error)},M.readAsArrayBuffer(K)}):K}).then(function(K){var Y=o.getTypeOf(K);return Y?(Y==="arraybuffer"?K=o.transformTo("uint8array",K):Y==="string"&&(z?K=c.decode(K):I&&P!==!0&&(K=(function(ie){return _(ie,u.uint8array?new Uint8Array(ie.length):new Array(ie.length))})(K))),K):p.Promise.reject(new Error("Can't read the data of '"+A+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,s,o){var u=n("./reader/readerFor"),c=n("./utils"),d=n("./signature"),p=n("./zipEntry"),g=n("./support");function _(v){this.files=[],this.loadOptions=v}_.prototype={checkSignature:function(v){if(!this.reader.readAndCheckSignature(v)){this.reader.index-=4;var x=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+c.pretty(x)+", expected "+c.pretty(v)+")")}},isSignature:function(v,x){var E=this.reader.index;this.reader.setIndex(v);var k=this.reader.readString(4)===x;return this.reader.setIndex(E),k},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var v=this.reader.readData(this.zipCommentLength),x=g.uint8array?"uint8array":"array",E=c.transformTo(x,v);this.zipComment=this.loadOptions.decodeFileName(E)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var v,x,E,k=this.zip64EndOfCentralSize-44;0<k;)v=this.reader.readInt(2),x=this.reader.readInt(4),E=this.reader.readData(x),this.zip64ExtensibleData[v]={id:v,length:x,value:E}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var v,x;for(v=0;v<this.files.length;v++)x=this.files[v],this.reader.setIndex(x.localHeaderOffset),this.checkSignature(d.LOCAL_FILE_HEADER),x.readLocalPart(this.reader),x.handleUTF8(),x.processAttributes()},readCentralDir:function(){var v;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(d.CENTRAL_FILE_HEADER);)(v=new p({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(v);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var v=this.reader.lastIndexOfSignature(d.CENTRAL_DIRECTORY_END);if(v<0)throw this.isSignature(0,d.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(v);var x=v;if(this.checkSignature(d.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===c.MAX_VALUE_16BITS||this.diskWithCentralDirStart===c.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===c.MAX_VALUE_16BITS||this.centralDirRecords===c.MAX_VALUE_16BITS||this.centralDirSize===c.MAX_VALUE_32BITS||this.centralDirOffset===c.MAX_VALUE_32BITS){if(this.zip64=!0,(v=this.reader.lastIndexOfSignature(d.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(v),this.checkSignature(d.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,d.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(d.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(d.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var E=this.centralDirOffset+this.centralDirSize;this.zip64&&(E+=20,E+=12+this.zip64EndOfCentralSize);var k=x-E;if(0<k)this.isSignature(x,d.CENTRAL_FILE_HEADER)||(this.reader.zero=k);else if(k<0)throw new Error("Corrupted zip: missing "+Math.abs(k)+" bytes.")},prepareReader:function(v){this.reader=u(v)},load:function(v){this.prepareReader(v),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},s.exports=_},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,s,o){var u=n("./reader/readerFor"),c=n("./utils"),d=n("./compressedObject"),p=n("./crc32"),g=n("./utf8"),_=n("./compressions"),v=n("./support");function x(E,k){this.options=E,this.loadOptions=k}x.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(E){var k,A;if(E.skip(22),this.fileNameLength=E.readInt(2),A=E.readInt(2),this.fileName=E.readData(this.fileNameLength),E.skip(A),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((k=(function(C){for(var I in _)if(Object.prototype.hasOwnProperty.call(_,I)&&_[I].magic===C)return _[I];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+c.pretty(this.compressionMethod)+" unknown (inner file : "+c.transformTo("string",this.fileName)+")");this.decompressed=new d(this.compressedSize,this.uncompressedSize,this.crc32,k,E.readData(this.compressedSize))},readCentralPart:function(E){this.versionMadeBy=E.readInt(2),E.skip(2),this.bitFlag=E.readInt(2),this.compressionMethod=E.readString(2),this.date=E.readDate(),this.crc32=E.readInt(4),this.compressedSize=E.readInt(4),this.uncompressedSize=E.readInt(4);var k=E.readInt(2);if(this.extraFieldsLength=E.readInt(2),this.fileCommentLength=E.readInt(2),this.diskNumberStart=E.readInt(2),this.internalFileAttributes=E.readInt(2),this.externalFileAttributes=E.readInt(4),this.localHeaderOffset=E.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");E.skip(k),this.readExtraFields(E),this.parseZIP64ExtraField(E),this.fileComment=E.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var E=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),E==0&&(this.dosPermissions=63&this.externalFileAttributes),E==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var E=u(this.extraFields[1].value);this.uncompressedSize===c.MAX_VALUE_32BITS&&(this.uncompressedSize=E.readInt(8)),this.compressedSize===c.MAX_VALUE_32BITS&&(this.compressedSize=E.readInt(8)),this.localHeaderOffset===c.MAX_VALUE_32BITS&&(this.localHeaderOffset=E.readInt(8)),this.diskNumberStart===c.MAX_VALUE_32BITS&&(this.diskNumberStart=E.readInt(4))}},readExtraFields:function(E){var k,A,C,I=E.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});E.index+4<I;)k=E.readInt(2),A=E.readInt(2),C=E.readData(A),this.extraFields[k]={id:k,length:A,value:C};E.setIndex(I)},handleUTF8:function(){var E=v.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=g.utf8decode(this.fileName),this.fileCommentStr=g.utf8decode(this.fileComment);else{var k=this.findExtraFieldUnicodePath();if(k!==null)this.fileNameStr=k;else{var A=c.transformTo(E,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(A)}var C=this.findExtraFieldUnicodeComment();if(C!==null)this.fileCommentStr=C;else{var I=c.transformTo(E,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(I)}}},findExtraFieldUnicodePath:function(){var E=this.extraFields[28789];if(E){var k=u(E.value);return k.readInt(1)!==1||p(this.fileName)!==k.readInt(4)?null:g.utf8decode(k.readData(E.length-5))}return null},findExtraFieldUnicodeComment:function(){var E=this.extraFields[25461];if(E){var k=u(E.value);return k.readInt(1)!==1||p(this.fileComment)!==k.readInt(4)?null:g.utf8decode(k.readData(E.length-5))}return null}},s.exports=x},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,s,o){function u(k,A,C){this.name=k,this.dir=C.dir,this.date=C.date,this.comment=C.comment,this.unixPermissions=C.unixPermissions,this.dosPermissions=C.dosPermissions,this._data=A,this._dataBinary=C.binary,this.options={compression:C.compression,compressionOptions:C.compressionOptions}}var c=n("./stream/StreamHelper"),d=n("./stream/DataWorker"),p=n("./utf8"),g=n("./compressedObject"),_=n("./stream/GenericWorker");u.prototype={internalStream:function(k){var A=null,C="string";try{if(!k)throw new Error("No output type specified.");var I=(C=k.toLowerCase())==="string"||C==="text";C!=="binarystring"&&C!=="text"||(C="string"),A=this._decompressWorker();var P=!this._dataBinary;P&&!I&&(A=A.pipe(new p.Utf8EncodeWorker)),!P&&I&&(A=A.pipe(new p.Utf8DecodeWorker))}catch(z){(A=new _("error")).error(z)}return new c(A,C,"")},async:function(k,A){return this.internalStream(k).accumulate(A)},nodeStream:function(k,A){return this.internalStream(k||"nodebuffer").toNodejsStream(A)},_compressWorker:function(k,A){if(this._data instanceof g&&this._data.compression.magic===k.magic)return this._data.getCompressedWorker();var C=this._decompressWorker();return this._dataBinary||(C=C.pipe(new p.Utf8EncodeWorker)),g.createWorkerFrom(C,k,A)},_decompressWorker:function(){return this._data instanceof g?this._data.getContentWorker():this._data instanceof _?this._data:new d(this._data)}};for(var v=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],x=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},E=0;E<v.length;E++)u.prototype[v[E]]=x;s.exports=u},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,s,o){(function(u){var c,d,p=u.MutationObserver||u.WebKitMutationObserver;if(p){var g=0,_=new p(k),v=u.document.createTextNode("");_.observe(v,{characterData:!0}),c=function(){v.data=g=++g%2}}else if(u.setImmediate||u.MessageChannel===void 0)c="document"in u&&"onreadystatechange"in u.document.createElement("script")?function(){var A=u.document.createElement("script");A.onreadystatechange=function(){k(),A.onreadystatechange=null,A.parentNode.removeChild(A),A=null},u.document.documentElement.appendChild(A)}:function(){setTimeout(k,0)};else{var x=new u.MessageChannel;x.port1.onmessage=k,c=function(){x.port2.postMessage(0)}}var E=[];function k(){var A,C;d=!0;for(var I=E.length;I;){for(C=E,E=[],A=-1;++A<I;)C[A]();I=E.length}d=!1}s.exports=function(A){E.push(A)!==1||d||c()}}).call(this,typeof gs<"u"?gs:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,s,o){var u=n("immediate");function c(){}var d={},p=["REJECTED"],g=["FULFILLED"],_=["PENDING"];function v(I){if(typeof I!="function")throw new TypeError("resolver must be a function");this.state=_,this.queue=[],this.outcome=void 0,I!==c&&A(this,I)}function x(I,P,z){this.promise=I,typeof P=="function"&&(this.onFulfilled=P,this.callFulfilled=this.otherCallFulfilled),typeof z=="function"&&(this.onRejected=z,this.callRejected=this.otherCallRejected)}function E(I,P,z){u(function(){var K;try{K=P(z)}catch(Y){return d.reject(I,Y)}K===I?d.reject(I,new TypeError("Cannot resolve promise with itself")):d.resolve(I,K)})}function k(I){var P=I&&I.then;if(I&&(typeof I=="object"||typeof I=="function")&&typeof P=="function")return function(){P.apply(I,arguments)}}function A(I,P){var z=!1;function K(M){z||(z=!0,d.reject(I,M))}function Y(M){z||(z=!0,d.resolve(I,M))}var ie=C(function(){P(Y,K)});ie.status==="error"&&K(ie.value)}function C(I,P){var z={};try{z.value=I(P),z.status="success"}catch(K){z.status="error",z.value=K}return z}(s.exports=v).prototype.finally=function(I){if(typeof I!="function")return this;var P=this.constructor;return this.then(function(z){return P.resolve(I()).then(function(){return z})},function(z){return P.resolve(I()).then(function(){throw z})})},v.prototype.catch=function(I){return this.then(null,I)},v.prototype.then=function(I,P){if(typeof I!="function"&&this.state===g||typeof P!="function"&&this.state===p)return this;var z=new this.constructor(c);return this.state!==_?E(z,this.state===g?I:P,this.outcome):this.queue.push(new x(z,I,P)),z},x.prototype.callFulfilled=function(I){d.resolve(this.promise,I)},x.prototype.otherCallFulfilled=function(I){E(this.promise,this.onFulfilled,I)},x.prototype.callRejected=function(I){d.reject(this.promise,I)},x.prototype.otherCallRejected=function(I){E(this.promise,this.onRejected,I)},d.resolve=function(I,P){var z=C(k,P);if(z.status==="error")return d.reject(I,z.value);var K=z.value;if(K)A(I,K);else{I.state=g,I.outcome=P;for(var Y=-1,ie=I.queue.length;++Y<ie;)I.queue[Y].callFulfilled(P)}return I},d.reject=function(I,P){I.state=p,I.outcome=P;for(var z=-1,K=I.queue.length;++z<K;)I.queue[z].callRejected(P);return I},v.resolve=function(I){return I instanceof this?I:d.resolve(new this(c),I)},v.reject=function(I){var P=new this(c);return d.reject(P,I)},v.all=function(I){var P=this;if(Object.prototype.toString.call(I)!=="[object Array]")return this.reject(new TypeError("must be an array"));var z=I.length,K=!1;if(!z)return this.resolve([]);for(var Y=new Array(z),ie=0,M=-1,j=new this(c);++M<z;)O(I[M],M);return j;function O(B,H){P.resolve(B).then(function(N){Y[H]=N,++ie!==z||K||(K=!0,d.resolve(j,Y))},function(N){K||(K=!0,d.reject(j,N))})}},v.race=function(I){var P=this;if(Object.prototype.toString.call(I)!=="[object Array]")return this.reject(new TypeError("must be an array"));var z=I.length,K=!1;if(!z)return this.resolve([]);for(var Y=-1,ie=new this(c);++Y<z;)M=I[Y],P.resolve(M).then(function(j){K||(K=!0,d.resolve(ie,j))},function(j){K||(K=!0,d.reject(ie,j))});var M;return ie}},{immediate:36}],38:[function(n,s,o){var u={};(0,n("./lib/utils/common").assign)(u,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),s.exports=u},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,s,o){var u=n("./zlib/deflate"),c=n("./utils/common"),d=n("./utils/strings"),p=n("./zlib/messages"),g=n("./zlib/zstream"),_=Object.prototype.toString,v=0,x=-1,E=0,k=8;function A(I){if(!(this instanceof A))return new A(I);this.options=c.assign({level:x,method:k,chunkSize:16384,windowBits:15,memLevel:8,strategy:E,to:""},I||{});var P=this.options;P.raw&&0<P.windowBits?P.windowBits=-P.windowBits:P.gzip&&0<P.windowBits&&P.windowBits<16&&(P.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new g,this.strm.avail_out=0;var z=u.deflateInit2(this.strm,P.level,P.method,P.windowBits,P.memLevel,P.strategy);if(z!==v)throw new Error(p[z]);if(P.header&&u.deflateSetHeader(this.strm,P.header),P.dictionary){var K;if(K=typeof P.dictionary=="string"?d.string2buf(P.dictionary):_.call(P.dictionary)==="[object ArrayBuffer]"?new Uint8Array(P.dictionary):P.dictionary,(z=u.deflateSetDictionary(this.strm,K))!==v)throw new Error(p[z]);this._dict_set=!0}}function C(I,P){var z=new A(P);if(z.push(I,!0),z.err)throw z.msg||p[z.err];return z.result}A.prototype.push=function(I,P){var z,K,Y=this.strm,ie=this.options.chunkSize;if(this.ended)return!1;K=P===~~P?P:P===!0?4:0,typeof I=="string"?Y.input=d.string2buf(I):_.call(I)==="[object ArrayBuffer]"?Y.input=new Uint8Array(I):Y.input=I,Y.next_in=0,Y.avail_in=Y.input.length;do{if(Y.avail_out===0&&(Y.output=new c.Buf8(ie),Y.next_out=0,Y.avail_out=ie),(z=u.deflate(Y,K))!==1&&z!==v)return this.onEnd(z),!(this.ended=!0);Y.avail_out!==0&&(Y.avail_in!==0||K!==4&&K!==2)||(this.options.to==="string"?this.onData(d.buf2binstring(c.shrinkBuf(Y.output,Y.next_out))):this.onData(c.shrinkBuf(Y.output,Y.next_out)))}while((0<Y.avail_in||Y.avail_out===0)&&z!==1);return K===4?(z=u.deflateEnd(this.strm),this.onEnd(z),this.ended=!0,z===v):K!==2||(this.onEnd(v),!(Y.avail_out=0))},A.prototype.onData=function(I){this.chunks.push(I)},A.prototype.onEnd=function(I){I===v&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=c.flattenChunks(this.chunks)),this.chunks=[],this.err=I,this.msg=this.strm.msg},o.Deflate=A,o.deflate=C,o.deflateRaw=function(I,P){return(P=P||{}).raw=!0,C(I,P)},o.gzip=function(I,P){return(P=P||{}).gzip=!0,C(I,P)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,s,o){var u=n("./zlib/inflate"),c=n("./utils/common"),d=n("./utils/strings"),p=n("./zlib/constants"),g=n("./zlib/messages"),_=n("./zlib/zstream"),v=n("./zlib/gzheader"),x=Object.prototype.toString;function E(A){if(!(this instanceof E))return new E(A);this.options=c.assign({chunkSize:16384,windowBits:0,to:""},A||{});var C=this.options;C.raw&&0<=C.windowBits&&C.windowBits<16&&(C.windowBits=-C.windowBits,C.windowBits===0&&(C.windowBits=-15)),!(0<=C.windowBits&&C.windowBits<16)||A&&A.windowBits||(C.windowBits+=32),15<C.windowBits&&C.windowBits<48&&(15&C.windowBits)==0&&(C.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new _,this.strm.avail_out=0;var I=u.inflateInit2(this.strm,C.windowBits);if(I!==p.Z_OK)throw new Error(g[I]);this.header=new v,u.inflateGetHeader(this.strm,this.header)}function k(A,C){var I=new E(C);if(I.push(A,!0),I.err)throw I.msg||g[I.err];return I.result}E.prototype.push=function(A,C){var I,P,z,K,Y,ie,M=this.strm,j=this.options.chunkSize,O=this.options.dictionary,B=!1;if(this.ended)return!1;P=C===~~C?C:C===!0?p.Z_FINISH:p.Z_NO_FLUSH,typeof A=="string"?M.input=d.binstring2buf(A):x.call(A)==="[object ArrayBuffer]"?M.input=new Uint8Array(A):M.input=A,M.next_in=0,M.avail_in=M.input.length;do{if(M.avail_out===0&&(M.output=new c.Buf8(j),M.next_out=0,M.avail_out=j),(I=u.inflate(M,p.Z_NO_FLUSH))===p.Z_NEED_DICT&&O&&(ie=typeof O=="string"?d.string2buf(O):x.call(O)==="[object ArrayBuffer]"?new Uint8Array(O):O,I=u.inflateSetDictionary(this.strm,ie)),I===p.Z_BUF_ERROR&&B===!0&&(I=p.Z_OK,B=!1),I!==p.Z_STREAM_END&&I!==p.Z_OK)return this.onEnd(I),!(this.ended=!0);M.next_out&&(M.avail_out!==0&&I!==p.Z_STREAM_END&&(M.avail_in!==0||P!==p.Z_FINISH&&P!==p.Z_SYNC_FLUSH)||(this.options.to==="string"?(z=d.utf8border(M.output,M.next_out),K=M.next_out-z,Y=d.buf2string(M.output,z),M.next_out=K,M.avail_out=j-K,K&&c.arraySet(M.output,M.output,z,K,0),this.onData(Y)):this.onData(c.shrinkBuf(M.output,M.next_out)))),M.avail_in===0&&M.avail_out===0&&(B=!0)}while((0<M.avail_in||M.avail_out===0)&&I!==p.Z_STREAM_END);return I===p.Z_STREAM_END&&(P=p.Z_FINISH),P===p.Z_FINISH?(I=u.inflateEnd(this.strm),this.onEnd(I),this.ended=!0,I===p.Z_OK):P!==p.Z_SYNC_FLUSH||(this.onEnd(p.Z_OK),!(M.avail_out=0))},E.prototype.onData=function(A){this.chunks.push(A)},E.prototype.onEnd=function(A){A===p.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=c.flattenChunks(this.chunks)),this.chunks=[],this.err=A,this.msg=this.strm.msg},o.Inflate=E,o.inflate=k,o.inflateRaw=function(A,C){return(C=C||{}).raw=!0,k(A,C)},o.ungzip=k},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,s,o){var u=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";o.assign=function(p){for(var g=Array.prototype.slice.call(arguments,1);g.length;){var _=g.shift();if(_){if(typeof _!="object")throw new TypeError(_+"must be non-object");for(var v in _)_.hasOwnProperty(v)&&(p[v]=_[v])}}return p},o.shrinkBuf=function(p,g){return p.length===g?p:p.subarray?p.subarray(0,g):(p.length=g,p)};var c={arraySet:function(p,g,_,v,x){if(g.subarray&&p.subarray)p.set(g.subarray(_,_+v),x);else for(var E=0;E<v;E++)p[x+E]=g[_+E]},flattenChunks:function(p){var g,_,v,x,E,k;for(g=v=0,_=p.length;g<_;g++)v+=p[g].length;for(k=new Uint8Array(v),g=x=0,_=p.length;g<_;g++)E=p[g],k.set(E,x),x+=E.length;return k}},d={arraySet:function(p,g,_,v,x){for(var E=0;E<v;E++)p[x+E]=g[_+E]},flattenChunks:function(p){return[].concat.apply([],p)}};o.setTyped=function(p){p?(o.Buf8=Uint8Array,o.Buf16=Uint16Array,o.Buf32=Int32Array,o.assign(o,c)):(o.Buf8=Array,o.Buf16=Array,o.Buf32=Array,o.assign(o,d))},o.setTyped(u)},{}],42:[function(n,s,o){var u=n("./common"),c=!0,d=!0;try{String.fromCharCode.apply(null,[0])}catch{c=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{d=!1}for(var p=new u.Buf8(256),g=0;g<256;g++)p[g]=252<=g?6:248<=g?5:240<=g?4:224<=g?3:192<=g?2:1;function _(v,x){if(x<65537&&(v.subarray&&d||!v.subarray&&c))return String.fromCharCode.apply(null,u.shrinkBuf(v,x));for(var E="",k=0;k<x;k++)E+=String.fromCharCode(v[k]);return E}p[254]=p[254]=1,o.string2buf=function(v){var x,E,k,A,C,I=v.length,P=0;for(A=0;A<I;A++)(64512&(E=v.charCodeAt(A)))==55296&&A+1<I&&(64512&(k=v.charCodeAt(A+1)))==56320&&(E=65536+(E-55296<<10)+(k-56320),A++),P+=E<128?1:E<2048?2:E<65536?3:4;for(x=new u.Buf8(P),A=C=0;C<P;A++)(64512&(E=v.charCodeAt(A)))==55296&&A+1<I&&(64512&(k=v.charCodeAt(A+1)))==56320&&(E=65536+(E-55296<<10)+(k-56320),A++),E<128?x[C++]=E:(E<2048?x[C++]=192|E>>>6:(E<65536?x[C++]=224|E>>>12:(x[C++]=240|E>>>18,x[C++]=128|E>>>12&63),x[C++]=128|E>>>6&63),x[C++]=128|63&E);return x},o.buf2binstring=function(v){return _(v,v.length)},o.binstring2buf=function(v){for(var x=new u.Buf8(v.length),E=0,k=x.length;E<k;E++)x[E]=v.charCodeAt(E);return x},o.buf2string=function(v,x){var E,k,A,C,I=x||v.length,P=new Array(2*I);for(E=k=0;E<I;)if((A=v[E++])<128)P[k++]=A;else if(4<(C=p[A]))P[k++]=65533,E+=C-1;else{for(A&=C===2?31:C===3?15:7;1<C&&E<I;)A=A<<6|63&v[E++],C--;1<C?P[k++]=65533:A<65536?P[k++]=A:(A-=65536,P[k++]=55296|A>>10&1023,P[k++]=56320|1023&A)}return _(P,k)},o.utf8border=function(v,x){var E;for((x=x||v.length)>v.length&&(x=v.length),E=x-1;0<=E&&(192&v[E])==128;)E--;return E<0||E===0?x:E+p[v[E]]>x?E:x}},{"./common":41}],43:[function(n,s,o){s.exports=function(u,c,d,p){for(var g=65535&u|0,_=u>>>16&65535|0,v=0;d!==0;){for(d-=v=2e3<d?2e3:d;_=_+(g=g+c[p++]|0)|0,--v;);g%=65521,_%=65521}return g|_<<16|0}},{}],44:[function(n,s,o){s.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,s,o){var u=(function(){for(var c,d=[],p=0;p<256;p++){c=p;for(var g=0;g<8;g++)c=1&c?3988292384^c>>>1:c>>>1;d[p]=c}return d})();s.exports=function(c,d,p,g){var _=u,v=g+p;c^=-1;for(var x=g;x<v;x++)c=c>>>8^_[255&(c^d[x])];return-1^c}},{}],46:[function(n,s,o){var u,c=n("../utils/common"),d=n("./trees"),p=n("./adler32"),g=n("./crc32"),_=n("./messages"),v=0,x=4,E=0,k=-2,A=-1,C=4,I=2,P=8,z=9,K=286,Y=30,ie=19,M=2*K+1,j=15,O=3,B=258,H=B+O+1,N=42,D=113,R=1,te=2,W=3,ee=4;function Te(T,de){return T.msg=_[de],de}function ge(T){return(T<<1)-(4<T?9:0)}function Ne(T){for(var de=T.length;0<=--de;)T[de]=0}function V(T){var de=T.state,oe=de.pending;oe>T.avail_out&&(oe=T.avail_out),oe!==0&&(c.arraySet(T.output,de.pending_buf,de.pending_out,oe,T.next_out),T.next_out+=oe,de.pending_out+=oe,T.total_out+=oe,T.avail_out-=oe,de.pending-=oe,de.pending===0&&(de.pending_out=0))}function G(T,de){d._tr_flush_block(T,0<=T.block_start?T.block_start:-1,T.strstart-T.block_start,de),T.block_start=T.strstart,V(T.strm)}function me(T,de){T.pending_buf[T.pending++]=de}function fe(T,de){T.pending_buf[T.pending++]=de>>>8&255,T.pending_buf[T.pending++]=255&de}function pe(T,de){var oe,q,F=T.max_chain_length,X=T.strstart,ue=T.prev_length,_e=T.nice_match,se=T.strstart>T.w_size-H?T.strstart-(T.w_size-H):0,Se=T.window,Re=T.w_mask,Ae=T.prev,je=T.strstart+B,et=Se[X+ue-1],Ge=Se[X+ue];T.prev_length>=T.good_match&&(F>>=2),_e>T.lookahead&&(_e=T.lookahead);do if(Se[(oe=de)+ue]===Ge&&Se[oe+ue-1]===et&&Se[oe]===Se[X]&&Se[++oe]===Se[X+1]){X+=2,oe++;do;while(Se[++X]===Se[++oe]&&Se[++X]===Se[++oe]&&Se[++X]===Se[++oe]&&Se[++X]===Se[++oe]&&Se[++X]===Se[++oe]&&Se[++X]===Se[++oe]&&Se[++X]===Se[++oe]&&Se[++X]===Se[++oe]&&X<je);if(q=B-(je-X),X=je-B,ue<q){if(T.match_start=de,_e<=(ue=q))break;et=Se[X+ue-1],Ge=Se[X+ue]}}while((de=Ae[de&Re])>se&&--F!=0);return ue<=T.lookahead?ue:T.lookahead}function ke(T){var de,oe,q,F,X,ue,_e,se,Se,Re,Ae=T.w_size;do{if(F=T.window_size-T.lookahead-T.strstart,T.strstart>=Ae+(Ae-H)){for(c.arraySet(T.window,T.window,Ae,Ae,0),T.match_start-=Ae,T.strstart-=Ae,T.block_start-=Ae,de=oe=T.hash_size;q=T.head[--de],T.head[de]=Ae<=q?q-Ae:0,--oe;);for(de=oe=Ae;q=T.prev[--de],T.prev[de]=Ae<=q?q-Ae:0,--oe;);F+=Ae}if(T.strm.avail_in===0)break;if(ue=T.strm,_e=T.window,se=T.strstart+T.lookahead,Se=F,Re=void 0,Re=ue.avail_in,Se<Re&&(Re=Se),oe=Re===0?0:(ue.avail_in-=Re,c.arraySet(_e,ue.input,ue.next_in,Re,se),ue.state.wrap===1?ue.adler=p(ue.adler,_e,Re,se):ue.state.wrap===2&&(ue.adler=g(ue.adler,_e,Re,se)),ue.next_in+=Re,ue.total_in+=Re,Re),T.lookahead+=oe,T.lookahead+T.insert>=O)for(X=T.strstart-T.insert,T.ins_h=T.window[X],T.ins_h=(T.ins_h<<T.hash_shift^T.window[X+1])&T.hash_mask;T.insert&&(T.ins_h=(T.ins_h<<T.hash_shift^T.window[X+O-1])&T.hash_mask,T.prev[X&T.w_mask]=T.head[T.ins_h],T.head[T.ins_h]=X,X++,T.insert--,!(T.lookahead+T.insert<O)););}while(T.lookahead<H&&T.strm.avail_in!==0)}function ze(T,de){for(var oe,q;;){if(T.lookahead<H){if(ke(T),T.lookahead<H&&de===v)return R;if(T.lookahead===0)break}if(oe=0,T.lookahead>=O&&(T.ins_h=(T.ins_h<<T.hash_shift^T.window[T.strstart+O-1])&T.hash_mask,oe=T.prev[T.strstart&T.w_mask]=T.head[T.ins_h],T.head[T.ins_h]=T.strstart),oe!==0&&T.strstart-oe<=T.w_size-H&&(T.match_length=pe(T,oe)),T.match_length>=O)if(q=d._tr_tally(T,T.strstart-T.match_start,T.match_length-O),T.lookahead-=T.match_length,T.match_length<=T.max_lazy_match&&T.lookahead>=O){for(T.match_length--;T.strstart++,T.ins_h=(T.ins_h<<T.hash_shift^T.window[T.strstart+O-1])&T.hash_mask,oe=T.prev[T.strstart&T.w_mask]=T.head[T.ins_h],T.head[T.ins_h]=T.strstart,--T.match_length!=0;);T.strstart++}else T.strstart+=T.match_length,T.match_length=0,T.ins_h=T.window[T.strstart],T.ins_h=(T.ins_h<<T.hash_shift^T.window[T.strstart+1])&T.hash_mask;else q=d._tr_tally(T,0,T.window[T.strstart]),T.lookahead--,T.strstart++;if(q&&(G(T,!1),T.strm.avail_out===0))return R}return T.insert=T.strstart<O-1?T.strstart:O-1,de===x?(G(T,!0),T.strm.avail_out===0?W:ee):T.last_lit&&(G(T,!1),T.strm.avail_out===0)?R:te}function Ve(T,de){for(var oe,q,F;;){if(T.lookahead<H){if(ke(T),T.lookahead<H&&de===v)return R;if(T.lookahead===0)break}if(oe=0,T.lookahead>=O&&(T.ins_h=(T.ins_h<<T.hash_shift^T.window[T.strstart+O-1])&T.hash_mask,oe=T.prev[T.strstart&T.w_mask]=T.head[T.ins_h],T.head[T.ins_h]=T.strstart),T.prev_length=T.match_length,T.prev_match=T.match_start,T.match_length=O-1,oe!==0&&T.prev_length<T.max_lazy_match&&T.strstart-oe<=T.w_size-H&&(T.match_length=pe(T,oe),T.match_length<=5&&(T.strategy===1||T.match_length===O&&4096<T.strstart-T.match_start)&&(T.match_length=O-1)),T.prev_length>=O&&T.match_length<=T.prev_length){for(F=T.strstart+T.lookahead-O,q=d._tr_tally(T,T.strstart-1-T.prev_match,T.prev_length-O),T.lookahead-=T.prev_length-1,T.prev_length-=2;++T.strstart<=F&&(T.ins_h=(T.ins_h<<T.hash_shift^T.window[T.strstart+O-1])&T.hash_mask,oe=T.prev[T.strstart&T.w_mask]=T.head[T.ins_h],T.head[T.ins_h]=T.strstart),--T.prev_length!=0;);if(T.match_available=0,T.match_length=O-1,T.strstart++,q&&(G(T,!1),T.strm.avail_out===0))return R}else if(T.match_available){if((q=d._tr_tally(T,0,T.window[T.strstart-1]))&&G(T,!1),T.strstart++,T.lookahead--,T.strm.avail_out===0)return R}else T.match_available=1,T.strstart++,T.lookahead--}return T.match_available&&(q=d._tr_tally(T,0,T.window[T.strstart-1]),T.match_available=0),T.insert=T.strstart<O-1?T.strstart:O-1,de===x?(G(T,!0),T.strm.avail_out===0?W:ee):T.last_lit&&(G(T,!1),T.strm.avail_out===0)?R:te}function Me(T,de,oe,q,F){this.good_length=T,this.max_lazy=de,this.nice_length=oe,this.max_chain=q,this.func=F}function yt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=P,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new c.Buf16(2*M),this.dyn_dtree=new c.Buf16(2*(2*Y+1)),this.bl_tree=new c.Buf16(2*(2*ie+1)),Ne(this.dyn_ltree),Ne(this.dyn_dtree),Ne(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new c.Buf16(j+1),this.heap=new c.Buf16(2*K+1),Ne(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new c.Buf16(2*K+1),Ne(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ft(T){var de;return T&&T.state?(T.total_in=T.total_out=0,T.data_type=I,(de=T.state).pending=0,de.pending_out=0,de.wrap<0&&(de.wrap=-de.wrap),de.status=de.wrap?N:D,T.adler=de.wrap===2?0:1,de.last_flush=v,d._tr_init(de),E):Te(T,k)}function Ut(T){var de=ft(T);return de===E&&(function(oe){oe.window_size=2*oe.w_size,Ne(oe.head),oe.max_lazy_match=u[oe.level].max_lazy,oe.good_match=u[oe.level].good_length,oe.nice_match=u[oe.level].nice_length,oe.max_chain_length=u[oe.level].max_chain,oe.strstart=0,oe.block_start=0,oe.lookahead=0,oe.insert=0,oe.match_length=oe.prev_length=O-1,oe.match_available=0,oe.ins_h=0})(T.state),de}function Ie(T,de,oe,q,F,X){if(!T)return k;var ue=1;if(de===A&&(de=6),q<0?(ue=0,q=-q):15<q&&(ue=2,q-=16),F<1||z<F||oe!==P||q<8||15<q||de<0||9<de||X<0||C<X)return Te(T,k);q===8&&(q=9);var _e=new yt;return(T.state=_e).strm=T,_e.wrap=ue,_e.gzhead=null,_e.w_bits=q,_e.w_size=1<<_e.w_bits,_e.w_mask=_e.w_size-1,_e.hash_bits=F+7,_e.hash_size=1<<_e.hash_bits,_e.hash_mask=_e.hash_size-1,_e.hash_shift=~~((_e.hash_bits+O-1)/O),_e.window=new c.Buf8(2*_e.w_size),_e.head=new c.Buf16(_e.hash_size),_e.prev=new c.Buf16(_e.w_size),_e.lit_bufsize=1<<F+6,_e.pending_buf_size=4*_e.lit_bufsize,_e.pending_buf=new c.Buf8(_e.pending_buf_size),_e.d_buf=1*_e.lit_bufsize,_e.l_buf=3*_e.lit_bufsize,_e.level=de,_e.strategy=X,_e.method=oe,Ut(T)}u=[new Me(0,0,0,0,function(T,de){var oe=65535;for(oe>T.pending_buf_size-5&&(oe=T.pending_buf_size-5);;){if(T.lookahead<=1){if(ke(T),T.lookahead===0&&de===v)return R;if(T.lookahead===0)break}T.strstart+=T.lookahead,T.lookahead=0;var q=T.block_start+oe;if((T.strstart===0||T.strstart>=q)&&(T.lookahead=T.strstart-q,T.strstart=q,G(T,!1),T.strm.avail_out===0)||T.strstart-T.block_start>=T.w_size-H&&(G(T,!1),T.strm.avail_out===0))return R}return T.insert=0,de===x?(G(T,!0),T.strm.avail_out===0?W:ee):(T.strstart>T.block_start&&(G(T,!1),T.strm.avail_out),R)}),new Me(4,4,8,4,ze),new Me(4,5,16,8,ze),new Me(4,6,32,32,ze),new Me(4,4,16,16,Ve),new Me(8,16,32,32,Ve),new Me(8,16,128,128,Ve),new Me(8,32,128,256,Ve),new Me(32,128,258,1024,Ve),new Me(32,258,258,4096,Ve)],o.deflateInit=function(T,de){return Ie(T,de,P,15,8,0)},o.deflateInit2=Ie,o.deflateReset=Ut,o.deflateResetKeep=ft,o.deflateSetHeader=function(T,de){return T&&T.state?T.state.wrap!==2?k:(T.state.gzhead=de,E):k},o.deflate=function(T,de){var oe,q,F,X;if(!T||!T.state||5<de||de<0)return T?Te(T,k):k;if(q=T.state,!T.output||!T.input&&T.avail_in!==0||q.status===666&&de!==x)return Te(T,T.avail_out===0?-5:k);if(q.strm=T,oe=q.last_flush,q.last_flush=de,q.status===N)if(q.wrap===2)T.adler=0,me(q,31),me(q,139),me(q,8),q.gzhead?(me(q,(q.gzhead.text?1:0)+(q.gzhead.hcrc?2:0)+(q.gzhead.extra?4:0)+(q.gzhead.name?8:0)+(q.gzhead.comment?16:0)),me(q,255&q.gzhead.time),me(q,q.gzhead.time>>8&255),me(q,q.gzhead.time>>16&255),me(q,q.gzhead.time>>24&255),me(q,q.level===9?2:2<=q.strategy||q.level<2?4:0),me(q,255&q.gzhead.os),q.gzhead.extra&&q.gzhead.extra.length&&(me(q,255&q.gzhead.extra.length),me(q,q.gzhead.extra.length>>8&255)),q.gzhead.hcrc&&(T.adler=g(T.adler,q.pending_buf,q.pending,0)),q.gzindex=0,q.status=69):(me(q,0),me(q,0),me(q,0),me(q,0),me(q,0),me(q,q.level===9?2:2<=q.strategy||q.level<2?4:0),me(q,3),q.status=D);else{var ue=P+(q.w_bits-8<<4)<<8;ue|=(2<=q.strategy||q.level<2?0:q.level<6?1:q.level===6?2:3)<<6,q.strstart!==0&&(ue|=32),ue+=31-ue%31,q.status=D,fe(q,ue),q.strstart!==0&&(fe(q,T.adler>>>16),fe(q,65535&T.adler)),T.adler=1}if(q.status===69)if(q.gzhead.extra){for(F=q.pending;q.gzindex<(65535&q.gzhead.extra.length)&&(q.pending!==q.pending_buf_size||(q.gzhead.hcrc&&q.pending>F&&(T.adler=g(T.adler,q.pending_buf,q.pending-F,F)),V(T),F=q.pending,q.pending!==q.pending_buf_size));)me(q,255&q.gzhead.extra[q.gzindex]),q.gzindex++;q.gzhead.hcrc&&q.pending>F&&(T.adler=g(T.adler,q.pending_buf,q.pending-F,F)),q.gzindex===q.gzhead.extra.length&&(q.gzindex=0,q.status=73)}else q.status=73;if(q.status===73)if(q.gzhead.name){F=q.pending;do{if(q.pending===q.pending_buf_size&&(q.gzhead.hcrc&&q.pending>F&&(T.adler=g(T.adler,q.pending_buf,q.pending-F,F)),V(T),F=q.pending,q.pending===q.pending_buf_size)){X=1;break}X=q.gzindex<q.gzhead.name.length?255&q.gzhead.name.charCodeAt(q.gzindex++):0,me(q,X)}while(X!==0);q.gzhead.hcrc&&q.pending>F&&(T.adler=g(T.adler,q.pending_buf,q.pending-F,F)),X===0&&(q.gzindex=0,q.status=91)}else q.status=91;if(q.status===91)if(q.gzhead.comment){F=q.pending;do{if(q.pending===q.pending_buf_size&&(q.gzhead.hcrc&&q.pending>F&&(T.adler=g(T.adler,q.pending_buf,q.pending-F,F)),V(T),F=q.pending,q.pending===q.pending_buf_size)){X=1;break}X=q.gzindex<q.gzhead.comment.length?255&q.gzhead.comment.charCodeAt(q.gzindex++):0,me(q,X)}while(X!==0);q.gzhead.hcrc&&q.pending>F&&(T.adler=g(T.adler,q.pending_buf,q.pending-F,F)),X===0&&(q.status=103)}else q.status=103;if(q.status===103&&(q.gzhead.hcrc?(q.pending+2>q.pending_buf_size&&V(T),q.pending+2<=q.pending_buf_size&&(me(q,255&T.adler),me(q,T.adler>>8&255),T.adler=0,q.status=D)):q.status=D),q.pending!==0){if(V(T),T.avail_out===0)return q.last_flush=-1,E}else if(T.avail_in===0&&ge(de)<=ge(oe)&&de!==x)return Te(T,-5);if(q.status===666&&T.avail_in!==0)return Te(T,-5);if(T.avail_in!==0||q.lookahead!==0||de!==v&&q.status!==666){var _e=q.strategy===2?(function(se,Se){for(var Re;;){if(se.lookahead===0&&(ke(se),se.lookahead===0)){if(Se===v)return R;break}if(se.match_length=0,Re=d._tr_tally(se,0,se.window[se.strstart]),se.lookahead--,se.strstart++,Re&&(G(se,!1),se.strm.avail_out===0))return R}return se.insert=0,Se===x?(G(se,!0),se.strm.avail_out===0?W:ee):se.last_lit&&(G(se,!1),se.strm.avail_out===0)?R:te})(q,de):q.strategy===3?(function(se,Se){for(var Re,Ae,je,et,Ge=se.window;;){if(se.lookahead<=B){if(ke(se),se.lookahead<=B&&Se===v)return R;if(se.lookahead===0)break}if(se.match_length=0,se.lookahead>=O&&0<se.strstart&&(Ae=Ge[je=se.strstart-1])===Ge[++je]&&Ae===Ge[++je]&&Ae===Ge[++je]){et=se.strstart+B;do;while(Ae===Ge[++je]&&Ae===Ge[++je]&&Ae===Ge[++je]&&Ae===Ge[++je]&&Ae===Ge[++je]&&Ae===Ge[++je]&&Ae===Ge[++je]&&Ae===Ge[++je]&&je<et);se.match_length=B-(et-je),se.match_length>se.lookahead&&(se.match_length=se.lookahead)}if(se.match_length>=O?(Re=d._tr_tally(se,1,se.match_length-O),se.lookahead-=se.match_length,se.strstart+=se.match_length,se.match_length=0):(Re=d._tr_tally(se,0,se.window[se.strstart]),se.lookahead--,se.strstart++),Re&&(G(se,!1),se.strm.avail_out===0))return R}return se.insert=0,Se===x?(G(se,!0),se.strm.avail_out===0?W:ee):se.last_lit&&(G(se,!1),se.strm.avail_out===0)?R:te})(q,de):u[q.level].func(q,de);if(_e!==W&&_e!==ee||(q.status=666),_e===R||_e===W)return T.avail_out===0&&(q.last_flush=-1),E;if(_e===te&&(de===1?d._tr_align(q):de!==5&&(d._tr_stored_block(q,0,0,!1),de===3&&(Ne(q.head),q.lookahead===0&&(q.strstart=0,q.block_start=0,q.insert=0))),V(T),T.avail_out===0))return q.last_flush=-1,E}return de!==x?E:q.wrap<=0?1:(q.wrap===2?(me(q,255&T.adler),me(q,T.adler>>8&255),me(q,T.adler>>16&255),me(q,T.adler>>24&255),me(q,255&T.total_in),me(q,T.total_in>>8&255),me(q,T.total_in>>16&255),me(q,T.total_in>>24&255)):(fe(q,T.adler>>>16),fe(q,65535&T.adler)),V(T),0<q.wrap&&(q.wrap=-q.wrap),q.pending!==0?E:1)},o.deflateEnd=function(T){var de;return T&&T.state?(de=T.state.status)!==N&&de!==69&&de!==73&&de!==91&&de!==103&&de!==D&&de!==666?Te(T,k):(T.state=null,de===D?Te(T,-3):E):k},o.deflateSetDictionary=function(T,de){var oe,q,F,X,ue,_e,se,Se,Re=de.length;if(!T||!T.state||(X=(oe=T.state).wrap)===2||X===1&&oe.status!==N||oe.lookahead)return k;for(X===1&&(T.adler=p(T.adler,de,Re,0)),oe.wrap=0,Re>=oe.w_size&&(X===0&&(Ne(oe.head),oe.strstart=0,oe.block_start=0,oe.insert=0),Se=new c.Buf8(oe.w_size),c.arraySet(Se,de,Re-oe.w_size,oe.w_size,0),de=Se,Re=oe.w_size),ue=T.avail_in,_e=T.next_in,se=T.input,T.avail_in=Re,T.next_in=0,T.input=de,ke(oe);oe.lookahead>=O;){for(q=oe.strstart,F=oe.lookahead-(O-1);oe.ins_h=(oe.ins_h<<oe.hash_shift^oe.window[q+O-1])&oe.hash_mask,oe.prev[q&oe.w_mask]=oe.head[oe.ins_h],oe.head[oe.ins_h]=q,q++,--F;);oe.strstart=q,oe.lookahead=O-1,ke(oe)}return oe.strstart+=oe.lookahead,oe.block_start=oe.strstart,oe.insert=oe.lookahead,oe.lookahead=0,oe.match_length=oe.prev_length=O-1,oe.match_available=0,T.next_in=_e,T.input=se,T.avail_in=ue,oe.wrap=X,E},o.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,s,o){s.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,s,o){s.exports=function(u,c){var d,p,g,_,v,x,E,k,A,C,I,P,z,K,Y,ie,M,j,O,B,H,N,D,R,te;d=u.state,p=u.next_in,R=u.input,g=p+(u.avail_in-5),_=u.next_out,te=u.output,v=_-(c-u.avail_out),x=_+(u.avail_out-257),E=d.dmax,k=d.wsize,A=d.whave,C=d.wnext,I=d.window,P=d.hold,z=d.bits,K=d.lencode,Y=d.distcode,ie=(1<<d.lenbits)-1,M=(1<<d.distbits)-1;e:do{z<15&&(P+=R[p++]<<z,z+=8,P+=R[p++]<<z,z+=8),j=K[P&ie];t:for(;;){if(P>>>=O=j>>>24,z-=O,(O=j>>>16&255)===0)te[_++]=65535&j;else{if(!(16&O)){if((64&O)==0){j=K[(65535&j)+(P&(1<<O)-1)];continue t}if(32&O){d.mode=12;break e}u.msg="invalid literal/length code",d.mode=30;break e}B=65535&j,(O&=15)&&(z<O&&(P+=R[p++]<<z,z+=8),B+=P&(1<<O)-1,P>>>=O,z-=O),z<15&&(P+=R[p++]<<z,z+=8,P+=R[p++]<<z,z+=8),j=Y[P&M];n:for(;;){if(P>>>=O=j>>>24,z-=O,!(16&(O=j>>>16&255))){if((64&O)==0){j=Y[(65535&j)+(P&(1<<O)-1)];continue n}u.msg="invalid distance code",d.mode=30;break e}if(H=65535&j,z<(O&=15)&&(P+=R[p++]<<z,(z+=8)<O&&(P+=R[p++]<<z,z+=8)),E<(H+=P&(1<<O)-1)){u.msg="invalid distance too far back",d.mode=30;break e}if(P>>>=O,z-=O,(O=_-v)<H){if(A<(O=H-O)&&d.sane){u.msg="invalid distance too far back",d.mode=30;break e}if(D=I,(N=0)===C){if(N+=k-O,O<B){for(B-=O;te[_++]=I[N++],--O;);N=_-H,D=te}}else if(C<O){if(N+=k+C-O,(O-=C)<B){for(B-=O;te[_++]=I[N++],--O;);if(N=0,C<B){for(B-=O=C;te[_++]=I[N++],--O;);N=_-H,D=te}}}else if(N+=C-O,O<B){for(B-=O;te[_++]=I[N++],--O;);N=_-H,D=te}for(;2<B;)te[_++]=D[N++],te[_++]=D[N++],te[_++]=D[N++],B-=3;B&&(te[_++]=D[N++],1<B&&(te[_++]=D[N++]))}else{for(N=_-H;te[_++]=te[N++],te[_++]=te[N++],te[_++]=te[N++],2<(B-=3););B&&(te[_++]=te[N++],1<B&&(te[_++]=te[N++]))}break}}break}}while(p<g&&_<x);p-=B=z>>3,P&=(1<<(z-=B<<3))-1,u.next_in=p,u.next_out=_,u.avail_in=p<g?g-p+5:5-(p-g),u.avail_out=_<x?x-_+257:257-(_-x),d.hold=P,d.bits=z}},{}],49:[function(n,s,o){var u=n("../utils/common"),c=n("./adler32"),d=n("./crc32"),p=n("./inffast"),g=n("./inftrees"),_=1,v=2,x=0,E=-2,k=1,A=852,C=592;function I(N){return(N>>>24&255)+(N>>>8&65280)+((65280&N)<<8)+((255&N)<<24)}function P(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new u.Buf16(320),this.work=new u.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function z(N){var D;return N&&N.state?(D=N.state,N.total_in=N.total_out=D.total=0,N.msg="",D.wrap&&(N.adler=1&D.wrap),D.mode=k,D.last=0,D.havedict=0,D.dmax=32768,D.head=null,D.hold=0,D.bits=0,D.lencode=D.lendyn=new u.Buf32(A),D.distcode=D.distdyn=new u.Buf32(C),D.sane=1,D.back=-1,x):E}function K(N){var D;return N&&N.state?((D=N.state).wsize=0,D.whave=0,D.wnext=0,z(N)):E}function Y(N,D){var R,te;return N&&N.state?(te=N.state,D<0?(R=0,D=-D):(R=1+(D>>4),D<48&&(D&=15)),D&&(D<8||15<D)?E:(te.window!==null&&te.wbits!==D&&(te.window=null),te.wrap=R,te.wbits=D,K(N))):E}function ie(N,D){var R,te;return N?(te=new P,(N.state=te).window=null,(R=Y(N,D))!==x&&(N.state=null),R):E}var M,j,O=!0;function B(N){if(O){var D;for(M=new u.Buf32(512),j=new u.Buf32(32),D=0;D<144;)N.lens[D++]=8;for(;D<256;)N.lens[D++]=9;for(;D<280;)N.lens[D++]=7;for(;D<288;)N.lens[D++]=8;for(g(_,N.lens,0,288,M,0,N.work,{bits:9}),D=0;D<32;)N.lens[D++]=5;g(v,N.lens,0,32,j,0,N.work,{bits:5}),O=!1}N.lencode=M,N.lenbits=9,N.distcode=j,N.distbits=5}function H(N,D,R,te){var W,ee=N.state;return ee.window===null&&(ee.wsize=1<<ee.wbits,ee.wnext=0,ee.whave=0,ee.window=new u.Buf8(ee.wsize)),te>=ee.wsize?(u.arraySet(ee.window,D,R-ee.wsize,ee.wsize,0),ee.wnext=0,ee.whave=ee.wsize):(te<(W=ee.wsize-ee.wnext)&&(W=te),u.arraySet(ee.window,D,R-te,W,ee.wnext),(te-=W)?(u.arraySet(ee.window,D,R-te,te,0),ee.wnext=te,ee.whave=ee.wsize):(ee.wnext+=W,ee.wnext===ee.wsize&&(ee.wnext=0),ee.whave<ee.wsize&&(ee.whave+=W))),0}o.inflateReset=K,o.inflateReset2=Y,o.inflateResetKeep=z,o.inflateInit=function(N){return ie(N,15)},o.inflateInit2=ie,o.inflate=function(N,D){var R,te,W,ee,Te,ge,Ne,V,G,me,fe,pe,ke,ze,Ve,Me,yt,ft,Ut,Ie,T,de,oe,q,F=0,X=new u.Buf8(4),ue=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!N||!N.state||!N.output||!N.input&&N.avail_in!==0)return E;(R=N.state).mode===12&&(R.mode=13),Te=N.next_out,W=N.output,Ne=N.avail_out,ee=N.next_in,te=N.input,ge=N.avail_in,V=R.hold,G=R.bits,me=ge,fe=Ne,de=x;e:for(;;)switch(R.mode){case k:if(R.wrap===0){R.mode=13;break}for(;G<16;){if(ge===0)break e;ge--,V+=te[ee++]<<G,G+=8}if(2&R.wrap&&V===35615){X[R.check=0]=255&V,X[1]=V>>>8&255,R.check=d(R.check,X,2,0),G=V=0,R.mode=2;break}if(R.flags=0,R.head&&(R.head.done=!1),!(1&R.wrap)||(((255&V)<<8)+(V>>8))%31){N.msg="incorrect header check",R.mode=30;break}if((15&V)!=8){N.msg="unknown compression method",R.mode=30;break}if(G-=4,T=8+(15&(V>>>=4)),R.wbits===0)R.wbits=T;else if(T>R.wbits){N.msg="invalid window size",R.mode=30;break}R.dmax=1<<T,N.adler=R.check=1,R.mode=512&V?10:12,G=V=0;break;case 2:for(;G<16;){if(ge===0)break e;ge--,V+=te[ee++]<<G,G+=8}if(R.flags=V,(255&R.flags)!=8){N.msg="unknown compression method",R.mode=30;break}if(57344&R.flags){N.msg="unknown header flags set",R.mode=30;break}R.head&&(R.head.text=V>>8&1),512&R.flags&&(X[0]=255&V,X[1]=V>>>8&255,R.check=d(R.check,X,2,0)),G=V=0,R.mode=3;case 3:for(;G<32;){if(ge===0)break e;ge--,V+=te[ee++]<<G,G+=8}R.head&&(R.head.time=V),512&R.flags&&(X[0]=255&V,X[1]=V>>>8&255,X[2]=V>>>16&255,X[3]=V>>>24&255,R.check=d(R.check,X,4,0)),G=V=0,R.mode=4;case 4:for(;G<16;){if(ge===0)break e;ge--,V+=te[ee++]<<G,G+=8}R.head&&(R.head.xflags=255&V,R.head.os=V>>8),512&R.flags&&(X[0]=255&V,X[1]=V>>>8&255,R.check=d(R.check,X,2,0)),G=V=0,R.mode=5;case 5:if(1024&R.flags){for(;G<16;){if(ge===0)break e;ge--,V+=te[ee++]<<G,G+=8}R.length=V,R.head&&(R.head.extra_len=V),512&R.flags&&(X[0]=255&V,X[1]=V>>>8&255,R.check=d(R.check,X,2,0)),G=V=0}else R.head&&(R.head.extra=null);R.mode=6;case 6:if(1024&R.flags&&(ge<(pe=R.length)&&(pe=ge),pe&&(R.head&&(T=R.head.extra_len-R.length,R.head.extra||(R.head.extra=new Array(R.head.extra_len)),u.arraySet(R.head.extra,te,ee,pe,T)),512&R.flags&&(R.check=d(R.check,te,pe,ee)),ge-=pe,ee+=pe,R.length-=pe),R.length))break e;R.length=0,R.mode=7;case 7:if(2048&R.flags){if(ge===0)break e;for(pe=0;T=te[ee+pe++],R.head&&T&&R.length<65536&&(R.head.name+=String.fromCharCode(T)),T&&pe<ge;);if(512&R.flags&&(R.check=d(R.check,te,pe,ee)),ge-=pe,ee+=pe,T)break e}else R.head&&(R.head.name=null);R.length=0,R.mode=8;case 8:if(4096&R.flags){if(ge===0)break e;for(pe=0;T=te[ee+pe++],R.head&&T&&R.length<65536&&(R.head.comment+=String.fromCharCode(T)),T&&pe<ge;);if(512&R.flags&&(R.check=d(R.check,te,pe,ee)),ge-=pe,ee+=pe,T)break e}else R.head&&(R.head.comment=null);R.mode=9;case 9:if(512&R.flags){for(;G<16;){if(ge===0)break e;ge--,V+=te[ee++]<<G,G+=8}if(V!==(65535&R.check)){N.msg="header crc mismatch",R.mode=30;break}G=V=0}R.head&&(R.head.hcrc=R.flags>>9&1,R.head.done=!0),N.adler=R.check=0,R.mode=12;break;case 10:for(;G<32;){if(ge===0)break e;ge--,V+=te[ee++]<<G,G+=8}N.adler=R.check=I(V),G=V=0,R.mode=11;case 11:if(R.havedict===0)return N.next_out=Te,N.avail_out=Ne,N.next_in=ee,N.avail_in=ge,R.hold=V,R.bits=G,2;N.adler=R.check=1,R.mode=12;case 12:if(D===5||D===6)break e;case 13:if(R.last){V>>>=7&G,G-=7&G,R.mode=27;break}for(;G<3;){if(ge===0)break e;ge--,V+=te[ee++]<<G,G+=8}switch(R.last=1&V,G-=1,3&(V>>>=1)){case 0:R.mode=14;break;case 1:if(B(R),R.mode=20,D!==6)break;V>>>=2,G-=2;break e;case 2:R.mode=17;break;case 3:N.msg="invalid block type",R.mode=30}V>>>=2,G-=2;break;case 14:for(V>>>=7&G,G-=7&G;G<32;){if(ge===0)break e;ge--,V+=te[ee++]<<G,G+=8}if((65535&V)!=(V>>>16^65535)){N.msg="invalid stored block lengths",R.mode=30;break}if(R.length=65535&V,G=V=0,R.mode=15,D===6)break e;case 15:R.mode=16;case 16:if(pe=R.length){if(ge<pe&&(pe=ge),Ne<pe&&(pe=Ne),pe===0)break e;u.arraySet(W,te,ee,pe,Te),ge-=pe,ee+=pe,Ne-=pe,Te+=pe,R.length-=pe;break}R.mode=12;break;case 17:for(;G<14;){if(ge===0)break e;ge--,V+=te[ee++]<<G,G+=8}if(R.nlen=257+(31&V),V>>>=5,G-=5,R.ndist=1+(31&V),V>>>=5,G-=5,R.ncode=4+(15&V),V>>>=4,G-=4,286<R.nlen||30<R.ndist){N.msg="too many length or distance symbols",R.mode=30;break}R.have=0,R.mode=18;case 18:for(;R.have<R.ncode;){for(;G<3;){if(ge===0)break e;ge--,V+=te[ee++]<<G,G+=8}R.lens[ue[R.have++]]=7&V,V>>>=3,G-=3}for(;R.have<19;)R.lens[ue[R.have++]]=0;if(R.lencode=R.lendyn,R.lenbits=7,oe={bits:R.lenbits},de=g(0,R.lens,0,19,R.lencode,0,R.work,oe),R.lenbits=oe.bits,de){N.msg="invalid code lengths set",R.mode=30;break}R.have=0,R.mode=19;case 19:for(;R.have<R.nlen+R.ndist;){for(;Me=(F=R.lencode[V&(1<<R.lenbits)-1])>>>16&255,yt=65535&F,!((Ve=F>>>24)<=G);){if(ge===0)break e;ge--,V+=te[ee++]<<G,G+=8}if(yt<16)V>>>=Ve,G-=Ve,R.lens[R.have++]=yt;else{if(yt===16){for(q=Ve+2;G<q;){if(ge===0)break e;ge--,V+=te[ee++]<<G,G+=8}if(V>>>=Ve,G-=Ve,R.have===0){N.msg="invalid bit length repeat",R.mode=30;break}T=R.lens[R.have-1],pe=3+(3&V),V>>>=2,G-=2}else if(yt===17){for(q=Ve+3;G<q;){if(ge===0)break e;ge--,V+=te[ee++]<<G,G+=8}G-=Ve,T=0,pe=3+(7&(V>>>=Ve)),V>>>=3,G-=3}else{for(q=Ve+7;G<q;){if(ge===0)break e;ge--,V+=te[ee++]<<G,G+=8}G-=Ve,T=0,pe=11+(127&(V>>>=Ve)),V>>>=7,G-=7}if(R.have+pe>R.nlen+R.ndist){N.msg="invalid bit length repeat",R.mode=30;break}for(;pe--;)R.lens[R.have++]=T}}if(R.mode===30)break;if(R.lens[256]===0){N.msg="invalid code -- missing end-of-block",R.mode=30;break}if(R.lenbits=9,oe={bits:R.lenbits},de=g(_,R.lens,0,R.nlen,R.lencode,0,R.work,oe),R.lenbits=oe.bits,de){N.msg="invalid literal/lengths set",R.mode=30;break}if(R.distbits=6,R.distcode=R.distdyn,oe={bits:R.distbits},de=g(v,R.lens,R.nlen,R.ndist,R.distcode,0,R.work,oe),R.distbits=oe.bits,de){N.msg="invalid distances set",R.mode=30;break}if(R.mode=20,D===6)break e;case 20:R.mode=21;case 21:if(6<=ge&&258<=Ne){N.next_out=Te,N.avail_out=Ne,N.next_in=ee,N.avail_in=ge,R.hold=V,R.bits=G,p(N,fe),Te=N.next_out,W=N.output,Ne=N.avail_out,ee=N.next_in,te=N.input,ge=N.avail_in,V=R.hold,G=R.bits,R.mode===12&&(R.back=-1);break}for(R.back=0;Me=(F=R.lencode[V&(1<<R.lenbits)-1])>>>16&255,yt=65535&F,!((Ve=F>>>24)<=G);){if(ge===0)break e;ge--,V+=te[ee++]<<G,G+=8}if(Me&&(240&Me)==0){for(ft=Ve,Ut=Me,Ie=yt;Me=(F=R.lencode[Ie+((V&(1<<ft+Ut)-1)>>ft)])>>>16&255,yt=65535&F,!(ft+(Ve=F>>>24)<=G);){if(ge===0)break e;ge--,V+=te[ee++]<<G,G+=8}V>>>=ft,G-=ft,R.back+=ft}if(V>>>=Ve,G-=Ve,R.back+=Ve,R.length=yt,Me===0){R.mode=26;break}if(32&Me){R.back=-1,R.mode=12;break}if(64&Me){N.msg="invalid literal/length code",R.mode=30;break}R.extra=15&Me,R.mode=22;case 22:if(R.extra){for(q=R.extra;G<q;){if(ge===0)break e;ge--,V+=te[ee++]<<G,G+=8}R.length+=V&(1<<R.extra)-1,V>>>=R.extra,G-=R.extra,R.back+=R.extra}R.was=R.length,R.mode=23;case 23:for(;Me=(F=R.distcode[V&(1<<R.distbits)-1])>>>16&255,yt=65535&F,!((Ve=F>>>24)<=G);){if(ge===0)break e;ge--,V+=te[ee++]<<G,G+=8}if((240&Me)==0){for(ft=Ve,Ut=Me,Ie=yt;Me=(F=R.distcode[Ie+((V&(1<<ft+Ut)-1)>>ft)])>>>16&255,yt=65535&F,!(ft+(Ve=F>>>24)<=G);){if(ge===0)break e;ge--,V+=te[ee++]<<G,G+=8}V>>>=ft,G-=ft,R.back+=ft}if(V>>>=Ve,G-=Ve,R.back+=Ve,64&Me){N.msg="invalid distance code",R.mode=30;break}R.offset=yt,R.extra=15&Me,R.mode=24;case 24:if(R.extra){for(q=R.extra;G<q;){if(ge===0)break e;ge--,V+=te[ee++]<<G,G+=8}R.offset+=V&(1<<R.extra)-1,V>>>=R.extra,G-=R.extra,R.back+=R.extra}if(R.offset>R.dmax){N.msg="invalid distance too far back",R.mode=30;break}R.mode=25;case 25:if(Ne===0)break e;if(pe=fe-Ne,R.offset>pe){if((pe=R.offset-pe)>R.whave&&R.sane){N.msg="invalid distance too far back",R.mode=30;break}ke=pe>R.wnext?(pe-=R.wnext,R.wsize-pe):R.wnext-pe,pe>R.length&&(pe=R.length),ze=R.window}else ze=W,ke=Te-R.offset,pe=R.length;for(Ne<pe&&(pe=Ne),Ne-=pe,R.length-=pe;W[Te++]=ze[ke++],--pe;);R.length===0&&(R.mode=21);break;case 26:if(Ne===0)break e;W[Te++]=R.length,Ne--,R.mode=21;break;case 27:if(R.wrap){for(;G<32;){if(ge===0)break e;ge--,V|=te[ee++]<<G,G+=8}if(fe-=Ne,N.total_out+=fe,R.total+=fe,fe&&(N.adler=R.check=R.flags?d(R.check,W,fe,Te-fe):c(R.check,W,fe,Te-fe)),fe=Ne,(R.flags?V:I(V))!==R.check){N.msg="incorrect data check",R.mode=30;break}G=V=0}R.mode=28;case 28:if(R.wrap&&R.flags){for(;G<32;){if(ge===0)break e;ge--,V+=te[ee++]<<G,G+=8}if(V!==(4294967295&R.total)){N.msg="incorrect length check",R.mode=30;break}G=V=0}R.mode=29;case 29:de=1;break e;case 30:de=-3;break e;case 31:return-4;case 32:default:return E}return N.next_out=Te,N.avail_out=Ne,N.next_in=ee,N.avail_in=ge,R.hold=V,R.bits=G,(R.wsize||fe!==N.avail_out&&R.mode<30&&(R.mode<27||D!==4))&&H(N,N.output,N.next_out,fe-N.avail_out)?(R.mode=31,-4):(me-=N.avail_in,fe-=N.avail_out,N.total_in+=me,N.total_out+=fe,R.total+=fe,R.wrap&&fe&&(N.adler=R.check=R.flags?d(R.check,W,fe,N.next_out-fe):c(R.check,W,fe,N.next_out-fe)),N.data_type=R.bits+(R.last?64:0)+(R.mode===12?128:0)+(R.mode===20||R.mode===15?256:0),(me==0&&fe===0||D===4)&&de===x&&(de=-5),de)},o.inflateEnd=function(N){if(!N||!N.state)return E;var D=N.state;return D.window&&(D.window=null),N.state=null,x},o.inflateGetHeader=function(N,D){var R;return N&&N.state?(2&(R=N.state).wrap)==0?E:((R.head=D).done=!1,x):E},o.inflateSetDictionary=function(N,D){var R,te=D.length;return N&&N.state?(R=N.state).wrap!==0&&R.mode!==11?E:R.mode===11&&c(1,D,te,0)!==R.check?-3:H(N,D,te,te)?(R.mode=31,-4):(R.havedict=1,x):E},o.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,s,o){var u=n("../utils/common"),c=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],d=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],p=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],g=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];s.exports=function(_,v,x,E,k,A,C,I){var P,z,K,Y,ie,M,j,O,B,H=I.bits,N=0,D=0,R=0,te=0,W=0,ee=0,Te=0,ge=0,Ne=0,V=0,G=null,me=0,fe=new u.Buf16(16),pe=new u.Buf16(16),ke=null,ze=0;for(N=0;N<=15;N++)fe[N]=0;for(D=0;D<E;D++)fe[v[x+D]]++;for(W=H,te=15;1<=te&&fe[te]===0;te--);if(te<W&&(W=te),te===0)return k[A++]=20971520,k[A++]=20971520,I.bits=1,0;for(R=1;R<te&&fe[R]===0;R++);for(W<R&&(W=R),N=ge=1;N<=15;N++)if(ge<<=1,(ge-=fe[N])<0)return-1;if(0<ge&&(_===0||te!==1))return-1;for(pe[1]=0,N=1;N<15;N++)pe[N+1]=pe[N]+fe[N];for(D=0;D<E;D++)v[x+D]!==0&&(C[pe[v[x+D]]++]=D);if(M=_===0?(G=ke=C,19):_===1?(G=c,me-=257,ke=d,ze-=257,256):(G=p,ke=g,-1),N=R,ie=A,Te=D=V=0,K=-1,Y=(Ne=1<<(ee=W))-1,_===1&&852<Ne||_===2&&592<Ne)return 1;for(;;){for(j=N-Te,B=C[D]<M?(O=0,C[D]):C[D]>M?(O=ke[ze+C[D]],G[me+C[D]]):(O=96,0),P=1<<N-Te,R=z=1<<ee;k[ie+(V>>Te)+(z-=P)]=j<<24|O<<16|B|0,z!==0;);for(P=1<<N-1;V&P;)P>>=1;if(P!==0?(V&=P-1,V+=P):V=0,D++,--fe[N]==0){if(N===te)break;N=v[x+C[D]]}if(W<N&&(V&Y)!==K){for(Te===0&&(Te=W),ie+=R,ge=1<<(ee=N-Te);ee+Te<te&&!((ge-=fe[ee+Te])<=0);)ee++,ge<<=1;if(Ne+=1<<ee,_===1&&852<Ne||_===2&&592<Ne)return 1;k[K=V&Y]=W<<24|ee<<16|ie-A|0}}return V!==0&&(k[ie+V]=N-Te<<24|64<<16|0),I.bits=W,0}},{"../utils/common":41}],51:[function(n,s,o){s.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,s,o){var u=n("../utils/common"),c=0,d=1;function p(F){for(var X=F.length;0<=--X;)F[X]=0}var g=0,_=29,v=256,x=v+1+_,E=30,k=19,A=2*x+1,C=15,I=16,P=7,z=256,K=16,Y=17,ie=18,M=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],j=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],O=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],B=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],H=new Array(2*(x+2));p(H);var N=new Array(2*E);p(N);var D=new Array(512);p(D);var R=new Array(256);p(R);var te=new Array(_);p(te);var W,ee,Te,ge=new Array(E);function Ne(F,X,ue,_e,se){this.static_tree=F,this.extra_bits=X,this.extra_base=ue,this.elems=_e,this.max_length=se,this.has_stree=F&&F.length}function V(F,X){this.dyn_tree=F,this.max_code=0,this.stat_desc=X}function G(F){return F<256?D[F]:D[256+(F>>>7)]}function me(F,X){F.pending_buf[F.pending++]=255&X,F.pending_buf[F.pending++]=X>>>8&255}function fe(F,X,ue){F.bi_valid>I-ue?(F.bi_buf|=X<<F.bi_valid&65535,me(F,F.bi_buf),F.bi_buf=X>>I-F.bi_valid,F.bi_valid+=ue-I):(F.bi_buf|=X<<F.bi_valid&65535,F.bi_valid+=ue)}function pe(F,X,ue){fe(F,ue[2*X],ue[2*X+1])}function ke(F,X){for(var ue=0;ue|=1&F,F>>>=1,ue<<=1,0<--X;);return ue>>>1}function ze(F,X,ue){var _e,se,Se=new Array(C+1),Re=0;for(_e=1;_e<=C;_e++)Se[_e]=Re=Re+ue[_e-1]<<1;for(se=0;se<=X;se++){var Ae=F[2*se+1];Ae!==0&&(F[2*se]=ke(Se[Ae]++,Ae))}}function Ve(F){var X;for(X=0;X<x;X++)F.dyn_ltree[2*X]=0;for(X=0;X<E;X++)F.dyn_dtree[2*X]=0;for(X=0;X<k;X++)F.bl_tree[2*X]=0;F.dyn_ltree[2*z]=1,F.opt_len=F.static_len=0,F.last_lit=F.matches=0}function Me(F){8<F.bi_valid?me(F,F.bi_buf):0<F.bi_valid&&(F.pending_buf[F.pending++]=F.bi_buf),F.bi_buf=0,F.bi_valid=0}function yt(F,X,ue,_e){var se=2*X,Se=2*ue;return F[se]<F[Se]||F[se]===F[Se]&&_e[X]<=_e[ue]}function ft(F,X,ue){for(var _e=F.heap[ue],se=ue<<1;se<=F.heap_len&&(se<F.heap_len&&yt(X,F.heap[se+1],F.heap[se],F.depth)&&se++,!yt(X,_e,F.heap[se],F.depth));)F.heap[ue]=F.heap[se],ue=se,se<<=1;F.heap[ue]=_e}function Ut(F,X,ue){var _e,se,Se,Re,Ae=0;if(F.last_lit!==0)for(;_e=F.pending_buf[F.d_buf+2*Ae]<<8|F.pending_buf[F.d_buf+2*Ae+1],se=F.pending_buf[F.l_buf+Ae],Ae++,_e===0?pe(F,se,X):(pe(F,(Se=R[se])+v+1,X),(Re=M[Se])!==0&&fe(F,se-=te[Se],Re),pe(F,Se=G(--_e),ue),(Re=j[Se])!==0&&fe(F,_e-=ge[Se],Re)),Ae<F.last_lit;);pe(F,z,X)}function Ie(F,X){var ue,_e,se,Se=X.dyn_tree,Re=X.stat_desc.static_tree,Ae=X.stat_desc.has_stree,je=X.stat_desc.elems,et=-1;for(F.heap_len=0,F.heap_max=A,ue=0;ue<je;ue++)Se[2*ue]!==0?(F.heap[++F.heap_len]=et=ue,F.depth[ue]=0):Se[2*ue+1]=0;for(;F.heap_len<2;)Se[2*(se=F.heap[++F.heap_len]=et<2?++et:0)]=1,F.depth[se]=0,F.opt_len--,Ae&&(F.static_len-=Re[2*se+1]);for(X.max_code=et,ue=F.heap_len>>1;1<=ue;ue--)ft(F,Se,ue);for(se=je;ue=F.heap[1],F.heap[1]=F.heap[F.heap_len--],ft(F,Se,1),_e=F.heap[1],F.heap[--F.heap_max]=ue,F.heap[--F.heap_max]=_e,Se[2*se]=Se[2*ue]+Se[2*_e],F.depth[se]=(F.depth[ue]>=F.depth[_e]?F.depth[ue]:F.depth[_e])+1,Se[2*ue+1]=Se[2*_e+1]=se,F.heap[1]=se++,ft(F,Se,1),2<=F.heap_len;);F.heap[--F.heap_max]=F.heap[1],(function(Ge,Ee){var Qe,dt,mt,Ke,it,Mt,rt=Ee.dyn_tree,fi=Ee.max_code,Ln=Ee.stat_desc.static_tree,kt=Ee.stat_desc.has_stree,Wn=Ee.stat_desc.extra_bits,Ii=Ee.stat_desc.extra_base,Nt=Ee.stat_desc.max_length,Sn=0;for(Ke=0;Ke<=C;Ke++)Ge.bl_count[Ke]=0;for(rt[2*Ge.heap[Ge.heap_max]+1]=0,Qe=Ge.heap_max+1;Qe<A;Qe++)Nt<(Ke=rt[2*rt[2*(dt=Ge.heap[Qe])+1]+1]+1)&&(Ke=Nt,Sn++),rt[2*dt+1]=Ke,fi<dt||(Ge.bl_count[Ke]++,it=0,Ii<=dt&&(it=Wn[dt-Ii]),Mt=rt[2*dt],Ge.opt_len+=Mt*(Ke+it),kt&&(Ge.static_len+=Mt*(Ln[2*dt+1]+it)));if(Sn!==0){do{for(Ke=Nt-1;Ge.bl_count[Ke]===0;)Ke--;Ge.bl_count[Ke]--,Ge.bl_count[Ke+1]+=2,Ge.bl_count[Nt]--,Sn-=2}while(0<Sn);for(Ke=Nt;Ke!==0;Ke--)for(dt=Ge.bl_count[Ke];dt!==0;)fi<(mt=Ge.heap[--Qe])||(rt[2*mt+1]!==Ke&&(Ge.opt_len+=(Ke-rt[2*mt+1])*rt[2*mt],rt[2*mt+1]=Ke),dt--)}})(F,X),ze(Se,et,F.bl_count)}function T(F,X,ue){var _e,se,Se=-1,Re=X[1],Ae=0,je=7,et=4;for(Re===0&&(je=138,et=3),X[2*(ue+1)+1]=65535,_e=0;_e<=ue;_e++)se=Re,Re=X[2*(_e+1)+1],++Ae<je&&se===Re||(Ae<et?F.bl_tree[2*se]+=Ae:se!==0?(se!==Se&&F.bl_tree[2*se]++,F.bl_tree[2*K]++):Ae<=10?F.bl_tree[2*Y]++:F.bl_tree[2*ie]++,Se=se,et=(Ae=0)===Re?(je=138,3):se===Re?(je=6,3):(je=7,4))}function de(F,X,ue){var _e,se,Se=-1,Re=X[1],Ae=0,je=7,et=4;for(Re===0&&(je=138,et=3),_e=0;_e<=ue;_e++)if(se=Re,Re=X[2*(_e+1)+1],!(++Ae<je&&se===Re)){if(Ae<et)for(;pe(F,se,F.bl_tree),--Ae!=0;);else se!==0?(se!==Se&&(pe(F,se,F.bl_tree),Ae--),pe(F,K,F.bl_tree),fe(F,Ae-3,2)):Ae<=10?(pe(F,Y,F.bl_tree),fe(F,Ae-3,3)):(pe(F,ie,F.bl_tree),fe(F,Ae-11,7));Se=se,et=(Ae=0)===Re?(je=138,3):se===Re?(je=6,3):(je=7,4)}}p(ge);var oe=!1;function q(F,X,ue,_e){fe(F,(g<<1)+(_e?1:0),3),(function(se,Se,Re,Ae){Me(se),me(se,Re),me(se,~Re),u.arraySet(se.pending_buf,se.window,Se,Re,se.pending),se.pending+=Re})(F,X,ue)}o._tr_init=function(F){oe||((function(){var X,ue,_e,se,Se,Re=new Array(C+1);for(se=_e=0;se<_-1;se++)for(te[se]=_e,X=0;X<1<<M[se];X++)R[_e++]=se;for(R[_e-1]=se,se=Se=0;se<16;se++)for(ge[se]=Se,X=0;X<1<<j[se];X++)D[Se++]=se;for(Se>>=7;se<E;se++)for(ge[se]=Se<<7,X=0;X<1<<j[se]-7;X++)D[256+Se++]=se;for(ue=0;ue<=C;ue++)Re[ue]=0;for(X=0;X<=143;)H[2*X+1]=8,X++,Re[8]++;for(;X<=255;)H[2*X+1]=9,X++,Re[9]++;for(;X<=279;)H[2*X+1]=7,X++,Re[7]++;for(;X<=287;)H[2*X+1]=8,X++,Re[8]++;for(ze(H,x+1,Re),X=0;X<E;X++)N[2*X+1]=5,N[2*X]=ke(X,5);W=new Ne(H,M,v+1,x,C),ee=new Ne(N,j,0,E,C),Te=new Ne(new Array(0),O,0,k,P)})(),oe=!0),F.l_desc=new V(F.dyn_ltree,W),F.d_desc=new V(F.dyn_dtree,ee),F.bl_desc=new V(F.bl_tree,Te),F.bi_buf=0,F.bi_valid=0,Ve(F)},o._tr_stored_block=q,o._tr_flush_block=function(F,X,ue,_e){var se,Se,Re=0;0<F.level?(F.strm.data_type===2&&(F.strm.data_type=(function(Ae){var je,et=4093624447;for(je=0;je<=31;je++,et>>>=1)if(1&et&&Ae.dyn_ltree[2*je]!==0)return c;if(Ae.dyn_ltree[18]!==0||Ae.dyn_ltree[20]!==0||Ae.dyn_ltree[26]!==0)return d;for(je=32;je<v;je++)if(Ae.dyn_ltree[2*je]!==0)return d;return c})(F)),Ie(F,F.l_desc),Ie(F,F.d_desc),Re=(function(Ae){var je;for(T(Ae,Ae.dyn_ltree,Ae.l_desc.max_code),T(Ae,Ae.dyn_dtree,Ae.d_desc.max_code),Ie(Ae,Ae.bl_desc),je=k-1;3<=je&&Ae.bl_tree[2*B[je]+1]===0;je--);return Ae.opt_len+=3*(je+1)+5+5+4,je})(F),se=F.opt_len+3+7>>>3,(Se=F.static_len+3+7>>>3)<=se&&(se=Se)):se=Se=ue+5,ue+4<=se&&X!==-1?q(F,X,ue,_e):F.strategy===4||Se===se?(fe(F,2+(_e?1:0),3),Ut(F,H,N)):(fe(F,4+(_e?1:0),3),(function(Ae,je,et,Ge){var Ee;for(fe(Ae,je-257,5),fe(Ae,et-1,5),fe(Ae,Ge-4,4),Ee=0;Ee<Ge;Ee++)fe(Ae,Ae.bl_tree[2*B[Ee]+1],3);de(Ae,Ae.dyn_ltree,je-1),de(Ae,Ae.dyn_dtree,et-1)})(F,F.l_desc.max_code+1,F.d_desc.max_code+1,Re+1),Ut(F,F.dyn_ltree,F.dyn_dtree)),Ve(F),_e&&Me(F)},o._tr_tally=function(F,X,ue){return F.pending_buf[F.d_buf+2*F.last_lit]=X>>>8&255,F.pending_buf[F.d_buf+2*F.last_lit+1]=255&X,F.pending_buf[F.l_buf+F.last_lit]=255&ue,F.last_lit++,X===0?F.dyn_ltree[2*ue]++:(F.matches++,X--,F.dyn_ltree[2*(R[ue]+v+1)]++,F.dyn_dtree[2*G(X)]++),F.last_lit===F.lit_bufsize-1},o._tr_align=function(F){fe(F,2,3),pe(F,z,H),(function(X){X.bi_valid===16?(me(X,X.bi_buf),X.bi_buf=0,X.bi_valid=0):8<=X.bi_valid&&(X.pending_buf[X.pending++]=255&X.bi_buf,X.bi_buf>>=8,X.bi_valid-=8)})(F)}},{"../utils/common":41}],53:[function(n,s,o){s.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,s,o){(function(u){(function(c,d){if(!c.setImmediate){var p,g,_,v,x=1,E={},k=!1,A=c.document,C=Object.getPrototypeOf&&Object.getPrototypeOf(c);C=C&&C.setTimeout?C:c,p={}.toString.call(c.process)==="[object process]"?function(K){process.nextTick(function(){P(K)})}:(function(){if(c.postMessage&&!c.importScripts){var K=!0,Y=c.onmessage;return c.onmessage=function(){K=!1},c.postMessage("","*"),c.onmessage=Y,K}})()?(v="setImmediate$"+Math.random()+"$",c.addEventListener?c.addEventListener("message",z,!1):c.attachEvent("onmessage",z),function(K){c.postMessage(v+K,"*")}):c.MessageChannel?((_=new MessageChannel).port1.onmessage=function(K){P(K.data)},function(K){_.port2.postMessage(K)}):A&&"onreadystatechange"in A.createElement("script")?(g=A.documentElement,function(K){var Y=A.createElement("script");Y.onreadystatechange=function(){P(K),Y.onreadystatechange=null,g.removeChild(Y),Y=null},g.appendChild(Y)}):function(K){setTimeout(P,0,K)},C.setImmediate=function(K){typeof K!="function"&&(K=new Function(""+K));for(var Y=new Array(arguments.length-1),ie=0;ie<Y.length;ie++)Y[ie]=arguments[ie+1];var M={callback:K,args:Y};return E[x]=M,p(x),x++},C.clearImmediate=I}function I(K){delete E[K]}function P(K){if(k)setTimeout(P,0,K);else{var Y=E[K];if(Y){k=!0;try{(function(ie){var M=ie.callback,j=ie.args;switch(j.length){case 0:M();break;case 1:M(j[0]);break;case 2:M(j[0],j[1]);break;case 3:M(j[0],j[1],j[2]);break;default:M.apply(d,j)}})(Y)}finally{I(K),k=!1}}}}function z(K){K.source===c&&typeof K.data=="string"&&K.data.indexOf(v)===0&&P(+K.data.slice(v.length))}})(typeof self>"u"?u===void 0?this:u:self)}).call(this,typeof gs<"u"?gs:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(hm)),hm.exports}var MT=OT();const jT=ep(MT);var nh={exports:{}},LT=nh.exports,Mv;function VT(){return Mv||(Mv=1,(function(r,e){(function(n,s){s()})(LT,function(){function n(g,_){return typeof _>"u"?_={autoBom:!1}:typeof _!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),_={autoBom:!_}),_.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(g.type)?new Blob(["\uFEFF",g],{type:g.type}):g}function s(g,_,v){var x=new XMLHttpRequest;x.open("GET",g),x.responseType="blob",x.onload=function(){p(x.response,_,v)},x.onerror=function(){console.error("could not download file")},x.send()}function o(g){var _=new XMLHttpRequest;_.open("HEAD",g,!1);try{_.send()}catch{}return 200<=_.status&&299>=_.status}function u(g){try{g.dispatchEvent(new MouseEvent("click"))}catch{var _=document.createEvent("MouseEvents");_.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),g.dispatchEvent(_)}}var c=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof gs=="object"&&gs.global===gs?gs:void 0,d=c.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),p=c.saveAs||(typeof window!="object"||window!==c?function(){}:"download"in HTMLAnchorElement.prototype&&!d?function(g,_,v){var x=c.URL||c.webkitURL,E=document.createElement("a");_=_||g.name||"download",E.download=_,E.rel="noopener",typeof g=="string"?(E.href=g,E.origin===location.origin?u(E):o(E.href)?s(g,_,v):u(E,E.target="_blank")):(E.href=x.createObjectURL(g),setTimeout(function(){x.revokeObjectURL(E.href)},4e4),setTimeout(function(){u(E)},0))}:"msSaveOrOpenBlob"in navigator?function(g,_,v){if(_=_||g.name||"download",typeof g!="string")navigator.msSaveOrOpenBlob(n(g,v),_);else if(o(g))s(g,_,v);else{var x=document.createElement("a");x.href=g,x.target="_blank",setTimeout(function(){u(x)})}}:function(g,_,v,x){if(x=x||open("","_blank"),x&&(x.document.title=x.document.body.innerText="downloading..."),typeof g=="string")return s(g,_,v);var E=g.type==="application/octet-stream",k=/constructor/i.test(c.HTMLElement)||c.safari,A=/CriOS\/[\d]+/.test(navigator.userAgent);if((A||E&&k||d)&&typeof FileReader<"u"){var C=new FileReader;C.onloadend=function(){var z=C.result;z=A?z:z.replace(/^data:[^;]*;/,"data:attachment/file;"),x?x.location.href=z:location=z,x=null},C.readAsDataURL(g)}else{var I=c.URL||c.webkitURL,P=I.createObjectURL(g);x?x.location=P:location.href=P,x=null,setTimeout(function(){I.revokeObjectURL(P)},4e4)}});c.saveAs=p.saveAs=p,r.exports=p})})(nh)),nh.exports}var jv=VT();const PT=({profile:r,onSignOut:e})=>{var et,Ge;const n=uu(),[s,o]=Z.useState(()=>localStorage.getItem("contributor_active_tab")||"hdl");Z.useEffect(()=>{localStorage.setItem("contributor_active_tab",s)},[s]);const[u,c]=Z.useState(!1),[d,p]=Z.useState(!1),[g,_]=Z.useState([]),[v,x]=Z.useState([]),[E,k]=Z.useState(!1),[A,C]=Z.useState(null),[I,P]=Z.useState(null),[z,K]=Z.useState(""),[Y,ie]=Z.useState("Medium"),[M,j]=Z.useState(["","","",""]),[O,B]=Z.useState(0),[H,N]=Z.useState(""),[D,R]=Z.useState(null),[te,W]=Z.useState([]),[ee,Te]=Z.useState(null),[ge,Ne]=Z.useState(!0),[V,G]=Z.useState(!1),[me,fe]=Z.useState([]),[pe,ke]=Z.useState(!1),[ze,Ve]=Z.useState(null);Z.useEffect(()=>{Me();const Ee=setInterval(Me,15e3);return()=>clearInterval(Ee)},[]),Z.useEffect(()=>{let Ee;return V&&ze&&(Ee=setInterval(()=>{Re(ze,!0)},5e3)),()=>clearInterval(Ee)},[V,ze]);const Me=async()=>{try{const Ee=localStorage.getItem("hdlbase_mock_session"),Qe=JSON.parse(Ee),mt={Authorization:`Bearer ${Qe.token||Qe.uid}`},it=await(await fetch("https://hdlbase-backen.onrender.com/api/v1/modules",{headers:mt})).json();it.status==="success"&&(_(it.data.map(kt=>({id:kt.id,name:kt.name,type:kt.type,size:kt.size||"1 KB",date:kt.createdAt?new Date(kt.createdAt).toLocaleDateString():"Recent",code:kt.code||"",files:kt.files||(kt.code?[{name:"source.v",content:kt.code}]:[])}))),it.message&&it.message.includes("Mock Mode")&&alert("WARNING: Backend is in MOCK MODE. Data will NOT be saved. Please configure Firebase Credentials on Render."));const rt=await(await fetch("https://hdlbase-backen.onrender.com/api/v1/quizzes",{headers:mt})).json();rt.status==="success"&&x(rt.data.map(kt=>({id:kt.id,text:kt.text,title:kt.title||"Untitled Quiz",submissionCount:kt.submissionCount||0,difficulty:kt.difficulty,date:kt.createdAt?new Date(kt.createdAt).toLocaleDateString():"Recent"})));const Ln=await(await fetch("https://hdlbase-backen.onrender.com/api/v1/users/stats",{headers:mt})).json();Ln.status==="success"&&C(Ln.data)}catch(Ee){console.error("Failed to fetch dashboard data",Ee)}finally{Ne(!1)}},yt=()=>{n("/dashboard")},ft=async Ee=>{Ee.preventDefault(),k(!0);const Qe=Ee.target,dt=new FormData(Qe);try{const mt=localStorage.getItem("hdlbase_mock_session"),Ke=JSON.parse(mt),it=Ke.token||Ke.uid,Mt={name:dt.get("moduleName"),language:dt.get("language"),files:te,type:"IP Core",description:"Uploaded from Contributor Dashboard"},rt=D?`https://hdlbase-backen.onrender.com/api/v1/modules/${D}`:"https://hdlbase-backen.onrender.com/api/v1/modules",fi=await fetch(rt,{method:D?"PUT":"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${it}`},body:JSON.stringify(Mt)});if(fi.ok)await Me(),c(!1),c(!1),R(null),N(""),W([]),Qe.reset();else{const Ln=await fi.json();alert(`Upload Failed: ${Ln.message||"Unknown error"}`)}}catch(mt){console.error("Upload failed",mt),alert("Upload error: Check console")}finally{k(!1)}},Ut=Ee=>{Ee.target.files&&Array.from(Ee.target.files).forEach(Qe=>{const dt=new FileReader;dt.onload=mt=>{var it;const Ke=(it=mt.target)==null?void 0:it.result;W(Mt=>[...Mt,{name:Qe.name,content:Ke}])},dt.readAsText(Qe)})},Ie=Ee=>{W(Qe=>Qe.filter((dt,mt)=>mt!==Ee))},T=Ee=>{R(Ee.id),N(Ee.code||""),W(Ee.files||(Ee.code?[{name:`${Ee.name}.v`,content:Ee.code}]:[])),c(!0)},de=(Ee=null)=>{Ee?(P(Ee.id),K(Ee.text),ie(Ee.difficulty)):(P(null),K(""),ie("Medium"),j(["","","",""]),B(0)),p(!0)},[oe,q]=Z.useState(""),[F,X]=Z.useState([]),[ue,_e]=Z.useState({text:"",difficulty:"Medium",correct:0,options:["","","",""]}),se=()=>{X([...F,{...ue,id:Date.now().toString()}]),_e({text:"",difficulty:"Medium",correct:0,options:["","","",""]})},Se=async()=>{if(!oe||F.length===0){alert("Title and at least one question required.");return}k(!0);try{const Ee=localStorage.getItem("hdlbase_mock_session"),Qe=JSON.parse(Ee),dt=Qe.token||Qe.uid,mt={title:oe,description:"Custom Quiz",questions:F},Ke=await fetch("https://hdlbase-backen.onrender.com/api/v1/quizzes",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${dt}`},body:JSON.stringify(mt)});if(Ke.ok)p(!1),q(""),X([]),Me(),alert("Quiz published successfully!");else{const it=await Ke.json();console.error("Publish Error:",it),alert(`Failed to publish quiz (Status: ${Ke.status}): ${it.message||"Unknown server error"}`)}}catch(Ee){console.error("Network/Client Error:",Ee),alert(`Failed to publish quiz (Client Error): ${Ee.message}`)}finally{k(!1)}},Re=async(Ee,Qe=!1)=>{Qe||ke(!0),Qe||G(!0),Ve(Ee),Qe||fe([]);try{const dt=localStorage.getItem("hdlbase_mock_session"),mt=JSON.parse(dt),Ke=mt.token||mt.uid,Mt=await(await fetch(`https://hdlbase-backen.onrender.com/api/v1/quizzes/${Ee}/results`,{headers:{Authorization:`Bearer ${Ke}`}})).json();Mt.status==="success"&&fe(Mt.data)}catch(dt){console.error("Failed to fetch submissions",dt)}finally{Qe||ke(!1)}},Ae=Ee=>{Te(Ee)},je=()=>{if(ee){const Ee=v.filter(Qe=>Qe.id!==ee);x(Ee),localStorage.setItem("hdlbase_mock_mcq_admin",JSON.stringify(Ee)),Te(null)}};return b.jsxs("div",{className:"min-h-screen bg-matte text-offwhite flex flex-col",children:[b.jsx("nav",{className:"border-b border-white/5 bg-gunmetal/30 p-4 sticky top-0 backdrop-blur-md z-20",children:b.jsxs("div",{className:"max-w-7xl mx-auto flex justify-between items-center",children:[b.jsxs("div",{className:"flex items-center gap-8",children:[b.jsx("div",{onClick:yt,className:"flex items-center cursor-pointer group",children:b.jsx("h1",{className:"text-xl font-black tracking-tighter",children:b.jsx("a",{href:"/",className:"logo-text",children:b.jsx("img",{src:wo,alt:"LOGO",className:"w-32 h-auto"})})})}),b.jsxs("div",{className:"flex bg-white/5 p-1 rounded-xl",children:[b.jsx("button",{onClick:()=>o("hdl"),className:`text-[10px] uppercase tracking-widest px-4 py-2 rounded-lg font-black transition-all ${s==="hdl"?"bg-contributor text-white shadow-lg":"text-gray-500 hover:text-gray-300"}`,children:"Repo"}),b.jsx("button",{onClick:()=>o("mcq"),className:`text-[10px] uppercase tracking-widest px-4 py-2 rounded-lg font-black transition-all ${s==="mcq"?"bg-contributor text-white shadow-lg":"text-gray-500 hover:text-gray-300"}`,children:"Quizzes"}),b.jsx("button",{onClick:()=>o("team"),className:`text-[10px] uppercase tracking-widest px-4 py-2 rounded-lg font-black transition-all ${s==="team"?"bg-contributor text-white shadow-lg":"text-gray-500 hover:text-gray-300"}`,children:"Team"}),b.jsx("button",{onClick:()=>o("profile"),className:`text-[10px] uppercase tracking-widest px-4 py-2 rounded-lg font-black transition-all ${s==="profile"?"bg-contributor text-white shadow-lg":"text-gray-500 hover:text-gray-300"}`,children:"Profile"})]})]}),b.jsxs("div",{className:"flex items-center gap-6",children:[b.jsxs("div",{className:"text-right hidden sm:block",children:[b.jsx("p",{className:"text-xs font-black uppercase text-accent",children:r.displayName}),b.jsx("p",{className:"text-[9px] text-gray-500 font-bold uppercase tracking-widest",children:"Contributor Mode"})]}),b.jsx("button",{onClick:e,className:"text-[10px] font-black text-gray-500 hover:text-red-400 uppercase tracking-widest transition-colors",children:"Sign Out"})]})]})}),b.jsxs("main",{className:"flex-grow max-w-7xl mx-auto w-full p-6 md:p-12",children:[s==="hdl"&&b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"flex justify-between items-end mb-12",children:[b.jsxs("div",{children:[b.jsx("h2",{className:"text-4xl font-black tracking-tight",children:"IP Repository"}),b.jsx("p",{className:"text-gray-400 font-medium",children:"Manage your verified hardware description blocks."})]}),b.jsx("button",{onClick:()=>c(!0),className:"bg-contributor text-white px-8 py-3 rounded-2xl font-black text-sm hover:brightness-110 shadow-2xl shadow-contributor/20 transition-all flex items-center gap-2",children:"New Module"})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[ge?b.jsx("div",{className:"col-span-full py-40 text-center text-gray-500 font-bold animate-pulse",children:"Loading repository..."}):g.map(Ee=>b.jsxs("div",{className:"bg-gunmetal p-8 rounded-[32px] border border-white/5 hover:border-contributor/50 transition-all group cursor-default",children:[b.jsxs("div",{className:"flex justify-between items-start mb-6",children:[b.jsx("div",{className:"w-12 h-12 bg-contributor/10 rounded-2xl flex items-center justify-center text-contributor",children:b.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"})})}),b.jsx("span",{className:"text-[10px] font-black text-gray-600 uppercase tracking-widest border border-white/5 px-2 py-1 rounded-lg",children:Ee.type})]}),b.jsx("h3",{className:"text-xl font-bold mb-1",children:Ee.name}),b.jsxs("p",{className:"text-xs text-gray-500 mb-8 font-medium",children:[Ee.size,"  Verified ",Ee.date]}),b.jsx("div",{className:"flex gap-3",children:b.jsx("button",{onClick:()=>T(Ee),className:"flex-1 text-[10px] font-black uppercase tracking-widest py-3 bg-white/5 rounded-xl hover:bg-white/10 transition-colors",children:"Edit"})})]},Ee.id)),!ge&&g.length===0&&b.jsx("div",{className:"col-span-full py-40 text-center border-2 border-dashed border-white/5 rounded-[40px] text-gray-600 font-black uppercase tracking-widest text-xs",children:"Repository Empty. Initializing Required."})]})]}),s==="mcq"&&b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"flex justify-between items-end mb-12",children:[b.jsxs("div",{children:[b.jsx("h2",{className:"text-4xl font-black tracking-tight",children:"Assessment Hub"}),b.jsx("p",{className:"text-gray-400 font-medium",children:"Curate digital logic challenges for learners."})]}),b.jsx("button",{onClick:()=>de(),className:"bg-contributor text-white px-8 py-3 rounded-2xl font-black text-sm hover:brightness-110 shadow-2xl transition-all",children:"Add Question"})]}),b.jsxs("div",{className:"bg-gunmetal rounded-[40px] border border-white/5 overflow-hidden",children:[b.jsxs("table",{className:"w-full text-left text-sm",children:[b.jsx("thead",{className:"bg-white/5 uppercase text-[10px] font-black tracking-widest text-gray-500",children:b.jsxs("tr",{children:[b.jsx("th",{className:"px-8 py-6",children:"ID"}),b.jsx("th",{className:"px-8 py-6",children:"Title"}),b.jsx("th",{className:"px-8 py-6",children:"Attempts"}),b.jsx("th",{className:"px-8 py-6",children:"Difficulty"}),b.jsx("th",{className:"px-8 py-6",children:"Created"}),b.jsx("th",{className:"px-8 py-6 text-right",children:"Actions"})]})}),b.jsx("tbody",{className:"divide-y divide-white/5",children:v.map(Ee=>b.jsxs("tr",{className:"hover:bg-white/2 transition-colors",children:[b.jsxs("td",{className:"px-8 py-6 font-mono text-gray-600",children:[Ee.id.slice(0,8),"..."]}),b.jsx("td",{className:"px-8 py-6 font-bold",children:Ee.title||Ee.text.slice(0,30)}),b.jsx("td",{className:"px-8 py-6",children:b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("span",{className:"font-black text-white",children:Ee.submissionCount}),b.jsx("button",{onClick:()=>Re(Ee.id),className:"text-[9px] uppercase font-bold text-contributor hover:underline",children:"View"})]})}),b.jsx("td",{className:"px-8 py-6",children:b.jsx("span",{className:"px-3 py-1 rounded-full bg-orange-500/10 text-orange-500 text-[10px] font-black uppercase tracking-widest border border-orange-500/20",children:Ee.difficulty})}),b.jsx("td",{className:"px-8 py-6 text-gray-500 font-medium",children:Ee.date}),b.jsx("td",{className:"px-8 py-6",children:b.jsxs("div",{className:"flex justify-end gap-6",children:[b.jsx("button",{onClick:()=>de(Ee),className:"text-contributor hover:text-white font-black uppercase text-[10px] tracking-widest transition-colors",children:"Edit"}),b.jsx("button",{onClick:()=>Ae(Ee.id),className:"text-red-500 hover:text-red-400 font-black uppercase text-[10px] tracking-widest transition-colors",children:"Delete"})]})})]},Ee.id))})]}),v.length===0&&b.jsx("div",{className:"p-20 text-center text-gray-600 font-black uppercase tracking-[0.2em] text-[10px]",children:"No Assessment data found."})]})]}),s==="team"&&b.jsxs("div",{className:"max-w-3xl mx-auto py-24 text-center",children:[b.jsx("div",{className:"w-24 h-24 bg-contributor/10 rounded-[32px] flex items-center justify-center mx-auto mb-10 text-contributor border border-contributor/20",children:b.jsx("svg",{className:"w-10 h-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})}),b.jsx("h2",{className:"text-3xl font-black tracking-tight mb-4",children:"Enterprise Controls"}),b.jsx("p",{className:"text-gray-400 font-medium mb-12 text-lg",children:"Manage faculty permissions and multi-user IP access."}),b.jsx("button",{className:"bg-white text-matte px-10 py-4 rounded-2xl font-black text-sm hover:scale-105 active:scale-95 transition-all",children:"Invite Engineer"})]}),u&&b.jsx("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:b.jsxs("div",{className:"bg-gunmetal w-full max-w-lg rounded-[48px] p-12 border border-white/10 shadow-2xl transform animate-in zoom-in duration-300",children:[b.jsx("h3",{className:"text-3xl font-black tracking-tighter mb-8",children:D?"Update RTL":"Deploy RTL"}),b.jsxs("form",{onSubmit:ft,className:"space-y-6",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-gray-500",children:"Module Name"}),b.jsx("input",{name:"moduleName",required:!0,defaultValue:(et=g.find(Ee=>Ee.id===D))==null?void 0:et.name,className:"w-full bg-matte border border-white/10 rounded-2xl px-6 py-4 text-offwhite focus:border-contributor outline-none transition-colors font-medium",placeholder:"e.g. FIFO_Controller"})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-gray-500",children:"Target Language"}),b.jsxs("select",{name:"language",defaultValue:(((Ge=g.find(Ee=>Ee.id===D))==null?void 0:Ge.type)==="IP Config","Verilog"),className:"w-full bg-matte border border-white/10 rounded-2xl px-6 py-4 text-offwhite focus:border-contributor outline-none transition-colors appearance-none font-medium",children:[b.jsx("option",{value:"Verilog",children:"Verilog HDL"}),b.jsx("option",{value:"VHDL",children:"VHDL"}),b.jsx("option",{value:"SystemVerilog",children:"SystemVerilog"})]})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsxs("label",{className:"text-[10px] font-black uppercase tracking-widest text-gray-500",children:["Source Files (",te.length,")"]}),b.jsxs("label",{className:"cursor-pointer text-[9px] font-black uppercase tracking-widest text-contributor hover:bg-contributor/10 px-2 py-1 rounded-md transition-all",children:[b.jsx("input",{type:"file",multiple:!0,accept:".v,.sv,.vhd,.txt",className:"hidden",onChange:Ut}),"+ Add Files"]})]}),b.jsx("div",{className:"w-full bg-matte border border-white/10 rounded-2xl px-2 py-2 min-h-[120px] max-h-[200px] overflow-y-auto",children:te.length===0?b.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-600 space-y-2 py-8",children:[b.jsx("span",{className:"text-2xl",children:""}),b.jsx("span",{className:"text-xs font-bold uppercase tracking-widest",children:"No files uploaded"})]}):b.jsx("div",{className:"space-y-1",children:te.map((Ee,Qe)=>b.jsxs("div",{className:"flex justify-between items-center bg-white/5 px-3 py-2 rounded-lg group",children:[b.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[b.jsx("span",{className:"text-xs",children:""}),b.jsx("span",{className:"text-xs font-medium text-offwhite truncate max-w-[200px]",children:Ee.name}),b.jsxs("span",{className:"text-[10px] text-gray-500",children:[(Ee.content.length/1024).toFixed(1)," KB"]})]}),b.jsx("button",{type:"button",onClick:()=>Ie(Qe),className:"text-gray-500 hover:text-red-500 transition-colors p-1",children:b.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},Qe))})})]}),b.jsxs("div",{className:"flex gap-4 pt-6",children:[b.jsx("button",{type:"button",onClick:()=>{c(!1),R(null),N(""),W([])},className:"flex-1 py-4 text-xs font-black uppercase tracking-widest bg-white/5 rounded-2xl hover:bg-white/10 transition-colors",children:"Abort"}),b.jsx("button",{type:"submit",disabled:E,className:"flex-1 py-4 text-xs font-black uppercase tracking-widest bg-contributor text-white rounded-2xl shadow-xl shadow-contributor/20 active:scale-95 transition-all",children:E?"Processing...":D?"Update IP":"Deploy IP"})]})]})]})}),d&&b.jsx("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:b.jsxs("div",{className:"bg-gunmetal w-full max-w-lg rounded-[48px] p-12 border border-white/10 shadow-2xl transform animate-in zoom-in duration-300",children:[b.jsx("h3",{className:"text-3xl font-black tracking-tighter mb-8",children:I?"Update Challenge":"New Assessment"}),b.jsx("h3",{className:"text-3xl font-black tracking-tighter mb-8",children:"Quiz Builder"}),b.jsxs("div",{className:"space-y-6 overflow-y-auto max-h-[70vh] custom-scrollbar pr-2",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-gray-500",children:"Quiz Title"}),b.jsx("input",{value:oe,onChange:Ee=>q(Ee.target.value),className:"w-full bg-matte border border-white/10 rounded-2xl px-6 py-4 text-offwhite focus:border-contributor outline-none transition-colors font-bold text-lg",placeholder:"e.g. Verilog Finite State Machines"})]}),b.jsxs("div",{className:"space-y-3",children:[b.jsxs("label",{className:"text-[10px] font-black uppercase tracking-widest text-gray-500",children:["Questions Added (",F.length,")"]}),F.map((Ee,Qe)=>b.jsxs("div",{className:"bg-matte/50 p-4 rounded-xl border border-white/5 flex justify-between items-center group",children:[b.jsxs("div",{children:[b.jsxs("div",{className:"text-xs font-bold text-white mb-1",children:["Q",Qe+1,". ",Ee.text.substring(0,40),Ee.text.length>40&&"..."]}),b.jsx("div",{className:"text-[9px] uppercase tracking-widest text-gray-500",children:Ee.difficulty})]}),b.jsx("button",{onClick:()=>X(F.filter((dt,mt)=>mt!==Qe)),className:"text-red-500 opacity-0 group-hover:opacity-100 transition-opacity",children:b.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},Qe)),F.length===0&&b.jsx("div",{className:"text-xs text-gray-600 italic text-center py-4 border border-dashed border-white/5 rounded-xl",children:"No questions added yet."})]}),b.jsxs("div",{className:"border-t border-white/10 pt-6",children:[b.jsx("h4",{className:"text-xs font-black uppercase tracking-widest text-contributor mb-4",children:"Add New Question"}),b.jsxs("div",{className:"space-y-4",children:[b.jsx("textarea",{value:ue.text,onChange:Ee=>_e({...ue,text:Ee.target.value}),className:"w-full h-24 bg-matte border border-white/10 rounded-2xl px-4 py-3 text-offwhite focus:border-contributor outline-none transition-colors resize-none text-xs",placeholder:"Question text..."}),b.jsx("div",{className:"flex gap-2",children:["Entry","Medium","Senior"].map(Ee=>b.jsx("button",{type:"button",onClick:()=>_e({...ue,difficulty:Ee}),className:`flex-1 py-2 rounded-xl text-[9px] font-black uppercase tracking-widest border transition-all ${ue.difficulty===Ee?"bg-contributor text-white border-contributor":"bg-matte text-gray-600 border-white/5"}`,children:Ee},Ee))}),b.jsxs("div",{className:"space-y-2",children:[b.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-gray-500",children:"Options (Select Correct Answer)"}),ue.options.map((Ee,Qe)=>b.jsxs("div",{className:"flex gap-2 items-center",children:[b.jsx("input",{type:"radio",name:"correctOption",checked:ue.correct===Qe,onChange:()=>_e({...ue,correct:Qe}),className:"appearance-none w-4 h-4 rounded-full border border-white/20 checked:bg-contributor checked:border-contributor cursor-pointer transition-all"}),b.jsx("input",{value:Ee,onChange:dt=>{const mt=[...ue.options];mt[Qe]=dt.target.value,_e({...ue,options:mt})},className:"flex-grow bg-matte border border-white/10 rounded-xl px-4 py-2 text-xs text-offwhite focus:border-contributor outline-none transition-colors",placeholder:`Option ${String.fromCharCode(65+Qe)}`})]},Qe))]}),b.jsx("button",{type:"button",onClick:se,disabled:!ue.text||ue.options.some(Ee=>!Ee),className:"w-full py-3 text-[10px] font-black uppercase tracking-widest bg-white/10 hover:bg-white/20 text-white rounded-xl transition-all disabled:opacity-50",children:"+ Add Question to Quiz"})]})]}),b.jsxs("div",{className:"flex gap-4 pt-6 border-t border-white/10",children:[b.jsx("button",{type:"button",onClick:()=>p(!1),className:"flex-1 py-4 text-xs font-black uppercase tracking-widest bg-white/5 rounded-2xl hover:bg-white/10 transition-colors",children:"Discard"}),b.jsx("button",{type:"button",onClick:Se,className:"flex-1 py-4 text-xs font-black uppercase tracking-widest bg-contributor text-white rounded-2xl shadow-xl shadow-contributor/20 hover:brightness-110 active:scale-95 transition-all",children:E?"Publishing...":"Publish Full Quiz"})]})]})]})}),V&&b.jsx("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:b.jsxs("div",{className:"bg-gunmetal w-full max-w-2xl rounded-[32px] p-8 border border-white/10 shadow-2xl h-[80vh] flex flex-col",children:[b.jsxs("div",{className:"flex justify-between items-center mb-6",children:[b.jsx("h3",{className:"text-2xl font-black tracking-tight",children:"Quiz Submissions"}),b.jsx("button",{onClick:()=>G(!1),className:"bg-white/5 p-2 rounded-full hover:bg-white/10 transition-colors",children:b.jsx("svg",{className:"w-6 h-6 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),b.jsx("div",{className:"flex-grow overflow-auto",children:pe?b.jsx("div",{className:"text-center py-20 text-gray-500 font-bold animate-pulse",children:"Loading data..."}):b.jsxs("table",{className:"w-full text-left text-sm",children:[b.jsx("thead",{className:"bg-white/5 uppercase text-[10px] font-black tracking-widest text-gray-500 sticky top-0",children:b.jsxs("tr",{children:[b.jsx("th",{className:"px-6 py-4",children:"Student"}),b.jsx("th",{className:"px-6 py-4",children:"Score"}),b.jsx("th",{className:"px-6 py-4 text-right",children:"Date"})]})}),b.jsx("tbody",{className:"divide-y divide-white/5",children:me.length>0?me.map((Ee,Qe)=>b.jsxs("tr",{className:"hover:bg-white/2",children:[b.jsx("td",{className:"px-6 py-4 font-bold text-white",children:Ee.userName||"Anonymous"}),b.jsx("td",{className:"px-6 py-4",children:b.jsxs("span",{className:`px-2 py-1 rounded-md text-[10px] font-black uppercase ${Ee.score===Ee.total?"bg-green-500/20 text-green-500":"bg-white/5 text-gray-400"}`,children:[Ee.score," / ",Ee.total]})}),b.jsx("td",{className:"px-6 py-4 text-gray-500 font-mono text-xs text-right",children:new Date(Ee.timestamp).toLocaleString()})]},Qe)):b.jsx("tr",{children:b.jsx("td",{colSpan:3,className:"px-6 py-12 text-center text-gray-600 font-bold uppercase tracking-widest text-xs",children:"No submissions yet."})})})]})})]})}),ee&&b.jsx("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:b.jsxs("div",{className:"bg-gunmetal w-full max-w-md rounded-[40px] p-10 border border-white/10 shadow-2xl transform animate-in zoom-in duration-300 text-center",children:[b.jsx("div",{className:"w-16 h-16 bg-red-500/10 text-red-500 rounded-2xl flex items-center justify-center mx-auto mb-6",children:b.jsx("svg",{className:"w-8 h-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}),b.jsx("h3",{className:"text-2xl font-black tracking-tight mb-2",children:"Confirm Deletion"}),b.jsx("p",{className:"text-gray-400 font-medium mb-8",children:"Are you sure you want to permanently remove this assessment item? This action cannot be undone."}),b.jsxs("div",{className:"flex gap-3",children:[b.jsx("button",{onClick:()=>Te(null),className:"flex-1 py-3 text-[10px] font-black uppercase tracking-widest bg-white/5 rounded-xl hover:bg-white/10 transition-colors",children:"Cancel"}),b.jsx("button",{onClick:je,className:"flex-1 py-3 text-[10px] font-black uppercase tracking-widest bg-red-500 text-white rounded-xl shadow-xl shadow-red-500/20 hover:brightness-110 transition-all",children:"Delete Forever"})]})]})}),s==="profile"&&b.jsx("div",{className:"animate-fade-in max-w-4xl mx-auto space-y-8 mt-8",children:A?b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"bg-gunmetal p-8 rounded-[32px] border border-white/5 flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("div",{className:"text-sm font-bold text-gray-500 mb-1",children:"CONTRIBUTOR PROFILE"}),b.jsx("h2",{className:"text-3xl font-black text-white mb-2",children:A.username}),b.jsx("div",{className:"flex gap-4",children:b.jsx("span",{className:"bg-contributor/10 text-contributor px-3 py-1 rounded-full text-xs font-bold border border-contributor/20",children:"ROLE: CONTRIBUTOR"})})]}),b.jsx("div",{className:"h-20 w-20 bg-gradient-to-br from-contributor to-emerald-600 rounded-2xl flex items-center justify-center shadow-lg shadow-contributor/20",children:b.jsx("span",{className:"text-3xl",children:""})})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[b.jsxs("div",{className:"bg-gunmetal p-8 rounded-[32px] border border-white/5 hover:border-contributor/30 transition-colors",children:[b.jsx("div",{className:"text-5xl font-black text-white mb-2",children:A.modules||0}),b.jsx("div",{className:"text-gray-400 font-bold uppercase tracking-widest text-sm",children:"Modules Uploaded"})]}),b.jsxs("div",{className:"bg-gunmetal p-8 rounded-[32px] border border-white/5 hover:border-contributor/30 transition-colors",children:[b.jsx("div",{className:"text-5xl font-black text-white mb-2",children:A.quizzes||0}),b.jsx("div",{className:"text-gray-400 font-bold uppercase tracking-widest text-sm",children:"Quizzes Created"})]})]})]}):b.jsxs("div",{className:"text-center py-20",children:[b.jsx("div",{className:"text-gray-500 mb-4",children:"Loading stats..."}),b.jsx("div",{className:"text-xs text-gray-600",children:"If this takes too long, ensure Backend is running."})]})})]})]})},zT=({profile:r,onSignOut:e})=>{var ft,Ut;const n=uu(),[s,o]=Z.useState(()=>localStorage.getItem("learner_active_tab")||"modules");Z.useEffect(()=>{localStorage.setItem("learner_active_tab",s)},[s]);const[u,c]=Z.useState([]),[d,p]=Z.useState(new Set),[g,_]=Z.useState(null),[v,x]=Z.useState([]),[E,k]=Z.useState(0),[A,C]=Z.useState(0),[I,P]=Z.useState(!1),[z,K]=Z.useState(`// Implementation
module my_design(output a);
  assign a = 1;
endmodule`),[Y,ie]=Z.useState(`// Testbench
module tb;
  wire a;
  my_design uut(a);
  initial begin
    $monitor("Time=%0d a=%b", $time, a);
    #10 $finish;
  end
endmodule`),[M,j]=Z.useState(""),[O,B]=Z.useState(!1),[H,N]=Z.useState(null),[D,R]=Z.useState([]),[te,W]=Z.useState(null),[ee,Te]=Z.useState("Verilog"),[ge,Ne]=Z.useState(!0);Z.useEffect(()=>{(async()=>{try{const T=localStorage.getItem("hdlbase_mock_session"),de=JSON.parse(T),q={Authorization:`Bearer ${de.token||de.uid}`},X=await(await fetch("https://hdlbase-backen.onrender.com/api/v1/users/stats",{headers:q})).json();X.status==="success"&&N(X.data);const _e=await(await fetch("https://hdlbase-backen.onrender.com/api/v1/modules",{headers:q})).json();_e.status==="success"&&R(_e.data);const Se=await(await fetch("https://hdlbase-backen.onrender.com/api/v1/quizzes",{headers:q})).json();Se.status==="success"&&c(Se.data);try{const Ae=await(await fetch("https://hdlbase-backen.onrender.com/api/v1/quizzes/my-results",{headers:q})).json();if(Ae.status==="success"){const je=new Set(Ae.data.map(et=>et.quizId));p(je)}}catch{console.warn("Failed to fetch my-results")}}catch(T){console.error("Failed to fetch learner data",T)}finally{Ne(!1)}})()},[]);const V=()=>{n("/dashboard")},G=Ie=>{_(Ie),x(Ie.questions||[]),k(0),C(0),P(!1)},me=async Ie=>{let T=A;if(Ie===v[E].correct&&(T=A+1,C(T)),E+1<v.length)k(E+1);else{P(!0);try{const de=localStorage.getItem("hdlbase_mock_session");if(de){const oe=JSON.parse(de),q=oe.token||oe.uid,F=await fetch("https://hdlbase-backen.onrender.com/api/v1/quizzes/results",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${q}`},body:JSON.stringify({score:T,total:v.length,details:`Quiz: ${(g==null?void 0:g.title)||"Unknown"}`,quizId:(g==null?void 0:g.id)||null})});if(!F.ok){const _e=await F.json();console.warn("Result submission warning:",_e)}const ue=await(await fetch("https://hdlbase-backen.onrender.com/api/v1/users/stats",{headers:{Authorization:`Bearer ${q}`}})).json();ue.status==="success"&&N(ue.data),g!=null&&g.id&&p(_e=>new Set(_e).add(g.id))}}catch(de){console.error("Failed to submit results",de)}}},fe=Ie=>{W(Ie),Te("Verilog")},pe=async()=>{if(!te)return;if(te.files&&te.files.length>0){const de=new jT;te.files.forEach(q=>de.file(q.name,q.content));const oe=await de.generateAsync({type:"blob"});jv.saveAs(oe,`${te.name.replace(/\s+/g,"_")}.zip`),W(null);return}if(!te.code){alert("No code available to download.");return}let Ie=".v";switch(ee){case"VHDL":Ie=".vhd";break;case"SystemVerilog":Ie=".sv";break;default:Ie=".v"}const T=new Blob([te.code],{type:"text/plain;charset=utf-8"});jv.saveAs(T,`${te.name.replace(/\s+/g,"_")}${Ie}`),W(null)},ke=()=>{_(null),P(!1)},ze=async()=>{B(!0),j(`Initializing simulation environment...
`);try{const Ie=localStorage.getItem("hdlbase_mock_session");if(!Ie){j("Error: No active session found. Please log in."),B(!1);return}const T=JSON.parse(Ie),de=T.token||T.uid,oe=await fetch("https://hdlbase-backen.onrender.com/api/v1/simulation/run",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${de}`},body:JSON.stringify({code:z,testbenchCode:Y,language:"Verilog"})}),q=await oe.json();if(!oe.ok)throw new Error(q.message||"Compilation failed");j(F=>{var X;return F+(((X=q.data)==null?void 0:X.output)||"No output received.")})}catch(Ie){j(T=>T+`
[Error] ${Ie.message}`)}finally{B(!1)}},Ve=Z.useRef(null),Me=Z.useRef(null),yt=(Ie,T)=>{var q;const de=(q=Ie.target.files)==null?void 0:q[0];if(!de)return;const oe=new FileReader;oe.onload=F=>{var ue;const X=(ue=F.target)==null?void 0:ue.result;T(X)},oe.readAsText(de),Ie.target.value=""};return b.jsxs("div",{className:"min-h-screen bg-matte text-offwhite flex flex-col",children:[b.jsx("nav",{className:"border-b border-white/5 bg-gunmetal/30 p-4 sticky top-0 backdrop-blur-md z-20",children:b.jsxs("div",{className:"max-w-7xl mx-auto flex justify-between items-center",children:[b.jsxs("div",{className:"flex items-center gap-10",children:[b.jsx("div",{onClick:V,className:"flex items-center cursor-pointer group",children:b.jsx("h1",{className:"text-xl font-black tracking-tighter",children:b.jsx("a",{href:"",className:"logo-text",children:b.jsx("img",{src:wo,alt:"LOGO",className:"w-32 h-auto"})})})}),b.jsx("div",{className:"flex bg-white/5 p-1 rounded-xl",children:["modules","quiz","playground","progress"].map(Ie=>b.jsx("button",{onClick:()=>o(Ie),className:`text-[9px] px-4 py-2 rounded-lg font-black uppercase tracking-widest transition-all ${s===Ie?"bg-learner text-white shadow-lg":"text-gray-500 hover:text-gray-300"}`,children:Ie},Ie))})]}),b.jsxs("div",{className:"flex items-center gap-6",children:[b.jsxs("div",{className:"text-right hidden sm:block",children:[b.jsx("span",{className:"text-xs font-black uppercase text-accent block",children:r.displayName}),b.jsx("span",{className:"text-[9px] text-gray-500 font-bold uppercase tracking-widest",children:"Learner Mode"})]}),b.jsx("button",{onClick:e,className:"text-[10px] font-black text-gray-500 hover:text-white uppercase tracking-widest transition-colors",children:"Exit"})]})]})}),b.jsxs("main",{className:"flex-grow max-w-7xl mx-auto w-full p-6 md:p-12",children:[s==="modules"&&b.jsxs("div",{className:"space-y-12",children:[b.jsxs("header",{children:[b.jsx("h2",{className:"text-4xl font-black tracking-tight mb-2",children:"Knowledge Base"}),b.jsx("p",{className:"text-gray-400 font-medium",children:"Download verified RTL building blocks for your student projects."})]}),b.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:ge?b.jsx("div",{className:"col-span-full py-20 text-center text-gray-500 font-bold animate-pulse",children:"Loading modules..."}):D.length>0?D.map(Ie=>b.jsxs("div",{className:"bg-gunmetal p-8 rounded-[32px] border border-white/5 hover:border-learner/50 transition-all group",children:[b.jsx("div",{className:"text-[10px] text-gray-600 mb-3 font-black uppercase tracking-widest",children:"Educational IP"}),b.jsx("h4",{className:"text-xl font-bold text-accent mb-8 group-hover:text-learner transition-colors",children:Ie.name}),b.jsx("button",{onClick:()=>fe(Ie),className:"w-full py-3 bg-white/5 text-[10px] font-black rounded-xl uppercase tracking-widest hover:bg-learner hover:text-white transition-all",children:"Download Source"})]},Ie.name)):b.jsx("div",{className:"col-span-full py-20 text-center text-gray-500 font-bold",children:"No modules found."})})]}),s==="quiz"&&b.jsx("section",{className:"max-w-7xl mx-auto",children:g?b.jsx("div",{className:"max-w-2xl mx-auto",children:I?b.jsxs("div",{className:"bg-gunmetal p-16 rounded-[48px] border border-white/10 text-center shadow-2xl animate-fade-in",children:[b.jsx("div",{className:"w-20 h-20 bg-learner/10 text-learner rounded-3xl flex items-center justify-center mx-auto mb-8",children:b.jsx("svg",{className:"w-10 h-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),b.jsx("h3",{className:"text-3xl font-black tracking-tighter mb-2",children:"Assessment Complete"}),b.jsxs("p",{className:"text-gray-400 mb-10 text-xl font-medium",children:["You scored ",b.jsx("span",{className:"text-learner font-black",children:A})," out of ",v.length]}),b.jsxs("div",{className:"flex gap-4 justify-center",children:[b.jsx("button",{onClick:()=>{k(0),C(0),P(!1)},className:"px-8 py-3 rounded-2xl font-bold text-sm border border-white/10 hover:bg-white/5 transition-all",children:"Retry"}),b.jsx("button",{onClick:ke,className:"bg-learner text-white px-8 py-3 rounded-2xl font-black text-sm shadow-xl shadow-learner/20 hover:scale-105 transition-all",children:"Back to Quizzes"})]})]}):b.jsx("div",{className:"bg-gunmetal rounded-[48px] border border-white/10 overflow-hidden shadow-2xl animate-fade-in",children:b.jsxs("div",{className:"p-12",children:[b.jsxs("div",{className:"flex justify-between items-center mb-10",children:[b.jsxs("div",{className:"flex flex-col",children:[b.jsx("span",{className:"text-[10px] font-black text-learner uppercase tracking-widest mb-1",children:g.title}),b.jsxs("span",{className:"text-2xl font-black text-white",children:["Question ",E+1]})]}),b.jsxs("div",{className:"text-right",children:[b.jsx("span",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest block mb-1",children:"Progress"}),b.jsx("div",{className:"w-24 h-1 bg-white/10 rounded-full overflow-hidden",children:b.jsx("div",{className:"h-full bg-learner transition-all duration-500",style:{width:`${E/v.length*100}%`}})})]})]}),b.jsx("h3",{className:"text-xl font-medium mb-12 leading-relaxed text-gray-200",children:(ft=v[E])==null?void 0:ft.text}),b.jsx("div",{className:"space-y-4",children:(Ut=v[E])==null?void 0:Ut.options.map((Ie,T)=>b.jsxs("button",{onClick:()=>me(T),className:"w-full text-left p-6 rounded-2xl bg-matte border border-white/5 hover:border-learner/50 hover:bg-white/5 transition-all flex items-center gap-6 group active:scale-[0.98]",children:[b.jsx("span",{className:"w-10 h-10 rounded-xl bg-white/5 flex items-center justify-center font-black text-gray-600 group-hover:text-learner group-hover:bg-learner/10 transition-colors",children:String.fromCharCode(65+T)}),b.jsx("span",{className:"font-bold text-gray-400 group-hover:text-white transition-colors",children:Ie})]},T))})]})})}):b.jsxs("div",{children:[b.jsxs("div",{className:"mb-12",children:[b.jsx("h2",{className:"text-4xl font-black tracking-tight",children:"Available Quizzes"}),b.jsx("p",{className:"text-gray-400 font-medium",children:"Verify your skills with community-curated assessments."})]}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:u.map(Ie=>{var T;return b.jsxs("div",{onClick:()=>G(Ie),className:"bg-gunmetal p-8 rounded-[32px] border border-white/5 hover:border-learner/50 hover:bg-white/5 transition-all cursor-pointer group",children:[b.jsxs("div",{className:"text-[10px] text-gray-500 mb-4 font-black uppercase tracking-widest",children:[((T=Ie.questions)==null?void 0:T.length)||0," Questions"]}),b.jsx("h3",{className:"text-2xl font-bold mb-4 group-hover:text-learner transition-colors",children:Ie.title}),b.jsx("p",{className:"text-sm text-gray-400 mb-8 line-clamp-2",children:Ie.description}),b.jsx("div",{className:"flex justify-between items-center",children:d.has(Ie.id)?b.jsxs("div",{className:"flex gap-2",children:[b.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest bg-green-500/10 text-green-500 px-3 py-3 rounded-xl border border-green-500/20",children:"Done "}),b.jsx("button",{className:"text-[10px] font-black uppercase tracking-widest bg-white/5 text-gray-400 px-4 py-3 rounded-xl hover:bg-white/10 transition-all",children:"Retry"})]}):b.jsx("button",{className:"text-[10px] font-black uppercase tracking-widest bg-learner text-white px-6 py-3 rounded-xl shadow-lg shadow-learner/20 hover:scale-105 transition-all",children:"Start Quiz"})})]},Ie.id)})})]})}),s==="playground"&&b.jsxs("div",{className:"h-[70vh] flex flex-col",children:[b.jsxs("div",{className:"flex justify-between items-end mb-8",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-3xl font-black tracking-tight",children:"RTL Sandbox"}),b.jsx("p",{className:"text-gray-400 text-sm font-medium",children:"Draft and test logic blocks with real-time feedback."})]}),b.jsx("button",{onClick:ze,disabled:O,className:"bg-learner text-white px-8 py-3 rounded-2xl font-black text-xs shadow-xl shadow-learner/20 hover:brightness-110 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:O?"Compiling...":"Compile & Test"})]}),b.jsxs("div",{className:"flex-grow flex flex-col gap-6",children:[b.jsxs("div",{className:"flex-grow grid grid-cols-1 lg:grid-cols-2 gap-6 min-h-[400px]",children:[b.jsxs("div",{className:"flex flex-col gap-2",children:[b.jsx("input",{type:"file",accept:".v,.sv,.txt",className:"hidden",ref:Ve,onChange:Ie=>yt(Ie,K)}),b.jsxs("div",{className:"flex justify-between items-center px-2",children:[b.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-gray-500",children:"design.sv"}),b.jsxs("button",{onClick:()=>{var Ie;return(Ie=Ve.current)==null?void 0:Ie.click()},className:"text-[10px] font-bold text-learner hover:text-white uppercase tracking-widest transition-colors flex items-center gap-1",children:[b.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),"Upload"]})]}),b.jsx("textarea",{className:"w-full h-full bg-gunmetal border border-white/10 rounded-[20px] p-6 font-mono text-sm text-accent/80 focus:border-learner outline-none transition-all resize-none shadow-inner leading-relaxed overflow-auto",value:z,onChange:Ie=>K(Ie.target.value),spellCheck:!1,placeholder:"// Design Code"})]}),b.jsxs("div",{className:"flex flex-col gap-2",children:[b.jsx("input",{type:"file",accept:".v,.sv,.txt",className:"hidden",ref:Me,onChange:Ie=>yt(Ie,ie)}),b.jsxs("div",{className:"flex justify-between items-center px-2",children:[b.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-gray-500",children:"testbench.sv"}),b.jsxs("button",{onClick:()=>{var Ie;return(Ie=Me.current)==null?void 0:Ie.click()},className:"text-[10px] font-bold text-learner hover:text-white uppercase tracking-widest transition-colors flex items-center gap-1",children:[b.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),"Upload"]})]}),b.jsx("textarea",{className:"w-full h-full bg-gunmetal border border-white/10 rounded-[20px] p-6 font-mono text-sm text-accent/80 focus:border-learner outline-none transition-all resize-none shadow-inner leading-relaxed overflow-auto",value:Y,onChange:Ie=>ie(Ie.target.value),spellCheck:!1,placeholder:"// Testbench Code"})]})]}),b.jsxs("div",{className:"h-[200px] bg-black/40 border-t-2 border-white/5 p-0 flex flex-col",children:[b.jsxs("div",{className:"bg-white/5 px-6 py-2 flex items-center gap-2",children:[b.jsx("span",{className:"w-2 h-2 rounded-full bg-learner"}),b.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Console"})]}),b.jsx("div",{className:"flex-grow font-mono text-xs text-green-400/90 p-6 overflow-auto whitespace-pre-wrap font-medium",children:M||b.jsx("span",{className:"text-gray-600 opacity-50",children:"// Output will appear here after compilation..."})})]})]})]}),te&&b.jsx("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:b.jsxs("div",{className:"bg-gunmetal w-full max-w-sm rounded-[32px] p-8 border border-white/10 shadow-2xl transform animate-in zoom-in duration-300",children:[b.jsx("h3",{className:"text-xl font-black tracking-tight mb-6",children:"Download Module"}),b.jsxs("div",{className:"space-y-4 mb-8",children:[b.jsxs("div",{children:[b.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-gray-500 block mb-2",children:"Module"}),b.jsx("div",{className:"text-white font-bold",children:te.name})]}),(!te.files||te.files.length===0)&&b.jsxs("div",{children:[b.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-gray-500 block mb-2",children:"Format"}),b.jsxs("select",{value:ee,onChange:Ie=>Te(Ie.target.value),className:"w-full bg-matte border border-white/10 rounded-xl px-4 py-3 text-offwhite focus:border-learner outline-none transition-colors appearance-none font-bold text-sm",children:[b.jsx("option",{value:"Verilog",children:"Verilog (.v)"}),b.jsx("option",{value:"VHDL",children:"VHDL (.vhd)"}),b.jsx("option",{value:"SystemVerilog",children:"SystemVerilog (.sv)"})]})]}),te.files&&te.files.length>0&&b.jsxs("div",{className:"text-xs text-gray-400 font-bold bg-white/5 p-4 rounded-xl border border-white/5",children:[" Contains ",te.files.length," source files. Will download as ZIP."]})]}),b.jsxs("div",{className:"flex gap-3",children:[b.jsx("button",{onClick:()=>W(null),className:"flex-1 py-3 text-[10px] font-black uppercase tracking-widest bg-white/5 rounded-xl hover:bg-white/10 transition-colors",children:"Cancel"}),b.jsx("button",{onClick:pe,className:"flex-1 py-3 text-[10px] font-black uppercase tracking-widest bg-learner text-white rounded-xl shadow-xl shadow-learner/20 hover:brightness-110 transition-all",children:"Download"})]})]})}),s==="progress"&&b.jsx("div",{className:"max-w-4xl mx-auto py-12",children:b.jsx("div",{className:"space-y-8 animate-fade-in",children:b.jsx("div",{className:"bg-gunmetal p-8 rounded-[32px] border border-white/5 relative overflow-hidden",children:b.jsxs("div",{className:"relative z-10 flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("div",{className:"text-sm font-bold text-gray-500 mb-1",children:"LEARNER PROFILE"}),b.jsx("h2",{className:"text-3xl font-black text-white mb-2",children:(H==null?void 0:H.username)||"Learner"}),b.jsxs("div",{className:"flex gap-4",children:[b.jsxs("span",{className:"bg-learner/10 text-learner px-3 py-1 rounded-full text-xs font-bold border border-learner/20",children:["ACCURACY: ",(H==null?void 0:H.accuracy)||0,"%"]}),b.jsxs("span",{className:"bg-purple-500/10 text-purple-400 px-3 py-1 rounded-full text-xs font-bold border border-purple-500/20",children:["SOLVED: ",(H==null?void 0:H.solved)||0]})]})]}),b.jsx("div",{className:"h-16 w-16 bg-gradient-to-br from-learner to-blue-600 rounded-2xl flex items-center justify-center shadow-lg shadow-learner/20",children:b.jsx("span",{className:"text-2xl",children:""})})]})})})})]})]})},UT=({onLoginSuccess:r})=>{const[e,n]=Z.useState(""),[s,o]=Z.useState(""),[u,c]=Z.useState(""),[d,p]=Z.useState(""),[g,_]=Z.useState(!1),[v,x]=Z.useState(!1),[E,k]=Z.useState(hn.LEARNER),[A,C]=Z.useState(!1),I=async z=>{if(z.preventDefault(),u!==d){alert("Passwords do not match!");return}C(!0);try{const{createUserWithEmailAndPassword:K,updateProfile:Y}=await Ti(async()=>{const{createUserWithEmailAndPassword:te,updateProfile:W}=await Promise.resolve().then(()=>wh);return{createUserWithEmailAndPassword:te,updateProfile:W}},void 0),{doc:ie,setDoc:M}=await Ti(async()=>{const{doc:te,setDoc:W}=await Promise.resolve().then(()=>Zm);return{doc:te,setDoc:W}},void 0),{auth:j,db:O}=await Ti(async()=>{const{auth:te,db:W}=await Promise.resolve().then(()=>Mh);return{auth:te,db:W}},void 0),H=(await K(j,e,u)).user,N=s||`user_${Date.now()}`;await Y(H,{displayName:N});const D=ie(O,"users",H.uid),R={uid:H.uid,email:H.email||"",role:E,displayName:N,username:N.toLowerCase().replace(/\s+/g,"_"),category:E===hn.CONTRIBUTOR?"HDL Designer":"Learner"};await M(D,R)}catch(K){console.error("Signup Error:",K),alert("Signup failed: "+K.message),C(!1)}},P=async()=>{C(!0);try{const{signInWithPopup:z}=await Ti(async()=>{const{signInWithPopup:R}=await Promise.resolve().then(()=>wh);return{signInWithPopup:R}},void 0),{doc:K,setDoc:Y,getDoc:ie}=await Ti(async()=>{const{doc:R,setDoc:te,getDoc:W}=await Promise.resolve().then(()=>Zm);return{doc:R,setDoc:te,getDoc:W}},void 0),{auth:M,googleProvider:j,db:O}=await Ti(async()=>{const{auth:R,googleProvider:te,db:W}=await Promise.resolve().then(()=>Mh);return{auth:R,googleProvider:te,db:W}},void 0),H=(await z(M,j)).user,N=K(O,"users",H.uid);if(!(await ie(N)).exists()){const R={uid:H.uid,email:H.email||"",role:E,displayName:H.displayName||"User",username:(H.displayName||"User").toLowerCase().replace(/\s+/g,"_"),category:E===hn.CONTRIBUTOR?"HDL Designer":"Learner"};await Y(N,R)}}catch(z){console.error("Google Login Error:",z),alert("Google Login failed: "+z.message),C(!1)}};return b.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 bg-matte relative overflow-hidden",children:[b.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-contributor/10 rounded-full blur-[120px]"}),b.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-learner/10 rounded-full blur-[120px]"}),b.jsxs("div",{className:"w-full max-w-md frosted-glass rounded-2xl p-8 shadow-2xl z-10",children:[b.jsxs("div",{className:"text-center mb-8",children:[b.jsx("h1",{className:"text-4xl font-black tracking-tighter text-accent mb-1",children:b.jsx(_s,{to:"/",className:"logo-text",children:b.jsx("img",{src:wo,alt:"LOGO",className:"w-32 h-auto mx-auto block"})})}),b.jsx("p",{className:"text-gray-400 text-xs font-bold uppercase tracking-widest",children:"Create New Account"})]}),b.jsxs("div",{className:"space-y-6",children:[b.jsxs("form",{onSubmit:I,className:"space-y-4",children:[b.jsxs("div",{className:"space-y-1",children:[b.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Username"}),b.jsx("input",{type:"text",required:!0,className:"w-full bg-gunmetal/50 border border-white/10 rounded-xl px-4 py-3 focus:outline-none focus:border-accent transition-colors text-offwhite font-medium",placeholder:"chip_wizard",value:s,onChange:z=>o(z.target.value)})]}),b.jsxs("div",{className:"space-y-1",children:[b.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Email Address"}),b.jsx("input",{type:"email",required:!0,className:"w-full bg-gunmetal/50 border border-white/10 rounded-xl px-4 py-3 focus:outline-none focus:border-accent transition-colors text-offwhite font-medium",placeholder:"engineer@chipcrafters.com",value:e,onChange:z=>n(z.target.value)})]}),b.jsxs("div",{className:"space-y-1",children:[b.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Password"}),b.jsxs("div",{className:"relative",children:[b.jsx("input",{type:g?"text":"password",required:!0,className:"w-full bg-gunmetal/50 border border-white/10 rounded-xl px-4 py-3 focus:outline-none focus:border-accent transition-colors text-offwhite font-medium pr-10",placeholder:"",value:u,onChange:z=>c(z.target.value)}),b.jsx("button",{type:"button",onClick:()=>_(!g),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white transition-colors",children:g?b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),b.jsxs("div",{className:"space-y-1",children:[b.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Confirm Password"}),b.jsxs("div",{className:"relative",children:[b.jsx("input",{type:v?"text":"password",required:!0,className:"w-full bg-gunmetal/50 border border-white/10 rounded-xl px-4 py-3 focus:outline-none focus:border-accent transition-colors text-offwhite font-medium pr-10",placeholder:"",value:d,onChange:z=>p(z.target.value)}),b.jsx("button",{type:"button",onClick:()=>x(!v),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white transition-colors",children:v?b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),b.jsxs("div",{className:"space-y-1",children:[b.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Select Role"}),b.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[b.jsx("button",{type:"button",onClick:()=>k(hn.CONTRIBUTOR),className:`py-2 px-4 rounded-xl border text-[10px] font-black uppercase tracking-widest transition-all ${E===hn.CONTRIBUTOR?"bg-contributor/20 border-contributor text-contributor":"bg-gunmetal border-white/5 text-gray-600"}`,children:"Contributor"}),b.jsx("button",{type:"button",onClick:()=>k(hn.LEARNER),className:`py-2 px-4 rounded-xl border text-[10px] font-black uppercase tracking-widest transition-all ${E===hn.LEARNER?"bg-learner/20 border-learner text-learner":"bg-gunmetal border-white/5 text-gray-600"}`,children:"Learner"})]})]}),b.jsx("button",{type:"submit",disabled:A,className:"w-full bg-accent text-matte font-black py-4 rounded-xl hover:scale-[1.02] active:scale-[0.98] transition-all disabled:opacity-50 shadow-2xl shadow-white/5 uppercase text-xs tracking-widest",children:A?"Processing...":"Sign Up"})]}),b.jsxs("div",{className:"relative flex items-center py-2",children:[b.jsx("div",{className:"flex-grow border-t border-white/10"}),b.jsx("span",{className:"flex-shrink mx-4 text-gray-500 text-[9px] uppercase font-black tracking-widest",children:"Or Continue With"}),b.jsx("div",{className:"flex-grow border-t border-white/10"})]}),b.jsxs("button",{onClick:P,className:"w-full bg-white text-gray-800 font-bold py-4 rounded-xl hover:scale-[1.02] active:scale-[0.98] transition-all shadow-2xl flex items-center justify-center gap-3",children:[b.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[b.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),b.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),b.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.84z",fill:"#FBBC05"}),b.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),b.jsx("span",{className:"text-xs uppercase tracking-widest",children:"Google Direct Login"})]}),b.jsxs("div",{className:"flex items-center justify-center gap-2 mt-4",children:[b.jsx("p",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-widest",children:"Already have an account?"}),b.jsx(_s,{to:"/login",className:"text-[10px] text-accent font-black uppercase tracking-widest hover:underline",children:"Log In"})]})]})]})]})},BT=()=>{};var Lv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},FT=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],c=r[n++],d=r[n++],p=((o&7)<<18|(u&63)<<12|(c&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],c=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return e.join("")},Sb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],c=o+1<r.length,d=c?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,_=u>>2,v=(u&3)<<4|d>>4;let x=(d&15)<<2|g>>6,E=g&63;p||(E=64,c||(x=64)),s.push(n[_],n[v],n[x],n[E])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Tb(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):FT(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],d=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const v=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||d==null||g==null||v==null)throw new HT;const x=u<<2|d>>4;if(s.push(x),g!==64){const E=d<<4&240|g>>2;if(s.push(E),v!==64){const k=g<<6&192|v;s.push(k)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class HT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qT=function(r){const e=Tb(r);return Sb.encodeByteArray(e,!0)},dh=function(r){return qT(r).replace(/\./g,"")},Ab=function(r){try{return Sb.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT=()=>GT().__FIREBASE_DEFAULTS__,KT=()=>{if(typeof process>"u"||typeof Lv>"u")return;const r=Lv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},YT=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&Ab(r[1]);return e&&JSON.parse(e)},Vh=()=>{try{return BT()||QT()||KT()||YT()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Rb=r=>{var e,n;return(n=(e=Vh())==null?void 0:e.emulatorHosts)==null?void 0:n[r]},XT=r=>{const e=Rb(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Cb=()=>{var r;return(r=Vh())==null?void 0:r.config},Nb=r=>{var e;return(e=Vh())==null?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Ib(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WT(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[dh(JSON.stringify(n)),dh(JSON.stringify(c)),""].join(".")}const Yl={};function ZT(){const r={prod:[],emulator:[]};for(const e of Object.keys(Yl))Yl[e]?r.emulator.push(e):r.prod.push(e);return r}function JT(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let Vv=!1;function kb(r,e){if(typeof window>"u"||typeof document>"u"||!jo(window.location.host)||Yl[r]===e||Yl[r]||Vv)return;Yl[r]=e;function n(x){return`__firebase__banner__${x}`}const s="__firebase__banner",u=ZT().prod.length>0;function c(){const x=document.getElementById(s);x&&x.remove()}function d(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function p(x,E){x.setAttribute("width","24"),x.setAttribute("id",E),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function g(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{Vv=!0,c()},x}function _(x,E){x.setAttribute("id",E),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function v(){const x=JT(s),E=n("text"),k=document.getElementById(E)||document.createElement("span"),A=n("learnmore"),C=document.getElementById(A)||document.createElement("a"),I=n("preprendIcon"),P=document.getElementById(I)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const z=x.element;d(z),_(C,A);const K=g();p(P,I),z.append(P,k,C,K),document.body.appendChild(z)}u?(k.innerText="Preview backend disconnected.",P.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(P.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function eS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Tn())}function tS(){var e;const r=(e=Vh())==null?void 0:e.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function iS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function rS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function sS(){const r=Tn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function aS(){return!tS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function oS(){try{return typeof indexedDB=="object"}catch{return!1}}function lS(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)==null?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS="FirebaseError";class Lr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=uS,Object.setPrototypeOf(this,Lr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hu.prototype.create)}}class hu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],c=u?cS(u,s):"Error",d=`${this.serviceName}: ${c} (${o}).`;return new Lr(o,d,s)}}function cS(r,e){return r.replace(hS,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const hS=/\{\$([^}]+)}/g;function fS(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ha(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],c=e[o];if(Pv(u)&&Pv(c)){if(!ha(u,c))return!1}else if(u!==c)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Pv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Hl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function ql(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function dS(r,e){const n=new mS(r,e);return n.subscribe.bind(n)}class mS{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");pS(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=fm),o.error===void 0&&(o.error=fm),o.complete===void 0&&(o.complete=fm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pS(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function fm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xn(r){return r&&r._delegate?r._delegate:r}class fa{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new $T;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_S(e))try{this.getOrInitializeService({instanceIdentifier:la})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=la){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=la){return this.instances.has(e)}getOptions(e=la){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);s===d&&c.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:yS(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=la){return this.component?this.component.multipleInstances?e:la:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function yS(r){return r===la?void 0:r}function _S(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new gS(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ot;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(ot||(ot={}));const bS={debug:ot.DEBUG,verbose:ot.VERBOSE,info:ot.INFO,warn:ot.WARN,error:ot.ERROR,silent:ot.SILENT},wS=ot.INFO,ES={[ot.DEBUG]:"log",[ot.VERBOSE]:"log",[ot.INFO]:"info",[ot.WARN]:"warn",[ot.ERROR]:"error"},xS=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=ES[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class up{constructor(e){this.name=e,this._logLevel=wS,this._logHandler=xS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ot))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ot.DEBUG,...e),this._logHandler(this,ot.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ot.VERBOSE,...e),this._logHandler(this,ot.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ot.INFO,...e),this._logHandler(this,ot.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ot.WARN,...e),this._logHandler(this,ot.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ot.ERROR,...e),this._logHandler(this,ot.ERROR,...e)}}const TS=(r,e)=>e.some(n=>r instanceof n);let zv,Uv;function SS(){return zv||(zv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function AS(){return Uv||(Uv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Db=new WeakMap,Am=new WeakMap,Ob=new WeakMap,dm=new WeakMap,cp=new WeakMap;function RS(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",c)},u=()=>{n(vs(r.result)),o()},c=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&Db.set(n,r)}).catch(()=>{}),cp.set(e,r),e}function CS(r){if(Am.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",c),r.removeEventListener("abort",c)},u=()=>{n(),o()},c=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",c),r.addEventListener("abort",c)});Am.set(r,e)}let Rm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Am.get(r);if(e==="objectStoreNames")return r.objectStoreNames||Ob.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return vs(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function NS(r){Rm=r(Rm)}function IS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(mm(this),e,...n);return Ob.set(s,e.sort?e.sort():[e]),vs(s)}:AS().includes(r)?function(...e){return r.apply(mm(this),e),vs(Db.get(this))}:function(...e){return vs(r.apply(mm(this),e))}}function kS(r){return typeof r=="function"?IS(r):(r instanceof IDBTransaction&&CS(r),TS(r,SS())?new Proxy(r,Rm):r)}function vs(r){if(r instanceof IDBRequest)return RS(r);if(dm.has(r))return dm.get(r);const e=kS(r);return e!==r&&(dm.set(r,e),cp.set(e,r)),e}const mm=r=>cp.get(r);function DS(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const c=indexedDB.open(r,e),d=vs(c);return s&&c.addEventListener("upgradeneeded",p=>{s(vs(c.result),p.oldVersion,p.newVersion,vs(c.transaction),p)}),n&&c.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),d.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const OS=["get","getKey","getAll","getAllKeys","count"],MS=["put","add","delete","clear"],pm=new Map;function Bv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(pm.get(e))return pm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=MS.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||OS.includes(n)))return;const u=async function(c,...d){const p=this.transaction(c,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[n](...d),o&&p.done]))[0]};return pm.set(e,u),u}NS(r=>({...r,get:(e,n,s)=>Bv(e,n)||r.get(e,n,s),has:(e,n)=>!!Bv(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(LS(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function LS(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Cm="@firebase/app",Fv="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dr=new up("@firebase/app"),VS="@firebase/app-compat",PS="@firebase/analytics-compat",zS="@firebase/analytics",US="@firebase/app-check-compat",BS="@firebase/app-check",FS="@firebase/auth",HS="@firebase/auth-compat",qS="@firebase/database",GS="@firebase/data-connect",QS="@firebase/database-compat",KS="@firebase/functions",YS="@firebase/functions-compat",XS="@firebase/installations",$S="@firebase/installations-compat",WS="@firebase/messaging",ZS="@firebase/messaging-compat",JS="@firebase/performance",eA="@firebase/performance-compat",tA="@firebase/remote-config",nA="@firebase/remote-config-compat",iA="@firebase/storage",rA="@firebase/storage-compat",sA="@firebase/firestore",aA="@firebase/ai",oA="@firebase/firestore-compat",lA="firebase",uA="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm="[DEFAULT]",cA={[Cm]:"fire-core",[VS]:"fire-core-compat",[zS]:"fire-analytics",[PS]:"fire-analytics-compat",[BS]:"fire-app-check",[US]:"fire-app-check-compat",[FS]:"fire-auth",[HS]:"fire-auth-compat",[qS]:"fire-rtdb",[GS]:"fire-data-connect",[QS]:"fire-rtdb-compat",[KS]:"fire-fn",[YS]:"fire-fn-compat",[XS]:"fire-iid",[$S]:"fire-iid-compat",[WS]:"fire-fcm",[ZS]:"fire-fcm-compat",[JS]:"fire-perf",[eA]:"fire-perf-compat",[tA]:"fire-rc",[nA]:"fire-rc-compat",[iA]:"fire-gcs",[rA]:"fire-gcs-compat",[sA]:"fire-fst",[oA]:"fire-fst-compat",[aA]:"fire-vertex","fire-js":"fire-js",[lA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mh=new Map,hA=new Map,Im=new Map;function Hv(r,e){try{r.container.addComponent(e)}catch(n){Dr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Eo(r){const e=r.name;if(Im.has(e))return Dr.debug(`There were multiple attempts to register component ${e}.`),!1;Im.set(e,r);for(const n of mh.values())Hv(n,r);for(const n of hA.values())Hv(n,r);return!0}function hp(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Qn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},bs=new hu("app","Firebase",fA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new fa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw bs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lo=uA;function Mb(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:Nm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw bs.create("bad-app-name",{appName:String(o)});if(n||(n=Cb()),!n)throw bs.create("no-options");const u=mh.get(o);if(u){if(ha(n,u.options)&&ha(s,u.config))return u;throw bs.create("duplicate-app",{appName:o})}const c=new vS(o);for(const p of Im.values())c.addComponent(p);const d=new dA(n,s,c);return mh.set(o,d),d}function jb(r=Nm){const e=mh.get(r);if(!e&&r===Nm&&Cb())return Mb();if(!e)throw bs.create("no-app",{appName:r});return e}function ws(r,e,n){let s=cA[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const c=[`Unable to register library "${s}" with version "${e}":`];o&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&c.push("and"),u&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Dr.warn(c.join(" "));return}Eo(new fa(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mA="firebase-heartbeat-database",pA=1,nu="firebase-heartbeat-store";let gm=null;function Lb(){return gm||(gm=DS(mA,pA,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(nu)}catch(n){console.warn(n)}}}}).catch(r=>{throw bs.create("idb-open",{originalErrorMessage:r.message})})),gm}async function gA(r){try{const n=(await Lb()).transaction(nu),s=await n.objectStore(nu).get(Vb(r));return await n.done,s}catch(e){if(e instanceof Lr)Dr.warn(e.message);else{const n=bs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Dr.warn(n.message)}}}async function qv(r,e){try{const s=(await Lb()).transaction(nu,"readwrite");await s.objectStore(nu).put(e,Vb(r)),await s.done}catch(n){if(n instanceof Lr)Dr.warn(n.message);else{const s=bs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Dr.warn(s.message)}}}function Vb(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA=1024,_A=30;class vA{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new wA(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Gv();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(c=>c.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>_A){const c=EA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Dr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Gv(),{heartbeatsToSend:s,unsentEntries:o}=bA(this._heartbeatsCache.heartbeats),u=dh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Dr.warn(n),""}}}function Gv(){return new Date().toISOString().substring(0,10)}function bA(r,e=yA){const n=[];let s=r.slice();for(const o of r){const u=n.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),Qv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Qv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class wA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return oS()?lS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await gA(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return qv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return qv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Qv(r){return dh(JSON.stringify({version:2,heartbeats:r})).length}function EA(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xA(r){Eo(new fa("platform-logger",e=>new jS(e),"PRIVATE")),Eo(new fa("heartbeat",e=>new vA(e),"PRIVATE")),ws(Cm,Fv,r),ws(Cm,Fv,"esm2020"),ws("fire-js","")}xA("");var TA="firebase",SA="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ws(TA,SA,"app");function Pb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const zb=Pb,Ub=new hu("auth","Firebase",Pb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ph=new up("@firebase/auth");function AA(r,...e){ph.logLevel<=ot.WARN&&ph.warn(`Auth (${Lo}): ${r}`,...e)}function ih(r,...e){ph.logLevel<=ot.ERROR&&ph.error(`Auth (${Lo}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hi(r,...e){throw dp(r,...e)}function Ri(r,...e){return dp(r,...e)}function fp(r,e,n){const s={...zb(),[e]:n};return new hu("auth","Firebase",s).create(e,{appName:r.name})}function Nr(r){return fp(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function RA(r,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&hi(r,"argument-error"),fp(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function dp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return Ub.create(r,...e)}function He(r,e,...n){if(!r)throw dp(e,...n)}function Ar(r){const e="INTERNAL ASSERTION FAILED: "+r;throw ih(e),new Error(e)}function Or(r,e){r||Ar(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function km(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.href)||""}function CA(){return Kv()==="http:"||Kv()==="https:"}function Kv(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(CA()||iS()||"connection"in navigator)?navigator.onLine:!0}function IA(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(e,n){this.shortDelay=e,this.longDelay=n,Or(n>e,"Short delay should be less than long delay!"),this.isMobile=eS()||rS()}get(){return NA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mp(r,e){Or(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ar("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ar("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ar("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],OA=new du(3e4,6e4);function Os(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Vr(r,e,n,s,o={}){return Fb(r,o,async()=>{let u={},c={};s&&(e==="GET"?c=s:u={body:JSON.stringify(s)});const d=fu({key:r.config.apiKey,...c}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:p,...u};return nS()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&jo(r.emulatorConfig.host)&&(g.credentials="include"),Bb.fetch()(await Hb(r,r.config.apiHost,n,d),g)})}async function Fb(r,e,n){r._canInitEmulator=!1;const s={...kA,...e};try{const o=new jA(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const c=await u.json();if("needConfirmation"in c)throw Yc(r,"account-exists-with-different-credential",c);if(u.ok&&!("errorMessage"in c))return c;{const d=u.ok?c.errorMessage:c.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yc(r,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw Yc(r,"email-already-in-use",c);if(p==="USER_DISABLED")throw Yc(r,"user-disabled",c);const _=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw fp(r,_,g);hi(r,_)}}catch(o){if(o instanceof Lr)throw o;hi(r,"network-request-failed",{message:String(o)})}}async function mu(r,e,n,s,o={}){const u=await Vr(r,e,n,s,o);return"mfaPendingCredential"in u&&hi(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function Hb(r,e,n,s){const o=`${e}${n}?${s}`,u=r,c=u.config.emulator?mp(r.config,o):`${r.config.apiScheme}://${o}`;return DA.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(c).toString():c}function MA(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class jA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ri(this.auth,"network-request-failed")),OA.get())})}}function Yc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Ri(r,e,s);return o.customData._tokenResponse=n,o}function Yv(r){return r!==void 0&&r.enterprise!==void 0}class LA{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return MA(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function VA(r,e){return Vr(r,"GET","/v2/recaptchaConfig",Os(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PA(r,e){return Vr(r,"POST","/v1/accounts:delete",e)}async function gh(r,e){return Vr(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function qb(r,e=!1){const n=Xn(r),s=await n.getIdToken(e),o=pp(s);He(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,c=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Xl(ym(o.auth_time)),issuedAtTime:Xl(ym(o.iat)),expirationTime:Xl(ym(o.exp)),signInProvider:c||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function ym(r){return Number(r)*1e3}function pp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return ih("JWT malformed, contained fewer than 3 sections"),null;try{const o=Ab(n);return o?JSON.parse(o):(ih("Failed to decode base64 JWT payload"),null)}catch(o){return ih("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Xv(r){const e=pp(r);return He(e,"internal-error"),He(typeof e.exp<"u","internal-error"),He(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xo(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Lr&&zA(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function zA({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xl(this.lastLoginAt),this.creationTime=Xl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yh(r){var v;const e=r.auth,n=await r.getIdToken(),s=await xo(r,gh(e,{idToken:n}));He(s==null?void 0:s.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=(v=o.providerUserInfo)!=null&&v.length?Qb(o.providerUserInfo):[],c=BA(r.providerData,u),d=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!(c!=null&&c.length),g=d?p:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Dm(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,_)}async function Gb(r){const e=Xn(r);await yh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function BA(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function Qb(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FA(r,e){const n=await Fb(r,{},async()=>{const s=fu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,c=await Hb(r,o,"/v1/token",`key=${u}`),d=await r._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:s};return r.emulatorConfig&&jo(r.emulatorConfig.host)&&(p.credentials="include"),Bb.fetch()(c,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function HA(r,e){return Vr(r,"POST","/v2/accounts:revokeToken",Os(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){He(e.idToken,"internal-error"),He(typeof e.idToken<"u","internal-error"),He(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Xv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){He(e.length!==0,"internal-error");const n=Xv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(He(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await FA(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,c=new go;return s&&(He(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),o&&(He(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),u&&(He(typeof u=="number","internal-error",{appName:e}),c.expirationTime=u),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new go,this.toJSON())}_performRefresh(){return Ar("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ps(r,e){He(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Si{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new UA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Dm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await xo(this,this.stsTokenManager.getToken(this.auth,e));return He(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return qb(this,e)}reload(){return Gb(this)}_assign(e){this!==e&&(He(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Si({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){He(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await yh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Qn(this.auth.app))return Promise.reject(Nr(this.auth));const e=await this.getIdToken();return await xo(this,PA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,c=n.photoURL??void 0,d=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,_=n.lastLoginAt??void 0,{uid:v,emailVerified:x,isAnonymous:E,providerData:k,stsTokenManager:A}=n;He(v&&A,e,"internal-error");const C=go.fromJSON(this.name,A);He(typeof v=="string",e,"internal-error"),ps(s,e.name),ps(o,e.name),He(typeof x=="boolean",e,"internal-error"),He(typeof E=="boolean",e,"internal-error"),ps(u,e.name),ps(c,e.name),ps(d,e.name),ps(p,e.name),ps(g,e.name),ps(_,e.name);const I=new Si({uid:v,auth:e,email:o,emailVerified:x,displayName:s,isAnonymous:E,photoURL:c,phoneNumber:u,tenantId:d,stsTokenManager:C,createdAt:g,lastLoginAt:_});return k&&Array.isArray(k)&&(I.providerData=k.map(P=>({...P}))),p&&(I._redirectEventId=p),I}static async _fromIdTokenResponse(e,n,s=!1){const o=new go;o.updateFromServerResponse(n);const u=new Si({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await yh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];He(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?Qb(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),d=new go;d.updateFromIdToken(s);const p=new Si({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:c}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Dm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v=new Map;function Rr(r){Or(r instanceof Function,"Expected a class definition");let e=$v.get(r);return e?(Or(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,$v.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Kb.type="NONE";const Om=Kb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rh(r,e,n){return`firebase:${r}:${e}:${n}`}class yo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=rh(this.userKey,o.apiKey,u),this.fullPersistenceKey=rh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await gh(this.auth,{idToken:e}).catch(()=>{});return n?Si._fromGetAccountInfoResponse(this.auth,n,e):null}return Si._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new yo(Rr(Om),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Rr(Om);const c=rh(s,e.config.apiKey,e.name);let d=null;for(const g of n)try{const _=await g._get(c);if(_){let v;if(typeof _=="string"){const x=await gh(e,{idToken:_}).catch(()=>{});if(!x)break;v=await Si._fromGetAccountInfoResponse(e,x,_)}else v=Si._fromJSON(e,_);g!==u&&(d=v),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new yo(u,e,s):(u=p[0],d&&await u._set(c,d.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(c)}catch{}})),new yo(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wv(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Wb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Yb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Jb(e))return"Blackberry";if(e1(e))return"Webos";if(Xb(e))return"Safari";if((e.includes("chrome/")||$b(e))&&!e.includes("edge/"))return"Chrome";if(Zb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function Yb(r=Tn()){return/firefox\//i.test(r)}function Xb(r=Tn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $b(r=Tn()){return/crios\//i.test(r)}function Wb(r=Tn()){return/iemobile/i.test(r)}function Zb(r=Tn()){return/android/i.test(r)}function Jb(r=Tn()){return/blackberry/i.test(r)}function e1(r=Tn()){return/webos/i.test(r)}function gp(r=Tn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function qA(r=Tn()){var e;return gp(r)&&!!((e=window.navigator)!=null&&e.standalone)}function GA(){return sS()&&document.documentMode===10}function t1(r=Tn()){return gp(r)||Zb(r)||e1(r)||Jb(r)||/windows phone/i.test(r)||Wb(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n1(r,e=[]){let n;switch(r){case"Browser":n=Wv(Tn());break;case"Worker":n=`${Wv(Tn())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Lo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((c,d)=>{try{const p=e(u);c(p)}catch(p){d(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KA(r,e={}){return Vr(r,"GET","/v2/passwordPolicy",Os(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YA=6;class XA{constructor(e){var s;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??YA,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=e.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Zv(this),this.idTokenSubscription=new Zv(this),this.beforeStateQueue=new QA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ub,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Rr(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await yo.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)==null?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await gh(this,{idToken:e}),s=await Si._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var u;if(Qn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(u=this.redirectUser)==null?void 0:u._redirectEventId,d=s==null?void 0:s._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&(p!=null&&p.user)&&(s=p.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return He(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await yh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=IA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Qn(this.app))return Promise.reject(Nr(this));const n=e?Xn(e):null;return n&&He(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&He(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Qn(this.app)?Promise.reject(Nr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Qn(this.app)?Promise.reject(Nr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Rr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await KA(this),n=new XA(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new hu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await HA(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Rr(e)||this._popupRedirectResolver;He(n,this,"argument-error"),this.redirectPersistenceManager=await yo.create(this,[Rr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(He(d,this,"internal-error"),d.then(()=>{c||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{c=!0,p()}}else{const p=e.addObserver(n);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return He(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=n1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var n;if(Qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&AA(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Ms(r){return Xn(r)}class Zv{constructor(e){this.auth=e,this.observer=null,this.addObserver=dS(n=>this.observer=n)}get next(){return He(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ph={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function WA(r){Ph=r}function i1(r){return Ph.loadJS(r)}function ZA(){return Ph.recaptchaEnterpriseScript}function JA(){return Ph.gapiScript}function eR(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class tR{constructor(){this.enterprise=new nR}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class nR{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const iR="recaptcha-enterprise",r1="NO_RECAPTCHA";class rR{constructor(e){this.type=iR,this.auth=Ms(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(c,d)=>{VA(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new LA(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,c(g.siteKey)}}).catch(p=>{d(p)})})}function o(u,c,d){const p=window.grecaptcha;Yv(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{c(g)}).catch(()=>{c(r1)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new tR().execute("siteKey",{action:"verify"}):new Promise((u,c)=>{s(this.auth).then(d=>{if(!n&&Yv(window.grecaptcha))o(d,u,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=ZA();p.length!==0&&(p+=d),i1(p).then(()=>{o(d,u,c)}).catch(g=>{c(g)})}}).catch(d=>{c(d)})})}}async function Jv(r,e,n,s=!1,o=!1){const u=new rR(r);let c;if(o)c=r1;else try{c=await u.verify(n)}catch{c=await u.verify(n,!0)}const d={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Mm(r,e,n,s,o){var u;if((u=r._getRecaptchaConfig())!=null&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await Jv(r,e,n,n==="getOobCode");return s(r,c)}else return s(r,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await Jv(r,e,n,n==="getOobCode");return s(r,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(r,e){const n=hp(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ha(u,e??{}))return o;hi(o,"already-initialized")}return n.initialize({options:e})}function sR(r,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Rr);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function a1(r,e,n){const s=Ms(r);He(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=o1(e),{host:c,port:d}=aR(e),p=d===null?"":`:${d}`,g={url:`${u}//${c}${p}/`},_=Object.freeze({host:c,port:d,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){He(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),He(ha(g,s.config.emulator)&&ha(_,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=_,s.settings.appVerificationDisabledForTesting=!0,jo(c)?(Ib(`${u}//${c}${p}`),kb("Auth",!0)):oR()}function o1(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function aR(r){const e=o1(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:e0(s.substr(u.length+1))}}else{const[u,c]=s.split(":");return{host:u,port:e0(c)}}}function e0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function oR(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ar("not implemented")}_getIdTokenResponse(e){return Ar("not implemented")}_linkToIdToken(e,n){return Ar("not implemented")}_getReauthenticationResolver(e){return Ar("not implemented")}}async function lR(r,e){return Vr(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uR(r,e){return mu(r,"POST","/v1/accounts:signInWithPassword",Os(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cR(r,e){return mu(r,"POST","/v1/accounts:signInWithEmailLink",Os(r,e))}async function hR(r,e){return mu(r,"POST","/v1/accounts:signInWithEmailLink",Os(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To extends zh{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new To(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new To(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Mm(e,n,"signInWithPassword",uR);case"emailLink":return cR(e,{email:this._email,oobCode:this._password});default:hi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Mm(e,s,"signUpPassword",lR);case"emailLink":return hR(e,{idToken:n,email:this._email,oobCode:this._password});default:hi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _o(r,e){return mu(r,"POST","/v1/accounts:signInWithIdp",Os(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR="http://localhost";class Ss extends zh{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ss(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):hi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const c=new Ss(s,o);return c.idToken=u.idToken||void 0,c.accessToken=u.accessToken||void 0,c.secret=u.secret,c.nonce=u.nonce,c.pendingToken=u.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return _o(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,_o(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,_o(e,n)}buildRequest(){const e={requestUri:fR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=fu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dR(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function mR(r){const e=Hl(ql(r)).link,n=e?Hl(ql(e)).deep_link_id:null,s=Hl(ql(r)).deep_link_id;return(s?Hl(ql(s)).link:null)||s||n||e||r}class Uh{constructor(e){const n=Hl(ql(e)),s=n.apiKey??null,o=n.oobCode??null,u=dR(n.mode??null);He(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=mR(e);try{return new Uh(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(){this.providerId=_a.PROVIDER_ID}static credential(e,n){return To._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Uh.parseLink(n);return He(s,"argument-error"),To._fromEmailAndCode(e,s.code,s.tenantId)}}_a.PROVIDER_ID="password";_a.EMAIL_PASSWORD_SIGN_IN_METHOD="password";_a.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu extends yp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr extends pu{constructor(){super("facebook.com")}static credential(e){return Ss._fromParams({providerId:xr.PROVIDER_ID,signInMethod:xr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xr.credentialFromTaggedObject(e)}static credentialFromError(e){return xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xr.credential(e.oauthAccessToken)}catch{return null}}}xr.FACEBOOK_SIGN_IN_METHOD="facebook.com";xr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi extends pu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ss._fromParams({providerId:Wi.PROVIDER_ID,signInMethod:Wi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Wi.credentialFromTaggedObject(e)}static credentialFromError(e){return Wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Wi.credential(n,s)}catch{return null}}}Wi.GOOGLE_SIGN_IN_METHOD="google.com";Wi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr extends pu{constructor(){super("github.com")}static credential(e){return Ss._fromParams({providerId:Tr.PROVIDER_ID,signInMethod:Tr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Tr.credentialFromTaggedObject(e)}static credentialFromError(e){return Tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Tr.credential(e.oauthAccessToken)}catch{return null}}}Tr.GITHUB_SIGN_IN_METHOD="github.com";Tr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr extends pu{constructor(){super("twitter.com")}static credential(e,n){return Ss._fromParams({providerId:Sr.PROVIDER_ID,signInMethod:Sr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Sr.credentialFromTaggedObject(e)}static credentialFromError(e){return Sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Sr.credential(n,s)}catch{return null}}}Sr.TWITTER_SIGN_IN_METHOD="twitter.com";Sr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pR(r,e){return mu(r,"POST","/v1/accounts:signUp",Os(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Si._fromIdTokenResponse(e,s,o),c=t0(s);return new da({user:u,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=t0(s);return new da({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function t0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h extends Lr{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,_h.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new _h(e,n,s,o)}}function l1(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?_h._fromErrorAndOperation(r,u,e,s):u})}async function gR(r,e,n=!1){const s=await xo(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return da._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yR(r,e,n=!1){const{auth:s}=r;if(Qn(s.app))return Promise.reject(Nr(s));const o="reauthenticate";try{const u=await xo(r,l1(s,o,e,r),n);He(u.idToken,s,"internal-error");const c=pp(u.idToken);He(c,s,"internal-error");const{sub:d}=c;return He(r.uid===d,s,"user-mismatch"),da._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&hi(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u1(r,e,n=!1){if(Qn(r.app))return Promise.reject(Nr(r));const s="signIn",o=await l1(r,s,e),u=await da._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function c1(r,e){return u1(Ms(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h1(r){const e=Ms(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function _R(r,e,n){if(Qn(r.app))return Promise.reject(Nr(r));const s=Ms(r),c=await Mm(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",pR).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&h1(r),p}),d=await da._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(d.user),d}function vR(r,e,n){return Qn(r.app)?Promise.reject(Nr(r)):c1(Xn(r),_a.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&h1(r),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bR(r,e){return Vr(r,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wR(r,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=Xn(r),u={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},c=await xo(s,bR(s.auth,u));s.displayName=c.displayName||null,s.photoURL=c.photoUrl||null;const d=s.providerData.find(({providerId:p})=>p==="password");d&&(d.displayName=s.displayName,d.photoURL=s.photoURL),await s._updateTokensIfNecessary(c)}function f1(r,e,n,s){return Xn(r).onIdTokenChanged(e,n,s)}function d1(r,e,n){return Xn(r).beforeAuthStateChanged(e,n)}function m1(r,e,n,s){return Xn(r).onAuthStateChanged(e,n,s)}const vh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(vh,"1"),this.storage.removeItem(vh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER=1e3,xR=10;class g1 extends p1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=t1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},u=this.storage.getItem(s);GA()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,xR):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},ER)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}g1.type="LOCAL";const y1=g1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1 extends p1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}_1.type="SESSION";const _p=_1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TR(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Bh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,c=this.handlersMap[o];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const d=Array.from(c).map(async g=>g(n.origin,u)),p=await TR(d);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Bh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,c;return new Promise((d,p)=>{const g=vp("",20);o.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},s);c={messageChannel:o,onMessage(v){const x=v;if(x.data.eventId===g)switch(x.data.status){case"ack":clearTimeout(_),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),d(x.data.response);break;default:clearTimeout(_),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zi(){return window}function AR(r){Zi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v1(){return typeof Zi().WorkerGlobalScope<"u"&&typeof Zi().importScripts=="function"}async function RR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function CR(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)==null?void 0:r.controller)||null}function NR(){return v1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1="firebaseLocalStorageDb",IR=1,bh="firebaseLocalStorage",w1="fbase_key";class gu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Fh(r,e){return r.transaction([bh],e?"readwrite":"readonly").objectStore(bh)}function kR(){const r=indexedDB.deleteDatabase(b1);return new gu(r).toPromise()}function jm(){const r=indexedDB.open(b1,IR);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(bh,{keyPath:w1})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(bh)?e(s):(s.close(),await kR(),e(await jm()))})})}async function n0(r,e,n){const s=Fh(r,!0).put({[w1]:e,value:n});return new gu(s).toPromise()}async function DR(r,e){const n=Fh(r,!1).get(e),s=await new gu(n).toPromise();return s===void 0?null:s.value}function i0(r,e){const n=Fh(r,!0).delete(e);return new gu(n).toPromise()}const OR=800,MR=3;class E1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await jm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>MR)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return v1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Bh._getInstance(NR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,s;if(this.activeServiceWorker=await RR(),!this.activeServiceWorker)return;this.sender=new SR(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(s=e[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||CR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await jm();return await n0(e,vh,"1"),await i0(e,vh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>n0(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>DR(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>i0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Fh(o,!1).getAll();return new gu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),OR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}E1.type="LOCAL";const x1=E1;new du(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T1(r,e){return e?Rr(e):(He(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp extends zh{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return _o(e,this._buildIdpRequest())}_linkToIdToken(e,n){return _o(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return _o(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function jR(r){return u1(r.auth,new bp(r),r.bypassAuthState)}function LR(r){const{auth:e,user:n}=r;return He(n,e,"internal-error"),yR(n,new bp(r),r.bypassAuthState)}async function VR(r){const{auth:e,user:n}=r;return He(n,e,"internal-error"),gR(n,new bp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:c,type:d}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return jR;case"linkViaPopup":case"linkViaRedirect":return VR;case"reauthViaPopup":case"reauthViaRedirect":return LR;default:hi(this.auth,"internal-error")}}resolve(e){Or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR=new du(2e3,1e4);async function zR(r,e,n){if(Qn(r.app))return Promise.reject(Ri(r,"operation-not-supported-in-this-environment"));const s=Ms(r);RA(r,e,yp);const o=T1(s,n);return new ua(s,"signInViaPopup",e,o).executeNotNull()}class ua extends S1{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,ua.currentPopupAction&&ua.currentPopupAction.cancel(),ua.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return He(e,this.auth,"internal-error"),e}async onExecution(){Or(this.filter.length===1,"Popup operations only handle one event");const e=vp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ri(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Ri(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ua.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if((s=(n=this.authWindow)==null?void 0:n.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ri(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,PR.get())};e()}}ua.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR="pendingRedirect",sh=new Map;class BR extends S1{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=sh.get(this.auth._key());if(!e){try{const s=await FR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}sh.set(this.auth._key(),e)}return this.bypassAuthState||sh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function FR(r,e){const n=GR(e),s=qR(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function HR(r,e){sh.set(r._key(),e)}function qR(r){return Rr(r._redirectPersistence)}function GR(r){return rh(UR,r.config.apiKey,r.name)}async function QR(r,e,n=!1){if(Qn(r.app))return Promise.reject(Nr(r));const s=Ms(r),o=T1(s,e),c=await new BR(s,o,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR=600*1e3;class YR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!XR(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!A1(e)){const o=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";n.onError(Ri(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=KR&&this.cachedEventUids.clear(),this.cachedEventUids.has(r0(e))}saveEventToCache(e){this.cachedEventUids.add(r0(e)),this.lastProcessedEventTime=Date.now()}}function r0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function A1({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function XR(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return A1(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $R(r,e={}){return Vr(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ZR=/^https?/;async function JR(r){if(r.config.emulator)return;const{authorizedDomains:e}=await $R(r);for(const n of e)try{if(eC(n))return}catch{}hi(r,"unauthorized-domain")}function eC(r){const e=km(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const c=new URL(r);return c.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!ZR.test(n))return!1;if(WR.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC=new du(3e4,6e4);function s0(){const r=Zi().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function nC(r){return new Promise((e,n)=>{var o,u,c;function s(){s0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{s0(),n(Ri(r,"network-request-failed"))},timeout:tC.get()})}if((u=(o=Zi().gapi)==null?void 0:o.iframes)!=null&&u.Iframe)e(gapi.iframes.getContext());else if((c=Zi().gapi)!=null&&c.load)s();else{const d=eR("iframefcb");return Zi()[d]=()=>{gapi.load?s():n(Ri(r,"network-request-failed"))},i1(`${JA()}?onload=${d}`).catch(p=>n(p))}}).catch(e=>{throw ah=null,e})}let ah=null;function iC(r){return ah=ah||nC(r),ah}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC=new du(5e3,15e3),sC="__/auth/iframe",aC="emulator/auth/iframe",oC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function uC(r){const e=r.config;He(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?mp(e,aC):`https://${r.config.authDomain}/${sC}`,s={apiKey:e.apiKey,appName:r.name,v:Lo},o=lC.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${fu(s).slice(1)}`}async function cC(r){const e=await iC(r),n=Zi().gapi;return He(n,r,"internal-error"),e.open({where:document.body,url:uC(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:oC,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const c=Ri(r,"network-request-failed"),d=Zi().setTimeout(()=>{u(c)},rC.get());function p(){Zi().clearTimeout(d),o(s)}s.ping(p).then(p,()=>{u(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},fC=500,dC=600,mC="_blank",pC="http://localhost";class a0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function gC(r,e,n,s=fC,o=dC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const p={...hC,width:s.toString(),height:o.toString(),top:u,left:c},g=Tn().toLowerCase();n&&(d=$b(g)?mC:n),Yb(g)&&(e=e||pC,p.scrollbars="yes");const _=Object.entries(p).reduce((x,[E,k])=>`${x}${E}=${k},`,"");if(qA(g)&&d!=="_self")return yC(e||"",d),new a0(null);const v=window.open(e||"",d,_);He(v,r,"popup-blocked");try{v.focus()}catch{}return new a0(v)}function yC(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C="__/auth/handler",vC="emulator/auth/handler",bC=encodeURIComponent("fac");async function o0(r,e,n,s,o,u){He(r.config.authDomain,r,"auth-domain-config-required"),He(r.config.apiKey,r,"invalid-api-key");const c={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Lo,eventId:o};if(e instanceof yp){e.setDefaultLanguage(r.languageCode),c.providerId=e.providerId||"",fS(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,v]of Object.entries({}))c[_]=v}if(e instanceof pu){const _=e.getScopes().filter(v=>v!=="");_.length>0&&(c.scopes=_.join(","))}r.tenantId&&(c.tid=r.tenantId);const d=c;for(const _ of Object.keys(d))d[_]===void 0&&delete d[_];const p=await r._getAppCheckToken(),g=p?`#${bC}=${encodeURIComponent(p)}`:"";return`${wC(r)}?${fu(d).slice(1)}${g}`}function wC({config:r}){return r.emulator?mp(r,vC):`https://${r.authDomain}/${_C}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _m="webStorageSupport";class EC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_p,this._completeRedirectFn=QR,this._overrideRedirectResult=HR}async _openPopup(e,n,s,o){var c;Or((c=this.eventManagers[e._key()])==null?void 0:c.manager,"_initialize() not called before _openPopup()");const u=await o0(e,n,s,km(),o);return gC(e,u,vp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await o0(e,n,s,km(),o);return AR(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Or(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await cC(e),s=new YR(e);return n.register("authEvent",o=>(He(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(_m,{type:_m},o=>{var c;const u=(c=o==null?void 0:o[0])==null?void 0:c[_m];u!==void 0&&n(!!u),hi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=JR(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return t1()||Xb()||gp()}}const R1=EC;var l0="@firebase/auth",u0="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){He(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TC(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function SC(r){Eo(new fa("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=s.options;He(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:c,authDomain:d,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:n1(r)},g=new $A(s,o,u,p);return sR(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Eo(new fa("auth-internal",e=>{const n=Ms(e.getProvider("auth").getImmediate());return(s=>new xC(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ws(l0,u0,TC(r)),ws(l0,u0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC=300,RC=Nb("authIdTokenMaxAge")||AC;let c0=null;const CC=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>RC)return;const o=n==null?void 0:n.token;c0!==o&&(c0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function C1(r=jb()){const e=hp(r,"auth");if(e.isInitialized())return e.getImmediate();const n=s1(r,{popupRedirectResolver:R1,persistence:[x1,y1,_p]}),s=Nb("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const c=CC(u.toString());d1(n,c,()=>c(n.currentUser)),f1(n,d=>c(d))}}const o=Rb("auth");return o&&a1(n,`http://${o}`),n}function NC(){var r;return((r=document.getElementsByTagName("head"))==null?void 0:r[0])??document}WA({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Ri("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",NC().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});SC("Browser");const wh=Object.freeze(Object.defineProperty({__proto__:null,ActionCodeURL:Uh,AuthCredential:zh,EmailAuthCredential:To,EmailAuthProvider:_a,FacebookAuthProvider:xr,GithubAuthProvider:Tr,GoogleAuthProvider:Wi,OAuthCredential:Ss,TwitterAuthProvider:Sr,beforeAuthStateChanged:d1,browserLocalPersistence:y1,browserPopupRedirectResolver:R1,browserSessionPersistence:_p,connectAuthEmulator:a1,createUserWithEmailAndPassword:_R,getAuth:C1,getIdTokenResult:qb,inMemoryPersistence:Om,indexedDBLocalPersistence:x1,initializeAuth:s1,onAuthStateChanged:m1,onIdTokenChanged:f1,prodErrorMap:zb,reload:Gb,signInWithCredential:c1,signInWithEmailAndPassword:vR,signInWithPopup:zR,updateProfile:wR},Symbol.toStringTag,{value:"Module"}));var h0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Es,N1;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,j){function O(){}O.prototype=j.prototype,M.F=j.prototype,M.prototype=new O,M.prototype.constructor=M,M.D=function(B,H,N){for(var D=Array(arguments.length-2),R=2;R<arguments.length;R++)D[R-2]=arguments[R];return j.prototype[H].apply(B,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,j,O){O||(O=0);const B=Array(16);if(typeof j=="string")for(var H=0;H<16;++H)B[H]=j.charCodeAt(O++)|j.charCodeAt(O++)<<8|j.charCodeAt(O++)<<16|j.charCodeAt(O++)<<24;else for(H=0;H<16;++H)B[H]=j[O++]|j[O++]<<8|j[O++]<<16|j[O++]<<24;j=M.g[0],O=M.g[1],H=M.g[2];let N=M.g[3],D;D=j+(N^O&(H^N))+B[0]+3614090360&4294967295,j=O+(D<<7&4294967295|D>>>25),D=N+(H^j&(O^H))+B[1]+3905402710&4294967295,N=j+(D<<12&4294967295|D>>>20),D=H+(O^N&(j^O))+B[2]+606105819&4294967295,H=N+(D<<17&4294967295|D>>>15),D=O+(j^H&(N^j))+B[3]+3250441966&4294967295,O=H+(D<<22&4294967295|D>>>10),D=j+(N^O&(H^N))+B[4]+4118548399&4294967295,j=O+(D<<7&4294967295|D>>>25),D=N+(H^j&(O^H))+B[5]+1200080426&4294967295,N=j+(D<<12&4294967295|D>>>20),D=H+(O^N&(j^O))+B[6]+2821735955&4294967295,H=N+(D<<17&4294967295|D>>>15),D=O+(j^H&(N^j))+B[7]+4249261313&4294967295,O=H+(D<<22&4294967295|D>>>10),D=j+(N^O&(H^N))+B[8]+1770035416&4294967295,j=O+(D<<7&4294967295|D>>>25),D=N+(H^j&(O^H))+B[9]+2336552879&4294967295,N=j+(D<<12&4294967295|D>>>20),D=H+(O^N&(j^O))+B[10]+4294925233&4294967295,H=N+(D<<17&4294967295|D>>>15),D=O+(j^H&(N^j))+B[11]+2304563134&4294967295,O=H+(D<<22&4294967295|D>>>10),D=j+(N^O&(H^N))+B[12]+1804603682&4294967295,j=O+(D<<7&4294967295|D>>>25),D=N+(H^j&(O^H))+B[13]+4254626195&4294967295,N=j+(D<<12&4294967295|D>>>20),D=H+(O^N&(j^O))+B[14]+2792965006&4294967295,H=N+(D<<17&4294967295|D>>>15),D=O+(j^H&(N^j))+B[15]+1236535329&4294967295,O=H+(D<<22&4294967295|D>>>10),D=j+(H^N&(O^H))+B[1]+4129170786&4294967295,j=O+(D<<5&4294967295|D>>>27),D=N+(O^H&(j^O))+B[6]+3225465664&4294967295,N=j+(D<<9&4294967295|D>>>23),D=H+(j^O&(N^j))+B[11]+643717713&4294967295,H=N+(D<<14&4294967295|D>>>18),D=O+(N^j&(H^N))+B[0]+3921069994&4294967295,O=H+(D<<20&4294967295|D>>>12),D=j+(H^N&(O^H))+B[5]+3593408605&4294967295,j=O+(D<<5&4294967295|D>>>27),D=N+(O^H&(j^O))+B[10]+38016083&4294967295,N=j+(D<<9&4294967295|D>>>23),D=H+(j^O&(N^j))+B[15]+3634488961&4294967295,H=N+(D<<14&4294967295|D>>>18),D=O+(N^j&(H^N))+B[4]+3889429448&4294967295,O=H+(D<<20&4294967295|D>>>12),D=j+(H^N&(O^H))+B[9]+568446438&4294967295,j=O+(D<<5&4294967295|D>>>27),D=N+(O^H&(j^O))+B[14]+3275163606&4294967295,N=j+(D<<9&4294967295|D>>>23),D=H+(j^O&(N^j))+B[3]+4107603335&4294967295,H=N+(D<<14&4294967295|D>>>18),D=O+(N^j&(H^N))+B[8]+1163531501&4294967295,O=H+(D<<20&4294967295|D>>>12),D=j+(H^N&(O^H))+B[13]+2850285829&4294967295,j=O+(D<<5&4294967295|D>>>27),D=N+(O^H&(j^O))+B[2]+4243563512&4294967295,N=j+(D<<9&4294967295|D>>>23),D=H+(j^O&(N^j))+B[7]+1735328473&4294967295,H=N+(D<<14&4294967295|D>>>18),D=O+(N^j&(H^N))+B[12]+2368359562&4294967295,O=H+(D<<20&4294967295|D>>>12),D=j+(O^H^N)+B[5]+4294588738&4294967295,j=O+(D<<4&4294967295|D>>>28),D=N+(j^O^H)+B[8]+2272392833&4294967295,N=j+(D<<11&4294967295|D>>>21),D=H+(N^j^O)+B[11]+1839030562&4294967295,H=N+(D<<16&4294967295|D>>>16),D=O+(H^N^j)+B[14]+4259657740&4294967295,O=H+(D<<23&4294967295|D>>>9),D=j+(O^H^N)+B[1]+2763975236&4294967295,j=O+(D<<4&4294967295|D>>>28),D=N+(j^O^H)+B[4]+1272893353&4294967295,N=j+(D<<11&4294967295|D>>>21),D=H+(N^j^O)+B[7]+4139469664&4294967295,H=N+(D<<16&4294967295|D>>>16),D=O+(H^N^j)+B[10]+3200236656&4294967295,O=H+(D<<23&4294967295|D>>>9),D=j+(O^H^N)+B[13]+681279174&4294967295,j=O+(D<<4&4294967295|D>>>28),D=N+(j^O^H)+B[0]+3936430074&4294967295,N=j+(D<<11&4294967295|D>>>21),D=H+(N^j^O)+B[3]+3572445317&4294967295,H=N+(D<<16&4294967295|D>>>16),D=O+(H^N^j)+B[6]+76029189&4294967295,O=H+(D<<23&4294967295|D>>>9),D=j+(O^H^N)+B[9]+3654602809&4294967295,j=O+(D<<4&4294967295|D>>>28),D=N+(j^O^H)+B[12]+3873151461&4294967295,N=j+(D<<11&4294967295|D>>>21),D=H+(N^j^O)+B[15]+530742520&4294967295,H=N+(D<<16&4294967295|D>>>16),D=O+(H^N^j)+B[2]+3299628645&4294967295,O=H+(D<<23&4294967295|D>>>9),D=j+(H^(O|~N))+B[0]+4096336452&4294967295,j=O+(D<<6&4294967295|D>>>26),D=N+(O^(j|~H))+B[7]+1126891415&4294967295,N=j+(D<<10&4294967295|D>>>22),D=H+(j^(N|~O))+B[14]+2878612391&4294967295,H=N+(D<<15&4294967295|D>>>17),D=O+(N^(H|~j))+B[5]+4237533241&4294967295,O=H+(D<<21&4294967295|D>>>11),D=j+(H^(O|~N))+B[12]+1700485571&4294967295,j=O+(D<<6&4294967295|D>>>26),D=N+(O^(j|~H))+B[3]+2399980690&4294967295,N=j+(D<<10&4294967295|D>>>22),D=H+(j^(N|~O))+B[10]+4293915773&4294967295,H=N+(D<<15&4294967295|D>>>17),D=O+(N^(H|~j))+B[1]+2240044497&4294967295,O=H+(D<<21&4294967295|D>>>11),D=j+(H^(O|~N))+B[8]+1873313359&4294967295,j=O+(D<<6&4294967295|D>>>26),D=N+(O^(j|~H))+B[15]+4264355552&4294967295,N=j+(D<<10&4294967295|D>>>22),D=H+(j^(N|~O))+B[6]+2734768916&4294967295,H=N+(D<<15&4294967295|D>>>17),D=O+(N^(H|~j))+B[13]+1309151649&4294967295,O=H+(D<<21&4294967295|D>>>11),D=j+(H^(O|~N))+B[4]+4149444226&4294967295,j=O+(D<<6&4294967295|D>>>26),D=N+(O^(j|~H))+B[11]+3174756917&4294967295,N=j+(D<<10&4294967295|D>>>22),D=H+(j^(N|~O))+B[2]+718787259&4294967295,H=N+(D<<15&4294967295|D>>>17),D=O+(N^(H|~j))+B[9]+3951481745&4294967295,M.g[0]=M.g[0]+j&4294967295,M.g[1]=M.g[1]+(H+(D<<21&4294967295|D>>>11))&4294967295,M.g[2]=M.g[2]+H&4294967295,M.g[3]=M.g[3]+N&4294967295}s.prototype.v=function(M,j){j===void 0&&(j=M.length);const O=j-this.blockSize,B=this.C;let H=this.h,N=0;for(;N<j;){if(H==0)for(;N<=O;)o(this,M,N),N+=this.blockSize;if(typeof M=="string"){for(;N<j;)if(B[H++]=M.charCodeAt(N++),H==this.blockSize){o(this,B),H=0;break}}else for(;N<j;)if(B[H++]=M[N++],H==this.blockSize){o(this,B),H=0;break}}this.h=H,this.o+=j},s.prototype.A=function(){var M=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);M[0]=128;for(var j=1;j<M.length-8;++j)M[j]=0;j=this.o*8;for(var O=M.length-8;O<M.length;++O)M[O]=j&255,j/=256;for(this.v(M),M=Array(16),j=0,O=0;O<4;++O)for(let B=0;B<32;B+=8)M[j++]=this.g[O]>>>B&255;return M};function u(M,j){var O=d;return Object.prototype.hasOwnProperty.call(O,M)?O[M]:O[M]=j(M)}function c(M,j){this.h=j;const O=[];let B=!0;for(let H=M.length-1;H>=0;H--){const N=M[H]|0;B&&N==j||(O[H]=N,B=!1)}this.g=O}var d={};function p(M){return-128<=M&&M<128?u(M,function(j){return new c([j|0],j<0?-1:0)}):new c([M|0],M<0?-1:0)}function g(M){if(isNaN(M)||!isFinite(M))return v;if(M<0)return C(g(-M));const j=[];let O=1;for(let B=0;M>=O;B++)j[B]=M/O|0,O*=4294967296;return new c(j,0)}function _(M,j){if(M.length==0)throw Error("number format error: empty string");if(j=j||10,j<2||36<j)throw Error("radix out of range: "+j);if(M.charAt(0)=="-")return C(_(M.substring(1),j));if(M.indexOf("-")>=0)throw Error('number format error: interior "-" character');const O=g(Math.pow(j,8));let B=v;for(let N=0;N<M.length;N+=8){var H=Math.min(8,M.length-N);const D=parseInt(M.substring(N,N+H),j);H<8?(H=g(Math.pow(j,H)),B=B.j(H).add(g(D))):(B=B.j(O),B=B.add(g(D)))}return B}var v=p(0),x=p(1),E=p(16777216);r=c.prototype,r.m=function(){if(A(this))return-C(this).m();let M=0,j=1;for(let O=0;O<this.g.length;O++){const B=this.i(O);M+=(B>=0?B:4294967296+B)*j,j*=4294967296}return M},r.toString=function(M){if(M=M||10,M<2||36<M)throw Error("radix out of range: "+M);if(k(this))return"0";if(A(this))return"-"+C(this).toString(M);const j=g(Math.pow(M,6));var O=this;let B="";for(;;){const H=K(O,j).g;O=I(O,H.j(j));let N=((O.g.length>0?O.g[0]:O.h)>>>0).toString(M);if(O=H,k(O))return N+B;for(;N.length<6;)N="0"+N;B=N+B}},r.i=function(M){return M<0?0:M<this.g.length?this.g[M]:this.h};function k(M){if(M.h!=0)return!1;for(let j=0;j<M.g.length;j++)if(M.g[j]!=0)return!1;return!0}function A(M){return M.h==-1}r.l=function(M){return M=I(this,M),A(M)?-1:k(M)?0:1};function C(M){const j=M.g.length,O=[];for(let B=0;B<j;B++)O[B]=~M.g[B];return new c(O,~M.h).add(x)}r.abs=function(){return A(this)?C(this):this},r.add=function(M){const j=Math.max(this.g.length,M.g.length),O=[];let B=0;for(let H=0;H<=j;H++){let N=B+(this.i(H)&65535)+(M.i(H)&65535),D=(N>>>16)+(this.i(H)>>>16)+(M.i(H)>>>16);B=D>>>16,N&=65535,D&=65535,O[H]=D<<16|N}return new c(O,O[O.length-1]&-2147483648?-1:0)};function I(M,j){return M.add(C(j))}r.j=function(M){if(k(this)||k(M))return v;if(A(this))return A(M)?C(this).j(C(M)):C(C(this).j(M));if(A(M))return C(this.j(C(M)));if(this.l(E)<0&&M.l(E)<0)return g(this.m()*M.m());const j=this.g.length+M.g.length,O=[];for(var B=0;B<2*j;B++)O[B]=0;for(B=0;B<this.g.length;B++)for(let H=0;H<M.g.length;H++){const N=this.i(B)>>>16,D=this.i(B)&65535,R=M.i(H)>>>16,te=M.i(H)&65535;O[2*B+2*H]+=D*te,P(O,2*B+2*H),O[2*B+2*H+1]+=N*te,P(O,2*B+2*H+1),O[2*B+2*H+1]+=D*R,P(O,2*B+2*H+1),O[2*B+2*H+2]+=N*R,P(O,2*B+2*H+2)}for(M=0;M<j;M++)O[M]=O[2*M+1]<<16|O[2*M];for(M=j;M<2*j;M++)O[M]=0;return new c(O,0)};function P(M,j){for(;(M[j]&65535)!=M[j];)M[j+1]+=M[j]>>>16,M[j]&=65535,j++}function z(M,j){this.g=M,this.h=j}function K(M,j){if(k(j))throw Error("division by zero");if(k(M))return new z(v,v);if(A(M))return j=K(C(M),j),new z(C(j.g),C(j.h));if(A(j))return j=K(M,C(j)),new z(C(j.g),j.h);if(M.g.length>30){if(A(M)||A(j))throw Error("slowDivide_ only works with positive integers.");for(var O=x,B=j;B.l(M)<=0;)O=Y(O),B=Y(B);var H=ie(O,1),N=ie(B,1);for(B=ie(B,2),O=ie(O,2);!k(B);){var D=N.add(B);D.l(M)<=0&&(H=H.add(O),N=D),B=ie(B,1),O=ie(O,1)}return j=I(M,H.j(j)),new z(H,j)}for(H=v;M.l(j)>=0;){for(O=Math.max(1,Math.floor(M.m()/j.m())),B=Math.ceil(Math.log(O)/Math.LN2),B=B<=48?1:Math.pow(2,B-48),N=g(O),D=N.j(j);A(D)||D.l(M)>0;)O-=B,N=g(O),D=N.j(j);k(N)&&(N=x),H=H.add(N),M=I(M,D)}return new z(H,M)}r.B=function(M){return K(this,M).h},r.and=function(M){const j=Math.max(this.g.length,M.g.length),O=[];for(let B=0;B<j;B++)O[B]=this.i(B)&M.i(B);return new c(O,this.h&M.h)},r.or=function(M){const j=Math.max(this.g.length,M.g.length),O=[];for(let B=0;B<j;B++)O[B]=this.i(B)|M.i(B);return new c(O,this.h|M.h)},r.xor=function(M){const j=Math.max(this.g.length,M.g.length),O=[];for(let B=0;B<j;B++)O[B]=this.i(B)^M.i(B);return new c(O,this.h^M.h)};function Y(M){const j=M.g.length+1,O=[];for(let B=0;B<j;B++)O[B]=M.i(B)<<1|M.i(B-1)>>>31;return new c(O,M.h)}function ie(M,j){const O=j>>5;j%=32;const B=M.g.length-O,H=[];for(let N=0;N<B;N++)H[N]=j>0?M.i(N+O)>>>j|M.i(N+O+1)<<32-j:M.i(N+O);return new c(H,M.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,N1=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=_,Es=c}).apply(typeof h0<"u"?h0:typeof self<"u"?self:typeof window<"u"?window:{});var Xc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var I1,Gl,k1,oh,Lm,D1,O1,M1;(function(){var r,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xc=="object"&&Xc];for(var y=0;y<h.length;++y){var S=h[y];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var s=n(this);function o(h,y){if(y)e:{var S=s;h=h.split(".");for(var U=0;U<h.length-1;U++){var ne=h[U];if(!(ne in S))break e;S=S[ne]}h=h[h.length-1],U=S[h],y=y(U),y!=U&&y!=null&&e(S,h,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(y){var S=[],U;for(U in y)Object.prototype.hasOwnProperty.call(y,U)&&S.push([U,y[U]]);return S}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},c=this||self;function d(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function p(h,y,S){return h.call.apply(h.bind,arguments)}function g(h,y,S){return g=p,g.apply(null,arguments)}function _(h,y){var S=Array.prototype.slice.call(arguments,1);return function(){var U=S.slice();return U.push.apply(U,arguments),h.apply(this,U)}}function v(h,y){function S(){}S.prototype=y.prototype,h.Z=y.prototype,h.prototype=new S,h.prototype.constructor=h,h.Ob=function(U,ne,ce){for(var Ce=Array(arguments.length-2),We=2;We<arguments.length;We++)Ce[We-2]=arguments[We];return y.prototype[ne].apply(U,Ce)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function E(h){const y=h.length;if(y>0){const S=Array(y);for(let U=0;U<y;U++)S[U]=h[U];return S}return[]}function k(h,y){for(let U=1;U<arguments.length;U++){const ne=arguments[U];var S=typeof ne;if(S=S!="object"?S:ne?Array.isArray(ne)?"array":S:"null",S=="array"||S=="object"&&typeof ne.length=="number"){S=h.length||0;const ce=ne.length||0;h.length=S+ce;for(let Ce=0;Ce<ce;Ce++)h[S+Ce]=ne[Ce]}else h.push(ne)}}class A{constructor(y,S){this.i=y,this.j=S,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function C(h){c.setTimeout(()=>{throw h},0)}function I(){var h=M;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class P{constructor(){this.h=this.g=null}add(y,S){const U=z.get();U.set(y,S),this.h?this.h.next=U:this.g=U,this.h=U}}var z=new A(()=>new K,h=>h.reset());class K{constructor(){this.next=this.g=this.h=null}set(y,S){this.h=y,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let Y,ie=!1,M=new P,j=()=>{const h=Promise.resolve(void 0);Y=()=>{h.then(O)}};function O(){for(var h;h=I();){try{h.h.call(h.g)}catch(S){C(S)}var y=z;y.j(h),y.h<100&&(y.h++,h.next=y.g,y.g=h)}ie=!1}function B(){this.u=this.u,this.C=this.C}B.prototype.u=!1,B.prototype.dispose=function(){this.u||(this.u=!0,this.N())},B.prototype[Symbol.dispose]=function(){this.dispose()},B.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function H(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}H.prototype.h=function(){this.defaultPrevented=!0};var N=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const S=()=>{};c.addEventListener("test",S,y),c.removeEventListener("test",S,y)}catch{}return h})();function D(h){return/^[\s\xa0]*$/.test(h)}function R(h,y){H.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,y)}v(R,H),R.prototype.init=function(h,y){const S=this.type=h.type,U=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget,y||(S=="mouseover"?y=h.fromElement:S=="mouseout"&&(y=h.toElement)),this.relatedTarget=y,U?(this.clientX=U.clientX!==void 0?U.clientX:U.pageX,this.clientY=U.clientY!==void 0?U.clientY:U.pageY,this.screenX=U.screenX||0,this.screenY=U.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&R.Z.h.call(this)},R.prototype.h=function(){R.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var te="closure_listenable_"+(Math.random()*1e6|0),W=0;function ee(h,y,S,U,ne){this.listener=h,this.proxy=null,this.src=y,this.type=S,this.capture=!!U,this.ha=ne,this.key=++W,this.da=this.fa=!1}function Te(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function ge(h,y,S){for(const U in h)y.call(S,h[U],U,h)}function Ne(h,y){for(const S in h)y.call(void 0,h[S],S,h)}function V(h){const y={};for(const S in h)y[S]=h[S];return y}const G="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function me(h,y){let S,U;for(let ne=1;ne<arguments.length;ne++){U=arguments[ne];for(S in U)h[S]=U[S];for(let ce=0;ce<G.length;ce++)S=G[ce],Object.prototype.hasOwnProperty.call(U,S)&&(h[S]=U[S])}}function fe(h){this.src=h,this.g={},this.h=0}fe.prototype.add=function(h,y,S,U,ne){const ce=h.toString();h=this.g[ce],h||(h=this.g[ce]=[],this.h++);const Ce=ke(h,y,U,ne);return Ce>-1?(y=h[Ce],S||(y.fa=!1)):(y=new ee(y,this.src,ce,!!U,ne),y.fa=S,h.push(y)),y};function pe(h,y){const S=y.type;if(S in h.g){var U=h.g[S],ne=Array.prototype.indexOf.call(U,y,void 0),ce;(ce=ne>=0)&&Array.prototype.splice.call(U,ne,1),ce&&(Te(y),h.g[S].length==0&&(delete h.g[S],h.h--))}}function ke(h,y,S,U){for(let ne=0;ne<h.length;++ne){const ce=h[ne];if(!ce.da&&ce.listener==y&&ce.capture==!!S&&ce.ha==U)return ne}return-1}var ze="closure_lm_"+(Math.random()*1e6|0),Ve={};function Me(h,y,S,U,ne){if(Array.isArray(y)){for(let ce=0;ce<y.length;ce++)Me(h,y[ce],S,U,ne);return null}return S=F(S),h&&h[te]?h.J(y,S,d(U)?!!U.capture:!1,ne):yt(h,y,S,!1,U,ne)}function yt(h,y,S,U,ne,ce){if(!y)throw Error("Invalid event type");const Ce=d(ne)?!!ne.capture:!!ne;let We=oe(h);if(We||(h[ze]=We=new fe(h)),S=We.add(y,S,U,Ce,ce),S.proxy)return S;if(U=ft(),S.proxy=U,U.src=h,U.listener=S,h.addEventListener)N||(ne=Ce),ne===void 0&&(ne=!1),h.addEventListener(y.toString(),U,ne);else if(h.attachEvent)h.attachEvent(T(y.toString()),U);else if(h.addListener&&h.removeListener)h.addListener(U);else throw Error("addEventListener and attachEvent are unavailable.");return S}function ft(){function h(S){return y.call(h.src,h.listener,S)}const y=de;return h}function Ut(h,y,S,U,ne){if(Array.isArray(y))for(var ce=0;ce<y.length;ce++)Ut(h,y[ce],S,U,ne);else U=d(U)?!!U.capture:!!U,S=F(S),h&&h[te]?(h=h.i,ce=String(y).toString(),ce in h.g&&(y=h.g[ce],S=ke(y,S,U,ne),S>-1&&(Te(y[S]),Array.prototype.splice.call(y,S,1),y.length==0&&(delete h.g[ce],h.h--)))):h&&(h=oe(h))&&(y=h.g[y.toString()],h=-1,y&&(h=ke(y,S,U,ne)),(S=h>-1?y[h]:null)&&Ie(S))}function Ie(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[te])pe(y.i,h);else{var S=h.type,U=h.proxy;y.removeEventListener?y.removeEventListener(S,U,h.capture):y.detachEvent?y.detachEvent(T(S),U):y.addListener&&y.removeListener&&y.removeListener(U),(S=oe(y))?(pe(S,h),S.h==0&&(S.src=null,y[ze]=null)):Te(h)}}}function T(h){return h in Ve?Ve[h]:Ve[h]="on"+h}function de(h,y){if(h.da)h=!0;else{y=new R(y,this);const S=h.listener,U=h.ha||h.src;h.fa&&Ie(h),h=S.call(U,y)}return h}function oe(h){return h=h[ze],h instanceof fe?h:null}var q="__closure_events_fn_"+(Math.random()*1e9>>>0);function F(h){return typeof h=="function"?h:(h[q]||(h[q]=function(y){return h.handleEvent(y)}),h[q])}function X(){B.call(this),this.i=new fe(this),this.M=this,this.G=null}v(X,B),X.prototype[te]=!0,X.prototype.removeEventListener=function(h,y,S,U){Ut(this,h,y,S,U)};function ue(h,y){var S,U=h.G;if(U)for(S=[];U;U=U.G)S.push(U);if(h=h.M,U=y.type||y,typeof y=="string")y=new H(y,h);else if(y instanceof H)y.target=y.target||h;else{var ne=y;y=new H(U,h),me(y,ne)}ne=!0;let ce,Ce;if(S)for(Ce=S.length-1;Ce>=0;Ce--)ce=y.g=S[Ce],ne=_e(ce,U,!0,y)&&ne;if(ce=y.g=h,ne=_e(ce,U,!0,y)&&ne,ne=_e(ce,U,!1,y)&&ne,S)for(Ce=0;Ce<S.length;Ce++)ce=y.g=S[Ce],ne=_e(ce,U,!1,y)&&ne}X.prototype.N=function(){if(X.Z.N.call(this),this.i){var h=this.i;for(const y in h.g){const S=h.g[y];for(let U=0;U<S.length;U++)Te(S[U]);delete h.g[y],h.h--}}this.G=null},X.prototype.J=function(h,y,S,U){return this.i.add(String(h),y,!1,S,U)},X.prototype.K=function(h,y,S,U){return this.i.add(String(h),y,!0,S,U)};function _e(h,y,S,U){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();let ne=!0;for(let ce=0;ce<y.length;++ce){const Ce=y[ce];if(Ce&&!Ce.da&&Ce.capture==S){const We=Ce.listener,Ht=Ce.ha||Ce.src;Ce.fa&&pe(h.i,Ce),ne=We.call(Ht,U)!==!1&&ne}}return ne&&!U.defaultPrevented}function se(h,y){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:c.setTimeout(h,y||0)}function Se(h){h.g=se(()=>{h.g=null,h.i&&(h.i=!1,Se(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class Re extends B{constructor(y,S){super(),this.m=y,this.l=S,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Se(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ae(h){B.call(this),this.h=h,this.g={}}v(Ae,B);var je=[];function et(h){ge(h.g,function(y,S){this.g.hasOwnProperty(S)&&Ie(y)},h),h.g={}}Ae.prototype.N=function(){Ae.Z.N.call(this),et(this)},Ae.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ge=c.JSON.stringify,Ee=c.JSON.parse,Qe=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function dt(){}function mt(){}var Ke={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function it(){H.call(this,"d")}v(it,H);function Mt(){H.call(this,"c")}v(Mt,H);var rt={},fi=null;function Ln(){return fi=fi||new X}rt.Ia="serverreachability";function kt(h){H.call(this,rt.Ia,h)}v(kt,H);function Wn(h){const y=Ln();ue(y,new kt(y))}rt.STAT_EVENT="statevent";function Ii(h,y){H.call(this,rt.STAT_EVENT,h),this.stat=y}v(Ii,H);function Nt(h){const y=Ln();ue(y,new Ii(y,h))}rt.Ja="timingevent";function Sn(h,y){H.call(this,rt.Ja,h),this.size=y}v(Sn,H);function ki(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},y)}function di(){this.g=!0}di.prototype.ua=function(){this.g=!1};function af(h,y,S,U,ne,ce){h.info(function(){if(h.g)if(ce){var Ce="",We=ce.split("&");for(let _t=0;_t<We.length;_t++){var Ht=We[_t].split("=");if(Ht.length>1){const jt=Ht[0];Ht=Ht[1];const ti=jt.split("_");Ce=ti.length>=2&&ti[1]=="type"?Ce+(jt+"="+Ht+"&"):Ce+(jt+"=redacted&")}}}else Ce=null;else Ce=ce;return"XMLHTTP REQ ("+U+") [attempt "+ne+"]: "+y+`
`+S+`
`+Ce})}function Eu(h,y,S,U,ne,ce,Ce){h.info(function(){return"XMLHTTP RESP ("+U+") [ attempt "+ne+"]: "+y+`
`+S+`
`+ce+" "+Ce})}function Di(h,y,S,U){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+of(h,S)+(U?" "+U:"")})}function js(h,y){h.info(function(){return"TIMEOUT: "+y})}di.prototype.info=function(){};function of(h,y){if(!h.g)return y;if(!y)return null;try{const ce=JSON.parse(y);if(ce){for(h=0;h<ce.length;h++)if(Array.isArray(ce[h])){var S=ce[h];if(!(S.length<2)){var U=S[1];if(Array.isArray(U)&&!(U.length<1)){var ne=U[0];if(ne!="noop"&&ne!="stop"&&ne!="close")for(let Ce=1;Ce<U.length;Ce++)U[Ce]=""}}}}return Ge(ce)}catch{return y}}var Ls={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Bo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Fo;function Vs(){}v(Vs,dt),Vs.prototype.g=function(){return new XMLHttpRequest},Fo=new Vs;function rr(h){return encodeURIComponent(String(h))}function xu(h){var y=1;h=h.split(":");const S=[];for(;y>0&&h.length;)S.push(h.shift()),y--;return h.length&&S.push(h.join(":")),S}function mi(h,y,S,U){this.j=h,this.i=y,this.l=S,this.S=U||1,this.V=new Ae(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new pi}function pi(){this.i=null,this.g="",this.h=!1}var Kt={},on={};function Oi(h,y,S){h.M=1,h.A=Ps(Xt(y)),h.u=S,h.R=!0,xa(h,null)}function xa(h,y){h.F=Date.now(),Mi(h),h.B=Xt(h.A);var S=h.B,U=h.S;Array.isArray(U)||(U=[String(U)]),Ra(S.i,"t",U),h.C=0,S=h.j.L,h.h=new pi,h.g=Pu(h.j,S?y:null,!h.u),h.P>0&&(h.O=new Re(g(h.Y,h,h.g),h.P)),y=h.V,S=h.g,U=h.ba;var ne="readystatechange";Array.isArray(ne)||(ne&&(je[0]=ne.toString()),ne=je);for(let ce=0;ce<ne.length;ce++){const Ce=Me(S,ne[ce],U||y.handleEvent,!1,y.h||y);if(!Ce)break;y.g[Ce.key]=Ce}y=h.J?V(h.J):{},h.u?(h.v||(h.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,y)):(h.v="GET",h.g.ea(h.B,h.v,null,y)),Wn(),af(h.i,h.v,h.B,h.l,h.S,h.u)}mi.prototype.ba=function(h){h=h.target;const y=this.O;y&&_i(h)==3?y.j():this.Y(h)},mi.prototype.Y=function(h){try{if(h==this.g)e:{const We=_i(this.g),Ht=this.g.ya(),_t=this.g.ca();if(!(We<3)&&(We!=3||this.g&&(this.h.h||this.g.la()||mn(this.g)))){this.K||We!=4||Ht==7||(Ht==8||_t<=0?Wn(3):Wn(2)),ji(this);var y=this.g.ca();this.X=y;var S=lf(this);if(this.o=y==200,Eu(this.i,this.v,this.B,this.l,this.S,We,y),this.o){if(this.U&&!this.L){t:{if(this.g){var U,ne=this.g;if((U=ne.g?ne.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(U)){var ce=U;break t}}ce=null}if(h=ce)Di(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Li(this,h);else{this.o=!1,this.m=3,Nt(12),Vn(this),Zn(this);break e}}if(this.R){h=!0;let jt;for(;!this.K&&this.C<S.length;)if(jt=Su(this,S),jt==on){We==4&&(this.m=4,Nt(14),h=!1),Di(this.i,this.l,null,"[Incomplete Response]");break}else if(jt==Kt){this.m=4,Nt(15),Di(this.i,this.l,S,"[Invalid Chunk]"),h=!1;break}else Di(this.i,this.l,jt,null),Li(this,jt);if(Tu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),We!=4||S.length!=0||this.h.h||(this.m=1,Nt(16),h=!1),this.o=this.o&&h,!h)Di(this.i,this.l,S,"[Invalid Chunked Response]"),Vn(this),Zn(this);else if(S.length>0&&!this.W){this.W=!0;var Ce=this.j;Ce.g==this&&Ce.aa&&!Ce.P&&(Ce.j.info("Great, no buffering proxy detected. Bytes received: "+S.length),il(Ce),Ce.P=!0,Nt(11))}}else Di(this.i,this.l,S,null),Li(this,S);We==4&&Vn(this),this.o&&!this.K&&(We==4?Mu(this.j,this):(this.o=!1,Mi(this)))}else ar(this.g),y==400&&S.indexOf("Unknown SID")>0?(this.m=3,Nt(12)):(this.m=0,Nt(13)),Vn(this),Zn(this)}}}catch{}finally{}};function lf(h){if(!Tu(h))return h.g.la();const y=mn(h.g);if(y==="")return"";let S="";const U=y.length,ne=_i(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Vn(h),Zn(h),"";h.h.i=new c.TextDecoder}for(let ce=0;ce<U;ce++)h.h.h=!0,S+=h.h.i.decode(y[ce],{stream:!(ne&&ce==U-1)});return y.length=0,h.h.g+=S,h.C=0,h.h.g}function Tu(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Su(h,y){var S=h.C,U=y.indexOf(`
`,S);return U==-1?on:(S=Number(y.substring(S,U)),isNaN(S)?Kt:(U+=1,U+S>y.length?on:(y=y.slice(U,U+S),h.C=U+S,y)))}mi.prototype.cancel=function(){this.K=!0,Vn(this)};function Mi(h){h.T=Date.now()+h.H,Ta(h,h.H)}function Ta(h,y){if(h.D!=null)throw Error("WatchDog timer not null");h.D=ki(g(h.aa,h),y)}function ji(h){h.D&&(c.clearTimeout(h.D),h.D=null)}mi.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(js(this.i,this.B),this.M!=2&&(Wn(),Nt(17)),Vn(this),this.m=2,Zn(this)):Ta(this,this.T-h)};function Zn(h){h.j.I==0||h.K||Mu(h.j,h)}function Vn(h){ji(h);var y=h.O;y&&typeof y.dispose=="function"&&y.dispose(),h.O=null,et(h.V),h.g&&(y=h.g,h.g=null,y.abort(),y.dispose())}function Li(h,y){try{var S=h.j;if(S.I!=0&&(S.g==h||Pi(S.h,h))){if(!h.L&&Pi(S.h,h)&&S.I==3){try{var U=S.Ba.g.parse(y)}catch{U=null}if(Array.isArray(U)&&U.length==3){var ne=U;if(ne[0]==0){e:if(!S.v){if(S.g)if(S.g.F+3e3<h.F)Da(S),Gr(S);else break e;Gs(S),Nt(18)}}else S.xa=ne[1],0<S.xa-S.K&&ne[2]<37500&&S.F&&S.A==0&&!S.C&&(S.C=ki(g(S.Va,S),6e3));Vi(S.h)<=1&&S.ta&&(S.ta=void 0)}else qi(S,11)}else if((h.L||S.g==h)&&Da(S),!D(y))for(ne=S.Ba.g.parse(y),y=0;y<ne.length;y++){let _t=ne[y];const jt=_t[0];if(!(jt<=S.K))if(S.K=jt,_t=_t[1],S.I==2)if(_t[0]=="c"){S.M=_t[1],S.ba=_t[2];const ti=_t[3];ti!=null&&(S.ka=ti,S.j.info("VER="+S.ka));const Gi=_t[4];Gi!=null&&(S.za=Gi,S.j.info("SVER="+S.za));const vi=_t[5];vi!=null&&typeof vi=="number"&&vi>0&&(U=1.5*vi,S.O=U,S.j.info("backChannelRequestTimeoutMs_="+U)),U=S;const bi=h.g;if(bi){const Qs=bi.g?bi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qs){var ce=U.h;ce.g||Qs.indexOf("spdy")==-1&&Qs.indexOf("quic")==-1&&Qs.indexOf("h2")==-1||(ce.j=ce.l,ce.g=new Set,ce.h&&(Go(ce,ce.h),ce.h=null))}if(U.G){const Oa=bi.g?bi.g.getResponseHeader("X-HTTP-Session-Id"):null;Oa&&(U.wa=Oa,wt(U.J,U.G,Oa))}}S.I=3,S.l&&S.l.ra(),S.aa&&(S.T=Date.now()-h.F,S.j.info("Handshake RTT: "+S.T+"ms")),U=S;var Ce=h;if(U.na=Vu(U,U.L?U.ba:null,U.W),Ce.L){Qo(U.h,Ce);var We=Ce,Ht=U.O;Ht&&(We.H=Ht),We.D&&(ji(We),Mi(We)),U.g=Ce}else Du(U);S.i.length>0&&Hi(S)}else _t[0]!="stop"&&_t[0]!="close"||qi(S,7);else S.I==3&&(_t[0]=="stop"||_t[0]=="close"?_t[0]=="stop"?qi(S,7):tl(S):_t[0]!="noop"&&S.l&&S.l.qa(_t),S.A=0)}}Wn(4)}catch{}}var Yt=class{constructor(h,y){this.g=h,this.map=y}};function Ho(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function qo(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Vi(h){return h.h?1:h.g?h.g.size:0}function Pi(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function Go(h,y){h.g?h.g.add(y):h.h=y}function Qo(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}Ho.prototype.cancel=function(){if(this.i=Ko(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Ko(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const S of h.g.values())y=y.concat(S.G);return y}return E(h.i)}var Au=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Sa(h,y){if(h){h=h.split("&");for(let S=0;S<h.length;S++){const U=h[S].indexOf("=");let ne,ce=null;U>=0?(ne=h[S].substring(0,U),ce=h[S].substring(U+1)):ne=h[S],y(ne,ce?decodeURIComponent(ce.replace(/\+/g," ")):"")}}}function Pn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;h instanceof Pn?(this.l=h.l,ln(this,h.j),this.o=h.o,this.g=h.g,Pr(this,h.u),this.h=h.h,Yo(this,Iu(h.i)),this.m=h.m):h&&(y=String(h).match(Au))?(this.l=!1,ln(this,y[1]||"",!0),this.o=zi(y[2]||""),this.g=zi(y[3]||"",!0),Pr(this,y[4]),this.h=zi(y[5]||"",!0),Yo(this,y[6]||"",!0),this.m=zi(y[7]||"")):(this.l=!1,this.i=new Ur(null,this.l))}Pn.prototype.toString=function(){const h=[];var y=this.j;y&&h.push(zs(y,Aa,!0),":");var S=this.g;return(S||y=="file")&&(h.push("//"),(y=this.o)&&h.push(zs(y,Aa,!0),"@"),h.push(rr(S).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.u,S!=null&&h.push(":",String(S))),(S=this.h)&&(this.g&&S.charAt(0)!="/"&&h.push("/"),h.push(zs(S,S.charAt(0)=="/"?Xo:Ru,!0))),(S=this.i.toString())&&h.push("?",S),(S=this.m)&&h.push("#",zs(S,Cu)),h.join("")},Pn.prototype.resolve=function(h){const y=Xt(this);let S=!!h.j;S?ln(y,h.j):S=!!h.o,S?y.o=h.o:S=!!h.g,S?y.g=h.g:S=h.u!=null;var U=h.h;if(S)Pr(y,h.u);else if(S=!!h.h){if(U.charAt(0)!="/")if(this.g&&!this.h)U="/"+U;else{var ne=y.h.lastIndexOf("/");ne!=-1&&(U=y.h.slice(0,ne+1)+U)}if(ne=U,ne==".."||ne==".")U="";else if(ne.indexOf("./")!=-1||ne.indexOf("/.")!=-1){U=ne.lastIndexOf("/",0)==0,ne=ne.split("/");const ce=[];for(let Ce=0;Ce<ne.length;){const We=ne[Ce++];We=="."?U&&Ce==ne.length&&ce.push(""):We==".."?((ce.length>1||ce.length==1&&ce[0]!="")&&ce.pop(),U&&Ce==ne.length&&ce.push("")):(ce.push(We),U=!0)}U=ce.join("/")}else U=ne}return S?y.h=U:S=h.i.toString()!=="",S?Yo(y,Iu(h.i)):S=!!h.m,S&&(y.m=h.m),y};function Xt(h){return new Pn(h)}function ln(h,y,S){h.j=S?zi(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function Pr(h,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);h.u=y}else h.u=null}function Yo(h,y,S){y instanceof Ur?(h.i=y,Ca(h.i,h.l)):(S||(y=zs(y,zr)),h.i=new Ur(y,h.l))}function wt(h,y,S){h.i.set(y,S)}function Ps(h){return wt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function zi(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function zs(h,y,S){return typeof h=="string"?(h=encodeURI(h).replace(y,Cn),S&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Cn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Aa=/[#\/\?@]/g,Ru=/[#\?:]/g,Xo=/[#\?]/g,zr=/[#\?@]/g,Cu=/#/g;function Ur(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function Nn(h){h.g||(h.g=new Map,h.h=0,h.i&&Sa(h.i,function(y,S){h.add(decodeURIComponent(y.replace(/\+/g," ")),S)}))}r=Ur.prototype,r.add=function(h,y){Nn(this),this.i=null,h=Br(this,h);let S=this.g.get(h);return S||this.g.set(h,S=[]),S.push(y),this.h+=1,this};function Nu(h,y){Nn(h),y=Br(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function $o(h,y){return Nn(h),y=Br(h,y),h.g.has(y)}r.forEach=function(h,y){Nn(this),this.g.forEach(function(S,U){S.forEach(function(ne){h.call(y,ne,U,this)},this)},this)};function Wo(h,y){Nn(h);let S=[];if(typeof y=="string")$o(h,y)&&(S=S.concat(h.g.get(Br(h,y))));else for(h=Array.from(h.g.values()),y=0;y<h.length;y++)S=S.concat(h[y]);return S}r.set=function(h,y){return Nn(this),this.i=null,h=Br(this,h),$o(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},r.get=function(h,y){return h?(h=Wo(this,h),h.length>0?String(h[0]):y):y};function Ra(h,y,S){Nu(h,y),S.length>0&&(h.i=null,h.g.set(Br(h,y),E(S)),h.h+=S.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(let U=0;U<y.length;U++){var S=y[U];const ne=rr(S);S=Wo(this,S);for(let ce=0;ce<S.length;ce++){let Ce=ne;S[ce]!==""&&(Ce+="="+rr(S[ce])),h.push(Ce)}}return this.i=h.join("&")};function Iu(h){const y=new Ur;return y.i=h.i,h.g&&(y.g=new Map(h.g),y.h=h.h),y}function Br(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function Ca(h,y){y&&!h.j&&(Nn(h),h.i=null,h.g.forEach(function(S,U){const ne=U.toLowerCase();U!=ne&&(Nu(this,U),Ra(this,ne,S))},h)),h.j=y}function gi(h,y){const S=new di;if(c.Image){const U=new Image;U.onload=_(Jn,S,"TestLoadImage: loaded",!0,y,U),U.onerror=_(Jn,S,"TestLoadImage: error",!1,y,U),U.onabort=_(Jn,S,"TestLoadImage: abort",!1,y,U),U.ontimeout=_(Jn,S,"TestLoadImage: timeout",!1,y,U),c.setTimeout(function(){U.ontimeout&&U.ontimeout()},1e4),U.src=h}else y(!1)}function Zo(h,y){const S=new di,U=new AbortController,ne=setTimeout(()=>{U.abort(),Jn(S,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:U.signal}).then(ce=>{clearTimeout(ne),ce.ok?Jn(S,"TestPingServer: ok",!0,y):Jn(S,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(ne),Jn(S,"TestPingServer: error",!1,y)})}function Jn(h,y,S,U,ne){try{ne&&(ne.onload=null,ne.onerror=null,ne.onabort=null,ne.ontimeout=null),U(S)}catch{}}function Fr(){this.g=new Qe}function Ui(h){this.i=h.Sb||null,this.h=h.ab||!1}v(Ui,dt),Ui.prototype.g=function(){return new Us(this.i,this.h)};function Us(h,y){X.call(this),this.H=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(Us,X),r=Us.prototype,r.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=y,this.readyState=1,yi(this)},r.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(y.body=h),(this.H||c).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Hr(this)),this.readyState=0},r.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,yi(this)),this.g&&(this.readyState=3,yi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Na(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Na(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}r.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?Hr(this):yi(this),this.readyState==3&&Na(this)}},r.Oa=function(h){this.g&&(this.response=this.responseText=h,Hr(this))},r.Na=function(h){this.g&&(this.response=h,Hr(this))},r.ga=function(){this.g&&Hr(this)};function Hr(h){h.readyState=4,h.l=null,h.j=null,h.B=null,yi(h)}r.setRequestHeader=function(h,y){this.A.append(h,y)},r.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var S=y.next();!S.done;)S=S.value,h.push(S[0]+": "+S[1]),S=y.next();return h.join(`\r
`)};function yi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Us.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function ei(h){let y="";return ge(h,function(S,U){y+=U,y+=":",y+=S,y+=`\r
`}),y}function Bs(h,y,S){e:{for(U in S){var U=!1;break e}U=!0}U||(S=ei(S),typeof h=="string"?S!=null&&rr(S):wt(h,y,S))}function Tt(h){X.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(Tt,X);var Bi=/^https?$/i,Jo=["POST","PUT"];r=Tt.prototype,r.Fa=function(h){this.H=h},r.ea=function(h,y,S,U){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Fo.g(),this.g.onreadystatechange=x(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(ce){Fs(this,ce);return}if(h=S||"",S=new Map(this.headers),U)if(Object.getPrototypeOf(U)===Object.prototype)for(var ne in U)S.set(ne,U[ne]);else if(typeof U.keys=="function"&&typeof U.get=="function")for(const ce of U.keys())S.set(ce,U.get(ce));else throw Error("Unknown input type for opt_headers: "+String(U));U=Array.from(S.keys()).find(ce=>ce.toLowerCase()=="content-type"),ne=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(Jo,y,void 0)>=0)||U||ne||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ce,Ce]of S)this.g.setRequestHeader(ce,Ce);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(ce){Fs(this,ce)}};function Fs(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.o=5,el(h),sr(h)}function el(h){h.A||(h.A=!0,ue(h,"complete"),ue(h,"error"))}r.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,ue(this,"complete"),ue(this,"abort"),sr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),sr(this,!0)),Tt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Hs(this):this.Xa())},r.Xa=function(){Hs(this)};function Hs(h){if(h.h&&typeof u<"u"){if(h.v&&_i(h)==4)setTimeout(h.Ca.bind(h),0);else if(ue(h,"readystatechange"),_i(h)==4){h.h=!1;try{const ce=h.ca();e:switch(ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var S;if(!(S=y)){var U;if(U=ce===0){let Ce=String(h.D).match(Au)[1]||null;!Ce&&c.self&&c.self.location&&(Ce=c.self.location.protocol.slice(0,-1)),U=!Bi.test(Ce?Ce.toLowerCase():"")}S=U}if(S)ue(h,"complete"),ue(h,"success");else{h.o=6;try{var ne=_i(h)>2?h.g.statusText:""}catch{ne=""}h.l=ne+" ["+h.ca()+"]",el(h)}}finally{sr(h)}}}}function sr(h,y){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const S=h.g;h.g=null,y||ue(h,"ready");try{S.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function _i(h){return h.g?h.g.readyState:0}r.ca=function(){try{return _i(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),Ee(y)}};function mn(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function ar(h){const y={};h=(h.g&&_i(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let U=0;U<h.length;U++){if(D(h[U]))continue;var S=xu(h[U]);const ne=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const ce=y[ne]||[];y[ne]=ce,ce.push(S)}Ne(y,function(U){return U.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fi(h,y,S){return S&&S.internalChannelParams&&S.internalChannelParams[h]||y}function qr(h){this.za=0,this.i=[],this.j=new di,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Fi("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Fi("baseRetryDelayMs",5e3,h),this.Za=Fi("retryDelaySeedMs",1e4,h),this.Ta=Fi("forwardChannelMaxRetries",2,h),this.va=Fi("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Ho(h&&h.concurrentRequestLimit),this.Ba=new Fr,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=qr.prototype,r.ka=8,r.I=1,r.connect=function(h,y,S,U){Nt(0),this.W=h,this.H=y||{},S&&U!==void 0&&(this.H.OSID=S,this.H.OAID=U),this.F=this.X,this.J=Vu(this,null,this.W),Hi(this)};function tl(h){if(Ia(h),h.I==3){var y=h.V++,S=Xt(h.J);if(wt(S,"SID",h.M),wt(S,"RID",y),wt(S,"TYPE","terminate"),qs(h,S),y=new mi(h,h.j,y),y.M=2,y.A=Ps(Xt(S)),S=!1,c.navigator&&c.navigator.sendBeacon)try{S=c.navigator.sendBeacon(y.A.toString(),"")}catch{}!S&&c.Image&&(new Image().src=y.A,S=!0),S||(y.g=Pu(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Mi(y)}Lu(h)}function Gr(h){h.g&&(il(h),h.g.cancel(),h.g=null)}function Ia(h){Gr(h),h.v&&(c.clearTimeout(h.v),h.v=null),Da(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Hi(h){if(!qo(h.h)&&!h.m){h.m=!0;var y=h.Ea;Y||j(),ie||(Y(),ie=!0),M.add(y,h),h.D=0}}function ka(h,y){return Vi(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=y.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=ki(g(h.Ea,h,y),ju(h,h.D)),h.D++,!0)}r.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const ne=new mi(this,this.j,h);let ce=this.o;if(this.U&&(ce?(ce=V(ce),me(ce,this.U)):ce=this.U),this.u!==null||this.R||(ne.J=ce,ce=null),this.S)e:{for(var y=0,S=0;S<this.i.length;S++){t:{var U=this.i[S];if("__data__"in U.map&&(U=U.map.__data__,typeof U=="string")){U=U.length;break t}U=void 0}if(U===void 0)break;if(y+=U,y>4096){y=S;break e}if(y===4096||S===this.i.length-1){y=S+1;break e}}y=1e3}else y=1e3;y=ku(this,ne,y),S=Xt(this.J),wt(S,"RID",h),wt(S,"CVER",22),this.G&&wt(S,"X-HTTP-Session-Id",this.G),qs(this,S),ce&&(this.R?y="headers="+rr(ei(ce))+"&"+y:this.u&&Bs(S,this.u,ce)),Go(this.h,ne),this.Ra&&wt(S,"TYPE","init"),this.S?(wt(S,"$req",y),wt(S,"SID","null"),ne.U=!0,Oi(ne,S,null)):Oi(ne,S,y),this.I=2}}else this.I==3&&(h?nl(this,h):this.i.length==0||qo(this.h)||nl(this))};function nl(h,y){var S;y?S=y.l:S=h.V++;const U=Xt(h.J);wt(U,"SID",h.M),wt(U,"RID",S),wt(U,"AID",h.K),qs(h,U),h.u&&h.o&&Bs(U,h.u,h.o),S=new mi(h,h.j,S,h.D+1),h.u===null&&(S.J=h.o),y&&(h.i=y.G.concat(h.i)),y=ku(h,S,1e3),S.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Go(h.h,S),Oi(S,U,y)}function qs(h,y){h.H&&ge(h.H,function(S,U){wt(y,U,S)}),h.l&&ge({},function(S,U){wt(y,U,S)})}function ku(h,y,S){S=Math.min(h.i.length,S);const U=h.l?g(h.l.Ka,h.l,h):null;e:{var ne=h.i;let We=-1;for(;;){const Ht=["count="+S];We==-1?S>0?(We=ne[0].g,Ht.push("ofs="+We)):We=0:Ht.push("ofs="+We);let _t=!0;for(let jt=0;jt<S;jt++){var ce=ne[jt].g;const ti=ne[jt].map;if(ce-=We,ce<0)We=Math.max(0,ne[jt].g-100),_t=!1;else try{ce="req"+ce+"_"||"";try{var Ce=ti instanceof Map?ti:Object.entries(ti);for(const[Gi,vi]of Ce){let bi=vi;d(vi)&&(bi=Ge(vi)),Ht.push(ce+Gi+"="+encodeURIComponent(bi))}}catch(Gi){throw Ht.push(ce+"type="+encodeURIComponent("_badmap")),Gi}}catch{U&&U(ti)}}if(_t){Ce=Ht.join("&");break e}}Ce=void 0}return h=h.i.splice(0,S),y.G=h,Ce}function Du(h){if(!h.g&&!h.v){h.Y=1;var y=h.Da;Y||j(),ie||(Y(),ie=!0),M.add(y,h),h.A=0}}function Gs(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=ki(g(h.Da,h),ju(h,h.A)),h.A++,!0)}r.Da=function(){if(this.v=null,Ou(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=ki(g(this.Wa,this),h)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Nt(10),Gr(this),Ou(this))};function il(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function Ou(h){h.g=new mi(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var y=Xt(h.na);wt(y,"RID","rpc"),wt(y,"SID",h.M),wt(y,"AID",h.K),wt(y,"CI",h.F?"0":"1"),!h.F&&h.ia&&wt(y,"TO",h.ia),wt(y,"TYPE","xmlhttp"),qs(h,y),h.u&&h.o&&Bs(y,h.u,h.o),h.O&&(h.g.H=h.O);var S=h.g;h=h.ba,S.M=1,S.A=Ps(Xt(y)),S.u=null,S.R=!0,xa(S,h)}r.Va=function(){this.C!=null&&(this.C=null,Gr(this),Gs(this),Nt(19))};function Da(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function Mu(h,y){var S=null;if(h.g==y){Da(h),il(h),h.g=null;var U=2}else if(Pi(h.h,y))S=y.G,Qo(h.h,y),U=1;else return;if(h.I!=0){if(y.o)if(U==1){S=y.u?y.u.length:0,y=Date.now()-y.F;var ne=h.D;U=Ln(),ue(U,new Sn(U,S)),Hi(h)}else Du(h);else if(ne=y.m,ne==3||ne==0&&y.X>0||!(U==1&&ka(h,y)||U==2&&Gs(h)))switch(S&&S.length>0&&(y=h.h,y.i=y.i.concat(S)),ne){case 1:qi(h,5);break;case 4:qi(h,10);break;case 3:qi(h,6);break;default:qi(h,2)}}}function ju(h,y){let S=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(S*=2),S*y}function qi(h,y){if(h.j.info("Error code "+y),y==2){var S=g(h.bb,h),U=h.Ua;const ne=!U;U=new Pn(U||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||ln(U,"https"),Ps(U),ne?gi(U.toString(),S):Zo(U.toString(),S)}else Nt(2);h.I=0,h.l&&h.l.pa(y),Lu(h),Ia(h)}r.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Nt(2)):(this.j.info("Failed to ping google.com"),Nt(1))};function Lu(h){if(h.I=0,h.ja=[],h.l){const y=Ko(h.h);(y.length!=0||h.i.length!=0)&&(k(h.ja,y),k(h.ja,h.i),h.h.i.length=0,E(h.i),h.i.length=0),h.l.oa()}}function Vu(h,y,S){var U=S instanceof Pn?Xt(S):new Pn(S);if(U.g!="")y&&(U.g=y+"."+U.g),Pr(U,U.u);else{var ne=c.location;U=ne.protocol,y=y?y+"."+ne.hostname:ne.hostname,ne=+ne.port;const ce=new Pn(null);U&&ln(ce,U),y&&(ce.g=y),ne&&Pr(ce,ne),S&&(ce.h=S),U=ce}return S=h.G,y=h.wa,S&&y&&wt(U,S,y),wt(U,"VER",h.ka),qs(h,U),U}function Pu(h,y,S){if(y&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Aa&&!h.ma?new Tt(new Ui({ab:S})):new Tt(h.ma),y.Fa(h.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function zu(){}r=zu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Qr(){}Qr.prototype.g=function(h,y){return new An(h,y)};function An(h,y){X.call(this),this.g=new qr(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(h?h["X-WebChannel-Client-Profile"]=y.sa:h={"X-WebChannel-Client-Profile":y.sa}),this.g.U=h,(h=y&&y.Qb)&&!D(h)&&(this.g.u=h),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!D(y)&&(this.g.G=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new or(this)}v(An,X),An.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},An.prototype.close=function(){tl(this.g)},An.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var S={};S.__data__=h,h=S}else this.v&&(S={},S.__data__=Ge(h),h=S);y.i.push(new Yt(y.Ya++,h)),y.I==3&&Hi(y)},An.prototype.N=function(){this.g.l=null,delete this.j,tl(this.g),delete this.g,An.Z.N.call(this)};function Uu(h){it.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const S in y){h=S;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}v(Uu,it);function Bu(){Mt.call(this),this.status=1}v(Bu,Mt);function or(h){this.g=h}v(or,zu),or.prototype.ra=function(){ue(this.g,"a")},or.prototype.qa=function(h){ue(this.g,new Uu(h))},or.prototype.pa=function(h){ue(this.g,new Bu)},or.prototype.oa=function(){ue(this.g,"b")},Qr.prototype.createWebChannel=Qr.prototype.g,An.prototype.send=An.prototype.o,An.prototype.open=An.prototype.m,An.prototype.close=An.prototype.close,M1=function(){return new Qr},O1=function(){return Ln()},D1=rt,Lm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ls.NO_ERROR=0,Ls.TIMEOUT=8,Ls.HTTP_ERROR=6,oh=Ls,Bo.COMPLETE="complete",k1=Bo,mt.EventType=Ke,Ke.OPEN="a",Ke.CLOSE="b",Ke.ERROR="c",Ke.MESSAGE="d",X.prototype.listen=X.prototype.J,Gl=mt,Tt.prototype.listenOnce=Tt.prototype.K,Tt.prototype.getLastError=Tt.prototype.Ha,Tt.prototype.getLastErrorCode=Tt.prototype.ya,Tt.prototype.getStatus=Tt.prototype.ca,Tt.prototype.getResponseJson=Tt.prototype.La,Tt.prototype.getResponseText=Tt.prototype.la,Tt.prototype.send=Tt.prototype.ea,Tt.prototype.setWithCredentials=Tt.prototype.Fa,I1=Tt}).apply(typeof Xc<"u"?Xc:typeof self<"u"?self:typeof window<"u"?window:{});const f0="@firebase/firestore",d0="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}En.UNAUTHENTICATED=new En(null),En.GOOGLE_CREDENTIALS=new En("google-credentials-uid"),En.FIRST_PARTY=new En("first-party-uid"),En.MOCK_USER=new En("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vo="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma=new up("@firebase/firestore");function co(){return ma.logLevel}function De(r,...e){if(ma.logLevel<=ot.DEBUG){const n=e.map(wp);ma.debug(`Firestore (${Vo}): ${r}`,...n)}}function Mr(r,...e){if(ma.logLevel<=ot.ERROR){const n=e.map(wp);ma.error(`Firestore (${Vo}): ${r}`,...n)}}function pa(r,...e){if(ma.logLevel<=ot.WARN){const n=e.map(wp);ma.warn(`Firestore (${Vo}): ${r}`,...n)}}function wp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qe(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,j1(r,s,n)}function j1(r,e,n){let s=`FIRESTORE (${Vo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Mr(s),new Error(s)}function bt(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||j1(e,o,s)}function $e(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Pe extends Lr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class V1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(En.UNAUTHENTICATED)))}shutdown(){}}class IC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class kC{constructor(e){this.t=e,this.currentUser=En.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){bt(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new xs;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new xs,e.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},d=p=>{De("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>d(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(De("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new xs)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(De("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(bt(typeof s.accessToken=="string",31837,{l:s}),new L1(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return bt(e===null||typeof e=="string",2055,{h:e}),new En(e)}}class DC{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=En.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class OC{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new DC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(En.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class m0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class MC{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Qn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){bt(this.o===void 0,3512);const s=u=>{u.error!=null&&De("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.m;return this.m=u.token,De("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{De("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):De("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new m0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(bt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new m0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jC(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=jC(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function lt(r,e){return r<e?-1:r>e?1:0}function Vm(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return vm(o)===vm(u)?lt(o,u):vm(o)?1:-1}return lt(r.length,e.length)}const LC=55296,VC=57343;function vm(r){const e=r.charCodeAt(0);return e>=LC&&e<=VC}function So(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0="__name__";class $i{constructor(e,n,s){n===void 0?n=0:n>e.length&&qe(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&qe(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return $i.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof $i?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=$i.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return lt(e.length,n.length)}static compareSegments(e,n){const s=$i.isNumericId(e),o=$i.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?$i.extractNumericId(e).compare($i.extractNumericId(n)):Vm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Es.fromString(e.substring(4,e.length-2))}}class Pt extends $i{construct(e,n,s){return new Pt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new Pe(xe.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new Pt(n)}static emptyPath(){return new Pt([])}}const PC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fn extends $i{construct(e,n,s){return new fn(e,n,s)}static isValidIdentifier(e){return PC.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===p0}static keyField(){return new fn([p0])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new Pe(xe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new Pe(xe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Pe(xe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else d==="`"?(c=!c,o++):d!=="."||c?(s+=d,o++):(u(),o++)}if(u(),c)throw new Pe(xe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new fn(n)}static emptyPath(){return new fn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.path=e}static fromPath(e){return new Be(Pt.fromString(e))}static fromName(e){return new Be(Pt.fromString(e).popFirst(5))}static empty(){return new Be(Pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Pt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Be(new Pt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zC(r,e,n){if(!n)throw new Pe(xe.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function P1(r,e,n,s){if(e===!0&&s===!0)throw new Pe(xe.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function g0(r){if(!Be.isDocumentKey(r))throw new Pe(xe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function z1(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Ep(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":qe(12329,{type:typeof r})}function Ao(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Pe(xe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ep(r);throw new Pe(xe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(r,e){const n={typeString:r};return e&&(n.value=e),n}function yu(r,e){if(!z1(r))throw new Pe(xe.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const c=r[s];if(o&&typeof c!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&c!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new Pe(xe.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0=-62135596800,_0=1e6;class It{static now(){return It.fromMillis(Date.now())}static fromDate(e){return It.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*_0);return new It(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Pe(xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Pe(xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<y0)throw new Pe(xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Pe(xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/_0}_compareTo(e){return this.seconds===e.seconds?lt(this.nanoseconds,e.nanoseconds):lt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:It._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(yu(e,It._jsonSchema))return new It(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-y0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}It._jsonSchemaVersion="firestore/timestamp/1.0",It._jsonSchema={type:tn("string",It._jsonSchemaVersion),seconds:tn("number"),nanoseconds:tn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{static fromTimestamp(e){return new Ye(e)}static min(){return new Ye(new It(0,0))}static max(){return new Ye(new It(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iu=-1;function UC(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Ye.fromTimestamp(s===1e9?new It(n+1,0):new It(n,s));return new As(o,Be.empty(),e)}function BC(r){return new As(r.readTime,r.key,iu)}class As{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new As(Ye.min(),Be.empty(),iu)}static max(){return new As(Ye.max(),Be.empty(),iu)}}function FC(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=Be.comparator(r.documentKey,e.documentKey),n!==0?n:lt(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Po(r){if(r.code!==xe.FAILED_PRECONDITION||r.message!==HC)throw r;De("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&qe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new we(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof we?n:we.resolve(n)}catch(n){return we.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):we.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):we.reject(n)}static resolve(e){return new we(((n,s)=>{n(e)}))}static reject(e){return new we(((n,s)=>{s(e)}))}static waitFor(e){return new we(((n,s)=>{let o=0,u=0,c=!1;e.forEach((d=>{++o,d.next((()=>{++u,c&&u===o&&n()}),(p=>s(p)))})),c=!0,u===o&&n()}))}static or(e){let n=we.resolve(!1);for(const s of e)n=n.next((o=>o?we.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new we(((s,o)=>{const u=e.length,c=new Array(u);let d=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next((_=>{c[g]=_,++d,d===u&&s(c)}),(_=>o(_)))}}))}static doWhile(e,n){return new we(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function GC(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function zo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}qh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xp=-1;function Gh(r){return r==null}function Eh(r){return r===0&&1/r==-1/0}function QC(r){return typeof r=="number"&&Number.isInteger(r)&&!Eh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1="";function KC(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=v0(e)),e=YC(r.get(n),e);return v0(e)}function YC(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case U1:n+="";break;default:n+=u}}return n}function v0(r){return r+U1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b0(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function va(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function B1(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e,n){this.comparator=e,this.root=n||vn.EMPTY}insert(e,n){return new zt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,vn.BLACK,null,null))}remove(e){return new zt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $c(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $c(this.root,e,this.comparator,!1)}getReverseIterator(){return new $c(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $c(this.root,e,this.comparator,!0)}}class $c{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vn{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??vn.RED,this.left=o??vn.EMPTY,this.right=u??vn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new vn(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return vn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return vn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw qe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw qe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw qe(27949);return e+(this.isRed()?0:1)}}vn.EMPTY=null,vn.RED=!0,vn.BLACK=!1;vn.EMPTY=new class{constructor(){this.size=0}get key(){throw qe(57766)}get value(){throw qe(16141)}get color(){throw qe(16727)}get left(){throw qe(29726)}get right(){throw qe(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new vn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.comparator=e,this.data=new zt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new w0(this.data.getIterator())}getIteratorFrom(e){return new w0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof an)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new an(this.comparator);return n.data=e,n}}class w0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(e){this.fields=e,e.sort(fn.comparator)}static empty(){return new Ai([])}unionWith(e){let n=new an(fn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Ai(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return So(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new F1("Invalid base64 string: "+u):u}})(e);return new dn(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u})(e);return new dn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return lt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dn.EMPTY_BYTE_STRING=new dn("");const XC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Rs(r){if(bt(!!r,39018),typeof r=="string"){let e=0;const n=XC.exec(r);if(bt(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Qt(r.seconds),nanos:Qt(r.nanos)}}function Qt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Cs(r){return typeof r=="string"?dn.fromBase64String(r):dn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1="server_timestamp",q1="__type__",G1="__previous_value__",Q1="__local_write_time__";function Tp(r){var n,s;return((s=(((n=r==null?void 0:r.mapValue)==null?void 0:n.fields)||{})[q1])==null?void 0:s.stringValue)===H1}function Qh(r){const e=r.mapValue.fields[G1];return Tp(e)?Qh(e):e}function ru(r){const e=Rs(r.mapValue.fields[Q1].timestampValue);return new It(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(e,n,s,o,u,c,d,p,g,_){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=_}}const xh="(default)";class Ro{constructor(e,n){this.projectId=e,this.database=n||xh}static empty(){return new Ro("","")}get isDefaultDatabase(){return this.database===xh}isEqual(e){return e instanceof Ro&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1="__type__",WC="__max__",Wc={mapValue:{}},Y1="__vector__",Th="value";function Ns(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Tp(r)?4:JC(r)?9007199254740991:ZC(r)?10:11:qe(28295,{value:r})}function tr(r,e){if(r===e)return!0;const n=Ns(r);if(n!==Ns(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return ru(r).isEqual(ru(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=Rs(o.timestampValue),d=Rs(u.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return Cs(o.bytesValue).isEqual(Cs(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return Qt(o.geoPointValue.latitude)===Qt(u.geoPointValue.latitude)&&Qt(o.geoPointValue.longitude)===Qt(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Qt(o.integerValue)===Qt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=Qt(o.doubleValue),d=Qt(u.doubleValue);return c===d?Eh(c)===Eh(d):isNaN(c)&&isNaN(d)}return!1})(r,e);case 9:return So(r.arrayValue.values||[],e.arrayValue.values||[],tr);case 10:case 11:return(function(o,u){const c=o.mapValue.fields||{},d=u.mapValue.fields||{};if(b0(c)!==b0(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!tr(c[p],d[p])))return!1;return!0})(r,e);default:return qe(52216,{left:r})}}function su(r,e){return(r.values||[]).find((n=>tr(n,e)))!==void 0}function Co(r,e){if(r===e)return 0;const n=Ns(r),s=Ns(e);if(n!==s)return lt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return lt(r.booleanValue,e.booleanValue);case 2:return(function(u,c){const d=Qt(u.integerValue||u.doubleValue),p=Qt(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1})(r,e);case 3:return E0(r.timestampValue,e.timestampValue);case 4:return E0(ru(r),ru(e));case 5:return Vm(r.stringValue,e.stringValue);case 6:return(function(u,c){const d=Cs(u),p=Cs(c);return d.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(u,c){const d=u.split("/"),p=c.split("/");for(let g=0;g<d.length&&g<p.length;g++){const _=lt(d[g],p[g]);if(_!==0)return _}return lt(d.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,c){const d=lt(Qt(u.latitude),Qt(c.latitude));return d!==0?d:lt(Qt(u.longitude),Qt(c.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return x0(r.arrayValue,e.arrayValue);case 10:return(function(u,c){var x,E,k,A;const d=u.fields||{},p=c.fields||{},g=(x=d[Th])==null?void 0:x.arrayValue,_=(E=p[Th])==null?void 0:E.arrayValue,v=lt(((k=g==null?void 0:g.values)==null?void 0:k.length)||0,((A=_==null?void 0:_.values)==null?void 0:A.length)||0);return v!==0?v:x0(g,_)})(r.mapValue,e.mapValue);case 11:return(function(u,c){if(u===Wc.mapValue&&c===Wc.mapValue)return 0;if(u===Wc.mapValue)return 1;if(c===Wc.mapValue)return-1;const d=u.fields||{},p=Object.keys(d),g=c.fields||{},_=Object.keys(g);p.sort(),_.sort();for(let v=0;v<p.length&&v<_.length;++v){const x=Vm(p[v],_[v]);if(x!==0)return x;const E=Co(d[p[v]],g[_[v]]);if(E!==0)return E}return lt(p.length,_.length)})(r.mapValue,e.mapValue);default:throw qe(23264,{he:n})}}function E0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return lt(r,e);const n=Rs(r),s=Rs(e),o=lt(n.seconds,s.seconds);return o!==0?o:lt(n.nanos,s.nanos)}function x0(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Co(n[o],s[o]);if(u)return u}return lt(n.length,s.length)}function No(r){return Pm(r)}function Pm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=Rs(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return Cs(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return Be.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Pm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const c of s)u?u=!1:o+=",",o+=`${c}:${Pm(n.fields[c])}`;return o+"}"})(r.mapValue):qe(61005,{value:r})}function lh(r){switch(Ns(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Qh(r);return e?16+lh(e):16;case 5:return 2*r.stringValue.length;case 6:return Cs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+lh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return va(s.fields,((u,c)=>{o+=u.length+lh(c)})),o})(r.mapValue);default:throw qe(13486,{value:r})}}function zm(r){return!!r&&"integerValue"in r}function Sp(r){return!!r&&"arrayValue"in r}function T0(r){return!!r&&"nullValue"in r}function S0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function uh(r){return!!r&&"mapValue"in r}function ZC(r){var n,s;return((s=(((n=r==null?void 0:r.mapValue)==null?void 0:n.fields)||{})[K1])==null?void 0:s.stringValue)===Y1}function $l(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return va(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=$l(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=$l(r.arrayValue.values[n]);return e}return{...r}}function JC(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===WC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e){this.value=e}static empty(){return new ci({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!uh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=$l(n)}setAll(e){let n=fn.emptyPath(),s={},o=[];e.forEach(((c,d)=>{if(!n.isImmediateParentOf(d)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=d.popLast()}c?s[d.lastSegment()]=$l(c):o.push(d.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());uh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return tr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];uh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){va(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new ci($l(this.value))}}function X1(r){const e=[];return va(r.fields,((n,s)=>{const o=new fn([n]);if(uh(s)){const u=X1(s.mapValue).fields;if(u.length===0)e.push(o);else for(const c of u)e.push(o.child(c))}else e.push(o)})),new Ai(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e,n,s,o,u,c,d){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=c,this.documentState=d}static newInvalidDocument(e){return new xn(e,0,Ye.min(),Ye.min(),Ye.min(),ci.empty(),0)}static newFoundDocument(e,n,s,o){return new xn(e,1,n,Ye.min(),s,o,0)}static newNoDocument(e,n){return new xn(e,2,n,Ye.min(),Ye.min(),ci.empty(),0)}static newUnknownDocument(e,n){return new xn(e,3,n,Ye.min(),Ye.min(),ci.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ye.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ci.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ci.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ye.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof xn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,n){this.position=e,this.inclusive=n}}function A0(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],c=r.position[o];if(u.field.isKeyField()?s=Be.comparator(Be.fromName(c.referenceValue),n.key):s=Co(c,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function R0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!tr(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,n="asc"){this.field=e,this.dir=n}}function eN(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{}class rn extends $1{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new nN(e,n,s):n==="array-contains"?new sN(e,s):n==="in"?new aN(e,s):n==="not-in"?new oN(e,s):n==="array-contains-any"?new lN(e,s):new rn(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new iN(e,s):new rN(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Co(n,this.value)):n!==null&&Ns(this.value)===Ns(n)&&this.matchesComparison(Co(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return qe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class nr extends $1{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new nr(e,n)}matches(e){return W1(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function W1(r){return r.op==="and"}function Z1(r){return tN(r)&&W1(r)}function tN(r){for(const e of r.filters)if(e instanceof nr)return!1;return!0}function Um(r){if(r instanceof rn)return r.field.canonicalString()+r.op.toString()+No(r.value);if(Z1(r))return r.filters.map((e=>Um(e))).join(",");{const e=r.filters.map((n=>Um(n))).join(",");return`${r.op}(${e})`}}function J1(r,e){return r instanceof rn?(function(s,o){return o instanceof rn&&s.op===o.op&&s.field.isEqual(o.field)&&tr(s.value,o.value)})(r,e):r instanceof nr?(function(s,o){return o instanceof nr&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,c,d)=>u&&J1(c,o.filters[d])),!0):!1})(r,e):void qe(19439)}function ew(r){return r instanceof rn?(function(n){return`${n.field.canonicalString()} ${n.op} ${No(n.value)}`})(r):r instanceof nr?(function(n){return n.op.toString()+" {"+n.getFilters().map(ew).join(" ,")+"}"})(r):"Filter"}class nN extends rn{constructor(e,n,s){super(e,n,s),this.key=Be.fromName(s.referenceValue)}matches(e){const n=Be.comparator(e.key,this.key);return this.matchesComparison(n)}}class iN extends rn{constructor(e,n){super(e,"in",n),this.keys=tw("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class rN extends rn{constructor(e,n){super(e,"not-in",n),this.keys=tw("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function tw(r,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((s=>Be.fromName(s.referenceValue)))}class sN extends rn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Sp(n)&&su(n.arrayValue,this.value)}}class aN extends rn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&su(this.value.arrayValue,n)}}class oN extends rn{constructor(e,n){super(e,"not-in",n)}matches(e){if(su(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!su(this.value.arrayValue,n)}}class lN extends rn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Sp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>su(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(e,n=null,s=[],o=[],u=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=c,this.endAt=d,this.Te=null}}function C0(r,e=null,n=[],s=[],o=null,u=null,c=null){return new uN(r,e,n,s,o,u,c)}function Ap(r){const e=$e(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Um(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Gh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>No(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>No(s))).join(",")),e.Te=n}return e.Te}function Rp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!eN(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!J1(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!R0(r.startAt,e.startAt)&&R0(r.endAt,e.endAt)}function Bm(r){return Be.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,n=null,s=[],o=[],u=null,c="F",d=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=c,this.startAt=d,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function cN(r,e,n,s,o,u,c,d){return new Kh(r,e,n,s,o,u,c,d)}function Cp(r){return new Kh(r)}function N0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function hN(r){return r.collectionGroup!==null}function Wl(r){const e=$e(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new an(fn.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(d=d.add(g.field))}))})),d})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Ah(u,s))})),n.has(fn.keyField().canonicalString())||e.Ie.push(new Ah(fn.keyField(),s))}return e.Ie}function Ji(r){const e=$e(r);return e.Ee||(e.Ee=fN(e,Wl(r))),e.Ee}function fN(r,e){if(r.limitType==="F")return C0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Ah(o.field,u)}));const n=r.endAt?new Sh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Sh(r.startAt.position,r.startAt.inclusive):null;return C0(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Fm(r,e,n){return new Kh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Yh(r,e){return Rp(Ji(r),Ji(e))&&r.limitType===e.limitType}function nw(r){return`${Ap(Ji(r))}|lt:${r.limitType}`}function ho(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>ew(o))).join(", ")}]`),Gh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>No(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>No(o))).join(",")),`Target(${s})`})(Ji(r))}; limitType=${r.limitType})`}function Xh(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Be.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of Wl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(c,d,p){const g=A0(c,d,p);return c.inclusive?g<=0:g<0})(s.startAt,Wl(s),o)||s.endAt&&!(function(c,d,p){const g=A0(c,d,p);return c.inclusive?g>=0:g>0})(s.endAt,Wl(s),o))})(r,e)}function dN(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function iw(r){return(e,n)=>{let s=!1;for(const o of Wl(r)){const u=mN(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function mN(r,e,n){const s=r.field.isKeyField()?Be.comparator(e.key,n.key):(function(u,c,d){const p=c.data.field(u),g=d.data.field(u);return p!==null&&g!==null?Co(p,g):qe(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return qe(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){va(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return B1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN=new zt(Be.comparator);function jr(){return pN}const rw=new zt(Be.comparator);function Ql(...r){let e=rw;for(const n of r)e=e.insert(n.key,n);return e}function sw(r){let e=rw;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function ca(){return Zl()}function aw(){return Zl()}function Zl(){return new ba((r=>r.toString()),((r,e)=>r.isEqual(e)))}const gN=new zt(Be.comparator),yN=new an(Be.comparator);function ut(...r){let e=yN;for(const n of r)e=e.add(n);return e}const _N=new an(lt);function vN(){return _N}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Np(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Eh(e)?"-0":e}}function ow(r){return{integerValue:""+r}}function bN(r,e){return QC(e)?ow(e):Np(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(){this._=void 0}}function wN(r,e,n){return r instanceof Rh?(function(o,u){const c={fields:{[q1]:{stringValue:H1},[Q1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Tp(u)&&(u=Qh(u)),u&&(c.fields[G1]=u),{mapValue:c}})(n,e):r instanceof au?uw(r,e):r instanceof ou?cw(r,e):(function(o,u){const c=lw(o,u),d=I0(c)+I0(o.Ae);return zm(c)&&zm(o.Ae)?ow(d):Np(o.serializer,d)})(r,e)}function EN(r,e,n){return r instanceof au?uw(r,e):r instanceof ou?cw(r,e):n}function lw(r,e){return r instanceof Ch?(function(s){return zm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Rh extends $h{}class au extends $h{constructor(e){super(),this.elements=e}}function uw(r,e){const n=hw(e);for(const s of r.elements)n.some((o=>tr(o,s)))||n.push(s);return{arrayValue:{values:n}}}class ou extends $h{constructor(e){super(),this.elements=e}}function cw(r,e){let n=hw(e);for(const s of r.elements)n=n.filter((o=>!tr(o,s)));return{arrayValue:{values:n}}}class Ch extends $h{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function I0(r){return Qt(r.integerValue||r.doubleValue)}function hw(r){return Sp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function xN(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof au&&o instanceof au||s instanceof ou&&o instanceof ou?So(s.elements,o.elements,tr):s instanceof Ch&&o instanceof Ch?tr(s.Ae,o.Ae):s instanceof Rh&&o instanceof Rh})(r.transform,e.transform)}class TN{constructor(e,n){this.version=e,this.transformResults=n}}class Ir{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ir}static exists(e){return new Ir(void 0,e)}static updateTime(e){return new Ir(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ch(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Wh{}function fw(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new mw(r.key,Ir.none()):new _u(r.key,r.data,Ir.none());{const n=r.data,s=ci.empty();let o=new an(fn.comparator);for(let u of e.fields)if(!o.has(u)){let c=n.field(u);c===null&&u.length>1&&(u=u.popLast(),c=n.field(u)),c===null?s.delete(u):s.set(u,c),o=o.add(u)}return new wa(r.key,s,new Ai(o.toArray()),Ir.none())}}function SN(r,e,n){r instanceof _u?(function(o,u,c){const d=o.value.clone(),p=D0(o.fieldTransforms,u,c.transformResults);d.setAll(p),u.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(r,e,n):r instanceof wa?(function(o,u,c){if(!ch(o.precondition,u))return void u.convertToUnknownDocument(c.version);const d=D0(o.fieldTransforms,u,c.transformResults),p=u.data;p.setAll(dw(o)),p.setAll(d),u.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(r,e,n):(function(o,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function Jl(r,e,n,s){return r instanceof _u?(function(u,c,d,p){if(!ch(u.precondition,c))return d;const g=u.value.clone(),_=O0(u.fieldTransforms,p,c);return g.setAll(_),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(r,e,n,s):r instanceof wa?(function(u,c,d,p){if(!ch(u.precondition,c))return d;const g=O0(u.fieldTransforms,p,c),_=c.data;return _.setAll(dw(u)),_.setAll(g),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),d===null?null:d.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((v=>v.field)))})(r,e,n,s):(function(u,c,d){return ch(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(r,e,n)}function AN(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=lw(s.transform,o||null);u!=null&&(n===null&&(n=ci.empty()),n.set(s.field,u))}return n||null}function k0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&So(s,o,((u,c)=>xN(u,c)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class _u extends Wh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class wa extends Wh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function dw(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function D0(r,e,n){const s=new Map;bt(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],c=u.transform,d=e.data.field(u.field);s.set(u.field,EN(c,d,n[o]))}return s}function O0(r,e,n){const s=new Map;for(const o of r){const u=o.transform,c=n.data.field(o.field);s.set(o.field,wN(u,c,e))}return s}class mw extends Wh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class RN extends Wh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&SN(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Jl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Jl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=aw();return this.mutations.forEach((o=>{const u=e.get(o.key),c=u.overlayedDocument;let d=this.applyToLocalView(c,u.mutatedFields);d=n.has(o.key)?null:d;const p=fw(c,d);p!==null&&s.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(Ye.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ut())}isEqual(e){return this.batchId===e.batchId&&So(this.mutations,e.mutations,((n,s)=>k0(n,s)))&&So(this.baseMutations,e.baseMutations,((n,s)=>k0(n,s)))}}class Ip{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){bt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return gN})();const u=e.mutations;for(let c=0;c<u.length;c++)o=o.insert(u[c].key,s[c].version);return new Ip(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var en,ht;function kN(r){switch(r){case xe.OK:return qe(64938);case xe.CANCELLED:case xe.UNKNOWN:case xe.DEADLINE_EXCEEDED:case xe.RESOURCE_EXHAUSTED:case xe.INTERNAL:case xe.UNAVAILABLE:case xe.UNAUTHENTICATED:return!1;case xe.INVALID_ARGUMENT:case xe.NOT_FOUND:case xe.ALREADY_EXISTS:case xe.PERMISSION_DENIED:case xe.FAILED_PRECONDITION:case xe.ABORTED:case xe.OUT_OF_RANGE:case xe.UNIMPLEMENTED:case xe.DATA_LOSS:return!0;default:return qe(15467,{code:r})}}function pw(r){if(r===void 0)return Mr("GRPC error has no .code"),xe.UNKNOWN;switch(r){case en.OK:return xe.OK;case en.CANCELLED:return xe.CANCELLED;case en.UNKNOWN:return xe.UNKNOWN;case en.DEADLINE_EXCEEDED:return xe.DEADLINE_EXCEEDED;case en.RESOURCE_EXHAUSTED:return xe.RESOURCE_EXHAUSTED;case en.INTERNAL:return xe.INTERNAL;case en.UNAVAILABLE:return xe.UNAVAILABLE;case en.UNAUTHENTICATED:return xe.UNAUTHENTICATED;case en.INVALID_ARGUMENT:return xe.INVALID_ARGUMENT;case en.NOT_FOUND:return xe.NOT_FOUND;case en.ALREADY_EXISTS:return xe.ALREADY_EXISTS;case en.PERMISSION_DENIED:return xe.PERMISSION_DENIED;case en.FAILED_PRECONDITION:return xe.FAILED_PRECONDITION;case en.ABORTED:return xe.ABORTED;case en.OUT_OF_RANGE:return xe.OUT_OF_RANGE;case en.UNIMPLEMENTED:return xe.UNIMPLEMENTED;case en.DATA_LOSS:return xe.DATA_LOSS;default:return qe(39323,{code:r})}}(ht=en||(en={}))[ht.OK=0]="OK",ht[ht.CANCELLED=1]="CANCELLED",ht[ht.UNKNOWN=2]="UNKNOWN",ht[ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ht[ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ht[ht.NOT_FOUND=5]="NOT_FOUND",ht[ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",ht[ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",ht[ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",ht[ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ht[ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ht[ht.ABORTED=10]="ABORTED",ht[ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",ht[ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",ht[ht.INTERNAL=13]="INTERNAL",ht[ht.UNAVAILABLE=14]="UNAVAILABLE",ht[ht.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON=new Es([4294967295,4294967295],0);function M0(r){const e=DN().encode(r),n=new N1;return n.update(e),new Uint8Array(n.digest())}function j0(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Es([n,s],0),new Es([o,u],0)]}class kp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Kl(`Invalid padding: ${n}`);if(s<0)throw new Kl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Kl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Kl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Es.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(Es.fromNumber(s)));return o.compare(ON)===1&&(o=new Es([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=M0(e),[s,o]=j0(n);for(let u=0;u<this.hashCount;u++){const c=this.ye(s,o,u);if(!this.we(c))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),c=new kp(u,o,n);return s.forEach((d=>c.insert(d))),c}insert(e){if(this.ge===0)return;const n=M0(e),[s,o]=j0(n);for(let u=0;u<this.hashCount;u++){const c=this.ye(s,o,u);this.Se(c)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,vu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Zh(Ye.min(),o,new zt(lt),jr(),ut())}}class vu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new vu(s,n,ut(),ut(),ut())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class gw{constructor(e,n){this.targetId=e,this.Ce=n}}class yw{constructor(e,n,s=dn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class L0{constructor(){this.ve=0,this.Fe=V0(),this.Me=dn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ut(),n=ut(),s=ut();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:qe(38017,{changeType:u})}})),new vu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=V0()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,bt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class MN{constructor(e){this.Ge=e,this.ze=new Map,this.je=jr(),this.Je=Zc(),this.He=Zc(),this.Ye=new zt(lt)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:qe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Bm(u))if(s===0){const c=new Be(u.path);this.et(n,c,xn.newNoDocument(c,Ye.min()))}else bt(s===1,20013,{expectedCount:s});else{const c=this._t(n);if(c!==s){const d=this.ut(e),p=d?this.ct(d,e,c):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let c,d;try{c=Cs(s).toUint8Array()}catch(p){if(p instanceof F1)return pa("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new kp(c,o,u)}catch(p){return pa(p instanceof Kl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.ge===0?null:d}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;e.mightContain(d)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,c)=>{const d=this.ot(c);if(d){if(u.current&&Bm(d.target)){const p=new Be(d.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,xn.newNoDocument(p,e))}u.Be&&(n.set(c,u.ke()),u.qe())}}));let s=ut();this.He.forEach(((u,c)=>{let d=!0;c.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(s=s.add(u))})),this.je.forEach(((u,c)=>c.setReadTime(e)));const o=new Zh(e,n,this.Ye,this.je,s);return this.je=jr(),this.Je=Zc(),this.He=Zc(),this.Ye=new zt(lt),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new L0,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new an(lt),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new an(lt),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||De("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new L0),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Zc(){return new zt(Be.comparator)}function V0(){return new zt(Be.comparator)}const jN={asc:"ASCENDING",desc:"DESCENDING"},LN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},VN={and:"AND",or:"OR"};class PN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Hm(r,e){return r.useProto3Json||Gh(e)?e:{value:e}}function Nh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _w(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function zN(r,e){return Nh(r,e.toTimestamp())}function er(r){return bt(!!r,49232),Ye.fromTimestamp((function(n){const s=Rs(n);return new It(s.seconds,s.nanos)})(r))}function Dp(r,e){return qm(r,e).canonicalString()}function qm(r,e){const n=(function(o){return new Pt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function vw(r){const e=Pt.fromString(r);return bt(Tw(e),10190,{key:e.toString()}),e}function Gm(r,e){return Dp(r.databaseId,e.path)}function bm(r,e){const n=vw(e);if(n.get(1)!==r.databaseId.projectId)throw new Pe(xe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new Pe(xe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new Be(ww(n))}function bw(r,e){return Dp(r.databaseId,e)}function UN(r){const e=vw(r);return e.length===4?Pt.emptyPath():ww(e)}function Qm(r){return new Pt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function ww(r){return bt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function P0(r,e,n){return{name:Gm(r,e),fields:n.value.mapValue.fields}}function BN(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:qe(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,_){return g.useProto3Json?(bt(_===void 0||typeof _=="string",58123),dn.fromBase64String(_||"")):(bt(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),dn.fromUint8Array(_||new Uint8Array))})(r,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(g){const _=g.code===void 0?xe.UNKNOWN:pw(g.code);return new Pe(_,g.message||"")})(c);n=new yw(s,o,u,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=bm(r,s.document.name),u=er(s.document.updateTime),c=s.document.createTime?er(s.document.createTime):Ye.min(),d=new ci({mapValue:{fields:s.document.fields}}),p=xn.newFoundDocument(o,u,c,d),g=s.targetIds||[],_=s.removedTargetIds||[];n=new hh(g,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=bm(r,s.document),u=s.readTime?er(s.readTime):Ye.min(),c=xn.newNoDocument(o,u),d=s.removedTargetIds||[];n=new hh([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=bm(r,s.document),u=s.removedTargetIds||[];n=new hh([],u,o,null)}else{if(!("filter"in e))return qe(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,c=new IN(o,u),d=s.targetId;n=new gw(d,c)}}return n}function FN(r,e){let n;if(e instanceof _u)n={update:P0(r,e.key,e.value)};else if(e instanceof mw)n={delete:Gm(r,e.key)};else if(e instanceof wa)n={update:P0(r,e.key,e.data),updateMask:WN(e.fieldMask)};else{if(!(e instanceof RN))return qe(16599,{Vt:e.type});n={verify:Gm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,c){const d=c.transform;if(d instanceof Rh)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof au)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof ou)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Ch)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw qe(20930,{transform:c.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:zN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:qe(27497)})(r,e.precondition)),n}function HN(r,e){return r&&r.length>0?(bt(e!==void 0,14353),r.map((n=>(function(o,u){let c=o.updateTime?er(o.updateTime):er(u);return c.isEqual(Ye.min())&&(c=er(u)),new TN(c,o.transformResults||[])})(n,e)))):[]}function qN(r,e){return{documents:[bw(r,e.path)]}}function GN(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=bw(r,o);const u=(function(g){if(g.length!==0)return xw(nr.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const c=(function(g){if(g.length!==0)return g.map((_=>(function(x){return{field:fo(x.field),direction:YN(x.dir)}})(_)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const d=Hm(r,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function QN(r){let e=UN(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){bt(s===1,65062);const _=n.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let u=[];n.where&&(u=(function(v){const x=Ew(v);return x instanceof nr&&Z1(x)?x.getFilters():[x]})(n.where));let c=[];n.orderBy&&(c=(function(v){return v.map((x=>(function(k){return new Ah(mo(k.field),(function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(k.direction))})(x)))})(n.orderBy));let d=null;n.limit&&(d=(function(v){let x;return x=typeof v=="object"?v.value:v,Gh(x)?null:x})(n.limit));let p=null;n.startAt&&(p=(function(v){const x=!!v.before,E=v.values||[];return new Sh(E,x)})(n.startAt));let g=null;return n.endAt&&(g=(function(v){const x=!v.before,E=v.values||[];return new Sh(E,x)})(n.endAt)),cN(e,o,c,u,d,"F",p,g)}function KN(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return qe(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Ew(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=mo(n.unaryFilter.field);return rn.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=mo(n.unaryFilter.field);return rn.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=mo(n.unaryFilter.field);return rn.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=mo(n.unaryFilter.field);return rn.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return qe(61313);default:return qe(60726)}})(r):r.fieldFilter!==void 0?(function(n){return rn.create(mo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return qe(58110);default:return qe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return nr.create(n.compositeFilter.filters.map((s=>Ew(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return qe(1026)}})(n.compositeFilter.op))})(r):qe(30097,{filter:r})}function YN(r){return jN[r]}function XN(r){return LN[r]}function $N(r){return VN[r]}function fo(r){return{fieldPath:r.canonicalString()}}function mo(r){return fn.fromServerFormat(r.fieldPath)}function xw(r){return r instanceof rn?(function(n){if(n.op==="=="){if(S0(n.value))return{unaryFilter:{field:fo(n.field),op:"IS_NAN"}};if(T0(n.value))return{unaryFilter:{field:fo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(S0(n.value))return{unaryFilter:{field:fo(n.field),op:"IS_NOT_NAN"}};if(T0(n.value))return{unaryFilter:{field:fo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fo(n.field),op:XN(n.op),value:n.value}}})(r):r instanceof nr?(function(n){const s=n.getFilters().map((o=>xw(o)));return s.length===1?s[0]:{compositeFilter:{op:$N(n.op),filters:s}}})(r):qe(54877,{filter:r})}function WN(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Tw(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e,n,s,o,u=Ye.min(),c=Ye.min(),d=dn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new ys(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ys(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ys(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ys(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(e){this.yt=e}}function JN(r){const e=QN({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Fm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(){this.Cn=new tI}addToCollectionParentIndex(e,n){return this.Cn.add(n),we.resolve()}getCollectionParents(e,n){return we.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return we.resolve()}deleteFieldIndex(e,n){return we.resolve()}deleteAllFieldIndexes(e){return we.resolve()}createTargetIndexes(e,n){return we.resolve()}getDocumentsMatchingTarget(e,n){return we.resolve(null)}getIndexType(e,n){return we.resolve(0)}getFieldIndexes(e,n){return we.resolve([])}getNextCollectionGroupToUpdate(e){return we.resolve(null)}getMinOffset(e,n){return we.resolve(As.min())}getMinOffsetFromCollectionGroup(e,n){return we.resolve(As.min())}updateCollectionGroup(e,n,s){return we.resolve()}updateIndexEntries(e,n){return we.resolve()}}class tI{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new an(Pt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new an(Pt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Sw=41943040;class jn{static withCacheSize(e){return new jn(e,jn.DEFAULT_COLLECTION_PERCENTILE,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jn.DEFAULT_COLLECTION_PERCENTILE=10,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,jn.DEFAULT=new jn(Sw,jn.DEFAULT_COLLECTION_PERCENTILE,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),jn.DISABLED=new jn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Io(0)}static cr(){return new Io(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0="LruGarbageCollector",nI=1048576;function B0([r,e],[n,s]){const o=lt(r,n);return o===0?lt(e,s):o}class iI{constructor(e){this.Ir=e,this.buffer=new an(B0),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();B0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class rI{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){De(U0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){zo(n)?De(U0,"Ignoring IndexedDB error during garbage collection: ",n):await Po(n)}await this.Vr(3e5)}))}}class sI{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return we.resolve(qh.ce);const s=new iI(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(De("LruGarbageCollector","Garbage collection skipped; disabled"),we.resolve(z0)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(De("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),z0):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,c,d,p,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(De("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),o=this.params.maximumSequenceNumbersToCollect):o=v,c=Date.now(),this.nthSequenceNumber(e,o)))).next((v=>(s=v,d=Date.now(),this.removeTargets(e,s,n)))).next((v=>(u=v,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((v=>(g=Date.now(),co()<=ot.DEBUG&&De("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${o} in `+(d-c)+`ms
	Removed ${u} targets in `+(p-d)+`ms
	Removed ${v} documents in `+(g-p)+`ms
Total Duration: ${g-_}ms`),we.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:v}))))}}function aI(r,e){return new sI(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(){this.changes=new ba((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,xn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?we.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Jl(s.mutation,o,Ai.empty(),It.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,ut()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=ut()){const o=ca();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let c=Ql();return u.forEach(((d,p)=>{c=c.insert(d,p.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const s=ca();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,ut())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((c,d)=>{n.set(c,d)}))}))}computeViews(e,n,s,o){let u=jr();const c=Zl(),d=(function(){return Zl()})();return n.forEach(((p,g)=>{const _=s.get(g.key);o.has(g.key)&&(_===void 0||_.mutation instanceof wa)?u=u.insert(g.key,g):_!==void 0?(c.set(g.key,_.mutation.getFieldMask()),Jl(_.mutation,g,_.mutation.getFieldMask(),It.now())):c.set(g.key,Ai.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,_)=>c.set(g,_))),n.forEach(((g,_)=>d.set(g,new lI(_,c.get(g)??null)))),d)))}recalculateAndSaveOverlays(e,n){const s=Zl();let o=new zt(((c,d)=>c-d)),u=ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const d of c)d.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let _=s.get(p)||Ai.empty();_=d.applyToLocalView(g,_),s.set(p,_);const v=(o.get(d.batchId)||ut()).add(p);o=o.insert(d.batchId,v)}))})).next((()=>{const c=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,_=p.value,v=aw();_.forEach((x=>{if(!u.has(x)){const E=fw(n.get(x),s.get(x));E!==null&&v.set(x,E),u=u.add(x)}})),c.push(this.documentOverlayCache.saveOverlays(e,g,v))}return we.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(c){return Be.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):hN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const c=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):we.resolve(ca());let d=iu,p=u;return c.next((g=>we.forEach(g,((_,v)=>(d<v.largestBatchId&&(d=v.largestBatchId),u.get(_)?we.resolve():this.remoteDocumentCache.getEntry(e,_).next((x=>{p=p.insert(_,x)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,ut()))).next((_=>({batchId:d,changes:sw(_)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Be(n)).next((s=>{let o=Ql();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let c=Ql();return this.indexManager.getCollectionParents(e,u).next((d=>we.forEach(d,(p=>{const g=(function(v,x){return new Kh(x,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((_=>{_.forEach(((v,x)=>{c=c.insert(v,x)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((c=>{u.forEach(((p,g)=>{const _=g.getKey();c.get(_)===null&&(c=c.insert(_,xn.newInvalidDocument(_)))}));let d=Ql();return c.forEach(((p,g)=>{const _=u.get(p);_!==void 0&&Jl(_.mutation,g,Ai.empty(),It.now()),Xh(n,g)&&(d=d.insert(p,g))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return we.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:er(o.createTime)}})(n)),we.resolve()}getNamedQuery(e,n){return we.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:JN(o.bundledQuery),readTime:er(o.readTime)}})(n)),we.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(){this.overlays=new zt(Be.comparator),this.qr=new Map}getOverlay(e,n){return we.resolve(this.overlays.get(n))}getOverlays(e,n){const s=ca();return we.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),we.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),we.resolve()}getOverlaysForCollection(e,n,s){const o=ca(),u=n.length+1,c=new Be(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return we.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new zt(((g,_)=>g-_));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let _=u.get(g.largestBatchId);_===null&&(_=ca(),u=u.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const d=ca(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,_)=>d.set(g,_))),!(d.size()>=o)););return we.resolve(d)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new NN(n,s));let u=this.qr.get(n);u===void 0&&(u=ut(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(){this.sessionToken=dn.EMPTY_BYTE_STRING}getSessionToken(e){return we.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,we.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(){this.Qr=new an(cn.$r),this.Ur=new an(cn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new cn(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new cn(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new Be(new Pt([])),s=new cn(n,e),o=new cn(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(c=>{this.Gr(c),u.push(c.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Be(new Pt([])),s=new cn(n,e),o=new cn(n,e+1);let u=ut();return this.Ur.forEachInRange([s,o],(c=>{u=u.add(c.key)})),u}containsKey(e){const n=new cn(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class cn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Be.comparator(e.key,n.key)||lt(e.Yr,n.Yr)}static Kr(e,n){return lt(e.Yr,n.Yr)||Be.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new an(cn.$r)}checkEmpty(e){return we.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new CN(u,n,s,o);this.mutationQueue.push(c);for(const d of o)this.Zr=this.Zr.add(new cn(d.key,u)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return we.resolve(c)}lookupMutationBatch(e,n){return we.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return we.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return we.resolve(this.mutationQueue.length===0?xp:this.tr-1)}getAllMutationBatches(e){return we.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new cn(n,0),o=new cn(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(c=>{const d=this.Xr(c.Yr);u.push(d)})),we.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new an(lt);return n.forEach((o=>{const u=new cn(o,0),c=new cn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,c],(d=>{s=s.add(d.Yr)}))})),we.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;Be.isDocumentKey(u)||(u=u.child(""));const c=new cn(new Be(u),0);let d=new an(lt);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(d=d.add(p.Yr)),!0)}),c),we.resolve(this.ti(d))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){bt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return we.forEach(n.mutations,(o=>{const u=new cn(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new cn(n,0),o=this.Zr.firstAfterOrEqual(s);return we.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,we.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(e){this.ri=e,this.docs=(function(){return new zt(Be.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,c=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return we.resolve(s?s.document.mutableCopy():xn.newInvalidDocument(n))}getEntries(e,n){let s=jr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():xn.newInvalidDocument(o))})),we.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=jr();const c=n.path,d=new Be(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:_}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||FC(BC(_),s)<=0||(o.has(_.key)||Xh(n,_))&&(u=u.insert(_.key,_.mutableCopy()))}return we.resolve(u)}getAllFromCollectionGroup(e,n,s,o){qe(9500)}ii(e,n){return we.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new pI(this)}getSize(e){return we.resolve(this.size)}}class pI extends oI{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),we.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(e){this.persistence=e,this.si=new ba((n=>Ap(n)),Rp),this.lastRemoteSnapshotVersion=Ye.min(),this.highestTargetId=0,this.oi=0,this._i=new Op,this.targetCount=0,this.ai=Io.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),we.resolve()}getLastRemoteSnapshotVersion(e){return we.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return we.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),we.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),we.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Io(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,we.resolve()}updateTargetData(e,n){return this.Pr(n),we.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,we.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=n&&s.get(d.targetId)===null&&(this.si.delete(c),u.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)})),we.waitFor(u).next((()=>o))}getTargetCount(e){return we.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return we.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),we.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((c=>{u.push(o.markPotentiallyOrphaned(e,c))})),we.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),we.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return we.resolve(s)}containsKey(e,n){return we.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(e,n){this.ui={},this.overlays={},this.ci=new qh(0),this.li=!1,this.li=!0,this.hi=new fI,this.referenceDelegate=e(this),this.Pi=new gI(this),this.indexManager=new eI,this.remoteDocumentCache=(function(o){return new mI(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new ZN(n),this.Ii=new cI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new hI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new dI(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){De("MemoryPersistence","Starting transaction:",e);const o=new yI(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return we.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class yI extends qC{constructor(e){super(),this.currentSequenceNumber=e}}class Mp{constructor(e){this.persistence=e,this.Ri=new Op,this.Vi=null}static mi(e){return new Mp(e)}get fi(){if(this.Vi)return this.Vi;throw qe(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),we.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),we.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),we.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return we.forEach(this.fi,(s=>{const o=Be.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,Ye.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return we.or([()=>we.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Ih{constructor(e,n){this.persistence=e,this.pi=new ba((s=>KC(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=aI(this,n)}static mi(e,n){return new Ih(e,n)}Ei(){}di(e){return we.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return we.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?we.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(c=>this.br(e,c,n).next((d=>{d||(s++,u.removeEntry(c,Ye.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),we.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),we.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),we.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),we.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=lh(e.data.value)),n}br(e,n,s){return we.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return we.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=ut(),o=ut();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new jp(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return aS()?8:GC(Tn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((c=>{u.result=c})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((c=>{u.result=c}))})).next((()=>{if(u.result)return;const c=new _I;return this.Ss(e,n,c).next((d=>{if(u.result=d,this.Vs)return this.bs(e,n,c,d.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(co()<=ot.DEBUG&&De("QueryEngine","SDK will not create cache indexes for query:",ho(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),we.resolve()):(co()<=ot.DEBUG&&De("QueryEngine","Query:",ho(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(co()<=ot.DEBUG&&De("QueryEngine","The SDK decides to create cache indexes for query:",ho(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ji(n))):we.resolve())}ys(e,n){if(N0(n))return we.resolve(null);let s=Ji(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Fm(n,null,"F"),s=Ji(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const c=ut(...u);return this.ps.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.Ds(n,d);return this.Cs(n,g,c,p.readTime)?this.ys(e,Fm(n,null,"F")):this.vs(e,g,n,p)}))))})))))}ws(e,n,s,o){return N0(n)||o.isEqual(Ye.min())?we.resolve(null):this.ps.getDocuments(e,s).next((u=>{const c=this.Ds(n,u);return this.Cs(n,c,s,o)?we.resolve(null):(co()<=ot.DEBUG&&De("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ho(n)),this.vs(e,c,n,UC(o,iu)).next((d=>d)))}))}Ds(e,n){let s=new an(iw(e));return n.forEach(((o,u)=>{Xh(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return co()<=ot.DEBUG&&De("QueryEngine","Using full collection scan to execute query:",ho(n)),this.ps.getDocumentsMatchingQuery(e,n,As.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((c=>{u=u.insert(c.key,c)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lp="LocalStore",bI=3e8;class wI{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new zt(lt),this.xs=new ba((u=>Ap(u)),Rp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new uI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function EI(r,e,n,s){return new wI(r,e,n,s)}async function Rw(r,e){const n=$e(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const c=[],d=[];let p=ut();for(const g of o){c.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}for(const g of u){d.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:d})))}))}))}function xI(r,e){const n=$e(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,p,g,_){const v=g.batch,x=v.keys();let E=we.resolve();return x.forEach((k=>{E=E.next((()=>_.getEntry(p,k))).next((A=>{const C=g.docVersions.get(k);bt(C!==null,48541),A.version.compareTo(C)<0&&(v.applyToRemoteDocument(A,g),A.isValidDocument()&&(A.setReadTime(g.commitVersion),_.addEntry(A)))}))})),E.next((()=>d.mutationQueue.removeMutationBatch(p,v)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(d){let p=ut();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function Cw(r){const e=$e(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function TI(r,e){const n=$e(r),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const d=[];e.targetChanges.forEach(((_,v)=>{const x=o.get(v);if(!x)return;d.push(n.Pi.removeMatchingKeys(u,_.removedDocuments,v).next((()=>n.Pi.addMatchingKeys(u,_.addedDocuments,v))));let E=x.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(v)!==null?E=E.withResumeToken(dn.EMPTY_BYTE_STRING,Ye.min()).withLastLimboFreeSnapshotVersion(Ye.min()):_.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(_.resumeToken,s)),o=o.insert(v,E),(function(A,C,I){return A.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=bI?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0})(x,E,_)&&d.push(n.Pi.updateTargetData(u,E))}));let p=jr(),g=ut();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(u,_))})),d.push(SI(u,c,e.documentUpdates).next((_=>{p=_.ks,g=_.qs}))),!s.isEqual(Ye.min())){const _=n.Pi.getLastRemoteSnapshotVersion(u).next((v=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));d.push(_)}return we.waitFor(d).next((()=>c.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function SI(r,e,n){let s=ut(),o=ut();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let c=jr();return n.forEach(((d,p)=>{const g=u.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(Ye.min())?(e.removeEntry(d,p.readTime),c=c.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),c=c.insert(d,p)):De(Lp,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)})),{ks:c,qs:o}}))}function AI(r,e){const n=$e(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=xp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function RI(r,e){const n=$e(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,we.resolve(o)):n.Pi.allocateTargetId(s).next((c=>(o=new ys(e,c,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Km(r,e,n){const s=$e(r),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(c=>s.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!zo(c))throw c;De(Lp,`Failed to update sequence numbers for target ${e}: ${c}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function F0(r,e,n){const s=$e(r);let o=Ye.min(),u=ut();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,g,_){const v=$e(p),x=v.xs.get(_);return x!==void 0?we.resolve(v.Ms.get(x)):v.Pi.getTargetData(g,_)})(s,c,Ji(e)).next((d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,d.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(c,e,n?o:Ye.min(),n?u:ut()))).next((d=>(CI(s,dN(e),d),{documents:d,Qs:u})))))}function CI(r,e,n){let s=r.Os.get(e)||Ye.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(e,s)}class H0{constructor(){this.activeTargetIds=vN()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class NI{constructor(){this.Mo=new H0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new H0,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0="ConnectivityMonitor";class G0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){De(q0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){De(q0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jc=null;function Ym(){return Jc===null?Jc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Jc++,"0x"+Jc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wm="RestConnection",kI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class DI{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===xh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const c=Ym(),d=this.zo(e,n.toUriEncodedString());De(wm,`Sending RPC '${e}' ${c}:`,d,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(d),_=jo(g);return this.Jo(e,d,p,s,_).then((v=>(De(wm,`Received RPC '${e}' ${c}: `,v),v)),(v=>{throw pa(wm,`RPC '${e}' ${c} failed with error: `,v,"url: ",d,"request:",s),v}))}Ho(e,n,s,o,u,c){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Vo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=kI[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wn="WebChannelConnection";class MI extends DI{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const c=Ym();return new Promise(((d,p)=>{const g=new I1;g.setWithCredentials(!0),g.listenOnce(k1.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case oh.NO_ERROR:const v=g.getResponseJson();De(wn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(v)),d(v);break;case oh.TIMEOUT:De(wn,`RPC '${e}' ${c} timed out`),p(new Pe(xe.DEADLINE_EXCEEDED,"Request time out"));break;case oh.HTTP_ERROR:const x=g.getStatus();if(De(wn,`RPC '${e}' ${c} failed with status:`,x,"response text:",g.getResponseText()),x>0){let E=g.getResponseJson();Array.isArray(E)&&(E=E[0]);const k=E==null?void 0:E.error;if(k&&k.status&&k.message){const A=(function(I){const P=I.toLowerCase().replace(/_/g,"-");return Object.values(xe).indexOf(P)>=0?P:xe.UNKNOWN})(k.status);p(new Pe(A,k.message))}else p(new Pe(xe.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new Pe(xe.UNAVAILABLE,"Connection failed."));break;default:qe(9055,{l_:e,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{De(wn,`RPC '${e}' ${c} completed.`)}}));const _=JSON.stringify(o);De(wn,`RPC '${e}' ${c} sending request:`,o),g.send(n,"POST",_,s,15)}))}T_(e,n,s){const o=Ym(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=M1(),d=O1(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const _=u.join("");De(wn,`Creating RPC '${e}' stream ${o}: ${_}`,p);const v=c.createWebChannel(_,p);this.I_(v);let x=!1,E=!1;const k=new OI({Yo:C=>{E?De(wn,`Not sending because RPC '${e}' stream ${o} is closed:`,C):(x||(De(wn,`Opening RPC '${e}' stream ${o} transport.`),v.open(),x=!0),De(wn,`RPC '${e}' stream ${o} sending:`,C),v.send(C))},Zo:()=>v.close()}),A=(C,I,P)=>{C.listen(I,(z=>{try{P(z)}catch(K){setTimeout((()=>{throw K}),0)}}))};return A(v,Gl.EventType.OPEN,(()=>{E||(De(wn,`RPC '${e}' stream ${o} transport opened.`),k.o_())})),A(v,Gl.EventType.CLOSE,(()=>{E||(E=!0,De(wn,`RPC '${e}' stream ${o} transport closed`),k.a_(),this.E_(v))})),A(v,Gl.EventType.ERROR,(C=>{E||(E=!0,pa(wn,`RPC '${e}' stream ${o} transport errored. Name:`,C.name,"Message:",C.message),k.a_(new Pe(xe.UNAVAILABLE,"The operation could not be completed")))})),A(v,Gl.EventType.MESSAGE,(C=>{var I;if(!E){const P=C.data[0];bt(!!P,16349);const z=P,K=(z==null?void 0:z.error)||((I=z[0])==null?void 0:I.error);if(K){De(wn,`RPC '${e}' stream ${o} received error:`,K);const Y=K.status;let ie=(function(O){const B=en[O];if(B!==void 0)return pw(B)})(Y),M=K.message;ie===void 0&&(ie=xe.INTERNAL,M="Unknown error status: "+Y+" with message "+K.message),E=!0,k.a_(new Pe(ie,M)),v.close()}else De(wn,`RPC '${e}' stream ${o} received:`,P),k.u_(P)}})),A(d,D1.STAT_EVENT,(C=>{C.stat===Lm.PROXY?De(wn,`RPC '${e}' stream ${o} detected buffering proxy`):C.stat===Lm.NOPROXY&&De(wn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{k.__()}),0),k}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Em(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jh(r){return new PN(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&De("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0="PersistentStream";class Iw{constructor(e,n,s,o,u,c,d,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Nw(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===xe.RESOURCE_EXHAUSTED?(Mr(n.toString()),Mr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===xe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new Pe(xe.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return De(Q0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(De(Q0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class jI extends Iw{constructor(e,n,s,o,u,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,c),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=BN(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Ye.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?Ye.min():c.readTime?er(c.readTime):Ye.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Qm(this.serializer),n.addTarget=(function(u,c){let d;const p=c.target;if(d=Bm(p)?{documents:qN(u,p)}:{query:GN(u,p).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=_w(u,c.resumeToken);const g=Hm(u,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(Ye.min())>0){d.readTime=Nh(u,c.snapshotVersion.toTimestamp());const g=Hm(u,c.expectedCount);g!==null&&(d.expectedCount=g)}return d})(this.serializer,e);const s=KN(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Qm(this.serializer),n.removeTarget=e,this.q_(n)}}class LI extends Iw{constructor(e,n,s,o,u,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,c),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return bt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,bt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){bt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=HN(e.writeResults,e.commitTime),s=er(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Qm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>FN(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{}class PI extends VI{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new Pe(xe.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.Go(e,qm(n,s),o,u,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Pe(xe.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(e,qm(n,s),o,c,d,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Pe(xe.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class zI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Mr(n),this.aa=!1):De("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga="RemoteStore";class UI{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((c=>{s.enqueueAndForget((async()=>{Ea(this)&&(De(ga,"Restarting streams for network reachability change."),await(async function(p){const g=$e(p);g.Ea.add(4),await bu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await ef(g)})(this))}))})),this.Ra=new zI(s,o)}}async function ef(r){if(Ea(r))for(const e of r.da)await e(!0)}async function bu(r){for(const e of r.da)await e(!1)}function kw(r,e){const n=$e(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Up(n)?zp(n):Uo(n).O_()&&Pp(n,e))}function Vp(r,e){const n=$e(r),s=Uo(n);n.Ia.delete(e),s.O_()&&Dw(n,e),n.Ia.size===0&&(s.O_()?s.L_():Ea(n)&&n.Ra.set("Unknown"))}function Pp(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ye.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Uo(r).Y_(e)}function Dw(r,e){r.Va.Ue(e),Uo(r).Z_(e)}function zp(r){r.Va=new MN({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Uo(r).start(),r.Ra.ua()}function Up(r){return Ea(r)&&!Uo(r).x_()&&r.Ia.size>0}function Ea(r){return $e(r).Ea.size===0}function Ow(r){r.Va=void 0}async function BI(r){r.Ra.set("Online")}async function FI(r){r.Ia.forEach(((e,n)=>{Pp(r,e)}))}async function HI(r,e){Ow(r),Up(r)?(r.Ra.ha(e),zp(r)):r.Ra.set("Unknown")}async function qI(r,e,n){if(r.Ra.set("Online"),e instanceof yw&&e.state===2&&e.cause)try{await(async function(o,u){const c=u.cause;for(const d of u.targetIds)o.Ia.has(d)&&(await o.remoteSyncer.rejectListen(d,c),o.Ia.delete(d),o.Va.removeTarget(d))})(r,e)}catch(s){De(ga,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await kh(r,s)}else if(e instanceof hh?r.Va.Ze(e):e instanceof gw?r.Va.st(e):r.Va.tt(e),!n.isEqual(Ye.min()))try{const s=await Cw(r.localStore);n.compareTo(s)>=0&&await(function(u,c){const d=u.Va.Tt(c);return d.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const _=u.Ia.get(g);_&&u.Ia.set(g,_.withResumeToken(p.resumeToken,c))}})),d.targetMismatches.forEach(((p,g)=>{const _=u.Ia.get(p);if(!_)return;u.Ia.set(p,_.withResumeToken(dn.EMPTY_BYTE_STRING,_.snapshotVersion)),Dw(u,p);const v=new ys(_.target,p,g,_.sequenceNumber);Pp(u,v)})),u.remoteSyncer.applyRemoteEvent(d)})(r,n)}catch(s){De(ga,"Failed to raise snapshot:",s),await kh(r,s)}}async function kh(r,e,n){if(!zo(e))throw e;r.Ea.add(1),await bu(r),r.Ra.set("Offline"),n||(n=()=>Cw(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{De(ga,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await ef(r)}))}function Mw(r,e){return e().catch((n=>kh(r,n,e)))}async function tf(r){const e=$e(r),n=Is(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:xp;for(;GI(e);)try{const o=await AI(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,QI(e,o)}catch(o){await kh(e,o)}jw(e)&&Lw(e)}function GI(r){return Ea(r)&&r.Ta.length<10}function QI(r,e){r.Ta.push(e);const n=Is(r);n.O_()&&n.X_&&n.ea(e.mutations)}function jw(r){return Ea(r)&&!Is(r).x_()&&r.Ta.length>0}function Lw(r){Is(r).start()}async function KI(r){Is(r).ra()}async function YI(r){const e=Is(r);for(const n of r.Ta)e.ea(n.mutations)}async function XI(r,e,n){const s=r.Ta.shift(),o=Ip.from(s,e,n);await Mw(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await tf(r)}async function $I(r,e){e&&Is(r).X_&&await(async function(s,o){if((function(c){return kN(c)&&c!==xe.ABORTED})(o.code)){const u=s.Ta.shift();Is(s).B_(),await Mw(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await tf(s)}})(r,e),jw(r)&&Lw(r)}async function K0(r,e){const n=$e(r);n.asyncQueue.verifyOperationInProgress(),De(ga,"RemoteStore received new credentials");const s=Ea(n);n.Ea.add(3),await bu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await ef(n)}async function WI(r,e){const n=$e(r);e?(n.Ea.delete(2),await ef(n)):e||(n.Ea.add(2),await bu(n),n.Ra.set("Unknown"))}function Uo(r){return r.ma||(r.ma=(function(n,s,o){const u=$e(n);return u.sa(),new jI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:BI.bind(null,r),t_:FI.bind(null,r),r_:HI.bind(null,r),H_:qI.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Up(r)?zp(r):r.Ra.set("Unknown")):(await r.ma.stop(),Ow(r))}))),r.ma}function Is(r){return r.fa||(r.fa=(function(n,s,o){const u=$e(n);return u.sa(),new LI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:KI.bind(null,r),r_:$I.bind(null,r),ta:YI.bind(null,r),na:XI.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await tf(r)):(await r.fa.stop(),r.Ta.length>0&&(De(ga,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new xs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const c=Date.now()+s,d=new Bp(e,n,c,o,u);return d.start(s),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Pe(xe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fp(r,e){if(Mr("AsyncQueue",`${e}: ${r}`),zo(r))return new Pe(xe.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{static emptySet(e){return new vo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Be.comparator(n.key,s.key):(n,s)=>Be.comparator(n.key,s.key),this.keyedMap=Ql(),this.sortedSet=new zt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof vo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new vo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(){this.ga=new zt(Be.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):qe(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class ko{constructor(e,n,s,o,u,c,d,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const c=[];return n.forEach((d=>{c.push({type:0,doc:d})})),new ko(e,n,vo.emptySet(n),c,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class JI{constructor(){this.queries=X0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=$e(n),u=o.queries;o.queries=X0(),u.forEach(((c,d)=>{for(const p of d.Sa)p.onError(s)}))})(this,new Pe(xe.ABORTED,"Firestore shutting down"))}}function X0(){return new ba((r=>nw(r)),Yh)}async function e4(r,e){const n=$e(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new ZI,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(c){const d=Fp(c,`Initialization of query '${ho(e.query)}' failed`);return void e.onError(d)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Hp(n)}async function t4(r,e){const n=$e(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const c=u.Sa.indexOf(e);c>=0&&(u.Sa.splice(c,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function n4(r,e){const n=$e(r);let s=!1;for(const o of e){const u=o.query,c=n.queries.get(u);if(c){for(const d of c.Sa)d.Fa(o)&&(s=!0);c.wa=o}}s&&Hp(n)}function i4(r,e,n){const s=$e(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function Hp(r){r.Ca.forEach((e=>{e.next()}))}var Xm,$0;($0=Xm||(Xm={})).Ma="default",$0.Cache="cache";class r4{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new ko(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ko.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Xm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(e){this.key=e}}class Pw{constructor(e){this.key=e}}class s4{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ut(),this.mutatedKeys=ut(),this.eu=iw(e),this.tu=new vo(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new Y0,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,c=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((_,v)=>{const x=o.get(_),E=Xh(this.query,v)?v:null,k=!!x&&this.mutatedKeys.has(x.key),A=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let C=!1;x&&E?x.data.isEqual(E.data)?k!==A&&(s.track({type:3,doc:E}),C=!0):this.su(x,E)||(s.track({type:2,doc:E}),C=!0,(p&&this.eu(E,p)>0||g&&this.eu(E,g)<0)&&(d=!0)):!x&&E?(s.track({type:0,doc:E}),C=!0):x&&!E&&(s.track({type:1,doc:x}),C=!0,(p||g)&&(d=!0)),C&&(E?(c=c.add(E),u=A?u.add(_):u.delete(_)):(c=c.delete(_),u=u.delete(_)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),u=u.delete(_.key),s.track({type:1,doc:_})}return{tu:c,iu:s,Cs:d,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((_,v)=>(function(E,k){const A=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qe(20277,{Rt:C})}};return A(E)-A(k)})(_.type,v.type)||this.eu(_.doc,v.doc))),this.ou(s),o=o??!1;const d=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,c.length!==0||g?{snapshot:new ko(this.query,e.tu,u,c,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Y0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ut(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new Pw(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new Vw(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=ut();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ko.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const qp="SyncEngine";class a4{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class o4{constructor(e){this.key=e,this.hu=!1}}class l4{constructor(e,n,s,o,u,c){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new ba((d=>nw(d)),Yh),this.Iu=new Map,this.Eu=new Set,this.du=new zt(Be.comparator),this.Au=new Map,this.Ru=new Op,this.Vu={},this.mu=new Map,this.fu=Io.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function u4(r,e,n=!0){const s=qw(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await zw(s,e,n,!0),o}async function c4(r,e){const n=qw(r);await zw(n,e,!0,!1)}async function zw(r,e,n,s){const o=await RI(r.localStore,Ji(e)),u=o.targetId,c=r.sharedClientState.addLocalQueryTarget(u,n);let d;return s&&(d=await h4(r,e,u,c==="current",o.resumeToken)),r.isPrimaryClient&&n&&kw(r.remoteStore,o),d}async function h4(r,e,n,s,o){r.pu=(v,x,E)=>(async function(A,C,I,P){let z=C.view.ru(I);z.Cs&&(z=await F0(A.localStore,C.query,!1).then((({documents:M})=>C.view.ru(M,z))));const K=P&&P.targetChanges.get(C.targetId),Y=P&&P.targetMismatches.get(C.targetId)!=null,ie=C.view.applyChanges(z,A.isPrimaryClient,K,Y);return Z0(A,C.targetId,ie.au),ie.snapshot})(r,v,x,E);const u=await F0(r.localStore,e,!0),c=new s4(e,u.Qs),d=c.ru(u.documents),p=vu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=c.applyChanges(d,r.isPrimaryClient,p);Z0(r,n,g.au);const _=new a4(e,n,c);return r.Tu.set(e,_),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),g.snapshot}async function f4(r,e,n){const s=$e(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((c=>!Yh(c,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Km(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Vp(s.remoteStore,o.targetId),$m(s,o.targetId)})).catch(Po)):($m(s,o.targetId),await Km(s.localStore,o.targetId,!0))}async function d4(r,e){const n=$e(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Vp(n.remoteStore,s.targetId))}async function m4(r,e,n){const s=w4(r);try{const o=await(function(c,d){const p=$e(c),g=It.now(),_=d.reduce(((E,k)=>E.add(k.key)),ut());let v,x;return p.persistence.runTransaction("Locally write mutations","readwrite",(E=>{let k=jr(),A=ut();return p.Ns.getEntries(E,_).next((C=>{k=C,k.forEach(((I,P)=>{P.isValidDocument()||(A=A.add(I))}))})).next((()=>p.localDocuments.getOverlayedDocuments(E,k))).next((C=>{v=C;const I=[];for(const P of d){const z=AN(P,v.get(P.key).overlayedDocument);z!=null&&I.push(new wa(P.key,z,X1(z.value.mapValue),Ir.exists(!0)))}return p.mutationQueue.addMutationBatch(E,g,I,d)})).next((C=>{x=C;const I=C.applyToLocalDocumentSet(v,A);return p.documentOverlayCache.saveOverlays(E,C.batchId,I)}))})).then((()=>({batchId:x.batchId,changes:sw(v)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(c,d,p){let g=c.Vu[c.currentUser.toKey()];g||(g=new zt(lt)),g=g.insert(d,p),c.Vu[c.currentUser.toKey()]=g})(s,o.batchId,n),await wu(s,o.changes),await tf(s.remoteStore)}catch(o){const u=Fp(o,"Failed to persist write");n.reject(u)}}async function Uw(r,e){const n=$e(r);try{const s=await TI(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const c=n.Au.get(u);c&&(bt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?bt(c.hu,14607):o.removedDocuments.size>0&&(bt(c.hu,42227),c.hu=!1))})),await wu(n,s,e)}catch(s){await Po(s)}}function W0(r,e,n){const s=$e(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,c)=>{const d=c.view.va(e);d.snapshot&&o.push(d.snapshot)})),(function(c,d){const p=$e(c);p.onlineState=d;let g=!1;p.queries.forEach(((_,v)=>{for(const x of v.Sa)x.va(d)&&(g=!0)})),g&&Hp(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function p4(r,e,n){const s=$e(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let c=new zt(Be.comparator);c=c.insert(u,xn.newNoDocument(u,Ye.min()));const d=ut().add(u),p=new Zh(Ye.min(),new Map,new zt(lt),c,d);await Uw(s,p),s.du=s.du.remove(u),s.Au.delete(e),Gp(s)}else await Km(s.localStore,e,!1).then((()=>$m(s,e,n))).catch(Po)}async function g4(r,e){const n=$e(r),s=e.batch.batchId;try{const o=await xI(n.localStore,e);Fw(n,s,null),Bw(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await wu(n,o)}catch(o){await Po(o)}}async function y4(r,e,n){const s=$e(r);try{const o=await(function(c,d){const p=$e(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let _;return p.mutationQueue.lookupMutationBatch(g,d).next((v=>(bt(v!==null,37113),_=v.keys(),p.mutationQueue.removeMutationBatch(g,v)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,_,d))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_))).next((()=>p.localDocuments.getDocuments(g,_)))}))})(s.localStore,e);Fw(s,e,n),Bw(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await wu(s,o)}catch(o){await Po(o)}}function Bw(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function Fw(r,e,n){const s=$e(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function $m(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||Hw(r,s)}))}function Hw(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(Vp(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),Gp(r))}function Z0(r,e,n){for(const s of n)s instanceof Vw?(r.Ru.addReference(s.key,e),_4(r,s)):s instanceof Pw?(De(qp,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||Hw(r,s.key)):qe(19791,{wu:s})}function _4(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(De(qp,"New document in limbo: "+n),r.Eu.add(s),Gp(r))}function Gp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new Be(Pt.fromString(e)),s=r.fu.next();r.Au.set(s,new o4(n)),r.du=r.du.insert(n,s),kw(r.remoteStore,new ys(Ji(Cp(n.path)),s,"TargetPurposeLimboResolution",qh.ce))}}async function wu(r,e,n){const s=$e(r),o=[],u=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((d,p)=>{c.push(s.pu(p,e,n).then((g=>{var _;if((g||n)&&s.isPrimaryClient){const v=g?!g.fromCache:(_=n==null?void 0:n.targetChanges.get(p.targetId))==null?void 0:_.current;s.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(g){o.push(g);const v=jp.As(p.targetId,g);u.push(v)}})))})),await Promise.all(c),s.Pu.H_(o),await(async function(p,g){const _=$e(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>we.forEach(g,(x=>we.forEach(x.Es,(E=>_.persistence.referenceDelegate.addReference(v,x.targetId,E))).next((()=>we.forEach(x.ds,(E=>_.persistence.referenceDelegate.removeReference(v,x.targetId,E)))))))))}catch(v){if(!zo(v))throw v;De(Lp,"Failed to update sequence numbers: "+v)}for(const v of g){const x=v.targetId;if(!v.fromCache){const E=_.Ms.get(x),k=E.snapshotVersion,A=E.withLastLimboFreeSnapshotVersion(k);_.Ms=_.Ms.insert(x,A)}}})(s.localStore,u))}async function v4(r,e){const n=$e(r);if(!n.currentUser.isEqual(e)){De(qp,"User change. New user:",e.toKey());const s=await Rw(n.localStore,e);n.currentUser=e,(function(u,c){u.mu.forEach((d=>{d.forEach((p=>{p.reject(new Pe(xe.CANCELLED,c))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await wu(n,s.Ls)}}function b4(r,e){const n=$e(r),s=n.Au.get(e);if(s&&s.hu)return ut().add(s.key);{let o=ut();const u=n.Iu.get(e);if(!u)return o;for(const c of u){const d=n.Tu.get(c);o=o.unionWith(d.view.nu)}return o}}function qw(r){const e=$e(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Uw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=b4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=p4.bind(null,e),e.Pu.H_=n4.bind(null,e.eventManager),e.Pu.yu=i4.bind(null,e.eventManager),e}function w4(r){const e=$e(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=g4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=y4.bind(null,e),e}class Dh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Jh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return EI(this.persistence,new vI,e.initialUser,this.serializer)}Cu(e){return new Aw(Mp.mi,this.serializer)}Du(e){return new NI}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Dh.provider={build:()=>new Dh};class E4 extends Dh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){bt(this.persistence.referenceDelegate instanceof Ih,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new rI(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?jn.withCacheSize(this.cacheSizeBytes):jn.DEFAULT;return new Aw((s=>Ih.mi(s,n)),this.serializer)}}class Wm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>W0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=v4.bind(null,this.syncEngine),await WI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new JI})()}createDatastore(e){const n=Jh(e.databaseInfo.databaseId),s=(function(u){return new MI(u)})(e.databaseInfo);return(function(u,c,d,p){return new PI(u,c,d,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,c,d){return new UI(s,o,u,c,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>W0(this.syncEngine,n,0)),(function(){return G0.v()?new G0:new II})())}createSyncEngine(e,n){return(function(o,u,c,d,p,g,_){const v=new l4(o,u,c,d,p,g);return _&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(o){const u=$e(o);De(ga,"RemoteStore shutting down."),u.Ea.add(5),await bu(u),u.Aa.shutdown(),u.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Wm.provider={build:()=>new Wm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Mr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks="FirestoreClient";class T4{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=En.UNAUTHENTICATED,this.clientId=Hh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async c=>{De(ks,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(De(ks,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new xs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Fp(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function xm(r,e){r.asyncQueue.verifyOperationInProgress(),De(ks,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await Rw(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function J0(r,e){r.asyncQueue.verifyOperationInProgress();const n=await S4(r);De(ks,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>K0(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>K0(e.remoteStore,o))),r._onlineComponents=e}async function S4(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){De(ks,"Using user provided OfflineComponentProvider");try{await xm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===xe.FAILED_PRECONDITION||o.code===xe.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;pa("Error using user provided cache. Falling back to memory cache: "+n),await xm(r,new Dh)}}else De(ks,"Using default OfflineComponentProvider"),await xm(r,new E4(void 0));return r._offlineComponents}async function Gw(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(De(ks,"Using user provided OnlineComponentProvider"),await J0(r,r._uninitializedComponentsProvider._online)):(De(ks,"Using default OnlineComponentProvider"),await J0(r,new Wm))),r._onlineComponents}function A4(r){return Gw(r).then((e=>e.syncEngine))}async function R4(r){const e=await Gw(r),n=e.eventManager;return n.onListen=u4.bind(null,e.syncEngine),n.onUnlisten=f4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=c4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=d4.bind(null,e.syncEngine),n}function C4(r,e,n={}){const s=new xs;return r.asyncQueue.enqueueAndForget((async()=>(function(u,c,d,p,g){const _=new x4({next:x=>{_.Nu(),c.enqueueAndForget((()=>t4(u,v)));const E=x.docs.has(d);!E&&x.fromCache?g.reject(new Pe(xe.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&x.fromCache&&p&&p.source==="server"?g.reject(new Pe(xe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(x)},error:x=>g.reject(x)}),v=new r4(Cp(d.path),_,{includeMetadataChanges:!0,qa:!0});return e4(u,v)})(await R4(r),r.asyncQueue,e,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qw(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw="firestore.googleapis.com",tb=!0;class nb{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Pe(xe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Kw,this.ssl=tb}else this.host=e.host,this.ssl=e.ssl??tb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Sw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<nI)throw new Pe(xe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}P1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Qw(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Pe(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Pe(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Pe(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Qp{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Pe(xe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Pe(xe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new V1;switch(s.type){case"firstParty":return new OC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Pe(xe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=eb.get(n);s&&(De("ComponentProvider","Removing Datastore"),eb.delete(n),s.terminate())})(this),Promise.resolve()}}function Yw(r,e,n,s={}){var g;r=Ao(r,Qp);const o=jo(e),u=r._getSettings(),c={...u,emulatorOptions:r._getEmulatorOptions()},d=`${e}:${n}`;o&&(Ib(`https://${d}`),kb("Firestore",!0)),u.host!==Kw&&u.host!==d&&pa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:d,ssl:o,emulatorOptions:s};if(!ha(p,c)&&(r._setSettings(p),s.mockUserToken)){let _,v;if(typeof s.mockUserToken=="string")_=s.mockUserToken,v=En.MOCK_USER;else{_=WT(s.mockUserToken,(g=r._app)==null?void 0:g.options.projectId);const x=s.mockUserToken.sub||s.mockUserToken.user_id;if(!x)throw new Pe(xe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new En(x)}r._authCredentials=new IC(new L1(_,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new nf(this.firestore,e,this._query)}}class sn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Do(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new sn(this.firestore,e,this._key)}toJSON(){return{type:sn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(yu(n,sn._jsonSchema))return new sn(e,s||null,new Be(Pt.fromString(n.referencePath)))}}sn._jsonSchemaVersion="firestore/documentReference/1.0",sn._jsonSchema={type:tn("string",sn._jsonSchemaVersion),referencePath:tn("string")};class Do extends nf{constructor(e,n,s){super(e,n,Cp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new sn(this.firestore,null,new Be(e))}withConverter(e){return new Do(this.firestore,e,this._path)}}function Xw(r,e,...n){if(r=Xn(r),arguments.length===1&&(e=Hh.newId()),zC("doc","path",e),r instanceof Qp){const s=Pt.fromString(e,...n);return g0(s),new sn(r,null,new Be(s))}{if(!(r instanceof sn||r instanceof Do))throw new Pe(xe.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Pt.fromString(e,...n));return g0(s),new sn(r.firestore,r instanceof Do?r.converter:null,new Be(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib="AsyncQueue";class rb{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Nw(this,"async_queue_retry"),this._c=()=>{const s=Em();s&&De(ib,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Em();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Em();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new xs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!zo(e))throw e;De(ib,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Mr("INTERNAL UNHANDLED ERROR: ",sb(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Bp.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&qe(47125,{Pc:sb(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function sb(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class rf extends Qp{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new rb,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new rb(e),this._firestoreClient=void 0,await e}}}function $w(r,e){const n=typeof r=="object"?r:jb(),s=typeof r=="string"?r:xh,o=hp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=XT("firestore");u&&Yw(o,...u)}return o}function Kp(r){if(r._terminated)throw new Pe(xe.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||N4(r),r._firestoreClient}function N4(r){var s,o,u;const e=r._freezeSettings(),n=(function(d,p,g,_){return new $C(d,p,g,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,Qw(_.experimentalLongPollingOptions),_.useFetchStreams,_.isUsingEmulator)})(r._databaseId,((s=r._app)==null?void 0:s.options.appId)||"",r._persistenceKey,e);r._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((u=e.localCache)!=null&&u._onlineComponentProvider)&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new T4(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Kn(dn.fromBase64String(e))}catch(n){throw new Pe(xe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Kn(dn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Kn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(yu(e,Kn._jsonSchema))return Kn.fromBase64String(e.bytes)}}Kn._jsonSchemaVersion="firestore/bytes/1.0",Kn._jsonSchema={type:tn("string",Kn._jsonSchemaVersion),bytes:tn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Pe(xe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Pe(xe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Pe(xe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return lt(this._lat,e._lat)||lt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ci._jsonSchemaVersion}}static fromJSON(e){if(yu(e,Ci._jsonSchema))return new Ci(e.latitude,e.longitude)}}Ci._jsonSchemaVersion="firestore/geoPoint/1.0",Ci._jsonSchema={type:tn("string",Ci._jsonSchemaVersion),latitude:tn("number"),longitude:tn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ni._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(yu(e,Ni._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ni(e.vectorValues);throw new Pe(xe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ni._jsonSchemaVersion="firestore/vectorValue/1.0",Ni._jsonSchema={type:tn("string",Ni._jsonSchemaVersion),vectorValues:tn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I4=/^__.*__$/;class k4{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new wa(e,this.data,this.fieldMask,n,this.fieldTransforms):new _u(e,this.data,n,this.fieldTransforms)}}function Ww(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw qe(40011,{Ac:r})}}class Xp{constructor(e,n,s,o,u,c){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Xp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var o;const n=(o=this.path)==null?void 0:o.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){var o;const n=(o=this.path)==null?void 0:o.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Oh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Ww(this.Ac)&&I4.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class D4{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Jh(e)}Cc(e,n,s,o=!1){return new Xp({Ac:e,methodName:n,Dc:s,path:fn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function O4(r){const e=r._freezeSettings(),n=Jh(r._databaseId);return new D4(r._databaseId,!!e.ignoreUndefinedProperties,n)}function M4(r,e,n,s,o,u={}){const c=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);tE("Data must be an object, but it was:",c,s);const d=Jw(s,c);let p,g;if(u.merge)p=new Ai(c.fieldMask),g=c.fieldTransforms;else if(u.mergeFields){const _=[];for(const v of u.mergeFields){const x=j4(e,v,n);if(!c.contains(x))throw new Pe(xe.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);V4(_,x)||_.push(x)}p=new Ai(_),g=c.fieldTransforms.filter((v=>p.covers(v.field)))}else p=null,g=c.fieldTransforms;return new k4(new ci(d),p,g)}function Zw(r,e){if(eE(r=Xn(r)))return tE("Unsupported field value:",e,r),Jw(r,e);if(r instanceof Yp)return(function(s,o){if(!Ww(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let c=0;for(const d of s){let p=Zw(d,o.wc(c));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),c++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=Xn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return bN(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=It.fromDate(s);return{timestampValue:Nh(o.serializer,u)}}if(s instanceof It){const u=new It(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Nh(o.serializer,u)}}if(s instanceof Ci)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Kn)return{bytesValue:_w(o.serializer,s._byteString)};if(s instanceof sn){const u=o.databaseId,c=s.firestore._databaseId;if(!c.isEqual(u))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Dp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Ni)return(function(c,d){return{mapValue:{fields:{[K1]:{stringValue:Y1},[Th]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw d.Sc("VectorValues must only contain numeric values.");return Np(d.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Ep(s)}`)})(r,e)}function Jw(r,e){const n={};return B1(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):va(r,((s,o)=>{const u=Zw(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function eE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof It||r instanceof Ci||r instanceof Kn||r instanceof sn||r instanceof Yp||r instanceof Ni)}function tE(r,e,n){if(!eE(n)||!z1(n)){const s=Ep(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function j4(r,e,n){if((e=Xn(e))instanceof sf)return e._internalPath;if(typeof e=="string")return nE(r,e);throw Oh("Field path arguments must be of type string or ",r,!1,void 0,n)}const L4=new RegExp("[~\\*/\\[\\]]");function nE(r,e,n){if(e.search(L4)>=0)throw Oh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new sf(...e.split("."))._internalPath}catch{throw Oh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Oh(r,e,n,s,o){const u=s&&!s.isEmpty(),c=o!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(u||c)&&(p+=" (found",u&&(p+=` in field ${s}`),c&&(p+=` in document ${o}`),p+=")"),new Pe(xe.INVALID_ARGUMENT,d+r+p)}function V4(r,e){return r.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new sn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new P4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(rE("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class P4 extends iE{data(){return super.data()}}function rE(r,e){return typeof e=="string"?nE(r,e):e instanceof sf?e._internalPath:e._delegate._internalPath}class sE{convertValue(e,n="none"){switch(Ns(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Cs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw qe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return va(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){var s,o,u;const n=(u=(o=(s=e.fields)==null?void 0:s[Th].arrayValue)==null?void 0:o.values)==null?void 0:u.map((c=>Qt(c.doubleValue)));return new Ni(n)}convertGeoPoint(e){return new Ci(Qt(e.latitude),Qt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Qh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(ru(e));default:return null}}convertTimestamp(e){const n=Rs(e);return new It(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Pt.fromString(e);bt(Tw(s),9688,{name:e});const o=new Ro(s.get(1),s.get(3)),u=new Be(s.popFirst(5));return o.isEqual(n)||Mr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z4(r,e,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,s}class po{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ts extends iE{constructor(e,n,s,o,u,c){super(e,n,s,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new eu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(rE("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Pe(xe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ts._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ts._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ts._jsonSchema={type:tn("string",Ts._jsonSchemaVersion),bundleSource:tn("string","DocumentSnapshot"),bundleName:tn("string"),bundle:tn("string")};class eu extends Ts{data(e={}){return super.data(e)}}class bo{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new po(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new eu(this._firestore,this._userDataWriter,s.key,s,new po(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Pe(xe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((d=>{const p=new eu(o._firestore,o._userDataWriter,d.doc.key,d.doc,new po(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((d=>u||d.type!==3)).map((d=>{const p=new eu(o._firestore,o._userDataWriter,d.doc.key,d.doc,new po(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,_=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),_=c.indexOf(d.doc.key)),{type:U4(d.type),doc:p,oldIndex:g,newIndex:_}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Pe(xe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=bo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Hh.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function U4(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return qe(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aE(r){r=Ao(r,sn);const e=Ao(r.firestore,rf);return C4(Kp(e),r._key).then((n=>H4(e,r,n)))}bo._jsonSchemaVersion="firestore/querySnapshot/1.0",bo._jsonSchema={type:tn("string",bo._jsonSchemaVersion),bundleSource:tn("string","QuerySnapshot"),bundleName:tn("string"),bundle:tn("string")};class B4 extends sE{constructor(e){super(),this.firestore=e}convertBytes(e){return new Kn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new sn(this.firestore,null,n)}}function F4(r,e,n){r=Ao(r,sn);const s=Ao(r.firestore,rf),o=z4(r.converter,e,n);return oE(s,[M4(O4(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,Ir.none())])}function oE(r,e){return(function(s,o){const u=new xs;return s.asyncQueue.enqueueAndForget((async()=>m4(await A4(s),o,u))),u.promise})(Kp(r),e)}function H4(r,e,n){const s=n.docs.get(e._key),o=new B4(r);return new Ts(r,o,e._key,s,new po(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){Vo=o})(Lo),Eo(new fa("firestore",((s,{instanceIdentifier:o,options:u})=>{const c=s.getProvider("app").getImmediate(),d=new rf(new kC(s.getProvider("auth-internal")),new MC(c,s.getProvider("app-check-internal")),(function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new Pe(xe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ro(g.options.projectId,_)})(c,o),c);return u={useFetchStreams:n,...u},d._setSettings(u),d}),"PUBLIC").setMultipleInstances(!0)),ws(f0,d0,e),ws(f0,d0,"esm2020")})();const Zm=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:sE,Bytes:Kn,CollectionReference:Do,DocumentReference:sn,DocumentSnapshot:Ts,FieldPath:sf,FieldValue:Yp,Firestore:rf,FirestoreError:Pe,GeoPoint:Ci,Query:nf,QueryDocumentSnapshot:eu,QuerySnapshot:bo,SnapshotMetadata:po,Timestamp:It,VectorValue:Ni,_AutoId:Hh,_ByteString:dn,_DatabaseId:Ro,_DocumentKey:Be,_EmptyAuthCredentialsProvider:V1,_FieldPath:fn,_cast:Ao,_logWarn:pa,_validateIsNotUsedTogether:P1,connectFirestoreEmulator:Yw,doc:Xw,ensureFirestoreConfigured:Kp,executeWrite:oE,getDoc:aE,getFirestore:$w,setDoc:F4},Symbol.toStringTag,{value:"Module"})),q4={apiKey:"AIzaSyBSUJ3y6PFrdN7QF2kPgPX95BjJtZ0hrws",authDomain:"hdlbase-4098c.firebaseapp.com",projectId:"hdlbase-4098c",storageBucket:"hdlbase-4098c.firebasestorage.app",messagingSenderId:"90007737592",appId:"1:90007737592:web:301578908a7fcb55ae570d"},lE=Mb(q4),Jm=C1(lE),uE=$w(lE),G4=new Wi,Mh=Object.freeze(Object.defineProperty({__proto__:null,auth:Jm,db:uE,googleProvider:G4},Symbol.toStringTag,{value:"Module"})),Q4=()=>{const[r,e]=Z.useState(null),[n,s]=Z.useState(null),[o,u]=Z.useState(!0);Z.useEffect(()=>{console.log("App mounted, setting up auth listener...");const p=m1(Jm,async g=>{if(console.log("Auth State Changed:",g?"User Found":"No User"),g)try{const _=Xw(uE,"users",g.uid),v=await aE(_);if(v.exists()){const x=v.data();console.log("Profile loaded:",x.role),e(g),s(x);const E=await g.getIdToken();localStorage.setItem("hdlbase_mock_session",JSON.stringify({uid:g.uid,token:E,role:x.role,email:g.email}))}else{console.log("User exists but no profile doc found."),e(g);let x=hn.LEARNER;try{const k=localStorage.getItem("hdlbase_mock_session");if(k){const A=JSON.parse(k);A.role&&(x=A.role)}}catch(k){console.warn("Session parse error",k)}const E=await g.getIdToken();localStorage.setItem("hdlbase_mock_session",JSON.stringify({uid:g.uid,token:E,role:x,email:g.email}))}}catch(_){console.error("Error fetching user profile:",_)}else e(null),s(null);u(!1)});return()=>p()},[]);const c=()=>{},d=async()=>{try{await Jm.signOut(),window.location.hash="#/"}catch(p){console.error("Error signing out:",p)}};return o?b.jsx("div",{className:"min-h-screen bg-matte flex items-center justify-center",children:b.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-accent"})}):b.jsx(vT,{children:b.jsxs(X2,{children:[b.jsx(uo,{path:"/",element:b.jsx(NT,{currentUser:r,onSignOut:d})}),b.jsx(uo,{path:"/login",element:r?b.jsx(Gc,{to:"/dashboard"}):b.jsx(DT,{onLoginSuccess:c})}),b.jsx(uo,{path:"/signup",element:r?b.jsx(Gc,{to:"/dashboard"}):b.jsx(UT,{onLoginSuccess:c})}),b.jsx(uo,{path:"/dashboard",element:r?(n==null?void 0:n.role)===hn.CONTRIBUTOR?b.jsx(PT,{profile:n,onSignOut:d}):b.jsx(zT,{profile:n||{uid:r.uid,email:r.email,role:hn.LEARNER,displayName:"User",username:"user123",category:"Learner"},onSignOut:d}):b.jsx(Gc,{to:"/"})}),b.jsx(uo,{path:"*",element:b.jsx(Gc,{to:"/"})})]})})},cE=document.getElementById("root");if(!cE)throw new Error("Could not find root element to mount to");const K4=Zx.createRoot(cE);K4.render(b.jsx(qx.StrictMode,{children:b.jsx(Q4,{})}));
