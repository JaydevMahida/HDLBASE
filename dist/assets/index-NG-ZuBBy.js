(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var gs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ep(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var nm={exports:{}},Ul={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gv;function BE(){if(gv)return Ul;gv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:c,ref:o!==void 0?o:null,props:u}}return Ul.Fragment=e,Ul.jsx=n,Ul.jsxs=n,Ul}var yv;function FE(){return yv||(yv=1,nm.exports=BE()),nm.exports}var y=FE(),rm={exports:{}},Ye={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _v;function HE(){if(_v)return Ye;_v=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),E=Symbol.iterator;function x(V){return V===null||typeof V!="object"?null:(V=E&&V[E]||V["@@iterator"],typeof V=="function"?V:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,C={};function I(V,G,me){this.props=V,this.context=G,this.refs=C,this.updater=me||k}I.prototype.isReactComponent={},I.prototype.setState=function(V,G){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,G,"setState")},I.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function P(){}P.prototype=I.prototype;function z(V,G,me){this.props=V,this.context=G,this.refs=C,this.updater=me||k}var K=z.prototype=new P;K.constructor=z,A(K,I.prototype),K.isPureReactComponent=!0;var X=Array.isArray;function ae(){}var j={H:null,A:null,T:null,S:null},M=Object.prototype.hasOwnProperty;function O(V,G,me){var de=me.ref;return{$$typeof:i,type:V,key:G,ref:de!==void 0?de:null,props:me}}function H(V,G){return O(V.type,G,V.props)}function B(V){return typeof V=="object"&&V!==null&&V.$$typeof===i}function N(V){var G={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(me){return G[me]})}var D=/\/+/g;function R(V,G){return typeof V=="object"&&V!==null&&V.key!=null?N(""+V.key):G.toString(36)}function ie(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(ae,ae):(V.status="pending",V.then(function(G){V.status==="pending"&&(V.status="fulfilled",V.value=G)},function(G){V.status==="pending"&&(V.status="rejected",V.reason=G)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function $(V,G,me,de,pe){var Ie=typeof V;(Ie==="undefined"||Ie==="boolean")&&(V=null);var Pe=!1;if(V===null)Pe=!0;else switch(Ie){case"bigint":case"string":case"number":Pe=!0;break;case"object":switch(V.$$typeof){case i:case e:Pe=!0;break;case v:return Pe=V._init,$(Pe(V._payload),G,me,de,pe)}}if(Pe)return pe=pe(V),Pe=de===""?"."+R(V,0):de,X(pe)?(me="",Pe!=null&&(me=Pe.replace(D,"$&/")+"/"),$(pe,G,me,"",function(gt){return gt})):pe!=null&&(B(pe)&&(pe=H(pe,me+(pe.key==null||V&&V.key===pe.key?"":(""+pe.key).replace(D,"$&/")+"/")+Pe)),G.push(pe)),1;Pe=0;var Le=de===""?".":de+":";if(X(V))for(var Oe=0;Oe<V.length;Oe++)de=V[Oe],Ie=Le+R(de,Oe),Pe+=$(de,G,me,Ie,pe);else if(Oe=x(V),typeof Oe=="function")for(V=Oe.call(V),Oe=0;!(de=V.next()).done;)de=de.value,Ie=Le+R(de,Oe++),Pe+=$(de,G,me,Ie,pe);else if(Ie==="object"){if(typeof V.then=="function")return $(ie(V),G,me,de,pe);throw G=String(V),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return Pe}function te(V,G,me){if(V==null)return V;var de=[],pe=0;return $(V,de,"","",function(Ie){return G.call(me,Ie,pe++)}),de}function Se(V){if(V._status===-1){var G=V._result;G=G(),G.then(function(me){(V._status===0||V._status===-1)&&(V._status=1,V._result=me)},function(me){(V._status===0||V._status===-1)&&(V._status=2,V._result=me)}),V._status===-1&&(V._status=0,V._result=G)}if(V._status===1)return V._result.default;throw V._result}var ge=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Ne={map:te,forEach:function(V,G,me){te(V,function(){G.apply(this,arguments)},me)},count:function(V){var G=0;return te(V,function(){G++}),G},toArray:function(V){return te(V,function(G){return G})||[]},only:function(V){if(!B(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Ye.Activity=b,Ye.Children=Ne,Ye.Component=I,Ye.Fragment=n,Ye.Profiler=o,Ye.PureComponent=z,Ye.StrictMode=s,Ye.Suspense=p,Ye.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,Ye.__COMPILER_RUNTIME={__proto__:null,c:function(V){return j.H.useMemoCache(V)}},Ye.cache=function(V){return function(){return V.apply(null,arguments)}},Ye.cacheSignal=function(){return null},Ye.cloneElement=function(V,G,me){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var de=A({},V.props),pe=V.key;if(G!=null)for(Ie in G.key!==void 0&&(pe=""+G.key),G)!M.call(G,Ie)||Ie==="key"||Ie==="__self"||Ie==="__source"||Ie==="ref"&&G.ref===void 0||(de[Ie]=G[Ie]);var Ie=arguments.length-2;if(Ie===1)de.children=me;else if(1<Ie){for(var Pe=Array(Ie),Le=0;Le<Ie;Le++)Pe[Le]=arguments[Le+2];de.children=Pe}return O(V.type,pe,de)},Ye.createContext=function(V){return V={$$typeof:c,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},Ye.createElement=function(V,G,me){var de,pe={},Ie=null;if(G!=null)for(de in G.key!==void 0&&(Ie=""+G.key),G)M.call(G,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(pe[de]=G[de]);var Pe=arguments.length-2;if(Pe===1)pe.children=me;else if(1<Pe){for(var Le=Array(Pe),Oe=0;Oe<Pe;Oe++)Le[Oe]=arguments[Oe+2];pe.children=Le}if(V&&V.defaultProps)for(de in Pe=V.defaultProps,Pe)pe[de]===void 0&&(pe[de]=Pe[de]);return O(V,Ie,pe)},Ye.createRef=function(){return{current:null}},Ye.forwardRef=function(V){return{$$typeof:d,render:V}},Ye.isValidElement=B,Ye.lazy=function(V){return{$$typeof:v,_payload:{_status:-1,_result:V},_init:Se}},Ye.memo=function(V,G){return{$$typeof:g,type:V,compare:G===void 0?null:G}},Ye.startTransition=function(V){var G=j.T,me={};j.T=me;try{var de=V(),pe=j.S;pe!==null&&pe(me,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(ae,ge)}catch(Ie){ge(Ie)}finally{G!==null&&me.types!==null&&(G.types=me.types),j.T=G}},Ye.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},Ye.use=function(V){return j.H.use(V)},Ye.useActionState=function(V,G,me){return j.H.useActionState(V,G,me)},Ye.useCallback=function(V,G){return j.H.useCallback(V,G)},Ye.useContext=function(V){return j.H.useContext(V)},Ye.useDebugValue=function(){},Ye.useDeferredValue=function(V,G){return j.H.useDeferredValue(V,G)},Ye.useEffect=function(V,G){return j.H.useEffect(V,G)},Ye.useEffectEvent=function(V){return j.H.useEffectEvent(V)},Ye.useId=function(){return j.H.useId()},Ye.useImperativeHandle=function(V,G,me){return j.H.useImperativeHandle(V,G,me)},Ye.useInsertionEffect=function(V,G){return j.H.useInsertionEffect(V,G)},Ye.useLayoutEffect=function(V,G){return j.H.useLayoutEffect(V,G)},Ye.useMemo=function(V,G){return j.H.useMemo(V,G)},Ye.useOptimistic=function(V,G){return j.H.useOptimistic(V,G)},Ye.useReducer=function(V,G,me){return j.H.useReducer(V,G,me)},Ye.useRef=function(V){return j.H.useRef(V)},Ye.useState=function(V){return j.H.useState(V)},Ye.useSyncExternalStore=function(V,G,me){return j.H.useSyncExternalStore(V,G,me)},Ye.useTransition=function(){return j.H.useTransition()},Ye.version="19.2.3",Ye}var vv;function tp(){return vv||(vv=1,rm.exports=HE()),rm.exports}var Z=tp();const qE=ep(Z);var im={exports:{}},Bl={},sm={exports:{}},am={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bv;function GE(){return bv||(bv=1,(function(i){function e($,te){var Se=$.length;$.push(te);e:for(;0<Se;){var ge=Se-1>>>1,Ne=$[ge];if(0<o(Ne,te))$[ge]=te,$[Se]=Ne,Se=ge;else break e}}function n($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var te=$[0],Se=$.pop();if(Se!==te){$[0]=Se;e:for(var ge=0,Ne=$.length,V=Ne>>>1;ge<V;){var G=2*(ge+1)-1,me=$[G],de=G+1,pe=$[de];if(0>o(me,Se))de<Ne&&0>o(pe,me)?($[ge]=pe,$[de]=Se,ge=de):($[ge]=me,$[G]=Se,ge=G);else if(de<Ne&&0>o(pe,Se))$[ge]=pe,$[de]=Se,ge=de;else break e}}return te}function o($,te){var Se=$.sortIndex-te.sortIndex;return Se!==0?Se:$.id-te.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var c=Date,d=c.now();i.unstable_now=function(){return c.now()-d}}var p=[],g=[],v=1,b=null,E=3,x=!1,k=!1,A=!1,C=!1,I=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function K($){for(var te=n(g);te!==null;){if(te.callback===null)s(g);else if(te.startTime<=$)s(g),te.sortIndex=te.expirationTime,e(p,te);else break;te=n(g)}}function X($){if(A=!1,K($),!k)if(n(p)!==null)k=!0,ae||(ae=!0,N());else{var te=n(g);te!==null&&ie(X,te.startTime-$)}}var ae=!1,j=-1,M=5,O=-1;function H(){return C?!0:!(i.unstable_now()-O<M)}function B(){if(C=!1,ae){var $=i.unstable_now();O=$;var te=!0;try{e:{k=!1,A&&(A=!1,P(j),j=-1),x=!0;var Se=E;try{t:{for(K($),b=n(p);b!==null&&!(b.expirationTime>$&&H());){var ge=b.callback;if(typeof ge=="function"){b.callback=null,E=b.priorityLevel;var Ne=ge(b.expirationTime<=$);if($=i.unstable_now(),typeof Ne=="function"){b.callback=Ne,K($),te=!0;break t}b===n(p)&&s(p),K($)}else s(p);b=n(p)}if(b!==null)te=!0;else{var V=n(g);V!==null&&ie(X,V.startTime-$),te=!1}}break e}finally{b=null,E=Se,x=!1}te=void 0}}finally{te?N():ae=!1}}}var N;if(typeof z=="function")N=function(){z(B)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,R=D.port2;D.port1.onmessage=B,N=function(){R.postMessage(null)}}else N=function(){I(B,0)};function ie($,te){j=I(function(){$(i.unstable_now())},te)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function($){$.callback=null},i.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<$?Math.floor(1e3/$):5},i.unstable_getCurrentPriorityLevel=function(){return E},i.unstable_next=function($){switch(E){case 1:case 2:case 3:var te=3;break;default:te=E}var Se=E;E=te;try{return $()}finally{E=Se}},i.unstable_requestPaint=function(){C=!0},i.unstable_runWithPriority=function($,te){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var Se=E;E=$;try{return te()}finally{E=Se}},i.unstable_scheduleCallback=function($,te,Se){var ge=i.unstable_now();switch(typeof Se=="object"&&Se!==null?(Se=Se.delay,Se=typeof Se=="number"&&0<Se?ge+Se:ge):Se=ge,$){case 1:var Ne=-1;break;case 2:Ne=250;break;case 5:Ne=1073741823;break;case 4:Ne=1e4;break;default:Ne=5e3}return Ne=Se+Ne,$={id:v++,callback:te,priorityLevel:$,startTime:Se,expirationTime:Ne,sortIndex:-1},Se>ge?($.sortIndex=Se,e(g,$),n(p)===null&&$===n(g)&&(A?(P(j),j=-1):A=!0,ie(X,Se-ge))):($.sortIndex=Ne,e(p,$),k||x||(k=!0,ae||(ae=!0,N()))),$},i.unstable_shouldYield=H,i.unstable_wrapCallback=function($){var te=E;return function(){var Se=E;E=te;try{return $.apply(this,arguments)}finally{E=Se}}}})(am)),am}var wv;function QE(){return wv||(wv=1,sm.exports=GE()),sm.exports}var om={exports:{}},bn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xv;function KE(){if(xv)return bn;xv=1;var i=tp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:g,implementation:v}}var c=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return bn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,bn.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,v)},bn.flushSync=function(p){var g=c.T,v=s.p;try{if(c.T=null,s.p=2,p)return p()}finally{c.T=g,s.p=v,s.d.f()}},bn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},bn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},bn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,b=d(v,g.crossOrigin),E=typeof g.integrity=="string"?g.integrity:void 0,x=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:E,fetchPriority:x}):v==="script"&&s.d.X(p,{crossOrigin:b,integrity:E,fetchPriority:x,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},bn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=d(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},bn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,b=d(v,g.crossOrigin);s.d.L(p,v,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},bn.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=d(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},bn.requestFormReset=function(p){s.d.r(p)},bn.unstable_batchedUpdates=function(p,g){return p(g)},bn.useFormState=function(p,g,v){return c.H.useFormState(p,g,v)},bn.useFormStatus=function(){return c.H.useHostTransitionStatus()},bn.version="19.2.3",bn}var Ev;function YE(){if(Ev)return om.exports;Ev=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),om.exports=KE(),om.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tv;function XE(){if(Tv)return Bl;Tv=1;var i=QE(),e=tp(),n=YE();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function c(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function d(t){if(t.tag===31){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function g(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return p(f),t;if(m===l)return p(f),r;m=m.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=m;else{for(var w=!1,L=f.child;L;){if(L===a){w=!0,a=f,l=m;break}if(L===l){w=!0,l=f,a=m;break}L=L.sibling}if(!w){for(L=m.child;L;){if(L===a){w=!0,a=m,l=f;break}if(L===l){w=!0,l=m,a=f;break}L=L.sibling}if(!w)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function v(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=v(t),r!==null)return r;t=t.sibling}return null}var b=Object.assign,E=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),P=Symbol.for("react.consumer"),z=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),H=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function N(t){return t===null||typeof t!="object"?null:(t=B&&t[B]||t["@@iterator"],typeof t=="function"?t:null)}var D=Symbol.for("react.client.reference");function R(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===D?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case A:return"Fragment";case I:return"Profiler";case C:return"StrictMode";case X:return"Suspense";case ae:return"SuspenseList";case O:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case k:return"Portal";case z:return t.displayName||"Context";case P:return(t._context.displayName||"Context")+".Consumer";case K:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case j:return r=t.displayName||null,r!==null?r:R(t.type)||"Memo";case M:r=t._payload,t=t._init;try{return R(t(r))}catch{}}return null}var ie=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Se={pending:!1,data:null,method:null,action:null},ge=[],Ne=-1;function V(t){return{current:t}}function G(t){0>Ne||(t.current=ge[Ne],ge[Ne]=null,Ne--)}function me(t,r){Ne++,ge[Ne]=t.current,t.current=r}var de=V(null),pe=V(null),Ie=V(null),Pe=V(null);function Le(t,r){switch(me(Ie,r),me(pe,t),me(de,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?z_(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=z_(r),t=U_(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}G(de),me(de,t)}function Oe(){G(de),G(pe),G(Ie)}function gt(t){t.memoizedState!==null&&me(Pe,t);var r=de.current,a=U_(r,t.type);r!==a&&(me(pe,t),me(de,a))}function ft(t){pe.current===t&&(G(de),G(pe)),Pe.current===t&&(G(Pe),Ll._currentValue=Se)}var Ut,Vt;function S(t){if(Ut===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Ut=r&&r[1]||"",Vt=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ut+t+Vt}var J=!1;function ne(t,r){if(!t||J)return"";J=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var we=function(){throw Error()};if(Object.defineProperty(we.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(we,[])}catch(fe){var ue=fe}Reflect.construct(t,[],we)}else{try{we.call()}catch(fe){ue=fe}t.call(we.prototype)}}else{try{throw Error()}catch(fe){ue=fe}(we=t())&&typeof we.catch=="function"&&we.catch(function(){})}}catch(fe){if(fe&&ue&&typeof fe.stack=="string")return[fe.stack,ue.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),w=m[0],L=m[1];if(w&&L){var Q=w.split(`
`),le=L.split(`
`);for(f=l=0;l<Q.length&&!Q[l].includes("DetermineComponentFrameRoot");)l++;for(;f<le.length&&!le[f].includes("DetermineComponentFrameRoot");)f++;if(l===Q.length||f===le.length)for(l=Q.length-1,f=le.length-1;1<=l&&0<=f&&Q[l]!==le[f];)f--;for(;1<=l&&0<=f;l--,f--)if(Q[l]!==le[f]){if(l!==1||f!==1)do if(l--,f--,0>f||Q[l]!==le[f]){var ye=`
`+Q[l].replace(" at new "," at ");return t.displayName&&ye.includes("<anonymous>")&&(ye=ye.replace("<anonymous>",t.displayName)),ye}while(1<=l&&0<=f);break}}}finally{J=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?S(a):""}function q(t,r){switch(t.tag){case 26:case 27:case 5:return S(t.type);case 16:return S("Lazy");case 13:return t.child!==r&&r!==null?S("Suspense Fallback"):S("Suspense");case 19:return S("SuspenseList");case 0:case 15:return ne(t.type,!1);case 11:return ne(t.type.render,!1);case 1:return ne(t.type,!0);case 31:return S("Activity");default:return""}}function F(t){try{var r="",a=null;do r+=q(t,a),a=t,t=t.return;while(t);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Y=Object.prototype.hasOwnProperty,ce=i.unstable_scheduleCallback,_e=i.unstable_cancelCallback,re=i.unstable_shouldYield,Te=i.unstable_requestPaint,Re=i.unstable_now,Ae=i.unstable_getCurrentPriorityLevel,je=i.unstable_ImmediatePriority,Je=i.unstable_UserBlockingPriority,qe=i.unstable_NormalPriority,be=i.unstable_LowPriority,Ge=i.unstable_IdlePriority,dt=i.log,ct=i.unstable_setDisableYieldValue,Qe=null,nt=null;function Ot(t){if(typeof dt=="function"&&ct(t),nt&&typeof nt.setStrictMode=="function")try{nt.setStrictMode(Qe,t)}catch{}}var rt=Math.clz32?Math.clz32:It,fr=Math.log,Ln=Math.LN2;function It(t){return t>>>=0,t===0?32:31-(fr(t)/Ln|0)|0}var $n=256,Ir=262144,Ct=4194304;function Sn(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function kr(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var f=0,m=t.suspendedLanes,w=t.pingedLanes;t=t.warmLanes;var L=l&134217727;return L!==0?(l=L&~m,l!==0?f=Sn(l):(w&=L,w!==0?f=Sn(w):a||(a=L&~t,a!==0&&(f=Sn(a))))):(L=l&~m,L!==0?f=Sn(L):w!==0?f=Sn(w):a||(a=l&~t,a!==0&&(f=Sn(a)))),f===0?0:r!==0&&r!==f&&(r&m)===0&&(m=f&-f,a=r&-r,m>=a||m===32&&(a&4194048)!==0)?r:f}function dr(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function af(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xu(){var t=Ct;return Ct<<=1,(Ct&62914560)===0&&(Ct=4194304),t}function Dr(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function Ms(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function of(t,r,a,l,f,m){var w=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var L=t.entanglements,Q=t.expirationTimes,le=t.hiddenUpdates;for(a=w&~a;0<a;){var ye=31-rt(a),we=1<<ye;L[ye]=0,Q[ye]=-1;var ue=le[ye];if(ue!==null)for(le[ye]=null,ye=0;ye<ue.length;ye++){var fe=ue[ye];fe!==null&&(fe.lane&=-536870913)}a&=~we}l!==0&&Ls(t,l,0),m!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=m&~(w&~r))}function Ls(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-rt(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Bo(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-rt(a),f=1<<l;f&r|t[l]&r&&(t[l]|=r),a&=~f}}function Fo(t,r){var a=r&-r;return a=(a&42)!==0?1:Vs(a),(a&(t.suspendedLanes|r))!==0?0:a}function Vs(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ii(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Eu(){var t=te.p;return t!==0?t:(t=window.event,t===void 0?32:uv(t.type))}function mr(t,r){var a=te.p;try{return te.p=t,r()}finally{te.p=a}}var pr=Math.random().toString(36).slice(2),Kt="__reactFiber$"+pr,on="__reactProps$"+pr,Or="__reactContainer$"+pr,Ea="__reactEvents$"+pr,lf="__reactListeners$"+pr,Tu="__reactHandles$"+pr,Su="__reactResources$"+pr,jr="__reactMarker$"+pr;function Ta(t){delete t[Kt],delete t[on],delete t[Ea],delete t[lf],delete t[Tu]}function Mr(t){var r=t[Kt];if(r)return r;for(var a=t.parentNode;a;){if(r=a[Or]||a[Kt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=K_(t);t!==null;){if(a=t[Kt])return a;t=K_(t)}return r}t=a,a=t.parentNode}return null}function Zn(t){if(t=t[Kt]||t[Or]){var r=t.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return t}return null}function Vn(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function Lr(t){var r=t[Su];return r||(r=t[Su]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Yt(t){t[jr]=!0}var Ho=new Set,qo={};function Vr(t,r){Pr(t,r),Pr(t+"Capture",r)}function Pr(t,r){for(qo[t]=r,t=0;t<r.length;t++)Ho.add(r[t])}var Go=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qo={},Ko={};function Au(t){return Y.call(Ko,t)?!0:Y.call(Qo,t)?!1:Go.test(t)?Ko[t]=!0:(Qo[t]=!0,!1)}function Sa(t,r,a){if(Au(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function Pn(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function Xt(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}function ln(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Pi(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Yo(t,r,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,r);if(!t.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,m=l.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return f.call(this)},set:function(w){a=""+w,m.call(this,w)}}),Object.defineProperty(t,r,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(w){a=""+w},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function bt(t){if(!t._valueTracker){var r=Pi(t)?"checked":"value";t._valueTracker=Yo(t,r,""+t[r])}}function Ps(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=Pi(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function zr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var zs=/[\n"\\]/g;function Cn(t){return t.replace(zs,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Aa(t,r,a,l,f,m,w,L){t.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?t.type=w:t.removeAttribute("type"),r!=null?w==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+ln(r)):t.value!==""+ln(r)&&(t.value=""+ln(r)):w!=="submit"&&w!=="reset"||t.removeAttribute("value"),r!=null?Xo(t,w,ln(r)):a!=null?Xo(t,w,ln(a)):l!=null&&t.removeAttribute("value"),f==null&&m!=null&&(t.defaultChecked=!!m),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?t.name=""+ln(L):t.removeAttribute("name")}function Ru(t,r,a,l,f,m,w,L){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),r!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||r!=null)){bt(t);return}a=a!=null?""+ln(a):"",r=r!=null?""+ln(r):a,L||r===t.value||(t.value=r),t.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=L?t.checked:!!l,t.defaultChecked=!!l,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(t.name=w),bt(t)}function Xo(t,r,a){r==="number"&&zr(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function zi(t,r,a,l){if(t=t.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=r.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+ln(a),r=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}r!==null||t[f].disabled||(r=t[f])}r!==null&&(r.selected=!0)}}function Cu(t,r,a){if(r!=null&&(r=""+ln(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+ln(a):""}function Ui(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(ie(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=ln(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),bt(t)}function Nn(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var Nu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Wo(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||Nu.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function $o(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&Wo(t,f,l)}else for(var m in r)r.hasOwnProperty(m)&&Wo(t,m,r[m])}function Ra(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Iu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Bi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ca(t){return Bi.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function gr(){}var Zo=null;function Jn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Fi=null,Ur=null;function Us(t){var r=Zn(t);if(r&&(t=r.stateNode)){var a=t[on]||null;e:switch(t=r.stateNode,r.type){case"input":if(Aa(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Cn(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var f=l[on]||null;if(!f)throw Error(s(90));Aa(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&Ps(l)}break e;case"textarea":Cu(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&zi(t,!!a.multiple,r,!1)}}}var Na=!1;function Hi(t,r,a){if(Na)return t(r,a);Na=!0;try{var l=t(r);return l}finally{if(Na=!1,(Fi!==null||Ur!==null)&&(Ec(),Fi&&(r=Fi,t=Ur,Ur=Fi=null,Us(r),t)))for(r=0;r<t.length;r++)Us(t[r])}}function yr(t,r){var a=t.stateNode;if(a===null)return null;var l=a[on]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var er=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bs=!1;if(er)try{var Et={};Object.defineProperty(Et,"passive",{get:function(){Bs=!0}}),window.addEventListener("test",Et,Et),window.removeEventListener("test",Et,Et)}catch{Bs=!1}var Br=null,Jo=null,Fs=null;function el(){if(Fs)return Fs;var t,r=Jo,a=r.length,l,f="value"in Br?Br.value:Br.textContent,m=f.length;for(t=0;t<a&&r[t]===f[t];t++);var w=a-t;for(l=1;l<=w&&r[a-l]===f[m-l];l++);return Fs=f.slice(t,1<l?1-l:void 0)}function Hs(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function si(){return!0}function _r(){return!1}function mn(t){function r(a,l,f,m,w){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=m,this.target=w,this.currentTarget=null;for(var L in t)t.hasOwnProperty(L)&&(a=t[L],this[L]=a?a(m):m[L]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?si:_r,this.isPropagationStopped=_r,this}return b(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=si)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=si)},persist:function(){},isPersistent:si}),r}var ai={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fr=mn(ai),qi=b({},ai,{view:0,detail:0}),tl=mn(qi),Gi,Ia,Hr,ka=b({},qi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qi,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Hr&&(Hr&&t.type==="mousemove"?(Gi=t.screenX-Hr.screenX,Ia=t.screenY-Hr.screenY):Ia=Gi=0,Hr=t),Gi)},movementY:function(t){return"movementY"in t?t.movementY:Ia}}),nl=mn(ka),qs=b({},ka,{dataTransfer:0}),ku=mn(qs),Du=b({},qi,{relatedTarget:0}),Gs=mn(Du),rl=b({},ai,{animationName:0,elapsedTime:0,pseudoElement:0}),Ou=mn(rl),Da=b({},ai,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ju=mn(Da),Mu=b({},ai,{data:0}),qr=mn(Mu),Lu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zu(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Pu[t])?!!r[t]:!1}function Qi(){return zu}var An=b({},qi,{key:function(t){if(t.key){var r=Lu[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Hs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Vu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qi,charCode:function(t){return t.type==="keypress"?Hs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Hs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Uu=mn(An),Bu=b({},ka,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),oi=mn(Bu),h=b({},qi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qi}),_=mn(h),T=b({},ai,{propertyName:0,elapsedTime:0,pseudoElement:0}),U=mn(T),se=b({},ka,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),he=mn(se),Ce=b({},ai,{newState:0,oldState:0}),We=mn(Ce),Ht=[9,13,27,32],yt=er&&"CompositionEvent"in window,jt=null;er&&"documentMode"in document&&(jt=document.documentMode);var tr=er&&"TextEvent"in window&&!jt,Gr=er&&(!yt||jt&&8<jt&&11>=jt),vr=" ",br=!1;function Qs(t,r){switch(t){case"keyup":return Ht.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Oa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ja=!1;function hx(t,r){switch(t){case"compositionend":return Oa(r);case"keypress":return r.which!==32?null:(br=!0,vr);case"textInput":return t=r.data,t===vr&&br?null:t;default:return null}}function fx(t,r){if(ja)return t==="compositionend"||!yt&&Qs(t,r)?(t=el(),Fs=Jo=Br=null,ja=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Gr&&r.locale!=="ko"?null:r.data;default:return null}}var dx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wp(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!dx[t.type]:r==="textarea"}function $p(t,r,a,l){Fi?Ur?Ur.push(l):Ur=[l]:Fi=l,r=Ic(r,"onChange"),0<r.length&&(a=new Fr("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var il=null,sl=null;function mx(t){O_(t,0)}function Fu(t){var r=Vn(t);if(Ps(r))return t}function Zp(t,r){if(t==="change")return r}var Jp=!1;if(er){var uf;if(er){var cf="oninput"in document;if(!cf){var eg=document.createElement("div");eg.setAttribute("oninput","return;"),cf=typeof eg.oninput=="function"}uf=cf}else uf=!1;Jp=uf&&(!document.documentMode||9<document.documentMode)}function tg(){il&&(il.detachEvent("onpropertychange",ng),sl=il=null)}function ng(t){if(t.propertyName==="value"&&Fu(sl)){var r=[];$p(r,sl,t,Jn(t)),Hi(mx,r)}}function px(t,r,a){t==="focusin"?(tg(),il=r,sl=a,il.attachEvent("onpropertychange",ng)):t==="focusout"&&tg()}function gx(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Fu(sl)}function yx(t,r){if(t==="click")return Fu(r)}function _x(t,r){if(t==="input"||t==="change")return Fu(r)}function vx(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var zn=typeof Object.is=="function"?Object.is:vx;function al(t,r){if(zn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!Y.call(r,f)||!zn(t[f],r[f]))return!1}return!0}function rg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ig(t,r){var a=rg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=rg(a)}}function sg(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?sg(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function ag(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=zr(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=zr(t.document)}return r}function hf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var bx=er&&"documentMode"in document&&11>=document.documentMode,Ma=null,ff=null,ol=null,df=!1;function og(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;df||Ma==null||Ma!==zr(l)||(l=Ma,"selectionStart"in l&&hf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ol&&al(ol,l)||(ol=l,l=Ic(ff,"onSelect"),0<l.length&&(r=new Fr("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=Ma)))}function Ks(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var La={animationend:Ks("Animation","AnimationEnd"),animationiteration:Ks("Animation","AnimationIteration"),animationstart:Ks("Animation","AnimationStart"),transitionrun:Ks("Transition","TransitionRun"),transitionstart:Ks("Transition","TransitionStart"),transitioncancel:Ks("Transition","TransitionCancel"),transitionend:Ks("Transition","TransitionEnd")},mf={},lg={};er&&(lg=document.createElement("div").style,"AnimationEvent"in window||(delete La.animationend.animation,delete La.animationiteration.animation,delete La.animationstart.animation),"TransitionEvent"in window||delete La.transitionend.transition);function Ys(t){if(mf[t])return mf[t];if(!La[t])return t;var r=La[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in lg)return mf[t]=r[a];return t}var ug=Ys("animationend"),cg=Ys("animationiteration"),hg=Ys("animationstart"),wx=Ys("transitionrun"),xx=Ys("transitionstart"),Ex=Ys("transitioncancel"),fg=Ys("transitionend"),dg=new Map,pf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");pf.push("scrollEnd");function wr(t,r){dg.set(t,r),Vr(r,[t])}var Hu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},nr=[],Va=0,gf=0;function qu(){for(var t=Va,r=gf=Va=0;r<t;){var a=nr[r];nr[r++]=null;var l=nr[r];nr[r++]=null;var f=nr[r];nr[r++]=null;var m=nr[r];if(nr[r++]=null,l!==null&&f!==null){var w=l.pending;w===null?f.next=f:(f.next=w.next,w.next=f),l.pending=f}m!==0&&mg(a,f,m)}}function Gu(t,r,a,l){nr[Va++]=t,nr[Va++]=r,nr[Va++]=a,nr[Va++]=l,gf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function yf(t,r,a,l){return Gu(t,r,a,l),Qu(t)}function Xs(t,r){return Gu(t,null,null,r),Qu(t)}function mg(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,m=t.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(f=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,f&&r!==null&&(f=31-rt(a),t=m.hiddenUpdates,l=t[f],l===null?t[f]=[r]:l.push(r),r.lane=a|536870912),m):null}function Qu(t){if(50<Nl)throw Nl=0,Ad=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Pa={};function Tx(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Un(t,r,a,l){return new Tx(t,r,a,l)}function _f(t){return t=t.prototype,!(!t||!t.isReactComponent)}function li(t,r){var a=t.alternate;return a===null?(a=Un(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function pg(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function Ku(t,r,a,l,f,m){var w=0;if(l=t,typeof t=="function")_f(t)&&(w=1);else if(typeof t=="string")w=NE(t,a,de.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case O:return t=Un(31,a,r,f),t.elementType=O,t.lanes=m,t;case A:return Ws(a.children,f,m,r);case C:w=8,f|=24;break;case I:return t=Un(12,a,r,f|2),t.elementType=I,t.lanes=m,t;case X:return t=Un(13,a,r,f),t.elementType=X,t.lanes=m,t;case ae:return t=Un(19,a,r,f),t.elementType=ae,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case z:w=10;break e;case P:w=9;break e;case K:w=11;break e;case j:w=14;break e;case M:w=16,l=null;break e}w=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=Un(w,a,r,f),r.elementType=t,r.type=l,r.lanes=m,r}function Ws(t,r,a,l){return t=Un(7,t,l,r),t.lanes=a,t}function vf(t,r,a){return t=Un(6,t,null,r),t.lanes=a,t}function gg(t){var r=Un(18,null,null,0);return r.stateNode=t,r}function bf(t,r,a){return r=Un(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var yg=new WeakMap;function rr(t,r){if(typeof t=="object"&&t!==null){var a=yg.get(t);return a!==void 0?a:(r={value:t,source:r,stack:F(r)},yg.set(t,r),r)}return{value:t,source:r,stack:F(r)}}var za=[],Ua=0,Yu=null,ll=0,ir=[],sr=0,Ki=null,Qr=1,Kr="";function ui(t,r){za[Ua++]=ll,za[Ua++]=Yu,Yu=t,ll=r}function _g(t,r,a){ir[sr++]=Qr,ir[sr++]=Kr,ir[sr++]=Ki,Ki=t;var l=Qr;t=Kr;var f=32-rt(l)-1;l&=~(1<<f),a+=1;var m=32-rt(r)+f;if(30<m){var w=f-f%5;m=(l&(1<<w)-1).toString(32),l>>=w,f-=w,Qr=1<<32-rt(r)+f|a<<f|l,Kr=m+t}else Qr=1<<m|a<<f|l,Kr=t}function wf(t){t.return!==null&&(ui(t,1),_g(t,1,0))}function xf(t){for(;t===Yu;)Yu=za[--Ua],za[Ua]=null,ll=za[--Ua],za[Ua]=null;for(;t===Ki;)Ki=ir[--sr],ir[sr]=null,Kr=ir[--sr],ir[sr]=null,Qr=ir[--sr],ir[sr]=null}function vg(t,r){ir[sr++]=Qr,ir[sr++]=Kr,ir[sr++]=Ki,Qr=r.id,Kr=r.overflow,Ki=t}var pn=null,kt=null,ut=!1,Yi=null,ar=!1,Ef=Error(s(519));function Xi(t){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ul(rr(r,t)),Ef}function bg(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[Kt]=t,r[on]=l,a){case"dialog":tt("cancel",r),tt("close",r);break;case"iframe":case"object":case"embed":tt("load",r);break;case"video":case"audio":for(a=0;a<kl.length;a++)tt(kl[a],r);break;case"source":tt("error",r);break;case"img":case"image":case"link":tt("error",r),tt("load",r);break;case"details":tt("toggle",r);break;case"input":tt("invalid",r),Ru(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":tt("invalid",r);break;case"textarea":tt("invalid",r),Ui(r,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||V_(r.textContent,a)?(l.popover!=null&&(tt("beforetoggle",r),tt("toggle",r)),l.onScroll!=null&&tt("scroll",r),l.onScrollEnd!=null&&tt("scrollend",r),l.onClick!=null&&(r.onclick=gr),r=!0):r=!1,r||Xi(t,!0)}function wg(t){for(pn=t.return;pn;)switch(pn.tag){case 5:case 31:case 13:ar=!1;return;case 27:case 3:ar=!0;return;default:pn=pn.return}}function Ba(t){if(t!==pn)return!1;if(!ut)return wg(t),ut=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Bd(t.type,t.memoizedProps)),a=!a),a&&kt&&Xi(t),wg(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));kt=Q_(t)}else if(r===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));kt=Q_(t)}else r===27?(r=kt,us(t.type)?(t=Qd,Qd=null,kt=t):kt=r):kt=pn?lr(t.stateNode.nextSibling):null;return!0}function $s(){kt=pn=null,ut=!1}function Tf(){var t=Yi;return t!==null&&(On===null?On=t:On.push.apply(On,t),Yi=null),t}function ul(t){Yi===null?Yi=[t]:Yi.push(t)}var Sf=V(null),Zs=null,ci=null;function Wi(t,r,a){me(Sf,r._currentValue),r._currentValue=a}function hi(t){t._currentValue=Sf.current,G(Sf)}function Af(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function Rf(t,r,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var m=f.dependencies;if(m!==null){var w=f.child;m=m.firstContext;e:for(;m!==null;){var L=m;m=f;for(var Q=0;Q<r.length;Q++)if(L.context===r[Q]){m.lanes|=a,L=m.alternate,L!==null&&(L.lanes|=a),Af(m.return,a,t),l||(w=null);break e}m=L.next}}else if(f.tag===18){if(w=f.return,w===null)throw Error(s(341));w.lanes|=a,m=w.alternate,m!==null&&(m.lanes|=a),Af(w,a,t),w=null}else w=f.child;if(w!==null)w.return=f;else for(w=f;w!==null;){if(w===t){w=null;break}if(f=w.sibling,f!==null){f.return=w.return,w=f;break}w=w.return}f=w}}function Fa(t,r,a,l){t=null;for(var f=r,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var w=f.alternate;if(w===null)throw Error(s(387));if(w=w.memoizedProps,w!==null){var L=f.type;zn(f.pendingProps.value,w.value)||(t!==null?t.push(L):t=[L])}}else if(f===Pe.current){if(w=f.alternate,w===null)throw Error(s(387));w.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Ll):t=[Ll])}f=f.return}t!==null&&Rf(r,t,a,l),r.flags|=262144}function Xu(t){for(t=t.firstContext;t!==null;){if(!zn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Js(t){Zs=t,ci=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function gn(t){return xg(Zs,t)}function Wu(t,r){return Zs===null&&Js(t),xg(t,r)}function xg(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},ci===null){if(t===null)throw Error(s(308));ci=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else ci=ci.next=r;return a}var Sx=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},Ax=i.unstable_scheduleCallback,Rx=i.unstable_NormalPriority,Wt={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Cf(){return{controller:new Sx,data:new Map,refCount:0}}function cl(t){t.refCount--,t.refCount===0&&Ax(Rx,function(){t.controller.abort()})}var hl=null,Nf=0,Ha=0,qa=null;function Cx(t,r){if(hl===null){var a=hl=[];Nf=0,Ha=Dd(),qa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Nf++,r.then(Eg,Eg),r}function Eg(){if(--Nf===0&&hl!==null){qa!==null&&(qa.status="fulfilled");var t=hl;hl=null,Ha=0,qa=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function Nx(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Tg=$.S;$.S=function(t,r){o_=Re(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&Cx(t,r),Tg!==null&&Tg(t,r)};var ea=V(null);function If(){var t=ea.current;return t!==null?t:Rt.pooledCache}function $u(t,r){r===null?me(ea,ea.current):me(ea,r.pool)}function Sg(){var t=If();return t===null?null:{parent:Wt._currentValue,pool:t}}var Ga=Error(s(460)),kf=Error(s(474)),Zu=Error(s(542)),Ju={then:function(){}};function Ag(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Rg(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(gr,gr),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Ng(t),t;default:if(typeof r.status=="string")r.then(gr,gr);else{if(t=Rt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Ng(t),t}throw na=r,Ga}}function ta(t){try{var r=t._init;return r(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(na=a,Ga):a}}var na=null;function Cg(){if(na===null)throw Error(s(459));var t=na;return na=null,t}function Ng(t){if(t===Ga||t===Zu)throw Error(s(483))}var Qa=null,fl=0;function ec(t){var r=fl;return fl+=1,Qa===null&&(Qa=[]),Rg(Qa,t,r)}function dl(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function tc(t,r){throw r.$$typeof===E?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Ig(t){function r(ee,W){if(t){var oe=ee.deletions;oe===null?(ee.deletions=[W],ee.flags|=16):oe.push(W)}}function a(ee,W){if(!t)return null;for(;W!==null;)r(ee,W),W=W.sibling;return null}function l(ee){for(var W=new Map;ee!==null;)ee.key!==null?W.set(ee.key,ee):W.set(ee.index,ee),ee=ee.sibling;return W}function f(ee,W){return ee=li(ee,W),ee.index=0,ee.sibling=null,ee}function m(ee,W,oe){return ee.index=oe,t?(oe=ee.alternate,oe!==null?(oe=oe.index,oe<W?(ee.flags|=67108866,W):oe):(ee.flags|=67108866,W)):(ee.flags|=1048576,W)}function w(ee){return t&&ee.alternate===null&&(ee.flags|=67108866),ee}function L(ee,W,oe,ve){return W===null||W.tag!==6?(W=vf(oe,ee.mode,ve),W.return=ee,W):(W=f(W,oe),W.return=ee,W)}function Q(ee,W,oe,ve){var ze=oe.type;return ze===A?ye(ee,W,oe.props.children,ve,oe.key):W!==null&&(W.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===M&&ta(ze)===W.type)?(W=f(W,oe.props),dl(W,oe),W.return=ee,W):(W=Ku(oe.type,oe.key,oe.props,null,ee.mode,ve),dl(W,oe),W.return=ee,W)}function le(ee,W,oe,ve){return W===null||W.tag!==4||W.stateNode.containerInfo!==oe.containerInfo||W.stateNode.implementation!==oe.implementation?(W=bf(oe,ee.mode,ve),W.return=ee,W):(W=f(W,oe.children||[]),W.return=ee,W)}function ye(ee,W,oe,ve,ze){return W===null||W.tag!==7?(W=Ws(oe,ee.mode,ve,ze),W.return=ee,W):(W=f(W,oe),W.return=ee,W)}function we(ee,W,oe){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=vf(""+W,ee.mode,oe),W.return=ee,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case x:return oe=Ku(W.type,W.key,W.props,null,ee.mode,oe),dl(oe,W),oe.return=ee,oe;case k:return W=bf(W,ee.mode,oe),W.return=ee,W;case M:return W=ta(W),we(ee,W,oe)}if(ie(W)||N(W))return W=Ws(W,ee.mode,oe,null),W.return=ee,W;if(typeof W.then=="function")return we(ee,ec(W),oe);if(W.$$typeof===z)return we(ee,Wu(ee,W),oe);tc(ee,W)}return null}function ue(ee,W,oe,ve){var ze=W!==null?W.key:null;if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return ze!==null?null:L(ee,W,""+oe,ve);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case x:return oe.key===ze?Q(ee,W,oe,ve):null;case k:return oe.key===ze?le(ee,W,oe,ve):null;case M:return oe=ta(oe),ue(ee,W,oe,ve)}if(ie(oe)||N(oe))return ze!==null?null:ye(ee,W,oe,ve,null);if(typeof oe.then=="function")return ue(ee,W,ec(oe),ve);if(oe.$$typeof===z)return ue(ee,W,Wu(ee,oe),ve);tc(ee,oe)}return null}function fe(ee,W,oe,ve,ze){if(typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint")return ee=ee.get(oe)||null,L(W,ee,""+ve,ze);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case x:return ee=ee.get(ve.key===null?oe:ve.key)||null,Q(W,ee,ve,ze);case k:return ee=ee.get(ve.key===null?oe:ve.key)||null,le(W,ee,ve,ze);case M:return ve=ta(ve),fe(ee,W,oe,ve,ze)}if(ie(ve)||N(ve))return ee=ee.get(oe)||null,ye(W,ee,ve,ze,null);if(typeof ve.then=="function")return fe(ee,W,oe,ec(ve),ze);if(ve.$$typeof===z)return fe(ee,W,oe,Wu(W,ve),ze);tc(W,ve)}return null}function De(ee,W,oe,ve){for(var ze=null,mt=null,Me=W,Ze=W=0,st=null;Me!==null&&Ze<oe.length;Ze++){Me.index>Ze?(st=Me,Me=null):st=Me.sibling;var pt=ue(ee,Me,oe[Ze],ve);if(pt===null){Me===null&&(Me=st);break}t&&Me&&pt.alternate===null&&r(ee,Me),W=m(pt,W,Ze),mt===null?ze=pt:mt.sibling=pt,mt=pt,Me=st}if(Ze===oe.length)return a(ee,Me),ut&&ui(ee,Ze),ze;if(Me===null){for(;Ze<oe.length;Ze++)Me=we(ee,oe[Ze],ve),Me!==null&&(W=m(Me,W,Ze),mt===null?ze=Me:mt.sibling=Me,mt=Me);return ut&&ui(ee,Ze),ze}for(Me=l(Me);Ze<oe.length;Ze++)st=fe(Me,ee,Ze,oe[Ze],ve),st!==null&&(t&&st.alternate!==null&&Me.delete(st.key===null?Ze:st.key),W=m(st,W,Ze),mt===null?ze=st:mt.sibling=st,mt=st);return t&&Me.forEach(function(ms){return r(ee,ms)}),ut&&ui(ee,Ze),ze}function Be(ee,W,oe,ve){if(oe==null)throw Error(s(151));for(var ze=null,mt=null,Me=W,Ze=W=0,st=null,pt=oe.next();Me!==null&&!pt.done;Ze++,pt=oe.next()){Me.index>Ze?(st=Me,Me=null):st=Me.sibling;var ms=ue(ee,Me,pt.value,ve);if(ms===null){Me===null&&(Me=st);break}t&&Me&&ms.alternate===null&&r(ee,Me),W=m(ms,W,Ze),mt===null?ze=ms:mt.sibling=ms,mt=ms,Me=st}if(pt.done)return a(ee,Me),ut&&ui(ee,Ze),ze;if(Me===null){for(;!pt.done;Ze++,pt=oe.next())pt=we(ee,pt.value,ve),pt!==null&&(W=m(pt,W,Ze),mt===null?ze=pt:mt.sibling=pt,mt=pt);return ut&&ui(ee,Ze),ze}for(Me=l(Me);!pt.done;Ze++,pt=oe.next())pt=fe(Me,ee,Ze,pt.value,ve),pt!==null&&(t&&pt.alternate!==null&&Me.delete(pt.key===null?Ze:pt.key),W=m(pt,W,Ze),mt===null?ze=pt:mt.sibling=pt,mt=pt);return t&&Me.forEach(function(UE){return r(ee,UE)}),ut&&ui(ee,Ze),ze}function At(ee,W,oe,ve){if(typeof oe=="object"&&oe!==null&&oe.type===A&&oe.key===null&&(oe=oe.props.children),typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case x:e:{for(var ze=oe.key;W!==null;){if(W.key===ze){if(ze=oe.type,ze===A){if(W.tag===7){a(ee,W.sibling),ve=f(W,oe.props.children),ve.return=ee,ee=ve;break e}}else if(W.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===M&&ta(ze)===W.type){a(ee,W.sibling),ve=f(W,oe.props),dl(ve,oe),ve.return=ee,ee=ve;break e}a(ee,W);break}else r(ee,W);W=W.sibling}oe.type===A?(ve=Ws(oe.props.children,ee.mode,ve,oe.key),ve.return=ee,ee=ve):(ve=Ku(oe.type,oe.key,oe.props,null,ee.mode,ve),dl(ve,oe),ve.return=ee,ee=ve)}return w(ee);case k:e:{for(ze=oe.key;W!==null;){if(W.key===ze)if(W.tag===4&&W.stateNode.containerInfo===oe.containerInfo&&W.stateNode.implementation===oe.implementation){a(ee,W.sibling),ve=f(W,oe.children||[]),ve.return=ee,ee=ve;break e}else{a(ee,W);break}else r(ee,W);W=W.sibling}ve=bf(oe,ee.mode,ve),ve.return=ee,ee=ve}return w(ee);case M:return oe=ta(oe),At(ee,W,oe,ve)}if(ie(oe))return De(ee,W,oe,ve);if(N(oe)){if(ze=N(oe),typeof ze!="function")throw Error(s(150));return oe=ze.call(oe),Be(ee,W,oe,ve)}if(typeof oe.then=="function")return At(ee,W,ec(oe),ve);if(oe.$$typeof===z)return At(ee,W,Wu(ee,oe),ve);tc(ee,oe)}return typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint"?(oe=""+oe,W!==null&&W.tag===6?(a(ee,W.sibling),ve=f(W,oe),ve.return=ee,ee=ve):(a(ee,W),ve=vf(oe,ee.mode,ve),ve.return=ee,ee=ve),w(ee)):a(ee,W)}return function(ee,W,oe,ve){try{fl=0;var ze=At(ee,W,oe,ve);return Qa=null,ze}catch(Me){if(Me===Ga||Me===Zu)throw Me;var mt=Un(29,Me,null,ee.mode);return mt.lanes=ve,mt.return=ee,mt}finally{}}}var ra=Ig(!0),kg=Ig(!1),$i=!1;function Df(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Of(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Zi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ji(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(_t&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=Qu(t),mg(t,null,a),r}return Gu(t,l,r,a),Qu(t)}function ml(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Bo(t,a)}}function jf(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var w={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?f=m=w:m=m.next=w,a=a.next}while(a!==null);m===null?f=m=r:m=m.next=r}else f=m=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var Mf=!1;function pl(){if(Mf){var t=qa;if(t!==null)throw t}}function gl(t,r,a,l){Mf=!1;var f=t.updateQueue;$i=!1;var m=f.firstBaseUpdate,w=f.lastBaseUpdate,L=f.shared.pending;if(L!==null){f.shared.pending=null;var Q=L,le=Q.next;Q.next=null,w===null?m=le:w.next=le,w=Q;var ye=t.alternate;ye!==null&&(ye=ye.updateQueue,L=ye.lastBaseUpdate,L!==w&&(L===null?ye.firstBaseUpdate=le:L.next=le,ye.lastBaseUpdate=Q))}if(m!==null){var we=f.baseState;w=0,ye=le=Q=null,L=m;do{var ue=L.lane&-536870913,fe=ue!==L.lane;if(fe?(it&ue)===ue:(l&ue)===ue){ue!==0&&ue===Ha&&(Mf=!0),ye!==null&&(ye=ye.next={lane:0,tag:L.tag,payload:L.payload,callback:null,next:null});e:{var De=t,Be=L;ue=r;var At=a;switch(Be.tag){case 1:if(De=Be.payload,typeof De=="function"){we=De.call(At,we,ue);break e}we=De;break e;case 3:De.flags=De.flags&-65537|128;case 0:if(De=Be.payload,ue=typeof De=="function"?De.call(At,we,ue):De,ue==null)break e;we=b({},we,ue);break e;case 2:$i=!0}}ue=L.callback,ue!==null&&(t.flags|=64,fe&&(t.flags|=8192),fe=f.callbacks,fe===null?f.callbacks=[ue]:fe.push(ue))}else fe={lane:ue,tag:L.tag,payload:L.payload,callback:L.callback,next:null},ye===null?(le=ye=fe,Q=we):ye=ye.next=fe,w|=ue;if(L=L.next,L===null){if(L=f.shared.pending,L===null)break;fe=L,L=fe.next,fe.next=null,f.lastBaseUpdate=fe,f.shared.pending=null}}while(!0);ye===null&&(Q=we),f.baseState=Q,f.firstBaseUpdate=le,f.lastBaseUpdate=ye,m===null&&(f.shared.lanes=0),is|=w,t.lanes=w,t.memoizedState=we}}function Dg(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function Og(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Dg(a[t],r)}var Ka=V(null),nc=V(0);function jg(t,r){t=bi,me(nc,t),me(Ka,r),bi=t|r.baseLanes}function Lf(){me(nc,bi),me(Ka,Ka.current)}function Vf(){bi=nc.current,G(Ka),G(nc)}var Bn=V(null),or=null;function es(t){var r=t.alternate;me(qt,qt.current&1),me(Bn,t),or===null&&(r===null||Ka.current!==null||r.memoizedState!==null)&&(or=t)}function Pf(t){me(qt,qt.current),me(Bn,t),or===null&&(or=t)}function Mg(t){t.tag===22?(me(qt,qt.current),me(Bn,t),or===null&&(or=t)):ts()}function ts(){me(qt,qt.current),me(Bn,Bn.current)}function Fn(t){G(Bn),or===t&&(or=null),G(qt)}var qt=V(0);function rc(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||qd(a)||Gd(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var fi=0,$e=null,Tt=null,$t=null,ic=!1,Ya=!1,ia=!1,sc=0,yl=0,Xa=null,Ix=0;function Bt(){throw Error(s(321))}function zf(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!zn(t[a],r[a]))return!1;return!0}function Uf(t,r,a,l,f,m){return fi=m,$e=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,$.H=t===null||t.memoizedState===null?_y:td,ia=!1,m=a(l,f),ia=!1,Ya&&(m=Vg(r,a,l,f)),Lg(t),m}function Lg(t){$.H=bl;var r=Tt!==null&&Tt.next!==null;if(fi=0,$t=Tt=$e=null,ic=!1,yl=0,Xa=null,r)throw Error(s(300));t===null||Zt||(t=t.dependencies,t!==null&&Xu(t)&&(Zt=!0))}function Vg(t,r,a,l){$e=t;var f=0;do{if(Ya&&(Xa=null),yl=0,Ya=!1,25<=f)throw Error(s(301));if(f+=1,$t=Tt=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}$.H=vy,m=r(a,l)}while(Ya);return m}function kx(){var t=$.H,r=t.useState()[0];return r=typeof r.then=="function"?_l(r):r,t=t.useState()[0],(Tt!==null?Tt.memoizedState:null)!==t&&($e.flags|=1024),r}function Bf(){var t=sc!==0;return sc=0,t}function Ff(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function Hf(t){if(ic){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}ic=!1}fi=0,$t=Tt=$e=null,Ya=!1,yl=sc=0,Xa=null}function Rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $t===null?$e.memoizedState=$t=t:$t=$t.next=t,$t}function Gt(){if(Tt===null){var t=$e.alternate;t=t!==null?t.memoizedState:null}else t=Tt.next;var r=$t===null?$e.memoizedState:$t.next;if(r!==null)$t=r,Tt=t;else{if(t===null)throw $e.alternate===null?Error(s(467)):Error(s(310));Tt=t,t={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},$t===null?$e.memoizedState=$t=t:$t=$t.next=t}return $t}function ac(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function _l(t){var r=yl;return yl+=1,Xa===null&&(Xa=[]),t=Rg(Xa,t,r),r=$e,($t===null?r.memoizedState:$t.next)===null&&(r=r.alternate,$.H=r===null||r.memoizedState===null?_y:td),t}function oc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return _l(t);if(t.$$typeof===z)return gn(t)}throw Error(s(438,String(t)))}function qf(t){var r=null,a=$e.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=$e.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=ac(),$e.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=H;return r.index++,a}function di(t,r){return typeof r=="function"?r(t):r}function lc(t){var r=Gt();return Gf(r,Tt,t)}function Gf(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=t.baseQueue,m=l.pending;if(m!==null){if(f!==null){var w=f.next;f.next=m.next,m.next=w}r.baseQueue=f=m,l.pending=null}if(m=t.baseState,f===null)t.memoizedState=m;else{r=f.next;var L=w=null,Q=null,le=r,ye=!1;do{var we=le.lane&-536870913;if(we!==le.lane?(it&we)===we:(fi&we)===we){var ue=le.revertLane;if(ue===0)Q!==null&&(Q=Q.next={lane:0,revertLane:0,gesture:null,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null}),we===Ha&&(ye=!0);else if((fi&ue)===ue){le=le.next,ue===Ha&&(ye=!0);continue}else we={lane:0,revertLane:le.revertLane,gesture:null,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},Q===null?(L=Q=we,w=m):Q=Q.next=we,$e.lanes|=ue,is|=ue;we=le.action,ia&&a(m,we),m=le.hasEagerState?le.eagerState:a(m,we)}else ue={lane:we,revertLane:le.revertLane,gesture:le.gesture,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},Q===null?(L=Q=ue,w=m):Q=Q.next=ue,$e.lanes|=we,is|=we;le=le.next}while(le!==null&&le!==r);if(Q===null?w=m:Q.next=L,!zn(m,t.memoizedState)&&(Zt=!0,ye&&(a=qa,a!==null)))throw a;t.memoizedState=m,t.baseState=w,t.baseQueue=Q,l.lastRenderedState=m}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Qf(t){var r=Gt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,m=r.memoizedState;if(f!==null){a.pending=null;var w=f=f.next;do m=t(m,w.action),w=w.next;while(w!==f);zn(m,r.memoizedState)||(Zt=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),a.lastRenderedState=m}return[m,l]}function Pg(t,r,a){var l=$e,f=Gt(),m=ut;if(m){if(a===void 0)throw Error(s(407));a=a()}else a=r();var w=!zn((Tt||f).memoizedState,a);if(w&&(f.memoizedState=a,Zt=!0),f=f.queue,Xf(Bg.bind(null,l,f,t),[t]),f.getSnapshot!==r||w||$t!==null&&$t.memoizedState.tag&1){if(l.flags|=2048,Wa(9,{destroy:void 0},Ug.bind(null,l,f,a,r),null),Rt===null)throw Error(s(349));m||(fi&127)!==0||zg(l,r,a)}return a}function zg(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=$e.updateQueue,r===null?(r=ac(),$e.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function Ug(t,r,a,l){r.value=a,r.getSnapshot=l,Fg(r)&&Hg(t)}function Bg(t,r,a){return a(function(){Fg(r)&&Hg(t)})}function Fg(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!zn(t,a)}catch{return!0}}function Hg(t){var r=Xs(t,2);r!==null&&jn(r,t,2)}function Kf(t){var r=Rn();if(typeof t=="function"){var a=t;if(t=a(),ia){Ot(!0);try{a()}finally{Ot(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:di,lastRenderedState:t},r}function qg(t,r,a,l){return t.baseState=a,Gf(t,Tt,typeof l=="function"?l:di)}function Dx(t,r,a,l,f){if(hc(t))throw Error(s(485));if(t=r.action,t!==null){var m={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){m.listeners.push(w)}};$.T!==null?a(!0):m.isTransition=!1,l(m),a=r.pending,a===null?(m.next=r.pending=m,Gg(r,m)):(m.next=a.next,r.pending=a.next=m)}}function Gg(t,r){var a=r.action,l=r.payload,f=t.state;if(r.isTransition){var m=$.T,w={};$.T=w;try{var L=a(f,l),Q=$.S;Q!==null&&Q(w,L),Qg(t,r,L)}catch(le){Yf(t,r,le)}finally{m!==null&&w.types!==null&&(m.types=w.types),$.T=m}}else try{m=a(f,l),Qg(t,r,m)}catch(le){Yf(t,r,le)}}function Qg(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Kg(t,r,l)},function(l){return Yf(t,r,l)}):Kg(t,r,a)}function Kg(t,r,a){r.status="fulfilled",r.value=a,Yg(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,Gg(t,a)))}function Yf(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,Yg(r),r=r.next;while(r!==l)}t.action=null}function Yg(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function Xg(t,r){return r}function Wg(t,r){if(ut){var a=Rt.formState;if(a!==null){e:{var l=$e;if(ut){if(kt){t:{for(var f=kt,m=ar;f.nodeType!==8;){if(!m){f=null;break t}if(f=lr(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){kt=lr(f.nextSibling),l=f.data==="F!";break e}}Xi(l)}l=!1}l&&(r=a[0])}}return a=Rn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xg,lastRenderedState:r},a.queue=l,a=py.bind(null,$e,l),l.dispatch=a,l=Kf(!1),m=ed.bind(null,$e,!1,l.queue),l=Rn(),f={state:r,dispatch:null,action:t,pending:null},l.queue=f,a=Dx.bind(null,$e,f,m,a),f.dispatch=a,l.memoizedState=t,[r,a,!1]}function $g(t){var r=Gt();return Zg(r,Tt,t)}function Zg(t,r,a){if(r=Gf(t,r,Xg)[0],t=lc(di)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=_l(r)}catch(w){throw w===Ga?Zu:w}else l=r;r=Gt();var f=r.queue,m=f.dispatch;return a!==r.memoizedState&&($e.flags|=2048,Wa(9,{destroy:void 0},Ox.bind(null,f,a),null)),[l,m,t]}function Ox(t,r){t.action=r}function Jg(t){var r=Gt(),a=Tt;if(a!==null)return Zg(r,a,t);Gt(),r=r.memoizedState,a=Gt();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function Wa(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=$e.updateQueue,r===null&&(r=ac(),$e.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function ey(){return Gt().memoizedState}function uc(t,r,a,l){var f=Rn();$e.flags|=t,f.memoizedState=Wa(1|r,{destroy:void 0},a,l===void 0?null:l)}function cc(t,r,a,l){var f=Gt();l=l===void 0?null:l;var m=f.memoizedState.inst;Tt!==null&&l!==null&&zf(l,Tt.memoizedState.deps)?f.memoizedState=Wa(r,m,a,l):($e.flags|=t,f.memoizedState=Wa(1|r,m,a,l))}function ty(t,r){uc(8390656,8,t,r)}function Xf(t,r){cc(2048,8,t,r)}function jx(t){$e.flags|=4;var r=$e.updateQueue;if(r===null)r=ac(),$e.updateQueue=r,r.events=[t];else{var a=r.events;a===null?r.events=[t]:a.push(t)}}function ny(t){var r=Gt().memoizedState;return jx({ref:r,nextImpl:t}),function(){if((_t&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function ry(t,r){return cc(4,2,t,r)}function iy(t,r){return cc(4,4,t,r)}function sy(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function ay(t,r,a){a=a!=null?a.concat([t]):null,cc(4,4,sy.bind(null,r,t),a)}function Wf(){}function oy(t,r){var a=Gt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&zf(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function ly(t,r){var a=Gt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&zf(r,l[1]))return l[0];if(l=t(),ia){Ot(!0);try{t()}finally{Ot(!1)}}return a.memoizedState=[l,r],l}function $f(t,r,a){return a===void 0||(fi&1073741824)!==0&&(it&261930)===0?t.memoizedState=r:(t.memoizedState=a,t=u_(),$e.lanes|=t,is|=t,a)}function uy(t,r,a,l){return zn(a,r)?a:Ka.current!==null?(t=$f(t,a,l),zn(t,r)||(Zt=!0),t):(fi&42)===0||(fi&1073741824)!==0&&(it&261930)===0?(Zt=!0,t.memoizedState=a):(t=u_(),$e.lanes|=t,is|=t,r)}function cy(t,r,a,l,f){var m=te.p;te.p=m!==0&&8>m?m:8;var w=$.T,L={};$.T=L,ed(t,!1,r,a);try{var Q=f(),le=$.S;if(le!==null&&le(L,Q),Q!==null&&typeof Q=="object"&&typeof Q.then=="function"){var ye=Nx(Q,l);vl(t,r,ye,Gn(t))}else vl(t,r,l,Gn(t))}catch(we){vl(t,r,{then:function(){},status:"rejected",reason:we},Gn())}finally{te.p=m,w!==null&&L.types!==null&&(w.types=L.types),$.T=w}}function Mx(){}function Zf(t,r,a,l){if(t.tag!==5)throw Error(s(476));var f=hy(t).queue;cy(t,f,r,Se,a===null?Mx:function(){return fy(t),a(l)})}function hy(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:Se,baseState:Se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:di,lastRenderedState:Se},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:di,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function fy(t){var r=hy(t);r.next===null&&(r=t.alternate.memoizedState),vl(t,r.next.queue,{},Gn())}function Jf(){return gn(Ll)}function dy(){return Gt().memoizedState}function my(){return Gt().memoizedState}function Lx(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=Gn();t=Zi(a);var l=Ji(r,t,a);l!==null&&(jn(l,r,a),ml(l,r,a)),r={cache:Cf()},t.payload=r;return}r=r.return}}function Vx(t,r,a){var l=Gn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},hc(t)?gy(r,a):(a=yf(t,r,a,l),a!==null&&(jn(a,t,l),yy(a,r,l)))}function py(t,r,a){var l=Gn();vl(t,r,a,l)}function vl(t,r,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(hc(t))gy(r,f);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var w=r.lastRenderedState,L=m(w,a);if(f.hasEagerState=!0,f.eagerState=L,zn(L,w))return Gu(t,r,f,0),Rt===null&&qu(),!1}catch{}finally{}if(a=yf(t,r,f,l),a!==null)return jn(a,t,l),yy(a,r,l),!0}return!1}function ed(t,r,a,l){if(l={lane:2,revertLane:Dd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},hc(t)){if(r)throw Error(s(479))}else r=yf(t,a,l,2),r!==null&&jn(r,t,2)}function hc(t){var r=t.alternate;return t===$e||r!==null&&r===$e}function gy(t,r){Ya=ic=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function yy(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Bo(t,a)}}var bl={readContext:gn,use:oc,useCallback:Bt,useContext:Bt,useEffect:Bt,useImperativeHandle:Bt,useLayoutEffect:Bt,useInsertionEffect:Bt,useMemo:Bt,useReducer:Bt,useRef:Bt,useState:Bt,useDebugValue:Bt,useDeferredValue:Bt,useTransition:Bt,useSyncExternalStore:Bt,useId:Bt,useHostTransitionStatus:Bt,useFormState:Bt,useActionState:Bt,useOptimistic:Bt,useMemoCache:Bt,useCacheRefresh:Bt};bl.useEffectEvent=Bt;var _y={readContext:gn,use:oc,useCallback:function(t,r){return Rn().memoizedState=[t,r===void 0?null:r],t},useContext:gn,useEffect:ty,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,uc(4194308,4,sy.bind(null,r,t),a)},useLayoutEffect:function(t,r){return uc(4194308,4,t,r)},useInsertionEffect:function(t,r){uc(4,2,t,r)},useMemo:function(t,r){var a=Rn();r=r===void 0?null:r;var l=t();if(ia){Ot(!0);try{t()}finally{Ot(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=Rn();if(a!==void 0){var f=a(r);if(ia){Ot(!0);try{a(r)}finally{Ot(!1)}}}else f=r;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=Vx.bind(null,$e,t),[l.memoizedState,t]},useRef:function(t){var r=Rn();return t={current:t},r.memoizedState=t},useState:function(t){t=Kf(t);var r=t.queue,a=py.bind(null,$e,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:Wf,useDeferredValue:function(t,r){var a=Rn();return $f(a,t,r)},useTransition:function(){var t=Kf(!1);return t=cy.bind(null,$e,t.queue,!0,!1),Rn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=$e,f=Rn();if(ut){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),Rt===null)throw Error(s(349));(it&127)!==0||zg(l,r,a)}f.memoizedState=a;var m={value:a,getSnapshot:r};return f.queue=m,ty(Bg.bind(null,l,m,t),[t]),l.flags|=2048,Wa(9,{destroy:void 0},Ug.bind(null,l,m,a,r),null),a},useId:function(){var t=Rn(),r=Rt.identifierPrefix;if(ut){var a=Kr,l=Qr;a=(l&~(1<<32-rt(l)-1)).toString(32)+a,r="_"+r+"R_"+a,a=sc++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=Ix++,r="_"+r+"r_"+a.toString(32)+"_";return t.memoizedState=r},useHostTransitionStatus:Jf,useFormState:Wg,useActionState:Wg,useOptimistic:function(t){var r=Rn();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=ed.bind(null,$e,!0,a),a.dispatch=r,[t,r]},useMemoCache:qf,useCacheRefresh:function(){return Rn().memoizedState=Lx.bind(null,$e)},useEffectEvent:function(t){var r=Rn(),a={impl:t};return r.memoizedState=a,function(){if((_t&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},td={readContext:gn,use:oc,useCallback:oy,useContext:gn,useEffect:Xf,useImperativeHandle:ay,useInsertionEffect:ry,useLayoutEffect:iy,useMemo:ly,useReducer:lc,useRef:ey,useState:function(){return lc(di)},useDebugValue:Wf,useDeferredValue:function(t,r){var a=Gt();return uy(a,Tt.memoizedState,t,r)},useTransition:function(){var t=lc(di)[0],r=Gt().memoizedState;return[typeof t=="boolean"?t:_l(t),r]},useSyncExternalStore:Pg,useId:dy,useHostTransitionStatus:Jf,useFormState:$g,useActionState:$g,useOptimistic:function(t,r){var a=Gt();return qg(a,Tt,t,r)},useMemoCache:qf,useCacheRefresh:my};td.useEffectEvent=ny;var vy={readContext:gn,use:oc,useCallback:oy,useContext:gn,useEffect:Xf,useImperativeHandle:ay,useInsertionEffect:ry,useLayoutEffect:iy,useMemo:ly,useReducer:Qf,useRef:ey,useState:function(){return Qf(di)},useDebugValue:Wf,useDeferredValue:function(t,r){var a=Gt();return Tt===null?$f(a,t,r):uy(a,Tt.memoizedState,t,r)},useTransition:function(){var t=Qf(di)[0],r=Gt().memoizedState;return[typeof t=="boolean"?t:_l(t),r]},useSyncExternalStore:Pg,useId:dy,useHostTransitionStatus:Jf,useFormState:Jg,useActionState:Jg,useOptimistic:function(t,r){var a=Gt();return Tt!==null?qg(a,Tt,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:qf,useCacheRefresh:my};vy.useEffectEvent=ny;function nd(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:b({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var rd={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=Gn(),f=Zi(l);f.payload=r,a!=null&&(f.callback=a),r=Ji(t,f,l),r!==null&&(jn(r,t,l),ml(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=Gn(),f=Zi(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=Ji(t,f,l),r!==null&&(jn(r,t,l),ml(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=Gn(),l=Zi(a);l.tag=2,r!=null&&(l.callback=r),r=Ji(t,l,a),r!==null&&(jn(r,t,a),ml(r,t,a))}};function by(t,r,a,l,f,m,w){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,m,w):r.prototype&&r.prototype.isPureReactComponent?!al(a,l)||!al(f,m):!0}function wy(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&rd.enqueueReplaceState(r,r.state,null)}function sa(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=b({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function xy(t){Hu(t)}function Ey(t){console.error(t)}function Ty(t){Hu(t)}function fc(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function Sy(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function id(t,r,a){return a=Zi(a),a.tag=3,a.payload={element:null},a.callback=function(){fc(t,r)},a}function Ay(t){return t=Zi(t),t.tag=3,t}function Ry(t,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var m=l.value;t.payload=function(){return f(m)},t.callback=function(){Sy(r,a,l)}}var w=a.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(t.callback=function(){Sy(r,a,l),typeof f!="function"&&(ss===null?ss=new Set([this]):ss.add(this));var L=l.stack;this.componentDidCatch(l.value,{componentStack:L!==null?L:""})})}function Px(t,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&Fa(r,a,f,!0),a=Bn.current,a!==null){switch(a.tag){case 31:case 13:return or===null?Tc():a.alternate===null&&Ft===0&&(Ft=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Ju?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Nd(t,l,f)),!1;case 22:return a.flags|=65536,l===Ju?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Nd(t,l,f)),!1}throw Error(s(435,a.tag))}return Nd(t,l,f),Tc(),!1}if(ut)return r=Bn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==Ef&&(t=Error(s(422),{cause:l}),ul(rr(t,a)))):(l!==Ef&&(r=Error(s(423),{cause:l}),ul(rr(r,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=rr(l,a),f=id(t.stateNode,l,f),jf(t,f),Ft!==4&&(Ft=2)),!1;var m=Error(s(520),{cause:l});if(m=rr(m,a),Cl===null?Cl=[m]:Cl.push(m),Ft!==4&&(Ft=2),r===null)return!0;l=rr(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=id(a.stateNode,l,t),jf(a,t),!1;case 1:if(r=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(ss===null||!ss.has(m))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Ay(f),Ry(f,t,a,l),jf(a,f),!1}a=a.return}while(a!==null);return!1}var sd=Error(s(461)),Zt=!1;function yn(t,r,a,l){r.child=t===null?kg(r,null,a,l):ra(r,t.child,a,l)}function Cy(t,r,a,l,f){a=a.render;var m=r.ref;if("ref"in l){var w={};for(var L in l)L!=="ref"&&(w[L]=l[L])}else w=l;return Js(r),l=Uf(t,r,a,w,m,f),L=Bf(),t!==null&&!Zt?(Ff(t,r,f),mi(t,r,f)):(ut&&L&&wf(r),r.flags|=1,yn(t,r,l,f),r.child)}function Ny(t,r,a,l,f){if(t===null){var m=a.type;return typeof m=="function"&&!_f(m)&&m.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=m,Iy(t,r,m,l,f)):(t=Ku(a.type,null,l,r,r.mode,f),t.ref=r.ref,t.return=r,r.child=t)}if(m=t.child,!dd(t,f)){var w=m.memoizedProps;if(a=a.compare,a=a!==null?a:al,a(w,l)&&t.ref===r.ref)return mi(t,r,f)}return r.flags|=1,t=li(m,l),t.ref=r.ref,t.return=r,r.child=t}function Iy(t,r,a,l,f){if(t!==null){var m=t.memoizedProps;if(al(m,l)&&t.ref===r.ref)if(Zt=!1,r.pendingProps=l=m,dd(t,f))(t.flags&131072)!==0&&(Zt=!0);else return r.lanes=t.lanes,mi(t,r,f)}return ad(t,r,a,l,f)}function ky(t,r,a,l){var f=l.children,m=t!==null?t.memoizedState:null;if(t===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((r.flags&128)!==0){if(m=m!==null?m.baseLanes|a:a,t!==null){for(l=r.child=t.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~m}else l=0,r.child=null;return Dy(t,r,m,a,l)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&$u(r,m!==null?m.cachePool:null),m!==null?jg(r,m):Lf(),Mg(r);else return l=r.lanes=536870912,Dy(t,r,m!==null?m.baseLanes|a:a,a,l)}else m!==null?($u(r,m.cachePool),jg(r,m),ts(),r.memoizedState=null):(t!==null&&$u(r,null),Lf(),ts());return yn(t,r,f,a),r.child}function wl(t,r){return t!==null&&t.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Dy(t,r,a,l,f){var m=If();return m=m===null?null:{parent:Wt._currentValue,pool:m},r.memoizedState={baseLanes:a,cachePool:m},t!==null&&$u(r,null),Lf(),Mg(r),t!==null&&Fa(t,r,l,!0),r.childLanes=f,null}function dc(t,r){return r=pc({mode:r.mode,children:r.children},t.mode),r.ref=t.ref,t.child=r,r.return=t,r}function Oy(t,r,a){return ra(r,t.child,null,a),t=dc(r,r.pendingProps),t.flags|=2,Fn(r),r.memoizedState=null,t}function zx(t,r,a){var l=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,t===null){if(ut){if(l.mode==="hidden")return t=dc(r,l),r.lanes=536870912,wl(null,t);if(Pf(r),(t=kt)?(t=G_(t,ar),t=t!==null&&t.data==="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Ki!==null?{id:Qr,overflow:Kr}:null,retryLane:536870912,hydrationErrors:null},a=gg(t),a.return=r,r.child=a,pn=r,kt=null)):t=null,t===null)throw Xi(r);return r.lanes=536870912,null}return dc(r,l)}var m=t.memoizedState;if(m!==null){var w=m.dehydrated;if(Pf(r),f)if(r.flags&256)r.flags&=-257,r=Oy(t,r,a);else if(r.memoizedState!==null)r.child=t.child,r.flags|=128,r=null;else throw Error(s(558));else if(Zt||Fa(t,r,a,!1),f=(a&t.childLanes)!==0,Zt||f){if(l=Rt,l!==null&&(w=Fo(l,a),w!==0&&w!==m.retryLane))throw m.retryLane=w,Xs(t,w),jn(l,t,w),sd;Tc(),r=Oy(t,r,a)}else t=m.treeContext,kt=lr(w.nextSibling),pn=r,ut=!0,Yi=null,ar=!1,t!==null&&vg(r,t),r=dc(r,l),r.flags|=4096;return r}return t=li(t.child,{mode:l.mode,children:l.children}),t.ref=r.ref,r.child=t,t.return=r,t}function mc(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function ad(t,r,a,l,f){return Js(r),a=Uf(t,r,a,l,void 0,f),l=Bf(),t!==null&&!Zt?(Ff(t,r,f),mi(t,r,f)):(ut&&l&&wf(r),r.flags|=1,yn(t,r,a,f),r.child)}function jy(t,r,a,l,f,m){return Js(r),r.updateQueue=null,a=Vg(r,l,a,f),Lg(t),l=Bf(),t!==null&&!Zt?(Ff(t,r,m),mi(t,r,m)):(ut&&l&&wf(r),r.flags|=1,yn(t,r,a,m),r.child)}function My(t,r,a,l,f){if(Js(r),r.stateNode===null){var m=Pa,w=a.contextType;typeof w=="object"&&w!==null&&(m=gn(w)),m=new a(l,m),r.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=rd,r.stateNode=m,m._reactInternals=r,m=r.stateNode,m.props=l,m.state=r.memoizedState,m.refs={},Df(r),w=a.contextType,m.context=typeof w=="object"&&w!==null?gn(w):Pa,m.state=r.memoizedState,w=a.getDerivedStateFromProps,typeof w=="function"&&(nd(r,a,w,l),m.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(w=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),w!==m.state&&rd.enqueueReplaceState(m,m.state,null),gl(r,l,m,f),pl(),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){m=r.stateNode;var L=r.memoizedProps,Q=sa(a,L);m.props=Q;var le=m.context,ye=a.contextType;w=Pa,typeof ye=="object"&&ye!==null&&(w=gn(ye));var we=a.getDerivedStateFromProps;ye=typeof we=="function"||typeof m.getSnapshotBeforeUpdate=="function",L=r.pendingProps!==L,ye||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(L||le!==w)&&wy(r,m,l,w),$i=!1;var ue=r.memoizedState;m.state=ue,gl(r,l,m,f),pl(),le=r.memoizedState,L||ue!==le||$i?(typeof we=="function"&&(nd(r,a,we,l),le=r.memoizedState),(Q=$i||by(r,a,Q,l,ue,le,w))?(ye||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(r.flags|=4194308)):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=le),m.props=l,m.state=le,m.context=w,l=Q):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{m=r.stateNode,Of(t,r),w=r.memoizedProps,ye=sa(a,w),m.props=ye,we=r.pendingProps,ue=m.context,le=a.contextType,Q=Pa,typeof le=="object"&&le!==null&&(Q=gn(le)),L=a.getDerivedStateFromProps,(le=typeof L=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(w!==we||ue!==Q)&&wy(r,m,l,Q),$i=!1,ue=r.memoizedState,m.state=ue,gl(r,l,m,f),pl();var fe=r.memoizedState;w!==we||ue!==fe||$i||t!==null&&t.dependencies!==null&&Xu(t.dependencies)?(typeof L=="function"&&(nd(r,a,L,l),fe=r.memoizedState),(ye=$i||by(r,a,ye,l,ue,fe,Q)||t!==null&&t.dependencies!==null&&Xu(t.dependencies))?(le||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,fe,Q),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,fe,Q)),typeof m.componentDidUpdate=="function"&&(r.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof m.componentDidUpdate!="function"||w===t.memoizedProps&&ue===t.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||w===t.memoizedProps&&ue===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=fe),m.props=l,m.state=fe,m.context=Q,l=ye):(typeof m.componentDidUpdate!="function"||w===t.memoizedProps&&ue===t.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||w===t.memoizedProps&&ue===t.memoizedState||(r.flags|=1024),l=!1)}return m=l,mc(t,r),l=(r.flags&128)!==0,m||l?(m=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),r.flags|=1,t!==null&&l?(r.child=ra(r,t.child,null,f),r.child=ra(r,null,a,f)):yn(t,r,a,f),r.memoizedState=m.state,t=r.child):t=mi(t,r,f),t}function Ly(t,r,a,l){return $s(),r.flags|=256,yn(t,r,a,l),r.child}var od={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ld(t){return{baseLanes:t,cachePool:Sg()}}function ud(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=qn),t}function Vy(t,r,a){var l=r.pendingProps,f=!1,m=(r.flags&128)!==0,w;if((w=m)||(w=t!==null&&t.memoizedState===null?!1:(qt.current&2)!==0),w&&(f=!0,r.flags&=-129),w=(r.flags&32)!==0,r.flags&=-33,t===null){if(ut){if(f?es(r):ts(),(t=kt)?(t=G_(t,ar),t=t!==null&&t.data!=="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Ki!==null?{id:Qr,overflow:Kr}:null,retryLane:536870912,hydrationErrors:null},a=gg(t),a.return=r,r.child=a,pn=r,kt=null)):t=null,t===null)throw Xi(r);return Gd(t)?r.lanes=32:r.lanes=536870912,null}var L=l.children;return l=l.fallback,f?(ts(),f=r.mode,L=pc({mode:"hidden",children:L},f),l=Ws(l,f,a,null),L.return=r,l.return=r,L.sibling=l,r.child=L,l=r.child,l.memoizedState=ld(a),l.childLanes=ud(t,w,a),r.memoizedState=od,wl(null,l)):(es(r),cd(r,L))}var Q=t.memoizedState;if(Q!==null&&(L=Q.dehydrated,L!==null)){if(m)r.flags&256?(es(r),r.flags&=-257,r=hd(t,r,a)):r.memoizedState!==null?(ts(),r.child=t.child,r.flags|=128,r=null):(ts(),L=l.fallback,f=r.mode,l=pc({mode:"visible",children:l.children},f),L=Ws(L,f,a,null),L.flags|=2,l.return=r,L.return=r,l.sibling=L,r.child=l,ra(r,t.child,null,a),l=r.child,l.memoizedState=ld(a),l.childLanes=ud(t,w,a),r.memoizedState=od,r=wl(null,l));else if(es(r),Gd(L)){if(w=L.nextSibling&&L.nextSibling.dataset,w)var le=w.dgst;w=le,l=Error(s(419)),l.stack="",l.digest=w,ul({value:l,source:null,stack:null}),r=hd(t,r,a)}else if(Zt||Fa(t,r,a,!1),w=(a&t.childLanes)!==0,Zt||w){if(w=Rt,w!==null&&(l=Fo(w,a),l!==0&&l!==Q.retryLane))throw Q.retryLane=l,Xs(t,l),jn(w,t,l),sd;qd(L)||Tc(),r=hd(t,r,a)}else qd(L)?(r.flags|=192,r.child=t.child,r=null):(t=Q.treeContext,kt=lr(L.nextSibling),pn=r,ut=!0,Yi=null,ar=!1,t!==null&&vg(r,t),r=cd(r,l.children),r.flags|=4096);return r}return f?(ts(),L=l.fallback,f=r.mode,Q=t.child,le=Q.sibling,l=li(Q,{mode:"hidden",children:l.children}),l.subtreeFlags=Q.subtreeFlags&65011712,le!==null?L=li(le,L):(L=Ws(L,f,a,null),L.flags|=2),L.return=r,l.return=r,l.sibling=L,r.child=l,wl(null,l),l=r.child,L=t.child.memoizedState,L===null?L=ld(a):(f=L.cachePool,f!==null?(Q=Wt._currentValue,f=f.parent!==Q?{parent:Q,pool:Q}:f):f=Sg(),L={baseLanes:L.baseLanes|a,cachePool:f}),l.memoizedState=L,l.childLanes=ud(t,w,a),r.memoizedState=od,wl(t.child,l)):(es(r),a=t.child,t=a.sibling,a=li(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(w=r.deletions,w===null?(r.deletions=[t],r.flags|=16):w.push(t)),r.child=a,r.memoizedState=null,a)}function cd(t,r){return r=pc({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function pc(t,r){return t=Un(22,t,null,r),t.lanes=0,t}function hd(t,r,a){return ra(r,t.child,null,a),t=cd(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Py(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),Af(t.return,r,a)}function fd(t,r,a,l,f,m){var w=t.memoizedState;w===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:m}:(w.isBackwards=r,w.rendering=null,w.renderingStartTime=0,w.last=l,w.tail=a,w.tailMode=f,w.treeForkCount=m)}function zy(t,r,a){var l=r.pendingProps,f=l.revealOrder,m=l.tail;l=l.children;var w=qt.current,L=(w&2)!==0;if(L?(w=w&1|2,r.flags|=128):w&=1,me(qt,w),yn(t,r,l,a),l=ut?ll:0,!L&&t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Py(t,a,r);else if(t.tag===19)Py(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=r.child,f=null;a!==null;)t=a.alternate,t!==null&&rc(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),fd(r,!1,f,a,m,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(t=f.alternate,t!==null&&rc(t)===null){r.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}fd(r,!0,a,null,m,l);break;case"together":fd(r,!1,null,null,void 0,l);break;default:r.memoizedState=null}return r.child}function mi(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),is|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(Fa(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=li(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=li(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function dd(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&Xu(t)))}function Ux(t,r,a){switch(r.tag){case 3:Le(r,r.stateNode.containerInfo),Wi(r,Wt,t.memoizedState.cache),$s();break;case 27:case 5:gt(r);break;case 4:Le(r,r.stateNode.containerInfo);break;case 10:Wi(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Pf(r),null;break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(es(r),r.flags|=128,null):(a&r.child.childLanes)!==0?Vy(t,r,a):(es(r),t=mi(t,r,a),t!==null?t.sibling:null);es(r);break;case 19:var f=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(Fa(t,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return zy(t,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),me(qt,qt.current),l)break;return null;case 22:return r.lanes=0,ky(t,r,a,r.pendingProps);case 24:Wi(r,Wt,t.memoizedState.cache)}return mi(t,r,a)}function Uy(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)Zt=!0;else{if(!dd(t,a)&&(r.flags&128)===0)return Zt=!1,Ux(t,r,a);Zt=(t.flags&131072)!==0}else Zt=!1,ut&&(r.flags&1048576)!==0&&_g(r,ll,r.index);switch(r.lanes=0,r.tag){case 16:e:{var l=r.pendingProps;if(t=ta(r.elementType),r.type=t,typeof t=="function")_f(t)?(l=sa(t,l),r.tag=1,r=My(null,r,t,l,a)):(r.tag=0,r=ad(null,r,t,l,a));else{if(t!=null){var f=t.$$typeof;if(f===K){r.tag=11,r=Cy(null,r,t,l,a);break e}else if(f===j){r.tag=14,r=Ny(null,r,t,l,a);break e}}throw r=R(t)||t,Error(s(306,r,""))}}return r;case 0:return ad(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=sa(l,r.pendingProps),My(t,r,l,f,a);case 3:e:{if(Le(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var m=r.memoizedState;f=m.element,Of(t,r),gl(r,l,null,a);var w=r.memoizedState;if(l=w.cache,Wi(r,Wt,l),l!==m.cache&&Rf(r,[Wt],a,!0),pl(),l=w.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:w.cache},r.updateQueue.baseState=m,r.memoizedState=m,r.flags&256){r=Ly(t,r,l,a);break e}else if(l!==f){f=rr(Error(s(424)),r),ul(f),r=Ly(t,r,l,a);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(kt=lr(t.firstChild),pn=r,ut=!0,Yi=null,ar=!0,a=kg(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if($s(),l===f){r=mi(t,r,a);break e}yn(t,r,l,a)}r=r.child}return r;case 26:return mc(t,r),t===null?(a=$_(r.type,null,r.pendingProps,null))?r.memoizedState=a:ut||(a=r.type,t=r.pendingProps,l=kc(Ie.current).createElement(a),l[Kt]=r,l[on]=t,_n(l,a,t),Yt(l),r.stateNode=l):r.memoizedState=$_(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return gt(r),t===null&&ut&&(l=r.stateNode=Y_(r.type,r.pendingProps,Ie.current),pn=r,ar=!0,f=kt,us(r.type)?(Qd=f,kt=lr(l.firstChild)):kt=f),yn(t,r,r.pendingProps.children,a),mc(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&ut&&((f=l=kt)&&(l=gE(l,r.type,r.pendingProps,ar),l!==null?(r.stateNode=l,pn=r,kt=lr(l.firstChild),ar=!1,f=!0):f=!1),f||Xi(r)),gt(r),f=r.type,m=r.pendingProps,w=t!==null?t.memoizedProps:null,l=m.children,Bd(f,m)?l=null:w!==null&&Bd(f,w)&&(r.flags|=32),r.memoizedState!==null&&(f=Uf(t,r,kx,null,null,a),Ll._currentValue=f),mc(t,r),yn(t,r,l,a),r.child;case 6:return t===null&&ut&&((t=a=kt)&&(a=yE(a,r.pendingProps,ar),a!==null?(r.stateNode=a,pn=r,kt=null,t=!0):t=!1),t||Xi(r)),null;case 13:return Vy(t,r,a);case 4:return Le(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=ra(r,null,l,a):yn(t,r,l,a),r.child;case 11:return Cy(t,r,r.type,r.pendingProps,a);case 7:return yn(t,r,r.pendingProps,a),r.child;case 8:return yn(t,r,r.pendingProps.children,a),r.child;case 12:return yn(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Wi(r,r.type,l.value),yn(t,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,Js(r),f=gn(f),l=l(f),r.flags|=1,yn(t,r,l,a),r.child;case 14:return Ny(t,r,r.type,r.pendingProps,a);case 15:return Iy(t,r,r.type,r.pendingProps,a);case 19:return zy(t,r,a);case 31:return zx(t,r,a);case 22:return ky(t,r,a,r.pendingProps);case 24:return Js(r),l=gn(Wt),t===null?(f=If(),f===null&&(f=Rt,m=Cf(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=a),f=m),r.memoizedState={parent:l,cache:f},Df(r),Wi(r,Wt,f)):((t.lanes&a)!==0&&(Of(t,r),gl(r,null,null,a),pl()),f=t.memoizedState,m=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Wi(r,Wt,l)):(l=m.cache,Wi(r,Wt,l),l!==f.cache&&Rf(r,[Wt],a,!0))),yn(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function pi(t){t.flags|=4}function md(t,r,a,l,f){if((r=(t.mode&32)!==0)&&(r=!1),r){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(d_())t.flags|=8192;else throw na=Ju,kf}else t.flags&=-16777217}function By(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!nv(r))if(d_())t.flags|=8192;else throw na=Ju,kf}function gc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?xu():536870912,t.lanes|=r,eo|=r)}function xl(t,r){if(!ut)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Dt(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function Bx(t,r,a){var l=r.pendingProps;switch(xf(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(r),null;case 1:return Dt(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),hi(Wt),Oe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ba(r)?pi(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Tf())),Dt(r),null;case 26:var f=r.type,m=r.memoizedState;return t===null?(pi(r),m!==null?(Dt(r),By(r,m)):(Dt(r),md(r,f,null,l,a))):m?m!==t.memoizedState?(pi(r),Dt(r),By(r,m)):(Dt(r),r.flags&=-16777217):(t=t.memoizedProps,t!==l&&pi(r),Dt(r),md(r,f,t,l,a)),null;case 27:if(ft(r),a=Ie.current,f=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&pi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return Dt(r),null}t=de.current,Ba(r)?bg(r):(t=Y_(f,l,a),r.stateNode=t,pi(r))}return Dt(r),null;case 5:if(ft(r),f=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&pi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return Dt(r),null}if(m=de.current,Ba(r))bg(r);else{var w=kc(Ie.current);switch(m){case 1:m=w.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=w.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=w.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=w.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=w.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof l.is=="string"?w.createElement("select",{is:l.is}):w.createElement("select"),l.multiple?m.multiple=!0:l.size&&(m.size=l.size);break;default:m=typeof l.is=="string"?w.createElement(f,{is:l.is}):w.createElement(f)}}m[Kt]=r,m[on]=l;e:for(w=r.child;w!==null;){if(w.tag===5||w.tag===6)m.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===r)break e;for(;w.sibling===null;){if(w.return===null||w.return===r)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}r.stateNode=m;e:switch(_n(m,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&pi(r)}}return Dt(r),md(r,r.type,t===null?null:t.memoizedProps,r.pendingProps,a),null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&pi(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=Ie.current,Ba(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,f=pn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[Kt]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||V_(t.nodeValue,a)),t||Xi(r,!0)}else t=kc(t).createTextNode(l),t[Kt]=r,r.stateNode=t}return Dt(r),null;case 31:if(a=r.memoizedState,t===null||t.memoizedState!==null){if(l=Ba(r),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=r.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Kt]=r}else $s(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Dt(r),t=!1}else a=Tf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return r.flags&256?(Fn(r),r):(Fn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return Dt(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Ba(r),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Kt]=r}else $s(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Dt(r),f=!1}else f=Tf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(Fn(r),r):(Fn(r),null)}return Fn(r),(r.flags&128)!==0?(r.lanes=a,r):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==f&&(l.flags|=2048)),a!==t&&a&&(r.child.flags|=8192),gc(r,r.updateQueue),Dt(r),null);case 4:return Oe(),t===null&&Ld(r.stateNode.containerInfo),Dt(r),null;case 10:return hi(r.type),Dt(r),null;case 19:if(G(qt),l=r.memoizedState,l===null)return Dt(r),null;if(f=(r.flags&128)!==0,m=l.rendering,m===null)if(f)xl(l,!1);else{if(Ft!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(m=rc(t),m!==null){for(r.flags|=128,xl(l,!1),t=m.updateQueue,r.updateQueue=t,gc(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)pg(a,t),a=a.sibling;return me(qt,qt.current&1|2),ut&&ui(r,l.treeForkCount),r.child}t=t.sibling}l.tail!==null&&Re()>wc&&(r.flags|=128,f=!0,xl(l,!1),r.lanes=4194304)}else{if(!f)if(t=rc(m),t!==null){if(r.flags|=128,f=!0,t=t.updateQueue,r.updateQueue=t,gc(r,t),xl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!m.alternate&&!ut)return Dt(r),null}else 2*Re()-l.renderingStartTime>wc&&a!==536870912&&(r.flags|=128,f=!0,xl(l,!1),r.lanes=4194304);l.isBackwards?(m.sibling=r.child,r.child=m):(t=l.last,t!==null?t.sibling=m:r.child=m,l.last=m)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Re(),t.sibling=null,a=qt.current,me(qt,f?a&1|2:a&1),ut&&ui(r,l.treeForkCount),t):(Dt(r),null);case 22:case 23:return Fn(r),Vf(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(Dt(r),r.subtreeFlags&6&&(r.flags|=8192)):Dt(r),a=r.updateQueue,a!==null&&gc(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&G(ea),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),hi(Wt),Dt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function Fx(t,r){switch(xf(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return hi(Wt),Oe(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return ft(r),null;case 31:if(r.memoizedState!==null){if(Fn(r),r.alternate===null)throw Error(s(340));$s()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 13:if(Fn(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));$s()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return G(qt),null;case 4:return Oe(),null;case 10:return hi(r.type),null;case 22:case 23:return Fn(r),Vf(),t!==null&&G(ea),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return hi(Wt),null;case 25:return null;default:return null}}function Fy(t,r){switch(xf(r),r.tag){case 3:hi(Wt),Oe();break;case 26:case 27:case 5:ft(r);break;case 4:Oe();break;case 31:r.memoizedState!==null&&Fn(r);break;case 13:Fn(r);break;case 19:G(qt);break;case 10:hi(r.type);break;case 22:case 23:Fn(r),Vf(),t!==null&&G(ea);break;case 24:hi(Wt)}}function El(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var m=a.create,w=a.inst;l=m(),w.destroy=l}a=a.next}while(a!==f)}}catch(L){xt(r,r.return,L)}}function ns(t,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var m=f.next;l=m;do{if((l.tag&t)===t){var w=l.inst,L=w.destroy;if(L!==void 0){w.destroy=void 0,f=r;var Q=a,le=L;try{le()}catch(ye){xt(f,Q,ye)}}}l=l.next}while(l!==m)}}catch(ye){xt(r,r.return,ye)}}function Hy(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{Og(r,a)}catch(l){xt(t,t.return,l)}}}function qy(t,r,a){a.props=sa(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){xt(t,r,l)}}function Tl(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(f){xt(t,r,f)}}function Yr(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){xt(t,r,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){xt(t,r,f)}else a.current=null}function Gy(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){xt(t,t.return,f)}}function pd(t,r,a){try{var l=t.stateNode;cE(l,t.type,a,r),l[on]=r}catch(f){xt(t,t.return,f)}}function Qy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&us(t.type)||t.tag===4}function gd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Qy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&us(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function yd(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=gr));else if(l!==4&&(l===27&&us(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(yd(t,r,a),t=t.sibling;t!==null;)yd(t,r,a),t=t.sibling}function yc(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&us(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(yc(t,r,a),t=t.sibling;t!==null;)yc(t,r,a),t=t.sibling}function Ky(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);_n(r,l,a),r[Kt]=t,r[on]=a}catch(m){xt(t,t.return,m)}}var gi=!1,Jt=!1,_d=!1,Yy=typeof WeakSet=="function"?WeakSet:Set,un=null;function Hx(t,r){if(t=t.containerInfo,zd=Pc,t=ag(t),hf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var w=0,L=-1,Q=-1,le=0,ye=0,we=t,ue=null;t:for(;;){for(var fe;we!==a||f!==0&&we.nodeType!==3||(L=w+f),we!==m||l!==0&&we.nodeType!==3||(Q=w+l),we.nodeType===3&&(w+=we.nodeValue.length),(fe=we.firstChild)!==null;)ue=we,we=fe;for(;;){if(we===t)break t;if(ue===a&&++le===f&&(L=w),ue===m&&++ye===l&&(Q=w),(fe=we.nextSibling)!==null)break;we=ue,ue=we.parentNode}we=fe}a=L===-1||Q===-1?null:{start:L,end:Q}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ud={focusedElem:t,selectionRange:a},Pc=!1,un=r;un!==null;)if(r=un,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,un=t;else for(;un!==null;){switch(r=un,m=r.alternate,t=r.flags,r.tag){case 0:if((t&4)!==0&&(t=r.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,a=r,f=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var De=sa(a.type,f);t=l.getSnapshotBeforeUpdate(De,m),l.__reactInternalSnapshotBeforeUpdate=t}catch(Be){xt(a,a.return,Be)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)Hd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Hd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,un=t;break}un=r.return}}function Xy(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:_i(t,a),l&4&&El(5,a);break;case 1:if(_i(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(w){xt(a,a.return,w)}else{var f=sa(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(f,r,t.__reactInternalSnapshotBeforeUpdate)}catch(w){xt(a,a.return,w)}}l&64&&Hy(a),l&512&&Tl(a,a.return);break;case 3:if(_i(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Og(t,r)}catch(w){xt(a,a.return,w)}}break;case 27:r===null&&l&4&&Ky(a);case 26:case 5:_i(t,a),r===null&&l&4&&Gy(a),l&512&&Tl(a,a.return);break;case 12:_i(t,a);break;case 31:_i(t,a),l&4&&Zy(t,a);break;case 13:_i(t,a),l&4&&Jy(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Zx.bind(null,a),_E(t,a))));break;case 22:if(l=a.memoizedState!==null||gi,!l){r=r!==null&&r.memoizedState!==null||Jt,f=gi;var m=Jt;gi=l,(Jt=r)&&!m?vi(t,a,(a.subtreeFlags&8772)!==0):_i(t,a),gi=f,Jt=m}break;case 30:break;default:_i(t,a)}}function Wy(t){var r=t.alternate;r!==null&&(t.alternate=null,Wy(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&Ta(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Mt=null,In=!1;function yi(t,r,a){for(a=a.child;a!==null;)$y(t,r,a),a=a.sibling}function $y(t,r,a){if(nt&&typeof nt.onCommitFiberUnmount=="function")try{nt.onCommitFiberUnmount(Qe,a)}catch{}switch(a.tag){case 26:Jt||Yr(a,r),yi(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Jt||Yr(a,r);var l=Mt,f=In;us(a.type)&&(Mt=a.stateNode,In=!1),yi(t,r,a),Ol(a.stateNode),Mt=l,In=f;break;case 5:Jt||Yr(a,r);case 6:if(l=Mt,f=In,Mt=null,yi(t,r,a),Mt=l,In=f,Mt!==null)if(In)try{(Mt.nodeType===9?Mt.body:Mt.nodeName==="HTML"?Mt.ownerDocument.body:Mt).removeChild(a.stateNode)}catch(m){xt(a,r,m)}else try{Mt.removeChild(a.stateNode)}catch(m){xt(a,r,m)}break;case 18:Mt!==null&&(In?(t=Mt,H_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),lo(t)):H_(Mt,a.stateNode));break;case 4:l=Mt,f=In,Mt=a.stateNode.containerInfo,In=!0,yi(t,r,a),Mt=l,In=f;break;case 0:case 11:case 14:case 15:ns(2,a,r),Jt||ns(4,a,r),yi(t,r,a);break;case 1:Jt||(Yr(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&qy(a,r,l)),yi(t,r,a);break;case 21:yi(t,r,a);break;case 22:Jt=(l=Jt)||a.memoizedState!==null,yi(t,r,a),Jt=l;break;default:yi(t,r,a)}}function Zy(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{lo(t)}catch(a){xt(r,r.return,a)}}}function Jy(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{lo(t)}catch(a){xt(r,r.return,a)}}function qx(t){switch(t.tag){case 31:case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new Yy),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new Yy),r;default:throw Error(s(435,t.tag))}}function _c(t,r){var a=qx(t);r.forEach(function(l){if(!a.has(l)){a.add(l);var f=Jx.bind(null,t,l);l.then(f,f)}})}function kn(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],m=t,w=r,L=w;e:for(;L!==null;){switch(L.tag){case 27:if(us(L.type)){Mt=L.stateNode,In=!1;break e}break;case 5:Mt=L.stateNode,In=!1;break e;case 3:case 4:Mt=L.stateNode.containerInfo,In=!0;break e}L=L.return}if(Mt===null)throw Error(s(160));$y(m,w,f),Mt=null,In=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)e_(r,t),r=r.sibling}var xr=null;function e_(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:kn(r,t),Dn(t),l&4&&(ns(3,t,t.return),El(3,t),ns(5,t,t.return));break;case 1:kn(r,t),Dn(t),l&512&&(Jt||a===null||Yr(a,a.return)),l&64&&gi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=xr;if(kn(r,t),Dn(t),l&512&&(Jt||a===null||Yr(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":m=f.getElementsByTagName("title")[0],(!m||m[jr]||m[Kt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(l),f.head.insertBefore(m,f.querySelector("head > title"))),_n(m,l,a),m[Kt]=t,Yt(m),l=m;break e;case"link":var w=ev("link","href",f).get(l+(a.href||""));if(w){for(var L=0;L<w.length;L++)if(m=w[L],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){w.splice(L,1);break t}}m=f.createElement(l),_n(m,l,a),f.head.appendChild(m);break;case"meta":if(w=ev("meta","content",f).get(l+(a.content||""))){for(L=0;L<w.length;L++)if(m=w[L],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){w.splice(L,1);break t}}m=f.createElement(l),_n(m,l,a),f.head.appendChild(m);break;default:throw Error(s(468,l))}m[Kt]=t,Yt(m),l=m}t.stateNode=l}else tv(f,t.type,t.stateNode);else t.stateNode=J_(f,l,t.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?tv(f,t.type,t.stateNode):J_(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&pd(t,t.memoizedProps,a.memoizedProps)}break;case 27:kn(r,t),Dn(t),l&512&&(Jt||a===null||Yr(a,a.return)),a!==null&&l&4&&pd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(kn(r,t),Dn(t),l&512&&(Jt||a===null||Yr(a,a.return)),t.flags&32){f=t.stateNode;try{Nn(f,"")}catch(De){xt(t,t.return,De)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,pd(t,f,a!==null?a.memoizedProps:f)),l&1024&&(_d=!0);break;case 6:if(kn(r,t),Dn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(De){xt(t,t.return,De)}}break;case 3:if(jc=null,f=xr,xr=Dc(r.containerInfo),kn(r,t),xr=f,Dn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{lo(r.containerInfo)}catch(De){xt(t,t.return,De)}_d&&(_d=!1,t_(t));break;case 4:l=xr,xr=Dc(t.stateNode.containerInfo),kn(r,t),Dn(t),xr=l;break;case 12:kn(r,t),Dn(t);break;case 31:kn(r,t),Dn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,_c(t,l)));break;case 13:kn(r,t),Dn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(bc=Re()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,_c(t,l)));break;case 22:f=t.memoizedState!==null;var Q=a!==null&&a.memoizedState!==null,le=gi,ye=Jt;if(gi=le||f,Jt=ye||Q,kn(r,t),Jt=ye,gi=le,Dn(t),l&8192)e:for(r=t.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||Q||gi||Jt||aa(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){Q=a=r;try{if(m=Q.stateNode,f)w=m.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{L=Q.stateNode;var we=Q.memoizedProps.style,ue=we!=null&&we.hasOwnProperty("display")?we.display:null;L.style.display=ue==null||typeof ue=="boolean"?"":(""+ue).trim()}}catch(De){xt(Q,Q.return,De)}}}else if(r.tag===6){if(a===null){Q=r;try{Q.stateNode.nodeValue=f?"":Q.memoizedProps}catch(De){xt(Q,Q.return,De)}}}else if(r.tag===18){if(a===null){Q=r;try{var fe=Q.stateNode;f?q_(fe,!0):q_(Q.stateNode,!1)}catch(De){xt(Q,Q.return,De)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,_c(t,a))));break;case 19:kn(r,t),Dn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,_c(t,l)));break;case 30:break;case 21:break;default:kn(r,t),Dn(t)}}function Dn(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(Qy(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,m=gd(t);yc(t,m,f);break;case 5:var w=a.stateNode;a.flags&32&&(Nn(w,""),a.flags&=-33);var L=gd(t);yc(t,L,w);break;case 3:case 4:var Q=a.stateNode.containerInfo,le=gd(t);yd(t,le,Q);break;default:throw Error(s(161))}}catch(ye){xt(t,t.return,ye)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function t_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;t_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function _i(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Xy(t,r.alternate,r),r=r.sibling}function aa(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:ns(4,r,r.return),aa(r);break;case 1:Yr(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&qy(r,r.return,a),aa(r);break;case 27:Ol(r.stateNode);case 26:case 5:Yr(r,r.return),aa(r);break;case 22:r.memoizedState===null&&aa(r);break;case 30:aa(r);break;default:aa(r)}t=t.sibling}}function vi(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=t,m=r,w=m.flags;switch(m.tag){case 0:case 11:case 15:vi(f,m,a),El(4,m);break;case 1:if(vi(f,m,a),l=m,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(le){xt(l,l.return,le)}if(l=m,f=l.updateQueue,f!==null){var L=l.stateNode;try{var Q=f.shared.hiddenCallbacks;if(Q!==null)for(f.shared.hiddenCallbacks=null,f=0;f<Q.length;f++)Dg(Q[f],L)}catch(le){xt(l,l.return,le)}}a&&w&64&&Hy(m),Tl(m,m.return);break;case 27:Ky(m);case 26:case 5:vi(f,m,a),a&&l===null&&w&4&&Gy(m),Tl(m,m.return);break;case 12:vi(f,m,a);break;case 31:vi(f,m,a),a&&w&4&&Zy(f,m);break;case 13:vi(f,m,a),a&&w&4&&Jy(f,m);break;case 22:m.memoizedState===null&&vi(f,m,a),Tl(m,m.return);break;case 30:break;default:vi(f,m,a)}r=r.sibling}}function vd(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&cl(a))}function bd(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&cl(t))}function Er(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)n_(t,r,a,l),r=r.sibling}function n_(t,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:Er(t,r,a,l),f&2048&&El(9,r);break;case 1:Er(t,r,a,l);break;case 3:Er(t,r,a,l),f&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&cl(t)));break;case 12:if(f&2048){Er(t,r,a,l),t=r.stateNode;try{var m=r.memoizedProps,w=m.id,L=m.onPostCommit;typeof L=="function"&&L(w,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(Q){xt(r,r.return,Q)}}else Er(t,r,a,l);break;case 31:Er(t,r,a,l);break;case 13:Er(t,r,a,l);break;case 23:break;case 22:m=r.stateNode,w=r.alternate,r.memoizedState!==null?m._visibility&2?Er(t,r,a,l):Sl(t,r):m._visibility&2?Er(t,r,a,l):(m._visibility|=2,$a(t,r,a,l,(r.subtreeFlags&10256)!==0||!1)),f&2048&&vd(w,r);break;case 24:Er(t,r,a,l),f&2048&&bd(r.alternate,r);break;default:Er(t,r,a,l)}}function $a(t,r,a,l,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var m=t,w=r,L=a,Q=l,le=w.flags;switch(w.tag){case 0:case 11:case 15:$a(m,w,L,Q,f),El(8,w);break;case 23:break;case 22:var ye=w.stateNode;w.memoizedState!==null?ye._visibility&2?$a(m,w,L,Q,f):Sl(m,w):(ye._visibility|=2,$a(m,w,L,Q,f)),f&&le&2048&&vd(w.alternate,w);break;case 24:$a(m,w,L,Q,f),f&&le&2048&&bd(w.alternate,w);break;default:$a(m,w,L,Q,f)}r=r.sibling}}function Sl(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,f=l.flags;switch(l.tag){case 22:Sl(a,l),f&2048&&vd(l.alternate,l);break;case 24:Sl(a,l),f&2048&&bd(l.alternate,l);break;default:Sl(a,l)}r=r.sibling}}var Al=8192;function Za(t,r,a){if(t.subtreeFlags&Al)for(t=t.child;t!==null;)r_(t,r,a),t=t.sibling}function r_(t,r,a){switch(t.tag){case 26:Za(t,r,a),t.flags&Al&&t.memoizedState!==null&&IE(a,xr,t.memoizedState,t.memoizedProps);break;case 5:Za(t,r,a);break;case 3:case 4:var l=xr;xr=Dc(t.stateNode.containerInfo),Za(t,r,a),xr=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Al,Al=16777216,Za(t,r,a),Al=l):Za(t,r,a));break;default:Za(t,r,a)}}function i_(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Rl(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];un=l,a_(l,t)}i_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)s_(t),t=t.sibling}function s_(t){switch(t.tag){case 0:case 11:case 15:Rl(t),t.flags&2048&&ns(9,t,t.return);break;case 3:Rl(t);break;case 12:Rl(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,vc(t)):Rl(t);break;default:Rl(t)}}function vc(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];un=l,a_(l,t)}i_(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:ns(8,r,r.return),vc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,vc(r));break;default:vc(r)}t=t.sibling}}function a_(t,r){for(;un!==null;){var a=un;switch(a.tag){case 0:case 11:case 15:ns(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:cl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,un=l;else e:for(a=t;un!==null;){l=un;var f=l.sibling,m=l.return;if(Wy(l),l===a){un=null;break e}if(f!==null){f.return=m,un=f;break e}un=m}}}var Gx={getCacheForType:function(t){var r=gn(Wt),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a},cacheSignal:function(){return gn(Wt).controller.signal}},Qx=typeof WeakMap=="function"?WeakMap:Map,_t=0,Rt=null,et=null,it=0,wt=0,Hn=null,rs=!1,Ja=!1,wd=!1,bi=0,Ft=0,is=0,oa=0,xd=0,qn=0,eo=0,Cl=null,On=null,Ed=!1,bc=0,o_=0,wc=1/0,xc=null,ss=null,nn=0,as=null,to=null,wi=0,Td=0,Sd=null,l_=null,Nl=0,Ad=null;function Gn(){return(_t&2)!==0&&it!==0?it&-it:$.T!==null?Dd():Eu()}function u_(){if(qn===0)if((it&536870912)===0||ut){var t=Ir;Ir<<=1,(Ir&3932160)===0&&(Ir=262144),qn=t}else qn=536870912;return t=Bn.current,t!==null&&(t.flags|=32),qn}function jn(t,r,a){(t===Rt&&(wt===2||wt===9)||t.cancelPendingCommit!==null)&&(no(t,0),os(t,it,qn,!1)),Ms(t,a),((_t&2)===0||t!==Rt)&&(t===Rt&&((_t&2)===0&&(oa|=a),Ft===4&&os(t,it,qn,!1)),Xr(t))}function c_(t,r,a){if((_t&6)!==0)throw Error(s(327));var l=!a&&(r&127)===0&&(r&t.expiredLanes)===0||dr(t,r),f=l?Xx(t,r):Cd(t,r,!0),m=l;do{if(f===0){Ja&&!l&&os(t,r,0,!1);break}else{if(a=t.current.alternate,m&&!Kx(a)){f=Cd(t,r,!1),m=!1;continue}if(f===2){if(m=r,t.errorRecoveryDisabledLanes&m)var w=0;else w=t.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){r=w;e:{var L=t;f=Cl;var Q=L.current.memoizedState.isDehydrated;if(Q&&(no(L,w).flags|=256),w=Cd(L,w,!1),w!==2){if(wd&&!Q){L.errorRecoveryDisabledLanes|=m,oa|=m,f=4;break e}m=On,On=f,m!==null&&(On===null?On=m:On.push.apply(On,m))}f=w}if(m=!1,f!==2)continue}}if(f===1){no(t,0),os(t,r,0,!0);break}e:{switch(l=t,m=f,m){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:os(l,r,qn,!rs);break e;case 2:On=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=bc+300-Re(),10<f)){if(os(l,r,qn,!rs),kr(l,0,!0)!==0)break e;wi=r,l.timeoutHandle=B_(h_.bind(null,l,a,On,xc,Ed,r,qn,oa,eo,rs,m,"Throttled",-0,0),f);break e}h_(l,a,On,xc,Ed,r,qn,oa,eo,rs,m,null,-0,0)}}break}while(!0);Xr(t)}function h_(t,r,a,l,f,m,w,L,Q,le,ye,we,ue,fe){if(t.timeoutHandle=-1,we=r.subtreeFlags,we&8192||(we&16785408)===16785408){we={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:gr},r_(r,m,we);var De=(m&62914560)===m?bc-Re():(m&4194048)===m?o_-Re():0;if(De=kE(we,De),De!==null){wi=m,t.cancelPendingCommit=De(v_.bind(null,t,r,m,a,l,f,w,L,Q,ye,we,null,ue,fe)),os(t,m,w,!le);return}}v_(t,r,m,a,l,f,w,L,Q)}function Kx(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],m=f.getSnapshot;f=f.value;try{if(!zn(m(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function os(t,r,a,l){r&=~xd,r&=~oa,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var f=r;0<f;){var m=31-rt(f),w=1<<m;l[m]=-1,f&=~w}a!==0&&Ls(t,a,r)}function Ec(){return(_t&6)===0?(Il(0),!1):!0}function Rd(){if(et!==null){if(wt===0)var t=et.return;else t=et,ci=Zs=null,Hf(t),Qa=null,fl=0,t=et;for(;t!==null;)Fy(t.alternate,t),t=t.return;et=null}}function no(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,dE(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),wi=0,Rd(),Rt=t,et=a=li(t.current,null),it=r,wt=0,Hn=null,rs=!1,Ja=dr(t,r),wd=!1,eo=qn=xd=oa=is=Ft=0,On=Cl=null,Ed=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var f=31-rt(l),m=1<<f;r|=t[f],l&=~m}return bi=r,qu(),a}function f_(t,r){$e=null,$.H=bl,r===Ga||r===Zu?(r=Cg(),wt=3):r===kf?(r=Cg(),wt=4):wt=r===sd?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Hn=r,et===null&&(Ft=1,fc(t,rr(r,t.current)))}function d_(){var t=Bn.current;return t===null?!0:(it&4194048)===it?or===null:(it&62914560)===it||(it&536870912)!==0?t===or:!1}function m_(){var t=$.H;return $.H=bl,t===null?bl:t}function p_(){var t=$.A;return $.A=Gx,t}function Tc(){Ft=4,rs||(it&4194048)!==it&&Bn.current!==null||(Ja=!0),(is&134217727)===0&&(oa&134217727)===0||Rt===null||os(Rt,it,qn,!1)}function Cd(t,r,a){var l=_t;_t|=2;var f=m_(),m=p_();(Rt!==t||it!==r)&&(xc=null,no(t,r)),r=!1;var w=Ft;e:do try{if(wt!==0&&et!==null){var L=et,Q=Hn;switch(wt){case 8:Rd(),w=6;break e;case 3:case 2:case 9:case 6:Bn.current===null&&(r=!0);var le=wt;if(wt=0,Hn=null,ro(t,L,Q,le),a&&Ja){w=0;break e}break;default:le=wt,wt=0,Hn=null,ro(t,L,Q,le)}}Yx(),w=Ft;break}catch(ye){f_(t,ye)}while(!0);return r&&t.shellSuspendCounter++,ci=Zs=null,_t=l,$.H=f,$.A=m,et===null&&(Rt=null,it=0,qu()),w}function Yx(){for(;et!==null;)g_(et)}function Xx(t,r){var a=_t;_t|=2;var l=m_(),f=p_();Rt!==t||it!==r?(xc=null,wc=Re()+500,no(t,r)):Ja=dr(t,r);e:do try{if(wt!==0&&et!==null){r=et;var m=Hn;t:switch(wt){case 1:wt=0,Hn=null,ro(t,r,m,1);break;case 2:case 9:if(Ag(m)){wt=0,Hn=null,y_(r);break}r=function(){wt!==2&&wt!==9||Rt!==t||(wt=7),Xr(t)},m.then(r,r);break e;case 3:wt=7;break e;case 4:wt=5;break e;case 7:Ag(m)?(wt=0,Hn=null,y_(r)):(wt=0,Hn=null,ro(t,r,m,7));break;case 5:var w=null;switch(et.tag){case 26:w=et.memoizedState;case 5:case 27:var L=et;if(w?nv(w):L.stateNode.complete){wt=0,Hn=null;var Q=L.sibling;if(Q!==null)et=Q;else{var le=L.return;le!==null?(et=le,Sc(le)):et=null}break t}}wt=0,Hn=null,ro(t,r,m,5);break;case 6:wt=0,Hn=null,ro(t,r,m,6);break;case 8:Rd(),Ft=6;break e;default:throw Error(s(462))}}Wx();break}catch(ye){f_(t,ye)}while(!0);return ci=Zs=null,$.H=l,$.A=f,_t=a,et!==null?0:(Rt=null,it=0,qu(),Ft)}function Wx(){for(;et!==null&&!re();)g_(et)}function g_(t){var r=Uy(t.alternate,t,bi);t.memoizedProps=t.pendingProps,r===null?Sc(t):et=r}function y_(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=jy(a,r,r.pendingProps,r.type,void 0,it);break;case 11:r=jy(a,r,r.pendingProps,r.type.render,r.ref,it);break;case 5:Hf(r);default:Fy(a,r),r=et=pg(r,bi),r=Uy(a,r,bi)}t.memoizedProps=t.pendingProps,r===null?Sc(t):et=r}function ro(t,r,a,l){ci=Zs=null,Hf(r),Qa=null,fl=0;var f=r.return;try{if(Px(t,f,r,a,it)){Ft=1,fc(t,rr(a,t.current)),et=null;return}}catch(m){if(f!==null)throw et=f,m;Ft=1,fc(t,rr(a,t.current)),et=null;return}r.flags&32768?(ut||l===1?t=!0:Ja||(it&536870912)!==0?t=!1:(rs=t=!0,(l===2||l===9||l===3||l===6)&&(l=Bn.current,l!==null&&l.tag===13&&(l.flags|=16384))),__(r,t)):Sc(r)}function Sc(t){var r=t;do{if((r.flags&32768)!==0){__(r,rs);return}t=r.return;var a=Bx(r.alternate,r,bi);if(a!==null){et=a;return}if(r=r.sibling,r!==null){et=r;return}et=r=t}while(r!==null);Ft===0&&(Ft=5)}function __(t,r){do{var a=Fx(t.alternate,t);if(a!==null){a.flags&=32767,et=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){et=t;return}et=t=a}while(t!==null);Ft=6,et=null}function v_(t,r,a,l,f,m,w,L,Q){t.cancelPendingCommit=null;do Ac();while(nn!==0);if((_t&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(m=r.lanes|r.childLanes,m|=gf,of(t,a,m,w,L,Q),t===Rt&&(et=Rt=null,it=0),to=r,as=t,wi=a,Td=m,Sd=f,l_=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,eE(qe,function(){return T_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=$.T,$.T=null,f=te.p,te.p=2,w=_t,_t|=4;try{Hx(t,r,a)}finally{_t=w,te.p=f,$.T=l}}nn=1,b_(),w_(),x_()}}function b_(){if(nn===1){nn=0;var t=as,r=to,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=$.T,$.T=null;var l=te.p;te.p=2;var f=_t;_t|=4;try{e_(r,t);var m=Ud,w=ag(t.containerInfo),L=m.focusedElem,Q=m.selectionRange;if(w!==L&&L&&L.ownerDocument&&sg(L.ownerDocument.documentElement,L)){if(Q!==null&&hf(L)){var le=Q.start,ye=Q.end;if(ye===void 0&&(ye=le),"selectionStart"in L)L.selectionStart=le,L.selectionEnd=Math.min(ye,L.value.length);else{var we=L.ownerDocument||document,ue=we&&we.defaultView||window;if(ue.getSelection){var fe=ue.getSelection(),De=L.textContent.length,Be=Math.min(Q.start,De),At=Q.end===void 0?Be:Math.min(Q.end,De);!fe.extend&&Be>At&&(w=At,At=Be,Be=w);var ee=ig(L,Be),W=ig(L,At);if(ee&&W&&(fe.rangeCount!==1||fe.anchorNode!==ee.node||fe.anchorOffset!==ee.offset||fe.focusNode!==W.node||fe.focusOffset!==W.offset)){var oe=we.createRange();oe.setStart(ee.node,ee.offset),fe.removeAllRanges(),Be>At?(fe.addRange(oe),fe.extend(W.node,W.offset)):(oe.setEnd(W.node,W.offset),fe.addRange(oe))}}}}for(we=[],fe=L;fe=fe.parentNode;)fe.nodeType===1&&we.push({element:fe,left:fe.scrollLeft,top:fe.scrollTop});for(typeof L.focus=="function"&&L.focus(),L=0;L<we.length;L++){var ve=we[L];ve.element.scrollLeft=ve.left,ve.element.scrollTop=ve.top}}Pc=!!zd,Ud=zd=null}finally{_t=f,te.p=l,$.T=a}}t.current=r,nn=2}}function w_(){if(nn===2){nn=0;var t=as,r=to,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=$.T,$.T=null;var l=te.p;te.p=2;var f=_t;_t|=4;try{Xy(t,r.alternate,r)}finally{_t=f,te.p=l,$.T=a}}nn=3}}function x_(){if(nn===4||nn===3){nn=0,Te();var t=as,r=to,a=wi,l=l_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?nn=5:(nn=0,to=as=null,E_(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(ss=null),ii(a),r=r.stateNode,nt&&typeof nt.onCommitFiberRoot=="function")try{nt.onCommitFiberRoot(Qe,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=$.T,f=te.p,te.p=2,$.T=null;try{for(var m=t.onRecoverableError,w=0;w<l.length;w++){var L=l[w];m(L.value,{componentStack:L.stack})}}finally{$.T=r,te.p=f}}(wi&3)!==0&&Ac(),Xr(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===Ad?Nl++:(Nl=0,Ad=t):Nl=0,Il(0)}}function E_(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,cl(r)))}function Ac(){return b_(),w_(),x_(),T_()}function T_(){if(nn!==5)return!1;var t=as,r=Td;Td=0;var a=ii(wi),l=$.T,f=te.p;try{te.p=32>a?32:a,$.T=null,a=Sd,Sd=null;var m=as,w=wi;if(nn=0,to=as=null,wi=0,(_t&6)!==0)throw Error(s(331));var L=_t;if(_t|=4,s_(m.current),n_(m,m.current,w,a),_t=L,Il(0,!1),nt&&typeof nt.onPostCommitFiberRoot=="function")try{nt.onPostCommitFiberRoot(Qe,m)}catch{}return!0}finally{te.p=f,$.T=l,E_(t,r)}}function S_(t,r,a){r=rr(a,r),r=id(t.stateNode,r,2),t=Ji(t,r,2),t!==null&&(Ms(t,2),Xr(t))}function xt(t,r,a){if(t.tag===3)S_(t,t,a);else for(;r!==null;){if(r.tag===3){S_(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ss===null||!ss.has(l))){t=rr(a,t),a=Ay(2),l=Ji(r,a,2),l!==null&&(Ry(a,l,r,t),Ms(l,2),Xr(l));break}}r=r.return}}function Nd(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new Qx;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(wd=!0,f.add(a),t=$x.bind(null,t,r,a),r.then(t,t))}function $x(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Rt===t&&(it&a)===a&&(Ft===4||Ft===3&&(it&62914560)===it&&300>Re()-bc?(_t&2)===0&&no(t,0):xd|=a,eo===it&&(eo=0)),Xr(t)}function A_(t,r){r===0&&(r=xu()),t=Xs(t,r),t!==null&&(Ms(t,r),Xr(t))}function Zx(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),A_(t,a)}function Jx(t,r){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),A_(t,a)}function eE(t,r){return ce(t,r)}var Rc=null,io=null,Id=!1,Cc=!1,kd=!1,ls=0;function Xr(t){t!==io&&t.next===null&&(io===null?Rc=io=t:io=io.next=t),Cc=!0,Id||(Id=!0,nE())}function Il(t,r){if(!kd&&Cc){kd=!0;do for(var a=!1,l=Rc;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var m=0;else{var w=l.suspendedLanes,L=l.pingedLanes;m=(1<<31-rt(42|t)+1)-1,m&=f&~(w&~L),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,I_(l,m))}else m=it,m=kr(l,l===Rt?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||dr(l,m)||(a=!0,I_(l,m));l=l.next}while(a);kd=!1}}function tE(){R_()}function R_(){Cc=Id=!1;var t=0;ls!==0&&fE()&&(t=ls);for(var r=Re(),a=null,l=Rc;l!==null;){var f=l.next,m=C_(l,r);m===0?(l.next=null,a===null?Rc=f:a.next=f,f===null&&(io=a)):(a=l,(t!==0||(m&3)!==0)&&(Cc=!0)),l=f}nn!==0&&nn!==5||Il(t),ls!==0&&(ls=0)}function C_(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var w=31-rt(m),L=1<<w,Q=f[w];Q===-1?((L&a)===0||(L&l)!==0)&&(f[w]=af(L,r)):Q<=r&&(t.expiredLanes|=L),m&=~L}if(r=Rt,a=it,a=kr(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(wt===2||wt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&_e(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||dr(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&_e(l),ii(a)){case 2:case 8:a=Je;break;case 32:a=qe;break;case 268435456:a=Ge;break;default:a=qe}return l=N_.bind(null,t),a=ce(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&_e(l),t.callbackPriority=2,t.callbackNode=null,2}function N_(t,r){if(nn!==0&&nn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Ac()&&t.callbackNode!==a)return null;var l=it;return l=kr(t,t===Rt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(c_(t,l,r),C_(t,Re()),t.callbackNode!=null&&t.callbackNode===a?N_.bind(null,t):null)}function I_(t,r){if(Ac())return null;c_(t,r,!0)}function nE(){mE(function(){(_t&6)!==0?ce(je,tE):R_()})}function Dd(){if(ls===0){var t=Ha;t===0&&(t=$n,$n<<=1,($n&261888)===0&&($n=256)),ls=t}return ls}function k_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ca(""+t)}function D_(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function rE(t,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var m=k_((f[on]||null).action),w=l.submitter;w&&(r=(r=w[on]||null)?k_(r.formAction):w.getAttribute("formAction"),r!==null&&(m=r,w=null));var L=new Fr("action","action",null,l,f);t.push({event:L,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ls!==0){var Q=w?D_(f,w):new FormData(f);Zf(a,{pending:!0,data:Q,method:f.method,action:m},null,Q)}}else typeof m=="function"&&(L.preventDefault(),Q=w?D_(f,w):new FormData(f),Zf(a,{pending:!0,data:Q,method:f.method,action:m},m,Q))},currentTarget:f}]})}}for(var Od=0;Od<pf.length;Od++){var jd=pf[Od],iE=jd.toLowerCase(),sE=jd[0].toUpperCase()+jd.slice(1);wr(iE,"on"+sE)}wr(ug,"onAnimationEnd"),wr(cg,"onAnimationIteration"),wr(hg,"onAnimationStart"),wr("dblclick","onDoubleClick"),wr("focusin","onFocus"),wr("focusout","onBlur"),wr(wx,"onTransitionRun"),wr(xx,"onTransitionStart"),wr(Ex,"onTransitionCancel"),wr(fg,"onTransitionEnd"),Pr("onMouseEnter",["mouseout","mouseover"]),Pr("onMouseLeave",["mouseout","mouseover"]),Pr("onPointerEnter",["pointerout","pointerover"]),Pr("onPointerLeave",["pointerout","pointerover"]),Vr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(kl));function O_(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var m=void 0;if(r)for(var w=l.length-1;0<=w;w--){var L=l[w],Q=L.instance,le=L.currentTarget;if(L=L.listener,Q!==m&&f.isPropagationStopped())break e;m=L,f.currentTarget=le;try{m(f)}catch(ye){Hu(ye)}f.currentTarget=null,m=Q}else for(w=0;w<l.length;w++){if(L=l[w],Q=L.instance,le=L.currentTarget,L=L.listener,Q!==m&&f.isPropagationStopped())break e;m=L,f.currentTarget=le;try{m(f)}catch(ye){Hu(ye)}f.currentTarget=null,m=Q}}}}function tt(t,r){var a=r[Ea];a===void 0&&(a=r[Ea]=new Set);var l=t+"__bubble";a.has(l)||(j_(r,t,2,!1),a.add(l))}function Md(t,r,a){var l=0;r&&(l|=4),j_(a,t,l,r)}var Nc="_reactListening"+Math.random().toString(36).slice(2);function Ld(t){if(!t[Nc]){t[Nc]=!0,Ho.forEach(function(a){a!=="selectionchange"&&(aE.has(a)||Md(a,!1,t),Md(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Nc]||(r[Nc]=!0,Md("selectionchange",!1,r))}}function j_(t,r,a,l){switch(uv(r)){case 2:var f=jE;break;case 8:f=ME;break;default:f=$d}a=f.bind(null,r,a,t),f=void 0,!Bs||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(r,a,{capture:!0,passive:f}):t.addEventListener(r,a,!0):f!==void 0?t.addEventListener(r,a,{passive:f}):t.addEventListener(r,a,!1)}function Vd(t,r,a,l,f){var m=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var w=l.tag;if(w===3||w===4){var L=l.stateNode.containerInfo;if(L===f)break;if(w===4)for(w=l.return;w!==null;){var Q=w.tag;if((Q===3||Q===4)&&w.stateNode.containerInfo===f)return;w=w.return}for(;L!==null;){if(w=Mr(L),w===null)return;if(Q=w.tag,Q===5||Q===6||Q===26||Q===27){l=m=w;continue e}L=L.parentNode}}l=l.return}Hi(function(){var le=m,ye=Jn(a),we=[];e:{var ue=dg.get(t);if(ue!==void 0){var fe=Fr,De=t;switch(t){case"keypress":if(Hs(a)===0)break e;case"keydown":case"keyup":fe=Uu;break;case"focusin":De="focus",fe=Gs;break;case"focusout":De="blur",fe=Gs;break;case"beforeblur":case"afterblur":fe=Gs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fe=nl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fe=ku;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fe=_;break;case ug:case cg:case hg:fe=Ou;break;case fg:fe=U;break;case"scroll":case"scrollend":fe=tl;break;case"wheel":fe=he;break;case"copy":case"cut":case"paste":fe=ju;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fe=oi;break;case"toggle":case"beforetoggle":fe=We}var Be=(r&4)!==0,At=!Be&&(t==="scroll"||t==="scrollend"),ee=Be?ue!==null?ue+"Capture":null:ue;Be=[];for(var W=le,oe;W!==null;){var ve=W;if(oe=ve.stateNode,ve=ve.tag,ve!==5&&ve!==26&&ve!==27||oe===null||ee===null||(ve=yr(W,ee),ve!=null&&Be.push(Dl(W,ve,oe))),At)break;W=W.return}0<Be.length&&(ue=new fe(ue,De,null,a,ye),we.push({event:ue,listeners:Be}))}}if((r&7)===0){e:{if(ue=t==="mouseover"||t==="pointerover",fe=t==="mouseout"||t==="pointerout",ue&&a!==Zo&&(De=a.relatedTarget||a.fromElement)&&(Mr(De)||De[Or]))break e;if((fe||ue)&&(ue=ye.window===ye?ye:(ue=ye.ownerDocument)?ue.defaultView||ue.parentWindow:window,fe?(De=a.relatedTarget||a.toElement,fe=le,De=De?Mr(De):null,De!==null&&(At=u(De),Be=De.tag,De!==At||Be!==5&&Be!==27&&Be!==6)&&(De=null)):(fe=null,De=le),fe!==De)){if(Be=nl,ve="onMouseLeave",ee="onMouseEnter",W="mouse",(t==="pointerout"||t==="pointerover")&&(Be=oi,ve="onPointerLeave",ee="onPointerEnter",W="pointer"),At=fe==null?ue:Vn(fe),oe=De==null?ue:Vn(De),ue=new Be(ve,W+"leave",fe,a,ye),ue.target=At,ue.relatedTarget=oe,ve=null,Mr(ye)===le&&(Be=new Be(ee,W+"enter",De,a,ye),Be.target=oe,Be.relatedTarget=At,ve=Be),At=ve,fe&&De)t:{for(Be=oE,ee=fe,W=De,oe=0,ve=ee;ve;ve=Be(ve))oe++;ve=0;for(var ze=W;ze;ze=Be(ze))ve++;for(;0<oe-ve;)ee=Be(ee),oe--;for(;0<ve-oe;)W=Be(W),ve--;for(;oe--;){if(ee===W||W!==null&&ee===W.alternate){Be=ee;break t}ee=Be(ee),W=Be(W)}Be=null}else Be=null;fe!==null&&M_(we,ue,fe,Be,!1),De!==null&&At!==null&&M_(we,At,De,Be,!0)}}e:{if(ue=le?Vn(le):window,fe=ue.nodeName&&ue.nodeName.toLowerCase(),fe==="select"||fe==="input"&&ue.type==="file")var mt=Zp;else if(Wp(ue))if(Jp)mt=_x;else{mt=gx;var Me=px}else fe=ue.nodeName,!fe||fe.toLowerCase()!=="input"||ue.type!=="checkbox"&&ue.type!=="radio"?le&&Ra(le.elementType)&&(mt=Zp):mt=yx;if(mt&&(mt=mt(t,le))){$p(we,mt,a,ye);break e}Me&&Me(t,ue,le),t==="focusout"&&le&&ue.type==="number"&&le.memoizedProps.value!=null&&Xo(ue,"number",ue.value)}switch(Me=le?Vn(le):window,t){case"focusin":(Wp(Me)||Me.contentEditable==="true")&&(Ma=Me,ff=le,ol=null);break;case"focusout":ol=ff=Ma=null;break;case"mousedown":df=!0;break;case"contextmenu":case"mouseup":case"dragend":df=!1,og(we,a,ye);break;case"selectionchange":if(bx)break;case"keydown":case"keyup":og(we,a,ye)}var Ze;if(yt)e:{switch(t){case"compositionstart":var st="onCompositionStart";break e;case"compositionend":st="onCompositionEnd";break e;case"compositionupdate":st="onCompositionUpdate";break e}st=void 0}else ja?Qs(t,a)&&(st="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(st="onCompositionStart");st&&(Gr&&a.locale!=="ko"&&(ja||st!=="onCompositionStart"?st==="onCompositionEnd"&&ja&&(Ze=el()):(Br=ye,Jo="value"in Br?Br.value:Br.textContent,ja=!0)),Me=Ic(le,st),0<Me.length&&(st=new qr(st,t,null,a,ye),we.push({event:st,listeners:Me}),Ze?st.data=Ze:(Ze=Oa(a),Ze!==null&&(st.data=Ze)))),(Ze=tr?hx(t,a):fx(t,a))&&(st=Ic(le,"onBeforeInput"),0<st.length&&(Me=new qr("onBeforeInput","beforeinput",null,a,ye),we.push({event:Me,listeners:st}),Me.data=Ze)),rE(we,t,le,a,ye)}O_(we,r)})}function Dl(t,r,a){return{instance:t,listener:r,currentTarget:a}}function Ic(t,r){for(var a=r+"Capture",l=[];t!==null;){var f=t,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=yr(t,a),f!=null&&l.unshift(Dl(t,f,m)),f=yr(t,r),f!=null&&l.push(Dl(t,f,m))),t.tag===3)return l;t=t.return}return[]}function oE(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function M_(t,r,a,l,f){for(var m=r._reactName,w=[];a!==null&&a!==l;){var L=a,Q=L.alternate,le=L.stateNode;if(L=L.tag,Q!==null&&Q===l)break;L!==5&&L!==26&&L!==27||le===null||(Q=le,f?(le=yr(a,m),le!=null&&w.unshift(Dl(a,le,Q))):f||(le=yr(a,m),le!=null&&w.push(Dl(a,le,Q)))),a=a.return}w.length!==0&&t.push({event:r,listeners:w})}var lE=/\r\n?/g,uE=/\u0000|\uFFFD/g;function L_(t){return(typeof t=="string"?t:""+t).replace(lE,`
`).replace(uE,"")}function V_(t,r){return r=L_(r),L_(t)===r}function St(t,r,a,l,f,m){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||Nn(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&Nn(t,""+l);break;case"className":Pn(t,"class",l);break;case"tabIndex":Pn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Pn(t,a,l);break;case"style":$o(t,l,m);break;case"data":if(r!=="object"){Pn(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ca(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(r!=="input"&&St(t,r,"name",f.name,f,null),St(t,r,"formEncType",f.formEncType,f,null),St(t,r,"formMethod",f.formMethod,f,null),St(t,r,"formTarget",f.formTarget,f,null)):(St(t,r,"encType",f.encType,f,null),St(t,r,"method",f.method,f,null),St(t,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ca(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=gr);break;case"onScroll":l!=null&&tt("scroll",t);break;case"onScrollEnd":l!=null&&tt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ca(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":tt("beforetoggle",t),tt("toggle",t),Sa(t,"popover",l);break;case"xlinkActuate":Xt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Xt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Xt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Xt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Xt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Xt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Xt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Xt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Xt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Sa(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Iu.get(a)||a,Sa(t,a,l))}}function Pd(t,r,a,l,f,m){switch(a){case"style":$o(t,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Nn(t,l):(typeof l=="number"||typeof l=="bigint")&&Nn(t,""+l);break;case"onScroll":l!=null&&tt("scroll",t);break;case"onScrollEnd":l!=null&&tt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=gr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!qo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),m=t[on]||null,m=m!=null?m[a]:null,typeof m=="function"&&t.removeEventListener(r,m,f),typeof l=="function")){typeof m!="function"&&m!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Sa(t,a,l)}}}function _n(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":tt("error",t),tt("load",t);var l=!1,f=!1,m;for(m in a)if(a.hasOwnProperty(m)){var w=a[m];if(w!=null)switch(m){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:St(t,r,m,w,a,null)}}f&&St(t,r,"srcSet",a.srcSet,a,null),l&&St(t,r,"src",a.src,a,null);return;case"input":tt("invalid",t);var L=m=w=f=null,Q=null,le=null;for(l in a)if(a.hasOwnProperty(l)){var ye=a[l];if(ye!=null)switch(l){case"name":f=ye;break;case"type":w=ye;break;case"checked":Q=ye;break;case"defaultChecked":le=ye;break;case"value":m=ye;break;case"defaultValue":L=ye;break;case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(s(137,r));break;default:St(t,r,l,ye,a,null)}}Ru(t,m,L,Q,le,w,f,!1);return;case"select":tt("invalid",t),l=w=m=null;for(f in a)if(a.hasOwnProperty(f)&&(L=a[f],L!=null))switch(f){case"value":m=L;break;case"defaultValue":w=L;break;case"multiple":l=L;default:St(t,r,f,L,a,null)}r=m,a=w,t.multiple=!!l,r!=null?zi(t,!!l,r,!1):a!=null&&zi(t,!!l,a,!0);return;case"textarea":tt("invalid",t),m=f=l=null;for(w in a)if(a.hasOwnProperty(w)&&(L=a[w],L!=null))switch(w){case"value":l=L;break;case"defaultValue":f=L;break;case"children":m=L;break;case"dangerouslySetInnerHTML":if(L!=null)throw Error(s(91));break;default:St(t,r,w,L,a,null)}Ui(t,l,f,m);return;case"option":for(Q in a)if(a.hasOwnProperty(Q)&&(l=a[Q],l!=null))switch(Q){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:St(t,r,Q,l,a,null)}return;case"dialog":tt("beforetoggle",t),tt("toggle",t),tt("cancel",t),tt("close",t);break;case"iframe":case"object":tt("load",t);break;case"video":case"audio":for(l=0;l<kl.length;l++)tt(kl[l],t);break;case"image":tt("error",t),tt("load",t);break;case"details":tt("toggle",t);break;case"embed":case"source":case"link":tt("error",t),tt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(le in a)if(a.hasOwnProperty(le)&&(l=a[le],l!=null))switch(le){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:St(t,r,le,l,a,null)}return;default:if(Ra(r)){for(ye in a)a.hasOwnProperty(ye)&&(l=a[ye],l!==void 0&&Pd(t,r,ye,l,a,void 0));return}}for(L in a)a.hasOwnProperty(L)&&(l=a[L],l!=null&&St(t,r,L,l,a,null))}function cE(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,w=null,L=null,Q=null,le=null,ye=null;for(fe in a){var we=a[fe];if(a.hasOwnProperty(fe)&&we!=null)switch(fe){case"checked":break;case"value":break;case"defaultValue":Q=we;default:l.hasOwnProperty(fe)||St(t,r,fe,null,l,we)}}for(var ue in l){var fe=l[ue];if(we=a[ue],l.hasOwnProperty(ue)&&(fe!=null||we!=null))switch(ue){case"type":m=fe;break;case"name":f=fe;break;case"checked":le=fe;break;case"defaultChecked":ye=fe;break;case"value":w=fe;break;case"defaultValue":L=fe;break;case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(s(137,r));break;default:fe!==we&&St(t,r,ue,fe,l,we)}}Aa(t,w,L,Q,le,ye,m,f);return;case"select":fe=w=L=ue=null;for(m in a)if(Q=a[m],a.hasOwnProperty(m)&&Q!=null)switch(m){case"value":break;case"multiple":fe=Q;default:l.hasOwnProperty(m)||St(t,r,m,null,l,Q)}for(f in l)if(m=l[f],Q=a[f],l.hasOwnProperty(f)&&(m!=null||Q!=null))switch(f){case"value":ue=m;break;case"defaultValue":L=m;break;case"multiple":w=m;default:m!==Q&&St(t,r,f,m,l,Q)}r=L,a=w,l=fe,ue!=null?zi(t,!!a,ue,!1):!!l!=!!a&&(r!=null?zi(t,!!a,r,!0):zi(t,!!a,a?[]:"",!1));return;case"textarea":fe=ue=null;for(L in a)if(f=a[L],a.hasOwnProperty(L)&&f!=null&&!l.hasOwnProperty(L))switch(L){case"value":break;case"children":break;default:St(t,r,L,null,l,f)}for(w in l)if(f=l[w],m=a[w],l.hasOwnProperty(w)&&(f!=null||m!=null))switch(w){case"value":ue=f;break;case"defaultValue":fe=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==m&&St(t,r,w,f,l,m)}Cu(t,ue,fe);return;case"option":for(var De in a)if(ue=a[De],a.hasOwnProperty(De)&&ue!=null&&!l.hasOwnProperty(De))switch(De){case"selected":t.selected=!1;break;default:St(t,r,De,null,l,ue)}for(Q in l)if(ue=l[Q],fe=a[Q],l.hasOwnProperty(Q)&&ue!==fe&&(ue!=null||fe!=null))switch(Q){case"selected":t.selected=ue&&typeof ue!="function"&&typeof ue!="symbol";break;default:St(t,r,Q,ue,l,fe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Be in a)ue=a[Be],a.hasOwnProperty(Be)&&ue!=null&&!l.hasOwnProperty(Be)&&St(t,r,Be,null,l,ue);for(le in l)if(ue=l[le],fe=a[le],l.hasOwnProperty(le)&&ue!==fe&&(ue!=null||fe!=null))switch(le){case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(s(137,r));break;default:St(t,r,le,ue,l,fe)}return;default:if(Ra(r)){for(var At in a)ue=a[At],a.hasOwnProperty(At)&&ue!==void 0&&!l.hasOwnProperty(At)&&Pd(t,r,At,void 0,l,ue);for(ye in l)ue=l[ye],fe=a[ye],!l.hasOwnProperty(ye)||ue===fe||ue===void 0&&fe===void 0||Pd(t,r,ye,ue,l,fe);return}}for(var ee in a)ue=a[ee],a.hasOwnProperty(ee)&&ue!=null&&!l.hasOwnProperty(ee)&&St(t,r,ee,null,l,ue);for(we in l)ue=l[we],fe=a[we],!l.hasOwnProperty(we)||ue===fe||ue==null&&fe==null||St(t,r,we,ue,l,fe)}function P_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function hE(){if(typeof performance.getEntriesByType=="function"){for(var t=0,r=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],m=f.transferSize,w=f.initiatorType,L=f.duration;if(m&&L&&P_(w)){for(w=0,L=f.responseEnd,l+=1;l<a.length;l++){var Q=a[l],le=Q.startTime;if(le>L)break;var ye=Q.transferSize,we=Q.initiatorType;ye&&P_(we)&&(Q=Q.responseEnd,w+=ye*(Q<L?1:(L-le)/(Q-le)))}if(--l,r+=8*(m+w)/(f.duration/1e3),t++,10<t)break}}if(0<t)return r/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var zd=null,Ud=null;function kc(t){return t.nodeType===9?t:t.ownerDocument}function z_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function U_(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function Bd(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Fd=null;function fE(){var t=window.event;return t&&t.type==="popstate"?t===Fd?!1:(Fd=t,!0):(Fd=null,!1)}var B_=typeof setTimeout=="function"?setTimeout:void 0,dE=typeof clearTimeout=="function"?clearTimeout:void 0,F_=typeof Promise=="function"?Promise:void 0,mE=typeof queueMicrotask=="function"?queueMicrotask:typeof F_<"u"?function(t){return F_.resolve(null).then(t).catch(pE)}:B_;function pE(t){setTimeout(function(){throw t})}function us(t){return t==="head"}function H_(t,r){var a=r,l=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(f),lo(r);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Ol(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Ol(a);for(var m=a.firstChild;m;){var w=m.nextSibling,L=m.nodeName;m[jr]||L==="SCRIPT"||L==="STYLE"||L==="LINK"&&m.rel.toLowerCase()==="stylesheet"||a.removeChild(m),m=w}}else a==="body"&&Ol(t.ownerDocument.body);a=f}while(a);lo(r)}function q_(t,r){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Hd(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Hd(a),Ta(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function gE(t,r,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[jr])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=lr(t.nextSibling),t===null)break}return null}function yE(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=lr(t.nextSibling),t===null))return null;return t}function G_(t,r){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=lr(t.nextSibling),t===null))return null;return t}function qd(t){return t.data==="$?"||t.data==="$~"}function Gd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function _E(t,r){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=r;else if(t.data!=="$?"||a.readyState!=="loading")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function lr(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return t}var Qd=null;function Q_(t){t=t.nextSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(r===0)return lr(t.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}t=t.nextSibling}return null}function K_(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return t;r--}else a!=="/$"&&a!=="/&"||r++}t=t.previousSibling}return null}function Y_(t,r,a){switch(r=kc(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Ol(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);Ta(t)}var ur=new Map,X_=new Set;function Dc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var xi=te.d;te.d={f:vE,r:bE,D:wE,C:xE,L:EE,m:TE,X:AE,S:SE,M:RE};function vE(){var t=xi.f(),r=Ec();return t||r}function bE(t){var r=Zn(t);r!==null&&r.tag===5&&r.type==="form"?fy(r):xi.r(t)}var so=typeof document>"u"?null:document;function W_(t,r,a){var l=so;if(l&&typeof r=="string"&&r){var f=Cn(r);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),X_.has(f)||(X_.add(f),t={rel:t,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),_n(r,"link",t),Yt(r),l.head.appendChild(r)))}}function wE(t){xi.D(t),W_("dns-prefetch",t,null)}function xE(t,r){xi.C(t,r),W_("preconnect",t,r)}function EE(t,r,a){xi.L(t,r,a);var l=so;if(l&&t&&r){var f='link[rel="preload"][as="'+Cn(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+Cn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+Cn(a.imageSizes)+'"]')):f+='[href="'+Cn(t)+'"]';var m=f;switch(r){case"style":m=ao(t);break;case"script":m=oo(t)}ur.has(m)||(t=b({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),ur.set(m,t),l.querySelector(f)!==null||r==="style"&&l.querySelector(jl(m))||r==="script"&&l.querySelector(Ml(m))||(r=l.createElement("link"),_n(r,"link",t),Yt(r),l.head.appendChild(r)))}}function TE(t,r){xi.m(t,r);var a=so;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+Cn(l)+'"][href="'+Cn(t)+'"]',m=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=oo(t)}if(!ur.has(m)&&(t=b({rel:"modulepreload",href:t},r),ur.set(m,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ml(m)))return}l=a.createElement("link"),_n(l,"link",t),Yt(l),a.head.appendChild(l)}}}function SE(t,r,a){xi.S(t,r,a);var l=so;if(l&&t){var f=Lr(l).hoistableStyles,m=ao(t);r=r||"default";var w=f.get(m);if(!w){var L={loading:0,preload:null};if(w=l.querySelector(jl(m)))L.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":r},a),(a=ur.get(m))&&Kd(t,a);var Q=w=l.createElement("link");Yt(Q),_n(Q,"link",t),Q._p=new Promise(function(le,ye){Q.onload=le,Q.onerror=ye}),Q.addEventListener("load",function(){L.loading|=1}),Q.addEventListener("error",function(){L.loading|=2}),L.loading|=4,Oc(w,r,l)}w={type:"stylesheet",instance:w,count:1,state:L},f.set(m,w)}}}function AE(t,r){xi.X(t,r);var a=so;if(a&&t){var l=Lr(a).hoistableScripts,f=oo(t),m=l.get(f);m||(m=a.querySelector(Ml(f)),m||(t=b({src:t,async:!0},r),(r=ur.get(f))&&Yd(t,r),m=a.createElement("script"),Yt(m),_n(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function RE(t,r){xi.M(t,r);var a=so;if(a&&t){var l=Lr(a).hoistableScripts,f=oo(t),m=l.get(f);m||(m=a.querySelector(Ml(f)),m||(t=b({src:t,async:!0,type:"module"},r),(r=ur.get(f))&&Yd(t,r),m=a.createElement("script"),Yt(m),_n(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function $_(t,r,a,l){var f=(f=Ie.current)?Dc(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=ao(a.href),a=Lr(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=ao(a.href);var m=Lr(f).hoistableStyles,w=m.get(t);if(w||(f=f.ownerDocument||f,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,w),(m=f.querySelector(jl(t)))&&!m._p&&(w.instance=m,w.state.loading=5),ur.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ur.set(t,a),m||CE(f,t,a,w.state))),r&&l===null)throw Error(s(528,""));return w}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=oo(a),a=Lr(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function ao(t){return'href="'+Cn(t)+'"'}function jl(t){return'link[rel="stylesheet"]['+t+"]"}function Z_(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function CE(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),_n(r,"link",a),Yt(r),t.head.appendChild(r))}function oo(t){return'[src="'+Cn(t)+'"]'}function Ml(t){return"script[async]"+t}function J_(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+Cn(a.href)+'"]');if(l)return r.instance=l,Yt(l),l;var f=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Yt(l),_n(l,"style",f),Oc(l,a.precedence,t),r.instance=l;case"stylesheet":f=ao(a.href);var m=t.querySelector(jl(f));if(m)return r.state.loading|=4,r.instance=m,Yt(m),m;l=Z_(a),(f=ur.get(f))&&Kd(l,f),m=(t.ownerDocument||t).createElement("link"),Yt(m);var w=m;return w._p=new Promise(function(L,Q){w.onload=L,w.onerror=Q}),_n(m,"link",l),r.state.loading|=4,Oc(m,a.precedence,t),r.instance=m;case"script":return m=oo(a.src),(f=t.querySelector(Ml(m)))?(r.instance=f,Yt(f),f):(l=a,(f=ur.get(m))&&(l=b({},a),Yd(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),Yt(f),_n(f,"link",l),t.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Oc(l,a.precedence,t));return r.instance}function Oc(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,m=f,w=0;w<l.length;w++){var L=l[w];if(L.dataset.precedence===r)m=L;else if(m!==f)break}m?m.parentNode.insertBefore(t,m.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function Kd(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function Yd(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var jc=null;function ev(t,r,a){if(jc===null){var l=new Map,f=jc=new Map;f.set(a,l)}else f=jc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var m=a[f];if(!(m[jr]||m[Kt]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var w=m.getAttribute(r)||"";w=t+w;var L=l.get(w);L?L.push(m):l.set(w,[m])}}return l}function tv(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function NE(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function nv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function IE(t,r,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=ao(l.href),m=r.querySelector(jl(f));if(m){r=m._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(t.count++,t=Mc.bind(t),r.then(t,t)),a.state.loading|=4,a.instance=m,Yt(m);return}m=r.ownerDocument||r,l=Z_(l),(f=ur.get(f))&&Kd(l,f),m=m.createElement("link"),Yt(m);var w=m;w._p=new Promise(function(L,Q){w.onload=L,w.onerror=Q}),_n(m,"link",l),a.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Mc.bind(t),r.addEventListener("load",a),r.addEventListener("error",a))}}var Xd=0;function kE(t,r){return t.stylesheets&&t.count===0&&Vc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Vc(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+r);0<t.imgBytes&&Xd===0&&(Xd=62500*hE());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Vc(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>Xd?50:800)+r);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function Mc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Vc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Lc=null;function Vc(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Lc=new Map,r.forEach(DE,t),Lc=null,Mc.call(t))}function DE(t,r){if(!(r.state.loading&4)){var a=Lc.get(t);if(a)var l=a.get(null);else{a=new Map,Lc.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var w=f[m];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(a.set(w.dataset.precedence,w),l=w)}l&&a.set(null,l)}f=r.instance,w=f.getAttribute("data-precedence"),m=a.get(w)||l,m===l&&a.set(null,f),a.set(w,f),this.count++,l=Mc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),m?m.parentNode.insertBefore(f,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),r.state.loading|=4}}var Ll={$$typeof:z,Provider:null,Consumer:null,_currentValue:Se,_currentValue2:Se,_threadCount:0};function OE(t,r,a,l,f,m,w,L,Q){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Dr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dr(0),this.hiddenUpdates=Dr(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Q,this.incompleteTransitions=new Map}function rv(t,r,a,l,f,m,w,L,Q,le,ye,we){return t=new OE(t,r,a,w,Q,le,ye,we,L),r=1,m===!0&&(r|=24),m=Un(3,null,null,r),t.current=m,m.stateNode=t,r=Cf(),r.refCount++,t.pooledCache=r,r.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:r},Df(m),t}function iv(t){return t?(t=Pa,t):Pa}function sv(t,r,a,l,f,m){f=iv(f),l.context===null?l.context=f:l.pendingContext=f,l=Zi(r),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=Ji(t,l,r),a!==null&&(jn(a,t,r),ml(a,t,r))}function av(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function Wd(t,r){av(t,r),(t=t.alternate)&&av(t,r)}function ov(t){if(t.tag===13||t.tag===31){var r=Xs(t,67108864);r!==null&&jn(r,t,67108864),Wd(t,67108864)}}function lv(t){if(t.tag===13||t.tag===31){var r=Gn();r=Vs(r);var a=Xs(t,r);a!==null&&jn(a,t,r),Wd(t,r)}}var Pc=!0;function jE(t,r,a,l){var f=$.T;$.T=null;var m=te.p;try{te.p=2,$d(t,r,a,l)}finally{te.p=m,$.T=f}}function ME(t,r,a,l){var f=$.T;$.T=null;var m=te.p;try{te.p=8,$d(t,r,a,l)}finally{te.p=m,$.T=f}}function $d(t,r,a,l){if(Pc){var f=Zd(l);if(f===null)Vd(t,r,l,zc,a),cv(t,l);else if(VE(f,t,r,a,l))l.stopPropagation();else if(cv(t,l),r&4&&-1<LE.indexOf(t)){for(;f!==null;){var m=Zn(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var w=Sn(m.pendingLanes);if(w!==0){var L=m;for(L.pendingLanes|=2,L.entangledLanes|=2;w;){var Q=1<<31-rt(w);L.entanglements[1]|=Q,w&=~Q}Xr(m),(_t&6)===0&&(wc=Re()+500,Il(0))}}break;case 31:case 13:L=Xs(m,2),L!==null&&jn(L,m,2),Ec(),Wd(m,2)}if(m=Zd(l),m===null&&Vd(t,r,l,zc,a),m===f)break;f=m}f!==null&&l.stopPropagation()}else Vd(t,r,l,null,a)}}function Zd(t){return t=Jn(t),Jd(t)}var zc=null;function Jd(t){if(zc=null,t=Mr(t),t!==null){var r=u(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=c(r),t!==null)return t;t=null}else if(a===31){if(t=d(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return zc=t,null}function uv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ae()){case je:return 2;case Je:return 8;case qe:case be:return 32;case Ge:return 268435456;default:return 32}default:return 32}}var em=!1,cs=null,hs=null,fs=null,Vl=new Map,Pl=new Map,ds=[],LE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function cv(t,r){switch(t){case"focusin":case"focusout":cs=null;break;case"dragenter":case"dragleave":hs=null;break;case"mouseover":case"mouseout":fs=null;break;case"pointerover":case"pointerout":Vl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pl.delete(r.pointerId)}}function zl(t,r,a,l,f,m){return t===null||t.nativeEvent!==m?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[f]},r!==null&&(r=Zn(r),r!==null&&ov(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),t)}function VE(t,r,a,l,f){switch(r){case"focusin":return cs=zl(cs,t,r,a,l,f),!0;case"dragenter":return hs=zl(hs,t,r,a,l,f),!0;case"mouseover":return fs=zl(fs,t,r,a,l,f),!0;case"pointerover":var m=f.pointerId;return Vl.set(m,zl(Vl.get(m)||null,t,r,a,l,f)),!0;case"gotpointercapture":return m=f.pointerId,Pl.set(m,zl(Pl.get(m)||null,t,r,a,l,f)),!0}return!1}function hv(t){var r=Mr(t.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=c(a),r!==null){t.blockedOn=r,mr(t.priority,function(){lv(a)});return}}else if(r===31){if(r=d(a),r!==null){t.blockedOn=r,mr(t.priority,function(){lv(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Uc(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=Zd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Zo=l,a.target.dispatchEvent(l),Zo=null}else return r=Zn(a),r!==null&&ov(r),t.blockedOn=a,!1;r.shift()}return!0}function fv(t,r,a){Uc(t)&&a.delete(r)}function PE(){em=!1,cs!==null&&Uc(cs)&&(cs=null),hs!==null&&Uc(hs)&&(hs=null),fs!==null&&Uc(fs)&&(fs=null),Vl.forEach(fv),Pl.forEach(fv)}function Bc(t,r){t.blockedOn===r&&(t.blockedOn=null,em||(em=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,PE)))}var Fc=null;function dv(t){Fc!==t&&(Fc=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Fc===t&&(Fc=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],f=t[r+2];if(typeof l!="function"){if(Jd(l||a)===null)continue;break}var m=Zn(a);m!==null&&(t.splice(r,3),r-=3,Zf(m,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function lo(t){function r(Q){return Bc(Q,t)}cs!==null&&Bc(cs,t),hs!==null&&Bc(hs,t),fs!==null&&Bc(fs,t),Vl.forEach(r),Pl.forEach(r);for(var a=0;a<ds.length;a++){var l=ds[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ds.length&&(a=ds[0],a.blockedOn===null);)hv(a),a.blockedOn===null&&ds.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],m=a[l+1],w=f[on]||null;if(typeof m=="function")w||dv(a);else if(w){var L=null;if(m&&m.hasAttribute("formAction")){if(f=m,w=m[on]||null)L=w.formAction;else if(Jd(f)!==null)continue}else L=w.action;typeof L=="function"?a[l+1]=L:(a.splice(l,3),l-=3),dv(a)}}}function mv(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(w){return f=w})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function tm(t){this._internalRoot=t}Hc.prototype.render=tm.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=Gn();sv(a,l,t,r,null,null)},Hc.prototype.unmount=tm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;sv(t.current,2,null,t,null,null),Ec(),r[Or]=null}};function Hc(t){this._internalRoot=t}Hc.prototype.unstable_scheduleHydration=function(t){if(t){var r=Eu();t={blockedOn:null,target:t,priority:r};for(var a=0;a<ds.length&&r!==0&&r<ds[a].priority;a++);ds.splice(a,0,t),a===0&&hv(t)}};var pv=e.version;if(pv!=="19.2.3")throw Error(s(527,pv,"19.2.3"));te.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(r),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var zE={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qc.isDisabled&&qc.supportsFiber)try{Qe=qc.inject(zE),nt=qc}catch{}}return Bl.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",f=xy,m=Ey,w=Ty;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(m=r.onCaughtError),r.onRecoverableError!==void 0&&(w=r.onRecoverableError)),r=rv(t,1,!1,null,null,a,l,null,f,m,w,mv),t[Or]=r.current,Ld(t),new tm(r)},Bl.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,f="",m=xy,w=Ey,L=Ty,Q=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(w=a.onCaughtError),a.onRecoverableError!==void 0&&(L=a.onRecoverableError),a.formState!==void 0&&(Q=a.formState)),r=rv(t,1,!0,r,a??null,l,f,Q,m,w,L,mv),r.context=iv(null),a=r.current,l=Gn(),l=Vs(l),f=Zi(l),f.callback=null,Ji(a,f,l),a=l,r.current.lanes=a,Ms(r,a),Xr(r),t[Or]=r.current,Ld(t),new Hc(r)},Bl.version="19.2.3",Bl}var Sv;function WE(){if(Sv)return im.exports;Sv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),im.exports=XE(),im.exports}var $E=WE();const ZE=ep($E);/**
 * react-router v7.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Av="popstate";function JE(i={}){function e(o,u){let{pathname:c="/",search:d="",hash:p=""}=ya(o.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Tm("",{pathname:c,search:d,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let c=o.document.querySelector("base"),d="";if(c&&c.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");d=g===-1?p:p.slice(0,g)}return d+"#"+(typeof u=="string"?u:tu(u))}function s(o,u){Yn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return t2(e,n,s,i)}function Lt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Yn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function e2(){return Math.random().toString(36).substring(2,10)}function Rv(i,e){return{usr:i.state,key:i.key,idx:e}}function Tm(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?ya(e):e,state:n,key:e&&e.key||s||e2()}}function tu({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function ya(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function t2(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,c=o.history,d="POP",p=null,g=v();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function v(){return(c.state||{idx:null}).idx}function b(){d="POP";let C=v(),I=C==null?null:C-g;g=C,p&&p({action:d,location:A.location,delta:I})}function E(C,I){d="PUSH";let P=Tm(A.location,C,I);n&&n(P,C),g=v()+1;let z=Rv(P,g),K=A.createHref(P);try{c.pushState(z,"",K)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;o.location.assign(K)}u&&p&&p({action:d,location:A.location,delta:1})}function x(C,I){d="REPLACE";let P=Tm(A.location,C,I);n&&n(P,C),g=v();let z=Rv(P,g),K=A.createHref(P);c.replaceState(z,"",K),u&&p&&p({action:d,location:A.location,delta:0})}function k(C){return n2(C)}let A={get action(){return d},get location(){return i(o,c)},listen(C){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Av,b),p=C,()=>{o.removeEventListener(Av,b),p=null}},createHref(C){return e(o,C)},createURL:k,encodeLocation(C){let I=k(C);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:E,replace:x,go(C){return c.go(C)}};return A}function n2(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Lt(n,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:tu(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function ab(i,e,n="/"){return r2(i,e,n,!1)}function r2(i,e,n,s){let o=typeof e=="string"?ya(e):e,u=ki(o.pathname||"/",n);if(u==null)return null;let c=ob(i);i2(c);let d=null;for(let p=0;d==null&&p<c.length;++p){let g=p2(u);d=d2(c[p],g,s)}return d}function ob(i,e=[],n=[],s="",o=!1){let u=(c,d,p=o,g)=>{let v={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(s)&&p)return;Lt(v.relativePath.startsWith(s),`Absolute route path "${v.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(s.length)}let b=Ci([s,v.relativePath]),E=n.concat(v);c.children&&c.children.length>0&&(Lt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),ob(c.children,e,E,b,p)),!(c.path==null&&!c.index)&&e.push({path:b,score:h2(b,c.index),routesMeta:E})};return i.forEach((c,d)=>{var p;if(c.path===""||!((p=c.path)!=null&&p.includes("?")))u(c,d);else for(let g of lb(c.path))u(c,d,!0,g)}),e}function lb(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let c=lb(s.join("/")),d=[];return d.push(...c.map(p=>p===""?u:[u,p].join("/"))),o&&d.push(...c),d.map(p=>i.startsWith("/")&&p===""?"/":p)}function i2(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:f2(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var s2=/^:[\w-]+$/,a2=3,o2=2,l2=1,u2=10,c2=-2,Cv=i=>i==="*";function h2(i,e){let n=i.split("/"),s=n.length;return n.some(Cv)&&(s+=c2),e&&(s+=o2),n.filter(o=>!Cv(o)).reduce((o,u)=>o+(s2.test(u)?a2:u===""?l2:u2),s)}function f2(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function d2(i,e,n=!1){let{routesMeta:s}=i,o={},u="/",c=[];for(let d=0;d<s.length;++d){let p=s[d],g=d===s.length-1,v=u==="/"?e:e.slice(u.length)||"/",b=fh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},v),E=p.route;if(!b&&g&&n&&!s[s.length-1].route.index&&(b=fh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!b)return null;Object.assign(o,b.params),c.push({params:o,pathname:Ci([u,b.pathname]),pathnameBase:v2(Ci([u,b.pathnameBase])),route:E}),b.pathnameBase!=="/"&&(u=Ci([u,b.pathnameBase]))}return c}function fh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=m2(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],c=u.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:s.reduce((g,{paramName:v,isOptional:b},E)=>{if(v==="*"){let k=d[E]||"";c=u.slice(0,u.length-k.length).replace(/(.)\/+$/,"$1")}const x=d[E];return b&&!x?g[v]=void 0:g[v]=(x||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:c,pattern:i}}function m2(i,e=!1,n=!0){Yn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,p)=>(s.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function p2(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Yn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function ki(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}var ub=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,g2=i=>ub.test(i);function y2(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?ya(i):i,u;if(n)if(g2(n))u=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),Yn(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${n}`)}n.startsWith("/")?u=Nv(n.substring(1),"/"):u=Nv(n,e)}else u=e;return{pathname:u,search:b2(s),hash:w2(o)}}function Nv(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function lm(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function _2(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function np(i){let e=_2(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function rp(i,e,n,s=!1){let o;typeof i=="string"?o=ya(i):(o={...i},Lt(!o.pathname||!o.pathname.includes("?"),lm("?","pathname","search",o)),Lt(!o.pathname||!o.pathname.includes("#"),lm("#","pathname","hash",o)),Lt(!o.search||!o.search.includes("#"),lm("#","search","hash",o)));let u=i===""||o.pathname==="",c=u?"/":o.pathname,d;if(c==null)d=n;else{let b=e.length-1;if(!s&&c.startsWith("..")){let E=c.split("/");for(;E[0]==="..";)E.shift(),b-=1;o.pathname=E.join("/")}d=b>=0?e[b]:"/"}let p=y2(o,d),g=c&&c!=="/"&&c.endsWith("/"),v=(u||c===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}var Ci=i=>i.join("/").replace(/\/\/+/g,"/"),v2=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),b2=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,w2=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,x2=class{constructor(i,e,n,s=!1){this.status=i,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function E2(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}function T2(i){return i.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var cb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function hb(i,e){let n=i;if(typeof n!="string"||!ub.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(cb)try{let u=new URL(window.location.href),c=n.startsWith("//")?new URL(u.protocol+n):new URL(n),d=ki(c.pathname,e);c.origin===u.origin&&d!=null?n=d+c.search+c.hash:o=!0}catch{Yn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var fb=["POST","PUT","PATCH","DELETE"];new Set(fb);var S2=["GET",...fb];new Set(S2);var Oo=Z.createContext(null);Oo.displayName="DataRouter";var Mh=Z.createContext(null);Mh.displayName="DataRouterState";var A2=Z.createContext(!1),db=Z.createContext({isTransitioning:!1});db.displayName="ViewTransition";var R2=Z.createContext(new Map);R2.displayName="Fetchers";var C2=Z.createContext(null);C2.displayName="Await";var Wn=Z.createContext(null);Wn.displayName="Navigation";var lu=Z.createContext(null);lu.displayName="Location";var ri=Z.createContext({outlet:null,matches:[],isDataRoute:!1});ri.displayName="Route";var ip=Z.createContext(null);ip.displayName="RouteError";var mb="REACT_ROUTER_ERROR",N2="REDIRECT",I2="ROUTE_ERROR_RESPONSE";function k2(i){if(i.startsWith(`${mb}:${N2}:{`))try{let e=JSON.parse(i.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function D2(i){if(i.startsWith(`${mb}:${I2}:{`))try{let e=JSON.parse(i.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new x2(e.status,e.statusText,e.data)}catch{}}function O2(i,{relative:e}={}){Lt(jo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=Z.useContext(Wn),{hash:o,pathname:u,search:c}=cu(i,{relative:e}),d=u;return n!=="/"&&(d=u==="/"?n:Ci([n,u])),s.createHref({pathname:d,search:c,hash:o})}function jo(){return Z.useContext(lu)!=null}function Ds(){return Lt(jo(),"useLocation() may be used only in the context of a <Router> component."),Z.useContext(lu).location}var pb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function gb(i){Z.useContext(Wn).static||Z.useLayoutEffect(i)}function uu(){let{isDataRoute:i}=Z.useContext(ri);return i?Q2():j2()}function j2(){Lt(jo(),"useNavigate() may be used only in the context of a <Router> component.");let i=Z.useContext(Oo),{basename:e,navigator:n}=Z.useContext(Wn),{matches:s}=Z.useContext(ri),{pathname:o}=Ds(),u=JSON.stringify(np(s)),c=Z.useRef(!1);return gb(()=>{c.current=!0}),Z.useCallback((p,g={})=>{if(Yn(c.current,pb),!c.current)return;if(typeof p=="number"){n.go(p);return}let v=rp(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Ci([e,v.pathname])),(g.replace?n.replace:n.push)(v,g.state,g)},[e,n,u,o,i])}Z.createContext(null);function cu(i,{relative:e}={}){let{matches:n}=Z.useContext(ri),{pathname:s}=Ds(),o=JSON.stringify(np(n));return Z.useMemo(()=>rp(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function M2(i,e){return yb(i,e)}function yb(i,e,n,s,o){var P;Lt(jo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=Z.useContext(Wn),{matches:c}=Z.useContext(ri),d=c[c.length-1],p=d?d.params:{},g=d?d.pathname:"/",v=d?d.pathnameBase:"/",b=d&&d.route;{let z=b&&b.path||"";vb(g,!b||z.endsWith("*")||z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${z}"> to <Route path="${z==="/"?"*":`${z}/*`}">.`)}let E=Ds(),x;if(e){let z=typeof e=="string"?ya(e):e;Lt(v==="/"||((P=z.pathname)==null?void 0:P.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${z.pathname}" was given in the \`location\` prop.`),x=z}else x=E;let k=x.pathname||"/",A=k;if(v!=="/"){let z=v.replace(/^\//,"").split("/");A="/"+k.replace(/^\//,"").split("/").slice(z.length).join("/")}let C=ab(i,{pathname:A});Yn(b||C!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Yn(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let I=U2(C&&C.map(z=>Object.assign({},z,{params:Object.assign({},p,z.params),pathname:Ci([v,u.encodeLocation?u.encodeLocation(z.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:z.pathname]),pathnameBase:z.pathnameBase==="/"?v:Ci([v,u.encodeLocation?u.encodeLocation(z.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:z.pathnameBase])})),c,n,s,o);return e&&I?Z.createElement(lu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},I):I}function L2(){let i=G2(),e=E2(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",i),c=Z.createElement(Z.Fragment,null,Z.createElement("p",null," Hey developer "),Z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Z.createElement("code",{style:u},"ErrorBoundary")," or"," ",Z.createElement("code",{style:u},"errorElement")," prop on your route.")),Z.createElement(Z.Fragment,null,Z.createElement("h2",null,"Unexpected Application Error!"),Z.createElement("h3",{style:{fontStyle:"italic"}},e),n?Z.createElement("pre",{style:o},n):null,c)}var V2=Z.createElement(L2,null),_b=class extends Z.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.onError?this.props.onError(i,e):console.error("React Router caught the following error during render",i)}render(){let i=this.state.error;if(this.context&&typeof i=="object"&&i&&"digest"in i&&typeof i.digest=="string"){const n=D2(i.digest);n&&(i=n)}let e=i!==void 0?Z.createElement(ri.Provider,{value:this.props.routeContext},Z.createElement(ip.Provider,{value:i,children:this.props.component})):this.props.children;return this.context?Z.createElement(P2,{error:i},e):e}};_b.contextType=A2;var um=new WeakMap;function P2({children:i,error:e}){let{basename:n}=Z.useContext(Wn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=k2(e.digest);if(s){let o=um.get(e);if(o)throw o;let u=hb(s.location,n);if(cb&&!um.get(e))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw um.set(e,c),c}return Z.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return i}function z2({routeContext:i,match:e,children:n}){let s=Z.useContext(Oo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),Z.createElement(ri.Provider,{value:i},n)}function U2(i,e=[],n=null,s=null,o=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let u=i,c=n==null?void 0:n.errors;if(c!=null){let v=u.findIndex(b=>b.route.id&&(c==null?void 0:c[b.route.id])!==void 0);Lt(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),u=u.slice(0,Math.min(u.length,v+1))}let d=!1,p=-1;if(n)for(let v=0;v<u.length;v++){let b=u[v];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(p=v),b.route.id){let{loaderData:E,errors:x}=n,k=b.route.loader&&!E.hasOwnProperty(b.route.id)&&(!x||x[b.route.id]===void 0);if(b.route.lazy||k){d=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let g=n&&s?(v,b)=>{var E,x;s(v,{location:n.location,params:((x=(E=n.matches)==null?void 0:E[0])==null?void 0:x.params)??{},unstable_pattern:T2(n.matches),errorInfo:b})}:void 0;return u.reduceRight((v,b,E)=>{let x,k=!1,A=null,C=null;n&&(x=c&&b.route.id?c[b.route.id]:void 0,A=b.route.errorElement||V2,d&&(p<0&&E===0?(vb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,C=null):p===E&&(k=!0,C=b.route.hydrateFallbackElement||null)));let I=e.concat(u.slice(0,E+1)),P=()=>{let z;return x?z=A:k?z=C:b.route.Component?z=Z.createElement(b.route.Component,null):b.route.element?z=b.route.element:z=v,Z.createElement(z2,{match:b,routeContext:{outlet:v,matches:I,isDataRoute:n!=null},children:z})};return n&&(b.route.ErrorBoundary||b.route.errorElement||E===0)?Z.createElement(_b,{location:n.location,revalidation:n.revalidation,component:A,error:x,children:P(),routeContext:{outlet:null,matches:I,isDataRoute:!0},onError:g}):P()},null)}function sp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function B2(i){let e=Z.useContext(Oo);return Lt(e,sp(i)),e}function F2(i){let e=Z.useContext(Mh);return Lt(e,sp(i)),e}function H2(i){let e=Z.useContext(ri);return Lt(e,sp(i)),e}function ap(i){let e=H2(i),n=e.matches[e.matches.length-1];return Lt(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function q2(){return ap("useRouteId")}function G2(){var s;let i=Z.useContext(ip),e=F2("useRouteError"),n=ap("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[n]}function Q2(){let{router:i}=B2("useNavigate"),e=ap("useNavigate"),n=Z.useRef(!1);return gb(()=>{n.current=!0}),Z.useCallback(async(o,u={})=>{Yn(n.current,pb),n.current&&(typeof o=="number"?await i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var Iv={};function vb(i,e,n){!e&&!Iv[i]&&(Iv[i]=!0,Yn(!1,n))}Z.memo(K2);function K2({routes:i,future:e,state:n,onError:s}){return yb(i,void 0,n,s,e)}function Gc({to:i,replace:e,state:n,relative:s}){Lt(jo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=Z.useContext(Wn);Yn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=Z.useContext(ri),{pathname:c}=Ds(),d=uu(),p=rp(i,np(u),c,s==="path"),g=JSON.stringify(p);return Z.useEffect(()=>{d(JSON.parse(g),{replace:e,state:n,relative:s})},[d,g,s,e,n]),null}function uo(i){Lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Y2({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:c}){Lt(!jo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=i.replace(/^\/*/,"/"),p=Z.useMemo(()=>({basename:d,navigator:o,static:u,unstable_useTransitions:c,future:{}}),[d,o,u,c]);typeof n=="string"&&(n=ya(n));let{pathname:g="/",search:v="",hash:b="",state:E=null,key:x="default"}=n,k=Z.useMemo(()=>{let A=ki(g,d);return A==null?null:{location:{pathname:A,search:v,hash:b,state:E,key:x},navigationType:s}},[d,g,v,b,E,x,s]);return Yn(k!=null,`<Router basename="${d}"> is not able to match the URL "${g}${v}${b}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:Z.createElement(Wn.Provider,{value:p},Z.createElement(lu.Provider,{children:e,value:k}))}function X2({children:i,location:e}){return M2(Sm(i),e)}function Sm(i,e=[]){let n=[];return Z.Children.forEach(i,(s,o)=>{if(!Z.isValidElement(s))return;let u=[...e,o];if(s.type===Z.Fragment){n.push.apply(n,Sm(s.props.children,u));return}Lt(s.type===uo,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Lt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=Sm(s.props.children,u)),n.push(c)}),n}var eh="get",th="application/x-www-form-urlencoded";function Lh(i){return typeof HTMLElement<"u"&&i instanceof HTMLElement}function W2(i){return Lh(i)&&i.tagName.toLowerCase()==="button"}function $2(i){return Lh(i)&&i.tagName.toLowerCase()==="form"}function Z2(i){return Lh(i)&&i.tagName.toLowerCase()==="input"}function J2(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function eT(i,e){return i.button===0&&(!e||e==="_self")&&!J2(i)}var Qc=null;function tT(){if(Qc===null)try{new FormData(document.createElement("form"),0),Qc=!1}catch{Qc=!0}return Qc}var nT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function cm(i){return i!=null&&!nT.has(i)?(Yn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${th}"`),null):i}function rT(i,e){let n,s,o,u,c;if($2(i)){let d=i.getAttribute("action");s=d?ki(d,e):null,n=i.getAttribute("method")||eh,o=cm(i.getAttribute("enctype"))||th,u=new FormData(i)}else if(W2(i)||Z2(i)&&(i.type==="submit"||i.type==="image")){let d=i.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||d.getAttribute("action");if(s=p?ki(p,e):null,n=i.getAttribute("formmethod")||d.getAttribute("method")||eh,o=cm(i.getAttribute("formenctype"))||cm(d.getAttribute("enctype"))||th,u=new FormData(d,i),!tT()){let{name:g,type:v,value:b}=i;if(v==="image"){let E=g?`${g}.`:"";u.append(`${E}x`,"0"),u.append(`${E}y`,"0")}else g&&u.append(g,b)}}else{if(Lh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=eh,s=null,o=th,c=i}return u&&o==="text/plain"&&(c=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function op(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function iT(i,e,n){let s=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&ki(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function sT(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function aT(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function oT(i,e,n){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let c=await sT(u,n);return c.links?c.links():[]}return[]}));return hT(s.flat(1).filter(aT).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function kv(i,e,n,s,o,u){let c=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,d=(p,g)=>{var v;return n[g].pathname!==p.pathname||((v=n[g].route.path)==null?void 0:v.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>c(p,g)||d(p,g)):u==="data"?e.filter((p,g)=>{var b;let v=s.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(c(p,g)||d(p,g))return!0;if(p.route.shouldRevalidate){let E=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((b=n[0])==null?void 0:b.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function lT(i,e,{includeHydrateFallback:n}={}){return uT(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function uT(i){return[...new Set(i)]}function cT(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function hT(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(cT(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function bb(){let i=Z.useContext(Oo);return op(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function fT(){let i=Z.useContext(Mh);return op(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var lp=Z.createContext(void 0);lp.displayName="FrameworkContext";function wb(){let i=Z.useContext(lp);return op(i,"You must render this element inside a <HydratedRouter> element"),i}function dT(i,e){let n=Z.useContext(lp),[s,o]=Z.useState(!1),[u,c]=Z.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:g,onMouseLeave:v,onTouchStart:b}=e,E=Z.useRef(null);Z.useEffect(()=>{if(i==="render"&&c(!0),i==="viewport"){let A=I=>{I.forEach(P=>{c(P.isIntersecting)})},C=new IntersectionObserver(A,{threshold:.5});return E.current&&C.observe(E.current),()=>{C.disconnect()}}},[i]),Z.useEffect(()=>{if(s){let A=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(A)}}},[s]);let x=()=>{o(!0)},k=()=>{o(!1),c(!1)};return n?i!=="intent"?[u,E,{}]:[u,E,{onFocus:Fl(d,x),onBlur:Fl(p,k),onMouseEnter:Fl(g,x),onMouseLeave:Fl(v,k),onTouchStart:Fl(b,x)}]:[!1,E,{}]}function Fl(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function mT({page:i,...e}){let{router:n}=bb(),s=Z.useMemo(()=>ab(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?Z.createElement(gT,{page:i,matches:s,...e}):null}function pT(i){let{manifest:e,routeModules:n}=wb(),[s,o]=Z.useState([]);return Z.useEffect(()=>{let u=!1;return oT(i,e,n).then(c=>{u||o(c)}),()=>{u=!0}},[i,e,n]),s}function gT({page:i,matches:e,...n}){let s=Ds(),{manifest:o,routeModules:u}=wb(),{basename:c}=bb(),{loaderData:d,matches:p}=fT(),g=Z.useMemo(()=>kv(i,e,p,o,s,"data"),[i,e,p,o,s]),v=Z.useMemo(()=>kv(i,e,p,o,s,"assets"),[i,e,p,o,s]),b=Z.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let k=new Set,A=!1;if(e.forEach(I=>{var z;let P=o.routes[I.route.id];!P||!P.hasLoader||(!g.some(K=>K.route.id===I.route.id)&&I.route.id in d&&((z=u[I.route.id])!=null&&z.shouldRevalidate)||P.hasClientLoader?A=!0:k.add(I.route.id))}),k.size===0)return[];let C=iT(i,c,"data");return A&&k.size>0&&C.searchParams.set("_routes",e.filter(I=>k.has(I.route.id)).map(I=>I.route.id).join(",")),[C.pathname+C.search]},[c,d,s,o,g,e,i,u]),E=Z.useMemo(()=>lT(v,o),[v,o]),x=pT(v);return Z.createElement(Z.Fragment,null,b.map(k=>Z.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...n})),E.map(k=>Z.createElement("link",{key:k,rel:"modulepreload",href:k,...n})),x.map(({key:k,link:A})=>Z.createElement("link",{key:k,nonce:n.nonce,...A})))}function yT(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var _T=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{_T&&(window.__reactRouterVersion="7.11.0")}catch{}function vT({basename:i,children:e,unstable_useTransitions:n,window:s}){let o=Z.useRef();o.current==null&&(o.current=JE({window:s,v5Compat:!0}));let u=o.current,[c,d]=Z.useState({action:u.action,location:u.location}),p=Z.useCallback(g=>{n===!1?d(g):Z.startTransition(()=>d(g))},[n]);return Z.useLayoutEffect(()=>u.listen(p),[u,p]),Z.createElement(Y2,{basename:i,children:e,location:c.location,navigationType:c.action,navigator:u,unstable_useTransitions:n})}var xb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_s=Z.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:c,state:d,target:p,to:g,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:E,...x},k){let{basename:A,unstable_useTransitions:C}=Z.useContext(Wn),I=typeof g=="string"&&xb.test(g),P=hb(g,A);g=P.to;let z=O2(g,{relative:o}),[K,X,ae]=dT(s,x),j=ET(g,{replace:c,state:d,target:p,preventScrollReset:v,relative:o,viewTransition:b,unstable_defaultShouldRevalidate:E,unstable_useTransitions:C});function M(H){e&&e(H),H.defaultPrevented||j(H)}let O=Z.createElement("a",{...x,...ae,href:P.absoluteURL||z,onClick:P.isExternal||u?e:M,ref:yT(k,X),target:p,"data-discover":!I&&n==="render"?"true":void 0});return K&&!I?Z.createElement(Z.Fragment,null,O,Z.createElement(mT,{page:z})):O});_s.displayName="Link";var bT=Z.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:c,viewTransition:d,children:p,...g},v){let b=cu(c,{relative:g.relative}),E=Ds(),x=Z.useContext(Mh),{navigator:k,basename:A}=Z.useContext(Wn),C=x!=null&&CT(b)&&d===!0,I=k.encodeLocation?k.encodeLocation(b).pathname:b.pathname,P=E.pathname,z=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(P=P.toLowerCase(),z=z?z.toLowerCase():null,I=I.toLowerCase()),z&&A&&(z=ki(z,A)||z);const K=I!=="/"&&I.endsWith("/")?I.length-1:I.length;let X=P===I||!o&&P.startsWith(I)&&P.charAt(K)==="/",ae=z!=null&&(z===I||!o&&z.startsWith(I)&&z.charAt(I.length)==="/"),j={isActive:X,isPending:ae,isTransitioning:C},M=X?e:void 0,O;typeof s=="function"?O=s(j):O=[s,X?"active":null,ae?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let H=typeof u=="function"?u(j):u;return Z.createElement(_s,{...g,"aria-current":M,className:O,ref:v,style:H,to:c,viewTransition:d},typeof p=="function"?p(j):p)});bT.displayName="NavLink";var wT=Z.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:c=eh,action:d,onSubmit:p,relative:g,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:E,...x},k)=>{let{unstable_useTransitions:A}=Z.useContext(Wn),C=AT(),I=RT(d,{relative:g}),P=c.toLowerCase()==="get"?"get":"post",z=typeof d=="string"&&xb.test(d),K=X=>{if(p&&p(X),X.defaultPrevented)return;X.preventDefault();let ae=X.nativeEvent.submitter,j=(ae==null?void 0:ae.getAttribute("formmethod"))||c,M=()=>C(ae||X.currentTarget,{fetcherKey:e,method:j,navigate:n,replace:o,state:u,relative:g,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:E});A&&n!==!1?Z.startTransition(()=>M()):M()};return Z.createElement("form",{ref:k,method:P,action:I,onSubmit:s?p:K,...x,"data-discover":!z&&i==="render"?"true":void 0})});wT.displayName="Form";function xT(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Eb(i){let e=Z.useContext(Oo);return Lt(e,xT(i)),e}function ET(i,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:c,unstable_defaultShouldRevalidate:d,unstable_useTransitions:p}={}){let g=uu(),v=Ds(),b=cu(i,{relative:u});return Z.useCallback(E=>{if(eT(E,e)){E.preventDefault();let x=n!==void 0?n:tu(v)===tu(b),k=()=>g(i,{replace:x,state:s,preventScrollReset:o,relative:u,viewTransition:c,unstable_defaultShouldRevalidate:d});p?Z.startTransition(()=>k()):k()}},[v,g,b,n,s,e,i,o,u,c,d,p])}var TT=0,ST=()=>`__${String(++TT)}__`;function AT(){let{router:i}=Eb("useSubmit"),{basename:e}=Z.useContext(Wn),n=q2(),s=i.fetch,o=i.navigate;return Z.useCallback(async(u,c={})=>{let{action:d,method:p,encType:g,formData:v,body:b}=rT(u,e);if(c.navigate===!1){let E=c.fetcherKey||ST();await s(E,n,c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:b,formMethod:c.method||p,formEncType:c.encType||g,flushSync:c.flushSync})}else await o(c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:b,formMethod:c.method||p,formEncType:c.encType||g,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[s,o,e,n])}function RT(i,{relative:e}={}){let{basename:n}=Z.useContext(Wn),s=Z.useContext(ri);Lt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...cu(i||".",{relative:e})},c=Ds();if(i==null){u.search=c.search;let d=new URLSearchParams(u.search),p=d.getAll("index");if(p.some(v=>v==="")){d.delete("index"),p.filter(b=>b).forEach(b=>d.append("index",b));let v=d.toString();u.search=v?`?${v}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Ci([n,u.pathname])),tu(u)}function CT(i,{relative:e}={}){let n=Z.useContext(db);Lt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Eb("useViewTransitionState"),o=cu(i,{relative:e});if(!n.isTransitioning)return!1;let u=ki(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=ki(n.nextLocation.pathname,s)||n.nextLocation.pathname;return fh(o.pathname,c)!=null||fh(o.pathname,u)!=null}var hn=(i=>(i.CONTRIBUTOR="Contributor",i.LEARNER="Learner",i.ADMIN="ADMIN",i))(hn||{});const wo="/assets/hdlbasewhitefinal-removebg-preview-aYHj2qLo.png",NT=({currentUser:i,onSignOut:e})=>{const n=uu(),s=u=>{u.preventDefault(),i?n("/dashboard"):(window.scrollTo({top:0,behavior:"smooth"}),n("/"))},o=u=>{const c=document.getElementById(u);c&&c.scrollIntoView({behavior:"smooth"})};return y.jsxs("div",{className:"min-h-screen bg-matte text-offwhite selection:bg-accent selection:text-matte overflow-x-hidden",children:[y.jsx("nav",{className:"fixed w-full z-50 bg-matte/80 backdrop-blur-xl border-b border-white/5 px-6 py-4",children:y.jsxs("div",{className:"max-w-7xl mx-auto flex justify-between items-center",children:[y.jsx("div",{onClick:s,className:"flex items-center cursor-pointer group",children:y.jsx("span",{className:"text-2xl font-black tracking-tighter group-hover:text-accent transition-colors",children:y.jsx("img",{src:wo,alt:"LOGO",className:"w-32 h-auto mx-auto block"})})}),y.jsxs("div",{className:"hidden md:flex gap-10 text-sm font-bold text-gray-400 uppercase tracking-widest",children:[y.jsx("button",{onClick:()=>o("features"),className:"hover:text-accent transition-colors",children:"Features"}),y.jsx("button",{onClick:()=>o("categories"),className:"hover:text-accent transition-colors",children:"Users"}),y.jsx("button",{onClick:()=>o("process"),className:"hover:text-accent transition-colors",children:"Process"})]}),y.jsx("div",{className:"flex items-center gap-4",children:i?y.jsxs("div",{className:"flex items-center gap-6",children:[y.jsx(_s,{to:"/dashboard",className:"bg-accent text-matte px-6 py-2.5 rounded-full font-bold text-sm hover:scale-105 active:scale-95 transition-all shadow-xl shadow-white/10",children:"Dashboard"}),y.jsx("button",{onClick:e,className:"text-xs font-bold text-gray-500 hover:text-red-400 transition-colors uppercase tracking-widest",children:"Sign Out"})]}):y.jsx(_s,{to:"/login",className:"bg-white/5 border border-white/10 px-8 py-2.5 rounded-full font-bold text-sm hover:bg-white/10 transition-all active:scale-95",children:"Login"})})]})}),y.jsxs("header",{className:"relative pt-56 pb-32 px-6",children:[y.jsxs("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-full h-full pointer-events-none -z-10",children:[y.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-contributor/20 rounded-full blur-[120px] animate-pulse"}),y.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-learner/10 rounded-full blur-[120px] animate-pulse delay-1000"})]}),y.jsxs("div",{className:"max-w-5xl mx-auto text-center",children:[y.jsx("div",{className:"inline-flex items-center gap-2 px-6 py-2 bg-accent/10 border border-white/10 rounded-full text-[11px] font-black tracking-[0.25em] uppercase text-white mb-10",children:"Think LeetCode, but for Hardware."}),y.jsxs("h1",{className:"text-6xl md:text-8xl font-black tracking-tighter mb-10 leading-[0.9] bg-gradient-to-b from-white via-white to-gray-600 bg-clip-text text-transparent",children:["Hardware Design ",y.jsx("br",{}),"Reimagined."]}),y.jsx("p",{className:"text-xl md:text-2xl text-gray-400 mb-14 max-w-3xl mx-auto leading-relaxed font-medium",children:"HDLBase is the ultimate practice ground for Electronics Students. Solve RTL challenges, simulate Verilog/VHDL in-browser, and build a professional hardware portfolio."}),y.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 justify-center",children:[y.jsx(_s,{to:"/signup",className:"bg-accent text-matte px-10 py-5 rounded-2xl font-black text-xl hover:scale-105 active:scale-95 transition-all shadow-2xl shadow-white/10",children:"Start Practicing Free"}),y.jsxs("button",{onClick:()=>o("features"),className:"bg-gunmetal border border-white/10 px-10 py-5 rounded-2xl font-black text-xl hover:bg-white/5 transition-all flex items-center justify-center gap-2",children:["Explore Challenges",y.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M19 9l-7 7-7-7"})})]})]})]})]}),y.jsx("section",{id:"features",className:"py-32 px-6",children:y.jsxs("div",{className:"max-w-7xl mx-auto",children:[y.jsxs("div",{className:"mb-20",children:[y.jsx("h2",{className:"text-4xl md:text-5xl font-black tracking-tighter mb-4",children:"Features"}),y.jsx("div",{className:"w-20 h-2 bg-accent rounded-full"})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[y.jsxs("div",{className:"p-10 bg-gunmetal border border-white/5 rounded-[40px] hover:border-accent/20 transition-all group cursor-pointer text-left",children:[y.jsx("div",{className:"w-14 h-14 bg-contributor/10 text-contributor rounded-2xl flex items-center justify-center mb-8 group-hover:scale-110 transition-transform",children:y.jsx("svg",{className:"w-8 h-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),y.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Interactive Challenges"}),y.jsx("p",{className:"text-gray-500 leading-relaxed font-medium",children:`Sharpen your skills with logic problems designed by industry experts. It's the "LeetCode experience" specifically tailored for VLSI and FPGA engineers.`})]}),y.jsxs("div",{className:"p-10 bg-gunmetal border border-white/5 rounded-[40px] hover:border-accent/20 transition-all group cursor-pointer text-left",children:[y.jsx("div",{className:"w-14 h-14 bg-accent/10 text-accent rounded-2xl flex items-center justify-center mb-8 group-hover:scale-110 transition-transform",children:y.jsx("svg",{className:"w-8 h-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),y.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Real-Time Playground"}),y.jsx("p",{className:"text-gray-500 leading-relaxed font-medium",children:"Don't wait for heavy tools to load. Write, lint, and simulate Verilog and VHDL code instantly in our cloud-based playground."})]}),y.jsxs("div",{className:"p-10 bg-gunmetal border border-white/5 rounded-[40px] hover:border-accent/20 transition-all group cursor-pointer text-left",children:[y.jsx("div",{className:"w-14 h-14 bg-learner/10 text-learner rounded-2xl flex items-center justify-center mb-8 group-hover:scale-110 transition-transform",children:y.jsx("svg",{className:"w-8 h-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253"})})}),y.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Library Access"}),y.jsx("p",{className:"text-gray-500 leading-relaxed font-medium",children:"Explore a massive repository of verified RTL modules. Learn from best practices and download components for your own projects."})]})]})]})}),y.jsx("section",{id:"categories",className:"py-32 px-6 bg-gunmetal/30",children:y.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-20 items-center",children:[y.jsxs("div",{className:"text-left",children:[y.jsxs("h2",{className:"text-5xl font-black tracking-tighter mb-8 leading-tight",children:["Built for ",y.jsx("span",{className:"text-accent",children:"Success."})]}),y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"p-8 rounded-[32px] bg-white/5 border border-white/10 flex gap-6 hover:bg-white/10 transition-colors",children:[y.jsx("div",{className:"w-12 h-12 bg-contributor text-white rounded-xl flex items-center justify-center shrink-0",children:y.jsxs("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 14l9-5-9-5-9 5 9 5z"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 14l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14z"})]})}),y.jsxs("div",{children:[y.jsx("h4",{className:"text-xl font-bold mb-1",children:"Students"}),y.jsx("p",{className:"text-gray-500 font-medium",children:"The best place to prepare for technical interviews and gain hands-on hardware design experience."})]})]}),y.jsxs("div",{className:"p-8 rounded-[32px] bg-white/5 border border-white/10 flex gap-6 hover:bg-white/10 transition-colors",children:[y.jsx("div",{className:"w-12 h-12 bg-learner text-white rounded-xl flex items-center justify-center shrink-0",children:y.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),y.jsxs("div",{children:[y.jsx("h4",{className:"text-xl font-bold mb-1",children:"Educators"}),y.jsx("p",{className:"text-gray-500 font-medium",children:"Automate labs, create assessment quizzes, and manage student repositories in one centralized place."})]})]})]})]}),y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"aspect-square bg-white/5 rounded-[60px] border border-white/10 flex items-center justify-center p-12",children:y.jsxs("div",{className:"w-full aspect-video bg-matte rounded-3xl border border-accent/20 shadow-2xl overflow-hidden relative group",children:[y.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-accent/10 to-transparent opacity-50"}),y.jsxs("div",{className:"p-6 font-mono text-[10px] text-accent/60 flex flex-col gap-2 text-left",children:[y.jsx("span",{className:"text-accent font-bold",children:"// Chipcrafters HDL Processor"}),y.jsx("span",{children:"module top_chip (input clk, rst);"}),y.jsx("span",{className:"pl-4",children:"reg [31:0] data_bus;"}),y.jsx("span",{className:"pl-4",children:"always @(posedge clk) begin ..."}),y.jsx("span",{children:"endmodule"})]}),y.jsx("div",{className:"absolute bottom-4 right-4 bg-accent text-matte px-4 py-2 rounded-xl text-xs font-black uppercase",children:"Live Simulation"})]})}),y.jsx("div",{className:"absolute -bottom-10 -left-10 w-32 h-32 bg-learner/20 rounded-full blur-2xl"})]})]})}),y.jsx("section",{id:"process",className:"py-32 px-6",children:y.jsxs("div",{className:"max-w-5xl mx-auto",children:[y.jsxs("div",{className:"text-center mb-24",children:[y.jsx("h2",{className:"text-5xl font-black tracking-tighter mb-4",children:"How It Works"}),y.jsx("p",{className:"text-gray-500 font-bold uppercase tracking-widest text-xs",children:"A simple path from beginner to pro"})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-12 text-left",children:[{n:"01",t:"Learn",d:"Master logic foundations and HDL syntax through interactive labs."},{n:"02",t:"Code",d:"Draft your designs using our optimized web editor."},{n:"03",t:"Verify",d:"Get instant feedback on your RTL with automated testbenches."},{n:"04",t:"Showcase",d:"Build a profile that recruiters will actually notice."}].map((u,c)=>y.jsxs("div",{className:"relative group cursor-default",children:[y.jsx("div",{className:"text-7xl font-black text-white/5 absolute -top-10 -left-4 group-hover:text-white/10 transition-colors",children:u.n}),y.jsx("h4",{className:"text-xl font-bold mb-4 relative z-10 group-hover:text-accent transition-colors",children:u.t}),y.jsx("p",{className:"text-sm text-gray-500 leading-relaxed font-medium relative z-10",children:u.d}),c<3&&y.jsx("div",{className:"hidden md:block absolute top-1/2 -right-6 w-12 h-0.5 bg-white/5"})]},c))})]})}),y.jsx("footer",{className:"py-20 border-t border-white/5 bg-matte",children:y.jsxs("div",{className:"max-w-7xl mx-auto px-6 flex flex-col md:flex-row justify-between items-center gap-10",children:[y.jsx("div",{onClick:s,className:"flex items-center cursor-pointer",children:y.jsx("span",{className:"font-black tracking-tighter text-lg",children:y.jsx("img",{src:wo,alt:"LOGO",className:"w-32 h-auto block"})})}),y.jsxs("div",{className:"flex gap-12 text-[10px] font-black uppercase tracking-widest text-gray-600",children:[y.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Privacy"}),y.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Terms"})]}),y.jsx("p",{className:"text-gray-600 text-[10px] font-bold uppercase tracking-widest",children:" 2026 Chipcrafters Inc."})]})})]})},IT="modulepreload",kT=function(i){return"/"+i},Dv={},Tr=function(e,n,s){let o=Promise.resolve();if(n&&n.length>0){let c=function(g){return Promise.all(g.map(v=>Promise.resolve(v).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),p=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));o=c(n.map(g=>{if(g=kT(g),g in Dv)return;Dv[g]=!0;const v=g.endsWith(".css"),b=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${b}`))return;const E=document.createElement("link");if(E.rel=v?"stylesheet":IT,v||(E.as="script"),E.crossOrigin="",E.href=g,p&&E.setAttribute("nonce",p),document.head.appendChild(E),v)return new Promise((x,k)=>{E.addEventListener("load",x),E.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${g}`)))})}))}function u(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return o.then(c=>{for(const d of c||[])d.status==="rejected"&&u(d.reason);return e().catch(u)})},DT=({onLoginSuccess:i})=>{const[e,n]=Z.useState(!1),[s,o]=Z.useState(""),[u,c]=Z.useState(""),[d,p]=Z.useState(!1),[g,v]=Z.useState(hn.LEARNER),[b,E]=Z.useState(!1),[x,k]=Z.useState(!1),A=async()=>{k(!0);try{const{signInWithPopup:I}=await Tr(async()=>{const{signInWithPopup:D}=await Promise.resolve().then(()=>wh);return{signInWithPopup:D}},[]),{doc:P,setDoc:z,getDoc:K}=await Tr(async()=>{const{doc:D,setDoc:R,getDoc:ie}=await Promise.resolve().then(()=>Zm);return{doc:D,setDoc:R,getDoc:ie}},void 0),{auth:X,googleProvider:ae,db:j}=await Tr(async()=>{const{auth:D,googleProvider:R,db:ie}=await Promise.resolve().then(()=>jh);return{auth:D,googleProvider:R,db:ie}},void 0),O=(await I(X,ae)).user,H=P(j,"users",O.uid),B=await K(H),N={uid:O.uid,email:O.email||"",role:g,displayName:O.displayName||"User",username:(O.displayName||"User").toLowerCase().replace(/\s+/g,"_"),category:g===hn.CONTRIBUTOR?"HDL Designer":"Learner"};if(B.exists()){const D=B.data();b?(N.role=g,N.category=g===hn.CONTRIBUTOR?"HDL Designer":"Learner"):(N.role=D.role,N.category=D.category||"Learner")}await z(H,N,{merge:!0}),k(!1)}catch(I){console.error("Google Login Error:",I),alert("Login failed. Check console for details."),k(!1)}},C=async I=>{I.preventDefault(),k(!0);try{const{signInWithEmailAndPassword:P}=await Tr(async()=>{const{signInWithEmailAndPassword:K}=await Promise.resolve().then(()=>wh);return{signInWithEmailAndPassword:K}},void 0),{auth:z}=await Tr(async()=>{const{auth:K}=await Promise.resolve().then(()=>jh);return{auth:K}},void 0);await P(z,s,u)}catch(P){console.error("Login Error:",P),alert("Login failed: "+P.message),k(!1)}};return y.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 bg-matte relative overflow-hidden",children:[y.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-contributor/10 rounded-full blur-[120px]"}),y.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-learner/10 rounded-full blur-[120px]"}),y.jsxs("div",{className:"w-full max-w-md frosted-glass rounded-2xl p-8 shadow-2xl z-10",children:[y.jsxs("div",{className:"text-center mb-8",children:[y.jsx("h1",{className:"text-4xl font-black tracking-tighter text-accent mb-1",children:y.jsx("a",{href:"Landingpage.tsx",className:"logo-text",children:y.jsx("img",{src:wo,alt:"LOGO",className:"w-32 h-auto mx-auto block"})})}),y.jsx("p",{className:"text-gray-400 text-xs font-bold uppercase tracking-widest",children:"Chipcrafters Inc."})]}),y.jsxs("div",{className:"space-y-6",children:[y.jsxs("form",{onSubmit:C,className:"space-y-4",children:[y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Email Address"}),y.jsx("input",{type:"email",required:!0,className:"w-full bg-gunmetal/50 border border-white/10 rounded-xl px-4 py-3 focus:outline-none focus:border-accent transition-colors text-offwhite font-medium",placeholder:"engineer@chipcrafters.com",value:s,onChange:I=>o(I.target.value)})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Password"}),y.jsxs("div",{className:"relative",children:[y.jsx("input",{type:d?"text":"password",required:!0,className:"w-full bg-gunmetal/50 border border-white/10 rounded-xl px-4 py-3 focus:outline-none focus:border-accent transition-colors text-offwhite font-medium pr-10",placeholder:"",value:u,onChange:I=>c(I.target.value)}),y.jsx("button",{type:"button",onClick:()=>p(!d),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white transition-colors",children:d?y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Select Role"}),y.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[y.jsx("button",{type:"button",onClick:()=>{v(hn.CONTRIBUTOR),E(!0)},className:`py-2 px-4 rounded-xl border text-[10px] font-black uppercase tracking-widest transition-all ${g===hn.CONTRIBUTOR?"bg-contributor/20 border-contributor text-contributor":"bg-gunmetal border-white/5 text-gray-600"}`,children:"Contributor"}),y.jsx("button",{type:"button",onClick:()=>{v(hn.LEARNER),E(!0)},className:`py-2 px-4 rounded-xl border text-[10px] font-black uppercase tracking-widest transition-all ${g===hn.LEARNER?"bg-learner/20 border-learner text-learner":"bg-gunmetal border-white/5 text-gray-600"}`,children:"Learner"})]})]}),y.jsx("button",{type:"submit",disabled:x,className:"w-full bg-accent text-matte font-black py-4 rounded-xl hover:scale-[1.02] active:scale-[0.98] transition-all disabled:opacity-50 shadow-2xl shadow-white/5 uppercase text-xs tracking-widest",children:x?"Processing...":e?"Create Account":"Sign In"})]}),y.jsxs("div",{className:"relative flex items-center py-2",children:[y.jsx("div",{className:"flex-grow border-t border-white/10"}),y.jsx("span",{className:"flex-shrink mx-4 text-gray-500 text-[9px] uppercase font-black tracking-widest",children:"Or Continue With"}),y.jsx("div",{className:"flex-grow border-t border-white/10"})]}),y.jsxs("button",{onClick:A,className:"w-full bg-white text-gray-800 font-bold py-4 rounded-xl hover:scale-[1.02] active:scale-[0.98] transition-all shadow-2xl flex items-center justify-center gap-3",children:[y.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[y.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),y.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),y.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.84z",fill:"#FBBC05"}),y.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),y.jsx("span",{className:"text-xs uppercase tracking-widest",children:"Sign in with Google"})]}),y.jsxs("div",{className:"flex items-center justify-center gap-2 mt-4",children:[y.jsx("p",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-widest",children:"Don't have an account?"}),y.jsx(_s,{to:"/signup",className:"text-[10px] text-accent font-black uppercase tracking-widest hover:underline",children:"Sign Up"})]})]})]})]})};function Kc(i){throw new Error('Could not dynamically require "'+i+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var hm={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var Ov;function OT(){return Ov||(Ov=1,(function(i,e){(function(n){i.exports=n()})(function(){return(function n(s,o,u){function c(g,v){if(!o[g]){if(!s[g]){var b=typeof Kc=="function"&&Kc;if(!v&&b)return b(g,!0);if(d)return d(g,!0);var E=new Error("Cannot find module '"+g+"'");throw E.code="MODULE_NOT_FOUND",E}var x=o[g]={exports:{}};s[g][0].call(x.exports,function(k){var A=s[g][1][k];return c(A||k)},x,x.exports,n,s,o,u)}return o[g].exports}for(var d=typeof Kc=="function"&&Kc,p=0;p<u.length;p++)c(u[p]);return c})({1:[function(n,s,o){var u=n("./utils"),c=n("./support"),d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";o.encode=function(p){for(var g,v,b,E,x,k,A,C=[],I=0,P=p.length,z=P,K=u.getTypeOf(p)!=="string";I<p.length;)z=P-I,b=K?(g=p[I++],v=I<P?p[I++]:0,I<P?p[I++]:0):(g=p.charCodeAt(I++),v=I<P?p.charCodeAt(I++):0,I<P?p.charCodeAt(I++):0),E=g>>2,x=(3&g)<<4|v>>4,k=1<z?(15&v)<<2|b>>6:64,A=2<z?63&b:64,C.push(d.charAt(E)+d.charAt(x)+d.charAt(k)+d.charAt(A));return C.join("")},o.decode=function(p){var g,v,b,E,x,k,A=0,C=0,I="data:";if(p.substr(0,I.length)===I)throw new Error("Invalid base64 input, it looks like a data url.");var P,z=3*(p=p.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(p.charAt(p.length-1)===d.charAt(64)&&z--,p.charAt(p.length-2)===d.charAt(64)&&z--,z%1!=0)throw new Error("Invalid base64 input, bad content length.");for(P=c.uint8array?new Uint8Array(0|z):new Array(0|z);A<p.length;)g=d.indexOf(p.charAt(A++))<<2|(E=d.indexOf(p.charAt(A++)))>>4,v=(15&E)<<4|(x=d.indexOf(p.charAt(A++)))>>2,b=(3&x)<<6|(k=d.indexOf(p.charAt(A++))),P[C++]=g,x!==64&&(P[C++]=v),k!==64&&(P[C++]=b);return P}},{"./support":30,"./utils":32}],2:[function(n,s,o){var u=n("./external"),c=n("./stream/DataWorker"),d=n("./stream/Crc32Probe"),p=n("./stream/DataLengthProbe");function g(v,b,E,x,k){this.compressedSize=v,this.uncompressedSize=b,this.crc32=E,this.compression=x,this.compressedContent=k}g.prototype={getContentWorker:function(){var v=new c(u.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new p("data_length")),b=this;return v.on("end",function(){if(this.streamInfo.data_length!==b.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),v},getCompressedWorker:function(){return new c(u.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},g.createWorkerFrom=function(v,b,E){return v.pipe(new d).pipe(new p("uncompressedSize")).pipe(b.compressWorker(E)).pipe(new p("compressedSize")).withStreamInfo("compression",b)},s.exports=g},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,s,o){var u=n("./stream/GenericWorker");o.STORE={magic:"\0\0",compressWorker:function(){return new u("STORE compression")},uncompressWorker:function(){return new u("STORE decompression")}},o.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,s,o){var u=n("./utils"),c=(function(){for(var d,p=[],g=0;g<256;g++){d=g;for(var v=0;v<8;v++)d=1&d?3988292384^d>>>1:d>>>1;p[g]=d}return p})();s.exports=function(d,p){return d!==void 0&&d.length?u.getTypeOf(d)!=="string"?(function(g,v,b,E){var x=c,k=E+b;g^=-1;for(var A=E;A<k;A++)g=g>>>8^x[255&(g^v[A])];return-1^g})(0|p,d,d.length,0):(function(g,v,b,E){var x=c,k=E+b;g^=-1;for(var A=E;A<k;A++)g=g>>>8^x[255&(g^v.charCodeAt(A))];return-1^g})(0|p,d,d.length,0):0}},{"./utils":32}],5:[function(n,s,o){o.base64=!1,o.binary=!1,o.dir=!1,o.createFolders=!0,o.date=null,o.compression=null,o.compressionOptions=null,o.comment=null,o.unixPermissions=null,o.dosPermissions=null},{}],6:[function(n,s,o){var u=null;u=typeof Promise<"u"?Promise:n("lie"),s.exports={Promise:u}},{lie:37}],7:[function(n,s,o){var u=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",c=n("pako"),d=n("./utils"),p=n("./stream/GenericWorker"),g=u?"uint8array":"array";function v(b,E){p.call(this,"FlateWorker/"+b),this._pako=null,this._pakoAction=b,this._pakoOptions=E,this.meta={}}o.magic="\b\0",d.inherits(v,p),v.prototype.processChunk=function(b){this.meta=b.meta,this._pako===null&&this._createPako(),this._pako.push(d.transformTo(g,b.data),!1)},v.prototype.flush=function(){p.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},v.prototype.cleanUp=function(){p.prototype.cleanUp.call(this),this._pako=null},v.prototype._createPako=function(){this._pako=new c[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var b=this;this._pako.onData=function(E){b.push({data:E,meta:b.meta})}},o.compressWorker=function(b){return new v("Deflate",b)},o.uncompressWorker=function(){return new v("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,s,o){function u(x,k){var A,C="";for(A=0;A<k;A++)C+=String.fromCharCode(255&x),x>>>=8;return C}function c(x,k,A,C,I,P){var z,K,X=x.file,ae=x.compression,j=P!==g.utf8encode,M=d.transformTo("string",P(X.name)),O=d.transformTo("string",g.utf8encode(X.name)),H=X.comment,B=d.transformTo("string",P(H)),N=d.transformTo("string",g.utf8encode(H)),D=O.length!==X.name.length,R=N.length!==H.length,ie="",$="",te="",Se=X.dir,ge=X.date,Ne={crc32:0,compressedSize:0,uncompressedSize:0};k&&!A||(Ne.crc32=x.crc32,Ne.compressedSize=x.compressedSize,Ne.uncompressedSize=x.uncompressedSize);var V=0;k&&(V|=8),j||!D&&!R||(V|=2048);var G=0,me=0;Se&&(G|=16),I==="UNIX"?(me=798,G|=(function(pe,Ie){var Pe=pe;return pe||(Pe=Ie?16893:33204),(65535&Pe)<<16})(X.unixPermissions,Se)):(me=20,G|=(function(pe){return 63&(pe||0)})(X.dosPermissions)),z=ge.getUTCHours(),z<<=6,z|=ge.getUTCMinutes(),z<<=5,z|=ge.getUTCSeconds()/2,K=ge.getUTCFullYear()-1980,K<<=4,K|=ge.getUTCMonth()+1,K<<=5,K|=ge.getUTCDate(),D&&($=u(1,1)+u(v(M),4)+O,ie+="up"+u($.length,2)+$),R&&(te=u(1,1)+u(v(B),4)+N,ie+="uc"+u(te.length,2)+te);var de="";return de+=`
\0`,de+=u(V,2),de+=ae.magic,de+=u(z,2),de+=u(K,2),de+=u(Ne.crc32,4),de+=u(Ne.compressedSize,4),de+=u(Ne.uncompressedSize,4),de+=u(M.length,2),de+=u(ie.length,2),{fileRecord:b.LOCAL_FILE_HEADER+de+M+ie,dirRecord:b.CENTRAL_FILE_HEADER+u(me,2)+de+u(B.length,2)+"\0\0\0\0"+u(G,4)+u(C,4)+M+ie+B}}var d=n("../utils"),p=n("../stream/GenericWorker"),g=n("../utf8"),v=n("../crc32"),b=n("../signature");function E(x,k,A,C){p.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=k,this.zipPlatform=A,this.encodeFileName=C,this.streamFiles=x,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}d.inherits(E,p),E.prototype.push=function(x){var k=x.meta.percent||0,A=this.entriesCount,C=this._sources.length;this.accumulate?this.contentBuffer.push(x):(this.bytesWritten+=x.data.length,p.prototype.push.call(this,{data:x.data,meta:{currentFile:this.currentFile,percent:A?(k+100*(A-C-1))/A:100}}))},E.prototype.openedSource=function(x){this.currentSourceOffset=this.bytesWritten,this.currentFile=x.file.name;var k=this.streamFiles&&!x.file.dir;if(k){var A=c(x,k,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:A.fileRecord,meta:{percent:0}})}else this.accumulate=!0},E.prototype.closedSource=function(x){this.accumulate=!1;var k=this.streamFiles&&!x.file.dir,A=c(x,k,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(A.dirRecord),k)this.push({data:(function(C){return b.DATA_DESCRIPTOR+u(C.crc32,4)+u(C.compressedSize,4)+u(C.uncompressedSize,4)})(x),meta:{percent:100}});else for(this.push({data:A.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},E.prototype.flush=function(){for(var x=this.bytesWritten,k=0;k<this.dirRecords.length;k++)this.push({data:this.dirRecords[k],meta:{percent:100}});var A=this.bytesWritten-x,C=(function(I,P,z,K,X){var ae=d.transformTo("string",X(K));return b.CENTRAL_DIRECTORY_END+"\0\0\0\0"+u(I,2)+u(I,2)+u(P,4)+u(z,4)+u(ae.length,2)+ae})(this.dirRecords.length,A,x,this.zipComment,this.encodeFileName);this.push({data:C,meta:{percent:100}})},E.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},E.prototype.registerPrevious=function(x){this._sources.push(x);var k=this;return x.on("data",function(A){k.processChunk(A)}),x.on("end",function(){k.closedSource(k.previous.streamInfo),k._sources.length?k.prepareNextSource():k.end()}),x.on("error",function(A){k.error(A)}),this},E.prototype.resume=function(){return!!p.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},E.prototype.error=function(x){var k=this._sources;if(!p.prototype.error.call(this,x))return!1;for(var A=0;A<k.length;A++)try{k[A].error(x)}catch{}return!0},E.prototype.lock=function(){p.prototype.lock.call(this);for(var x=this._sources,k=0;k<x.length;k++)x[k].lock()},s.exports=E},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,s,o){var u=n("../compressions"),c=n("./ZipFileWorker");o.generateWorker=function(d,p,g){var v=new c(p.streamFiles,g,p.platform,p.encodeFileName),b=0;try{d.forEach(function(E,x){b++;var k=(function(P,z){var K=P||z,X=u[K];if(!X)throw new Error(K+" is not a valid compression method !");return X})(x.options.compression,p.compression),A=x.options.compressionOptions||p.compressionOptions||{},C=x.dir,I=x.date;x._compressWorker(k,A).withStreamInfo("file",{name:E,dir:C,date:I,comment:x.comment||"",unixPermissions:x.unixPermissions,dosPermissions:x.dosPermissions}).pipe(v)}),v.entriesCount=b}catch(E){v.error(E)}return v}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,s,o){function u(){if(!(this instanceof u))return new u;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var c=new u;for(var d in this)typeof this[d]!="function"&&(c[d]=this[d]);return c}}(u.prototype=n("./object")).loadAsync=n("./load"),u.support=n("./support"),u.defaults=n("./defaults"),u.version="3.10.1",u.loadAsync=function(c,d){return new u().loadAsync(c,d)},u.external=n("./external"),s.exports=u},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,s,o){var u=n("./utils"),c=n("./external"),d=n("./utf8"),p=n("./zipEntries"),g=n("./stream/Crc32Probe"),v=n("./nodejsUtils");function b(E){return new c.Promise(function(x,k){var A=E.decompressed.getContentWorker().pipe(new g);A.on("error",function(C){k(C)}).on("end",function(){A.streamInfo.crc32!==E.decompressed.crc32?k(new Error("Corrupted zip : CRC32 mismatch")):x()}).resume()})}s.exports=function(E,x){var k=this;return x=u.extend(x||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:d.utf8decode}),v.isNode&&v.isStream(E)?c.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):u.prepareContent("the loaded zip file",E,!0,x.optimizedBinaryString,x.base64).then(function(A){var C=new p(x);return C.load(A),C}).then(function(A){var C=[c.Promise.resolve(A)],I=A.files;if(x.checkCRC32)for(var P=0;P<I.length;P++)C.push(b(I[P]));return c.Promise.all(C)}).then(function(A){for(var C=A.shift(),I=C.files,P=0;P<I.length;P++){var z=I[P],K=z.fileNameStr,X=u.resolve(z.fileNameStr);k.file(X,z.decompressed,{binary:!0,optimizedBinaryString:!0,date:z.date,dir:z.dir,comment:z.fileCommentStr.length?z.fileCommentStr:null,unixPermissions:z.unixPermissions,dosPermissions:z.dosPermissions,createFolders:x.createFolders}),z.dir||(k.file(X).unsafeOriginalName=K)}return C.zipComment.length&&(k.comment=C.zipComment),k})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,s,o){var u=n("../utils"),c=n("../stream/GenericWorker");function d(p,g){c.call(this,"Nodejs stream input adapter for "+p),this._upstreamEnded=!1,this._bindStream(g)}u.inherits(d,c),d.prototype._bindStream=function(p){var g=this;(this._stream=p).pause(),p.on("data",function(v){g.push({data:v,meta:{percent:0}})}).on("error",function(v){g.isPaused?this.generatedError=v:g.error(v)}).on("end",function(){g.isPaused?g._upstreamEnded=!0:g.end()})},d.prototype.pause=function(){return!!c.prototype.pause.call(this)&&(this._stream.pause(),!0)},d.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},s.exports=d},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,s,o){var u=n("readable-stream").Readable;function c(d,p,g){u.call(this,p),this._helper=d;var v=this;d.on("data",function(b,E){v.push(b)||v._helper.pause(),g&&g(E)}).on("error",function(b){v.emit("error",b)}).on("end",function(){v.push(null)})}n("../utils").inherits(c,u),c.prototype._read=function(){this._helper.resume()},s.exports=c},{"../utils":32,"readable-stream":16}],14:[function(n,s,o){s.exports={isNode:typeof Buffer<"u",newBufferFrom:function(u,c){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(u,c);if(typeof u=="number")throw new Error('The "data" argument must not be a number');return new Buffer(u,c)},allocBuffer:function(u){if(Buffer.alloc)return Buffer.alloc(u);var c=new Buffer(u);return c.fill(0),c},isBuffer:function(u){return Buffer.isBuffer(u)},isStream:function(u){return u&&typeof u.on=="function"&&typeof u.pause=="function"&&typeof u.resume=="function"}}},{}],15:[function(n,s,o){function u(X,ae,j){var M,O=d.getTypeOf(ae),H=d.extend(j||{},v);H.date=H.date||new Date,H.compression!==null&&(H.compression=H.compression.toUpperCase()),typeof H.unixPermissions=="string"&&(H.unixPermissions=parseInt(H.unixPermissions,8)),H.unixPermissions&&16384&H.unixPermissions&&(H.dir=!0),H.dosPermissions&&16&H.dosPermissions&&(H.dir=!0),H.dir&&(X=I(X)),H.createFolders&&(M=C(X))&&P.call(this,M,!0);var B=O==="string"&&H.binary===!1&&H.base64===!1;j&&j.binary!==void 0||(H.binary=!B),(ae instanceof b&&ae.uncompressedSize===0||H.dir||!ae||ae.length===0)&&(H.base64=!1,H.binary=!0,ae="",H.compression="STORE",O="string");var N=null;N=ae instanceof b||ae instanceof p?ae:k.isNode&&k.isStream(ae)?new A(X,ae):d.prepareContent(X,ae,H.binary,H.optimizedBinaryString,H.base64);var D=new E(X,N,H);this.files[X]=D}var c=n("./utf8"),d=n("./utils"),p=n("./stream/GenericWorker"),g=n("./stream/StreamHelper"),v=n("./defaults"),b=n("./compressedObject"),E=n("./zipObject"),x=n("./generate"),k=n("./nodejsUtils"),A=n("./nodejs/NodejsStreamInputAdapter"),C=function(X){X.slice(-1)==="/"&&(X=X.substring(0,X.length-1));var ae=X.lastIndexOf("/");return 0<ae?X.substring(0,ae):""},I=function(X){return X.slice(-1)!=="/"&&(X+="/"),X},P=function(X,ae){return ae=ae!==void 0?ae:v.createFolders,X=I(X),this.files[X]||u.call(this,X,null,{dir:!0,createFolders:ae}),this.files[X]};function z(X){return Object.prototype.toString.call(X)==="[object RegExp]"}var K={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(X){var ae,j,M;for(ae in this.files)M=this.files[ae],(j=ae.slice(this.root.length,ae.length))&&ae.slice(0,this.root.length)===this.root&&X(j,M)},filter:function(X){var ae=[];return this.forEach(function(j,M){X(j,M)&&ae.push(M)}),ae},file:function(X,ae,j){if(arguments.length!==1)return X=this.root+X,u.call(this,X,ae,j),this;if(z(X)){var M=X;return this.filter(function(H,B){return!B.dir&&M.test(H)})}var O=this.files[this.root+X];return O&&!O.dir?O:null},folder:function(X){if(!X)return this;if(z(X))return this.filter(function(O,H){return H.dir&&X.test(O)});var ae=this.root+X,j=P.call(this,ae),M=this.clone();return M.root=j.name,M},remove:function(X){X=this.root+X;var ae=this.files[X];if(ae||(X.slice(-1)!=="/"&&(X+="/"),ae=this.files[X]),ae&&!ae.dir)delete this.files[X];else for(var j=this.filter(function(O,H){return H.name.slice(0,X.length)===X}),M=0;M<j.length;M++)delete this.files[j[M].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(X){var ae,j={};try{if((j=d.extend(X||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:c.utf8encode})).type=j.type.toLowerCase(),j.compression=j.compression.toUpperCase(),j.type==="binarystring"&&(j.type="string"),!j.type)throw new Error("No output type specified.");d.checkSupport(j.type),j.platform!=="darwin"&&j.platform!=="freebsd"&&j.platform!=="linux"&&j.platform!=="sunos"||(j.platform="UNIX"),j.platform==="win32"&&(j.platform="DOS");var M=j.comment||this.comment||"";ae=x.generateWorker(this,j,M)}catch(O){(ae=new p("error")).error(O)}return new g(ae,j.type||"string",j.mimeType)},generateAsync:function(X,ae){return this.generateInternalStream(X).accumulate(ae)},generateNodeStream:function(X,ae){return(X=X||{}).type||(X.type="nodebuffer"),this.generateInternalStream(X).toNodejsStream(ae)}};s.exports=K},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,s,o){s.exports=n("stream")},{stream:void 0}],17:[function(n,s,o){var u=n("./DataReader");function c(d){u.call(this,d);for(var p=0;p<this.data.length;p++)d[p]=255&d[p]}n("../utils").inherits(c,u),c.prototype.byteAt=function(d){return this.data[this.zero+d]},c.prototype.lastIndexOfSignature=function(d){for(var p=d.charCodeAt(0),g=d.charCodeAt(1),v=d.charCodeAt(2),b=d.charCodeAt(3),E=this.length-4;0<=E;--E)if(this.data[E]===p&&this.data[E+1]===g&&this.data[E+2]===v&&this.data[E+3]===b)return E-this.zero;return-1},c.prototype.readAndCheckSignature=function(d){var p=d.charCodeAt(0),g=d.charCodeAt(1),v=d.charCodeAt(2),b=d.charCodeAt(3),E=this.readData(4);return p===E[0]&&g===E[1]&&v===E[2]&&b===E[3]},c.prototype.readData=function(d){if(this.checkOffset(d),d===0)return[];var p=this.data.slice(this.zero+this.index,this.zero+this.index+d);return this.index+=d,p},s.exports=c},{"../utils":32,"./DataReader":18}],18:[function(n,s,o){var u=n("../utils");function c(d){this.data=d,this.length=d.length,this.index=0,this.zero=0}c.prototype={checkOffset:function(d){this.checkIndex(this.index+d)},checkIndex:function(d){if(this.length<this.zero+d||d<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+d+"). Corrupted zip ?")},setIndex:function(d){this.checkIndex(d),this.index=d},skip:function(d){this.setIndex(this.index+d)},byteAt:function(){},readInt:function(d){var p,g=0;for(this.checkOffset(d),p=this.index+d-1;p>=this.index;p--)g=(g<<8)+this.byteAt(p);return this.index+=d,g},readString:function(d){return u.transformTo("string",this.readData(d))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var d=this.readInt(4);return new Date(Date.UTC(1980+(d>>25&127),(d>>21&15)-1,d>>16&31,d>>11&31,d>>5&63,(31&d)<<1))}},s.exports=c},{"../utils":32}],19:[function(n,s,o){var u=n("./Uint8ArrayReader");function c(d){u.call(this,d)}n("../utils").inherits(c,u),c.prototype.readData=function(d){this.checkOffset(d);var p=this.data.slice(this.zero+this.index,this.zero+this.index+d);return this.index+=d,p},s.exports=c},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,s,o){var u=n("./DataReader");function c(d){u.call(this,d)}n("../utils").inherits(c,u),c.prototype.byteAt=function(d){return this.data.charCodeAt(this.zero+d)},c.prototype.lastIndexOfSignature=function(d){return this.data.lastIndexOf(d)-this.zero},c.prototype.readAndCheckSignature=function(d){return d===this.readData(4)},c.prototype.readData=function(d){this.checkOffset(d);var p=this.data.slice(this.zero+this.index,this.zero+this.index+d);return this.index+=d,p},s.exports=c},{"../utils":32,"./DataReader":18}],21:[function(n,s,o){var u=n("./ArrayReader");function c(d){u.call(this,d)}n("../utils").inherits(c,u),c.prototype.readData=function(d){if(this.checkOffset(d),d===0)return new Uint8Array(0);var p=this.data.subarray(this.zero+this.index,this.zero+this.index+d);return this.index+=d,p},s.exports=c},{"../utils":32,"./ArrayReader":17}],22:[function(n,s,o){var u=n("../utils"),c=n("../support"),d=n("./ArrayReader"),p=n("./StringReader"),g=n("./NodeBufferReader"),v=n("./Uint8ArrayReader");s.exports=function(b){var E=u.getTypeOf(b);return u.checkSupport(E),E!=="string"||c.uint8array?E==="nodebuffer"?new g(b):c.uint8array?new v(u.transformTo("uint8array",b)):new d(u.transformTo("array",b)):new p(b)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,s,o){o.LOCAL_FILE_HEADER="PK",o.CENTRAL_FILE_HEADER="PK",o.CENTRAL_DIRECTORY_END="PK",o.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",o.ZIP64_CENTRAL_DIRECTORY_END="PK",o.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,s,o){var u=n("./GenericWorker"),c=n("../utils");function d(p){u.call(this,"ConvertWorker to "+p),this.destType=p}c.inherits(d,u),d.prototype.processChunk=function(p){this.push({data:c.transformTo(this.destType,p.data),meta:p.meta})},s.exports=d},{"../utils":32,"./GenericWorker":28}],25:[function(n,s,o){var u=n("./GenericWorker"),c=n("../crc32");function d(){u.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(d,u),d.prototype.processChunk=function(p){this.streamInfo.crc32=c(p.data,this.streamInfo.crc32||0),this.push(p)},s.exports=d},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,s,o){var u=n("../utils"),c=n("./GenericWorker");function d(p){c.call(this,"DataLengthProbe for "+p),this.propName=p,this.withStreamInfo(p,0)}u.inherits(d,c),d.prototype.processChunk=function(p){if(p){var g=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=g+p.data.length}c.prototype.processChunk.call(this,p)},s.exports=d},{"../utils":32,"./GenericWorker":28}],27:[function(n,s,o){var u=n("../utils"),c=n("./GenericWorker");function d(p){c.call(this,"DataWorker");var g=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,p.then(function(v){g.dataIsReady=!0,g.data=v,g.max=v&&v.length||0,g.type=u.getTypeOf(v),g.isPaused||g._tickAndRepeat()},function(v){g.error(v)})}u.inherits(d,c),d.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this.data=null},d.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,u.delay(this._tickAndRepeat,[],this)),!0)},d.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(u.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},d.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var p=null,g=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":p=this.data.substring(this.index,g);break;case"uint8array":p=this.data.subarray(this.index,g);break;case"array":case"nodebuffer":p=this.data.slice(this.index,g)}return this.index=g,this.push({data:p,meta:{percent:this.max?this.index/this.max*100:0}})},s.exports=d},{"../utils":32,"./GenericWorker":28}],28:[function(n,s,o){function u(c){this.name=c||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}u.prototype={push:function(c){this.emit("data",c)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(c){this.emit("error",c)}return!0},error:function(c){return!this.isFinished&&(this.isPaused?this.generatedError=c:(this.isFinished=!0,this.emit("error",c),this.previous&&this.previous.error(c),this.cleanUp()),!0)},on:function(c,d){return this._listeners[c].push(d),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(c,d){if(this._listeners[c])for(var p=0;p<this._listeners[c].length;p++)this._listeners[c][p].call(this,d)},pipe:function(c){return c.registerPrevious(this)},registerPrevious:function(c){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=c.streamInfo,this.mergeStreamInfo(),this.previous=c;var d=this;return c.on("data",function(p){d.processChunk(p)}),c.on("end",function(){d.end()}),c.on("error",function(p){d.error(p)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var c=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),c=!0),this.previous&&this.previous.resume(),!c},flush:function(){},processChunk:function(c){this.push(c)},withStreamInfo:function(c,d){return this.extraStreamInfo[c]=d,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var c in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,c)&&(this.streamInfo[c]=this.extraStreamInfo[c])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var c="Worker "+this.name;return this.previous?this.previous+" -> "+c:c}},s.exports=u},{}],29:[function(n,s,o){var u=n("../utils"),c=n("./ConvertWorker"),d=n("./GenericWorker"),p=n("../base64"),g=n("../support"),v=n("../external"),b=null;if(g.nodestream)try{b=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function E(k,A){return new v.Promise(function(C,I){var P=[],z=k._internalType,K=k._outputType,X=k._mimeType;k.on("data",function(ae,j){P.push(ae),A&&A(j)}).on("error",function(ae){P=[],I(ae)}).on("end",function(){try{var ae=(function(j,M,O){switch(j){case"blob":return u.newBlob(u.transformTo("arraybuffer",M),O);case"base64":return p.encode(M);default:return u.transformTo(j,M)}})(K,(function(j,M){var O,H=0,B=null,N=0;for(O=0;O<M.length;O++)N+=M[O].length;switch(j){case"string":return M.join("");case"array":return Array.prototype.concat.apply([],M);case"uint8array":for(B=new Uint8Array(N),O=0;O<M.length;O++)B.set(M[O],H),H+=M[O].length;return B;case"nodebuffer":return Buffer.concat(M);default:throw new Error("concat : unsupported type '"+j+"'")}})(z,P),X);C(ae)}catch(j){I(j)}P=[]}).resume()})}function x(k,A,C){var I=A;switch(A){case"blob":case"arraybuffer":I="uint8array";break;case"base64":I="string"}try{this._internalType=I,this._outputType=A,this._mimeType=C,u.checkSupport(I),this._worker=k.pipe(new c(I)),k.lock()}catch(P){this._worker=new d("error"),this._worker.error(P)}}x.prototype={accumulate:function(k){return E(this,k)},on:function(k,A){var C=this;return k==="data"?this._worker.on(k,function(I){A.call(C,I.data,I.meta)}):this._worker.on(k,function(){u.delay(A,arguments,C)}),this},resume:function(){return u.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(k){if(u.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new b(this,{objectMode:this._outputType!=="nodebuffer"},k)}},s.exports=x},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,s,o){if(o.base64=!0,o.array=!0,o.string=!0,o.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",o.nodebuffer=typeof Buffer<"u",o.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")o.blob=!1;else{var u=new ArrayBuffer(0);try{o.blob=new Blob([u],{type:"application/zip"}).size===0}catch{try{var c=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);c.append(u),o.blob=c.getBlob("application/zip").size===0}catch{o.blob=!1}}}try{o.nodestream=!!n("readable-stream").Readable}catch{o.nodestream=!1}},{"readable-stream":16}],31:[function(n,s,o){for(var u=n("./utils"),c=n("./support"),d=n("./nodejsUtils"),p=n("./stream/GenericWorker"),g=new Array(256),v=0;v<256;v++)g[v]=252<=v?6:248<=v?5:240<=v?4:224<=v?3:192<=v?2:1;g[254]=g[254]=1;function b(){p.call(this,"utf-8 decode"),this.leftOver=null}function E(){p.call(this,"utf-8 encode")}o.utf8encode=function(x){return c.nodebuffer?d.newBufferFrom(x,"utf-8"):(function(k){var A,C,I,P,z,K=k.length,X=0;for(P=0;P<K;P++)(64512&(C=k.charCodeAt(P)))==55296&&P+1<K&&(64512&(I=k.charCodeAt(P+1)))==56320&&(C=65536+(C-55296<<10)+(I-56320),P++),X+=C<128?1:C<2048?2:C<65536?3:4;for(A=c.uint8array?new Uint8Array(X):new Array(X),P=z=0;z<X;P++)(64512&(C=k.charCodeAt(P)))==55296&&P+1<K&&(64512&(I=k.charCodeAt(P+1)))==56320&&(C=65536+(C-55296<<10)+(I-56320),P++),C<128?A[z++]=C:(C<2048?A[z++]=192|C>>>6:(C<65536?A[z++]=224|C>>>12:(A[z++]=240|C>>>18,A[z++]=128|C>>>12&63),A[z++]=128|C>>>6&63),A[z++]=128|63&C);return A})(x)},o.utf8decode=function(x){return c.nodebuffer?u.transformTo("nodebuffer",x).toString("utf-8"):(function(k){var A,C,I,P,z=k.length,K=new Array(2*z);for(A=C=0;A<z;)if((I=k[A++])<128)K[C++]=I;else if(4<(P=g[I]))K[C++]=65533,A+=P-1;else{for(I&=P===2?31:P===3?15:7;1<P&&A<z;)I=I<<6|63&k[A++],P--;1<P?K[C++]=65533:I<65536?K[C++]=I:(I-=65536,K[C++]=55296|I>>10&1023,K[C++]=56320|1023&I)}return K.length!==C&&(K.subarray?K=K.subarray(0,C):K.length=C),u.applyFromCharCode(K)})(x=u.transformTo(c.uint8array?"uint8array":"array",x))},u.inherits(b,p),b.prototype.processChunk=function(x){var k=u.transformTo(c.uint8array?"uint8array":"array",x.data);if(this.leftOver&&this.leftOver.length){if(c.uint8array){var A=k;(k=new Uint8Array(A.length+this.leftOver.length)).set(this.leftOver,0),k.set(A,this.leftOver.length)}else k=this.leftOver.concat(k);this.leftOver=null}var C=(function(P,z){var K;for((z=z||P.length)>P.length&&(z=P.length),K=z-1;0<=K&&(192&P[K])==128;)K--;return K<0||K===0?z:K+g[P[K]]>z?K:z})(k),I=k;C!==k.length&&(c.uint8array?(I=k.subarray(0,C),this.leftOver=k.subarray(C,k.length)):(I=k.slice(0,C),this.leftOver=k.slice(C,k.length))),this.push({data:o.utf8decode(I),meta:x.meta})},b.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:o.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},o.Utf8DecodeWorker=b,u.inherits(E,p),E.prototype.processChunk=function(x){this.push({data:o.utf8encode(x.data),meta:x.meta})},o.Utf8EncodeWorker=E},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,s,o){var u=n("./support"),c=n("./base64"),d=n("./nodejsUtils"),p=n("./external");function g(A){return A}function v(A,C){for(var I=0;I<A.length;++I)C[I]=255&A.charCodeAt(I);return C}n("setimmediate"),o.newBlob=function(A,C){o.checkSupport("blob");try{return new Blob([A],{type:C})}catch{try{var I=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return I.append(A),I.getBlob(C)}catch{throw new Error("Bug : can't construct the Blob.")}}};var b={stringifyByChunk:function(A,C,I){var P=[],z=0,K=A.length;if(K<=I)return String.fromCharCode.apply(null,A);for(;z<K;)C==="array"||C==="nodebuffer"?P.push(String.fromCharCode.apply(null,A.slice(z,Math.min(z+I,K)))):P.push(String.fromCharCode.apply(null,A.subarray(z,Math.min(z+I,K)))),z+=I;return P.join("")},stringifyByChar:function(A){for(var C="",I=0;I<A.length;I++)C+=String.fromCharCode(A[I]);return C},applyCanBeUsed:{uint8array:(function(){try{return u.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return u.nodebuffer&&String.fromCharCode.apply(null,d.allocBuffer(1)).length===1}catch{return!1}})()}};function E(A){var C=65536,I=o.getTypeOf(A),P=!0;if(I==="uint8array"?P=b.applyCanBeUsed.uint8array:I==="nodebuffer"&&(P=b.applyCanBeUsed.nodebuffer),P)for(;1<C;)try{return b.stringifyByChunk(A,I,C)}catch{C=Math.floor(C/2)}return b.stringifyByChar(A)}function x(A,C){for(var I=0;I<A.length;I++)C[I]=A[I];return C}o.applyFromCharCode=E;var k={};k.string={string:g,array:function(A){return v(A,new Array(A.length))},arraybuffer:function(A){return k.string.uint8array(A).buffer},uint8array:function(A){return v(A,new Uint8Array(A.length))},nodebuffer:function(A){return v(A,d.allocBuffer(A.length))}},k.array={string:E,array:g,arraybuffer:function(A){return new Uint8Array(A).buffer},uint8array:function(A){return new Uint8Array(A)},nodebuffer:function(A){return d.newBufferFrom(A)}},k.arraybuffer={string:function(A){return E(new Uint8Array(A))},array:function(A){return x(new Uint8Array(A),new Array(A.byteLength))},arraybuffer:g,uint8array:function(A){return new Uint8Array(A)},nodebuffer:function(A){return d.newBufferFrom(new Uint8Array(A))}},k.uint8array={string:E,array:function(A){return x(A,new Array(A.length))},arraybuffer:function(A){return A.buffer},uint8array:g,nodebuffer:function(A){return d.newBufferFrom(A)}},k.nodebuffer={string:E,array:function(A){return x(A,new Array(A.length))},arraybuffer:function(A){return k.nodebuffer.uint8array(A).buffer},uint8array:function(A){return x(A,new Uint8Array(A.length))},nodebuffer:g},o.transformTo=function(A,C){if(C=C||"",!A)return C;o.checkSupport(A);var I=o.getTypeOf(C);return k[I][A](C)},o.resolve=function(A){for(var C=A.split("/"),I=[],P=0;P<C.length;P++){var z=C[P];z==="."||z===""&&P!==0&&P!==C.length-1||(z===".."?I.pop():I.push(z))}return I.join("/")},o.getTypeOf=function(A){return typeof A=="string"?"string":Object.prototype.toString.call(A)==="[object Array]"?"array":u.nodebuffer&&d.isBuffer(A)?"nodebuffer":u.uint8array&&A instanceof Uint8Array?"uint8array":u.arraybuffer&&A instanceof ArrayBuffer?"arraybuffer":void 0},o.checkSupport=function(A){if(!u[A.toLowerCase()])throw new Error(A+" is not supported by this platform")},o.MAX_VALUE_16BITS=65535,o.MAX_VALUE_32BITS=-1,o.pretty=function(A){var C,I,P="";for(I=0;I<(A||"").length;I++)P+="\\x"+((C=A.charCodeAt(I))<16?"0":"")+C.toString(16).toUpperCase();return P},o.delay=function(A,C,I){setImmediate(function(){A.apply(I||null,C||[])})},o.inherits=function(A,C){function I(){}I.prototype=C.prototype,A.prototype=new I},o.extend=function(){var A,C,I={};for(A=0;A<arguments.length;A++)for(C in arguments[A])Object.prototype.hasOwnProperty.call(arguments[A],C)&&I[C]===void 0&&(I[C]=arguments[A][C]);return I},o.prepareContent=function(A,C,I,P,z){return p.Promise.resolve(C).then(function(K){return u.blob&&(K instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(K))!==-1)&&typeof FileReader<"u"?new p.Promise(function(X,ae){var j=new FileReader;j.onload=function(M){X(M.target.result)},j.onerror=function(M){ae(M.target.error)},j.readAsArrayBuffer(K)}):K}).then(function(K){var X=o.getTypeOf(K);return X?(X==="arraybuffer"?K=o.transformTo("uint8array",K):X==="string"&&(z?K=c.decode(K):I&&P!==!0&&(K=(function(ae){return v(ae,u.uint8array?new Uint8Array(ae.length):new Array(ae.length))})(K))),K):p.Promise.reject(new Error("Can't read the data of '"+A+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,s,o){var u=n("./reader/readerFor"),c=n("./utils"),d=n("./signature"),p=n("./zipEntry"),g=n("./support");function v(b){this.files=[],this.loadOptions=b}v.prototype={checkSignature:function(b){if(!this.reader.readAndCheckSignature(b)){this.reader.index-=4;var E=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+c.pretty(E)+", expected "+c.pretty(b)+")")}},isSignature:function(b,E){var x=this.reader.index;this.reader.setIndex(b);var k=this.reader.readString(4)===E;return this.reader.setIndex(x),k},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var b=this.reader.readData(this.zipCommentLength),E=g.uint8array?"uint8array":"array",x=c.transformTo(E,b);this.zipComment=this.loadOptions.decodeFileName(x)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var b,E,x,k=this.zip64EndOfCentralSize-44;0<k;)b=this.reader.readInt(2),E=this.reader.readInt(4),x=this.reader.readData(E),this.zip64ExtensibleData[b]={id:b,length:E,value:x}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var b,E;for(b=0;b<this.files.length;b++)E=this.files[b],this.reader.setIndex(E.localHeaderOffset),this.checkSignature(d.LOCAL_FILE_HEADER),E.readLocalPart(this.reader),E.handleUTF8(),E.processAttributes()},readCentralDir:function(){var b;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(d.CENTRAL_FILE_HEADER);)(b=new p({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(b);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var b=this.reader.lastIndexOfSignature(d.CENTRAL_DIRECTORY_END);if(b<0)throw this.isSignature(0,d.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(b);var E=b;if(this.checkSignature(d.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===c.MAX_VALUE_16BITS||this.diskWithCentralDirStart===c.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===c.MAX_VALUE_16BITS||this.centralDirRecords===c.MAX_VALUE_16BITS||this.centralDirSize===c.MAX_VALUE_32BITS||this.centralDirOffset===c.MAX_VALUE_32BITS){if(this.zip64=!0,(b=this.reader.lastIndexOfSignature(d.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(b),this.checkSignature(d.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,d.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(d.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(d.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var x=this.centralDirOffset+this.centralDirSize;this.zip64&&(x+=20,x+=12+this.zip64EndOfCentralSize);var k=E-x;if(0<k)this.isSignature(E,d.CENTRAL_FILE_HEADER)||(this.reader.zero=k);else if(k<0)throw new Error("Corrupted zip: missing "+Math.abs(k)+" bytes.")},prepareReader:function(b){this.reader=u(b)},load:function(b){this.prepareReader(b),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},s.exports=v},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,s,o){var u=n("./reader/readerFor"),c=n("./utils"),d=n("./compressedObject"),p=n("./crc32"),g=n("./utf8"),v=n("./compressions"),b=n("./support");function E(x,k){this.options=x,this.loadOptions=k}E.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(x){var k,A;if(x.skip(22),this.fileNameLength=x.readInt(2),A=x.readInt(2),this.fileName=x.readData(this.fileNameLength),x.skip(A),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((k=(function(C){for(var I in v)if(Object.prototype.hasOwnProperty.call(v,I)&&v[I].magic===C)return v[I];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+c.pretty(this.compressionMethod)+" unknown (inner file : "+c.transformTo("string",this.fileName)+")");this.decompressed=new d(this.compressedSize,this.uncompressedSize,this.crc32,k,x.readData(this.compressedSize))},readCentralPart:function(x){this.versionMadeBy=x.readInt(2),x.skip(2),this.bitFlag=x.readInt(2),this.compressionMethod=x.readString(2),this.date=x.readDate(),this.crc32=x.readInt(4),this.compressedSize=x.readInt(4),this.uncompressedSize=x.readInt(4);var k=x.readInt(2);if(this.extraFieldsLength=x.readInt(2),this.fileCommentLength=x.readInt(2),this.diskNumberStart=x.readInt(2),this.internalFileAttributes=x.readInt(2),this.externalFileAttributes=x.readInt(4),this.localHeaderOffset=x.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");x.skip(k),this.readExtraFields(x),this.parseZIP64ExtraField(x),this.fileComment=x.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var x=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),x==0&&(this.dosPermissions=63&this.externalFileAttributes),x==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var x=u(this.extraFields[1].value);this.uncompressedSize===c.MAX_VALUE_32BITS&&(this.uncompressedSize=x.readInt(8)),this.compressedSize===c.MAX_VALUE_32BITS&&(this.compressedSize=x.readInt(8)),this.localHeaderOffset===c.MAX_VALUE_32BITS&&(this.localHeaderOffset=x.readInt(8)),this.diskNumberStart===c.MAX_VALUE_32BITS&&(this.diskNumberStart=x.readInt(4))}},readExtraFields:function(x){var k,A,C,I=x.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});x.index+4<I;)k=x.readInt(2),A=x.readInt(2),C=x.readData(A),this.extraFields[k]={id:k,length:A,value:C};x.setIndex(I)},handleUTF8:function(){var x=b.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=g.utf8decode(this.fileName),this.fileCommentStr=g.utf8decode(this.fileComment);else{var k=this.findExtraFieldUnicodePath();if(k!==null)this.fileNameStr=k;else{var A=c.transformTo(x,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(A)}var C=this.findExtraFieldUnicodeComment();if(C!==null)this.fileCommentStr=C;else{var I=c.transformTo(x,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(I)}}},findExtraFieldUnicodePath:function(){var x=this.extraFields[28789];if(x){var k=u(x.value);return k.readInt(1)!==1||p(this.fileName)!==k.readInt(4)?null:g.utf8decode(k.readData(x.length-5))}return null},findExtraFieldUnicodeComment:function(){var x=this.extraFields[25461];if(x){var k=u(x.value);return k.readInt(1)!==1||p(this.fileComment)!==k.readInt(4)?null:g.utf8decode(k.readData(x.length-5))}return null}},s.exports=E},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,s,o){function u(k,A,C){this.name=k,this.dir=C.dir,this.date=C.date,this.comment=C.comment,this.unixPermissions=C.unixPermissions,this.dosPermissions=C.dosPermissions,this._data=A,this._dataBinary=C.binary,this.options={compression:C.compression,compressionOptions:C.compressionOptions}}var c=n("./stream/StreamHelper"),d=n("./stream/DataWorker"),p=n("./utf8"),g=n("./compressedObject"),v=n("./stream/GenericWorker");u.prototype={internalStream:function(k){var A=null,C="string";try{if(!k)throw new Error("No output type specified.");var I=(C=k.toLowerCase())==="string"||C==="text";C!=="binarystring"&&C!=="text"||(C="string"),A=this._decompressWorker();var P=!this._dataBinary;P&&!I&&(A=A.pipe(new p.Utf8EncodeWorker)),!P&&I&&(A=A.pipe(new p.Utf8DecodeWorker))}catch(z){(A=new v("error")).error(z)}return new c(A,C,"")},async:function(k,A){return this.internalStream(k).accumulate(A)},nodeStream:function(k,A){return this.internalStream(k||"nodebuffer").toNodejsStream(A)},_compressWorker:function(k,A){if(this._data instanceof g&&this._data.compression.magic===k.magic)return this._data.getCompressedWorker();var C=this._decompressWorker();return this._dataBinary||(C=C.pipe(new p.Utf8EncodeWorker)),g.createWorkerFrom(C,k,A)},_decompressWorker:function(){return this._data instanceof g?this._data.getContentWorker():this._data instanceof v?this._data:new d(this._data)}};for(var b=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],E=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},x=0;x<b.length;x++)u.prototype[b[x]]=E;s.exports=u},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,s,o){(function(u){var c,d,p=u.MutationObserver||u.WebKitMutationObserver;if(p){var g=0,v=new p(k),b=u.document.createTextNode("");v.observe(b,{characterData:!0}),c=function(){b.data=g=++g%2}}else if(u.setImmediate||u.MessageChannel===void 0)c="document"in u&&"onreadystatechange"in u.document.createElement("script")?function(){var A=u.document.createElement("script");A.onreadystatechange=function(){k(),A.onreadystatechange=null,A.parentNode.removeChild(A),A=null},u.document.documentElement.appendChild(A)}:function(){setTimeout(k,0)};else{var E=new u.MessageChannel;E.port1.onmessage=k,c=function(){E.port2.postMessage(0)}}var x=[];function k(){var A,C;d=!0;for(var I=x.length;I;){for(C=x,x=[],A=-1;++A<I;)C[A]();I=x.length}d=!1}s.exports=function(A){x.push(A)!==1||d||c()}}).call(this,typeof gs<"u"?gs:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,s,o){var u=n("immediate");function c(){}var d={},p=["REJECTED"],g=["FULFILLED"],v=["PENDING"];function b(I){if(typeof I!="function")throw new TypeError("resolver must be a function");this.state=v,this.queue=[],this.outcome=void 0,I!==c&&A(this,I)}function E(I,P,z){this.promise=I,typeof P=="function"&&(this.onFulfilled=P,this.callFulfilled=this.otherCallFulfilled),typeof z=="function"&&(this.onRejected=z,this.callRejected=this.otherCallRejected)}function x(I,P,z){u(function(){var K;try{K=P(z)}catch(X){return d.reject(I,X)}K===I?d.reject(I,new TypeError("Cannot resolve promise with itself")):d.resolve(I,K)})}function k(I){var P=I&&I.then;if(I&&(typeof I=="object"||typeof I=="function")&&typeof P=="function")return function(){P.apply(I,arguments)}}function A(I,P){var z=!1;function K(j){z||(z=!0,d.reject(I,j))}function X(j){z||(z=!0,d.resolve(I,j))}var ae=C(function(){P(X,K)});ae.status==="error"&&K(ae.value)}function C(I,P){var z={};try{z.value=I(P),z.status="success"}catch(K){z.status="error",z.value=K}return z}(s.exports=b).prototype.finally=function(I){if(typeof I!="function")return this;var P=this.constructor;return this.then(function(z){return P.resolve(I()).then(function(){return z})},function(z){return P.resolve(I()).then(function(){throw z})})},b.prototype.catch=function(I){return this.then(null,I)},b.prototype.then=function(I,P){if(typeof I!="function"&&this.state===g||typeof P!="function"&&this.state===p)return this;var z=new this.constructor(c);return this.state!==v?x(z,this.state===g?I:P,this.outcome):this.queue.push(new E(z,I,P)),z},E.prototype.callFulfilled=function(I){d.resolve(this.promise,I)},E.prototype.otherCallFulfilled=function(I){x(this.promise,this.onFulfilled,I)},E.prototype.callRejected=function(I){d.reject(this.promise,I)},E.prototype.otherCallRejected=function(I){x(this.promise,this.onRejected,I)},d.resolve=function(I,P){var z=C(k,P);if(z.status==="error")return d.reject(I,z.value);var K=z.value;if(K)A(I,K);else{I.state=g,I.outcome=P;for(var X=-1,ae=I.queue.length;++X<ae;)I.queue[X].callFulfilled(P)}return I},d.reject=function(I,P){I.state=p,I.outcome=P;for(var z=-1,K=I.queue.length;++z<K;)I.queue[z].callRejected(P);return I},b.resolve=function(I){return I instanceof this?I:d.resolve(new this(c),I)},b.reject=function(I){var P=new this(c);return d.reject(P,I)},b.all=function(I){var P=this;if(Object.prototype.toString.call(I)!=="[object Array]")return this.reject(new TypeError("must be an array"));var z=I.length,K=!1;if(!z)return this.resolve([]);for(var X=new Array(z),ae=0,j=-1,M=new this(c);++j<z;)O(I[j],j);return M;function O(H,B){P.resolve(H).then(function(N){X[B]=N,++ae!==z||K||(K=!0,d.resolve(M,X))},function(N){K||(K=!0,d.reject(M,N))})}},b.race=function(I){var P=this;if(Object.prototype.toString.call(I)!=="[object Array]")return this.reject(new TypeError("must be an array"));var z=I.length,K=!1;if(!z)return this.resolve([]);for(var X=-1,ae=new this(c);++X<z;)j=I[X],P.resolve(j).then(function(M){K||(K=!0,d.resolve(ae,M))},function(M){K||(K=!0,d.reject(ae,M))});var j;return ae}},{immediate:36}],38:[function(n,s,o){var u={};(0,n("./lib/utils/common").assign)(u,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),s.exports=u},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,s,o){var u=n("./zlib/deflate"),c=n("./utils/common"),d=n("./utils/strings"),p=n("./zlib/messages"),g=n("./zlib/zstream"),v=Object.prototype.toString,b=0,E=-1,x=0,k=8;function A(I){if(!(this instanceof A))return new A(I);this.options=c.assign({level:E,method:k,chunkSize:16384,windowBits:15,memLevel:8,strategy:x,to:""},I||{});var P=this.options;P.raw&&0<P.windowBits?P.windowBits=-P.windowBits:P.gzip&&0<P.windowBits&&P.windowBits<16&&(P.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new g,this.strm.avail_out=0;var z=u.deflateInit2(this.strm,P.level,P.method,P.windowBits,P.memLevel,P.strategy);if(z!==b)throw new Error(p[z]);if(P.header&&u.deflateSetHeader(this.strm,P.header),P.dictionary){var K;if(K=typeof P.dictionary=="string"?d.string2buf(P.dictionary):v.call(P.dictionary)==="[object ArrayBuffer]"?new Uint8Array(P.dictionary):P.dictionary,(z=u.deflateSetDictionary(this.strm,K))!==b)throw new Error(p[z]);this._dict_set=!0}}function C(I,P){var z=new A(P);if(z.push(I,!0),z.err)throw z.msg||p[z.err];return z.result}A.prototype.push=function(I,P){var z,K,X=this.strm,ae=this.options.chunkSize;if(this.ended)return!1;K=P===~~P?P:P===!0?4:0,typeof I=="string"?X.input=d.string2buf(I):v.call(I)==="[object ArrayBuffer]"?X.input=new Uint8Array(I):X.input=I,X.next_in=0,X.avail_in=X.input.length;do{if(X.avail_out===0&&(X.output=new c.Buf8(ae),X.next_out=0,X.avail_out=ae),(z=u.deflate(X,K))!==1&&z!==b)return this.onEnd(z),!(this.ended=!0);X.avail_out!==0&&(X.avail_in!==0||K!==4&&K!==2)||(this.options.to==="string"?this.onData(d.buf2binstring(c.shrinkBuf(X.output,X.next_out))):this.onData(c.shrinkBuf(X.output,X.next_out)))}while((0<X.avail_in||X.avail_out===0)&&z!==1);return K===4?(z=u.deflateEnd(this.strm),this.onEnd(z),this.ended=!0,z===b):K!==2||(this.onEnd(b),!(X.avail_out=0))},A.prototype.onData=function(I){this.chunks.push(I)},A.prototype.onEnd=function(I){I===b&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=c.flattenChunks(this.chunks)),this.chunks=[],this.err=I,this.msg=this.strm.msg},o.Deflate=A,o.deflate=C,o.deflateRaw=function(I,P){return(P=P||{}).raw=!0,C(I,P)},o.gzip=function(I,P){return(P=P||{}).gzip=!0,C(I,P)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,s,o){var u=n("./zlib/inflate"),c=n("./utils/common"),d=n("./utils/strings"),p=n("./zlib/constants"),g=n("./zlib/messages"),v=n("./zlib/zstream"),b=n("./zlib/gzheader"),E=Object.prototype.toString;function x(A){if(!(this instanceof x))return new x(A);this.options=c.assign({chunkSize:16384,windowBits:0,to:""},A||{});var C=this.options;C.raw&&0<=C.windowBits&&C.windowBits<16&&(C.windowBits=-C.windowBits,C.windowBits===0&&(C.windowBits=-15)),!(0<=C.windowBits&&C.windowBits<16)||A&&A.windowBits||(C.windowBits+=32),15<C.windowBits&&C.windowBits<48&&(15&C.windowBits)==0&&(C.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new v,this.strm.avail_out=0;var I=u.inflateInit2(this.strm,C.windowBits);if(I!==p.Z_OK)throw new Error(g[I]);this.header=new b,u.inflateGetHeader(this.strm,this.header)}function k(A,C){var I=new x(C);if(I.push(A,!0),I.err)throw I.msg||g[I.err];return I.result}x.prototype.push=function(A,C){var I,P,z,K,X,ae,j=this.strm,M=this.options.chunkSize,O=this.options.dictionary,H=!1;if(this.ended)return!1;P=C===~~C?C:C===!0?p.Z_FINISH:p.Z_NO_FLUSH,typeof A=="string"?j.input=d.binstring2buf(A):E.call(A)==="[object ArrayBuffer]"?j.input=new Uint8Array(A):j.input=A,j.next_in=0,j.avail_in=j.input.length;do{if(j.avail_out===0&&(j.output=new c.Buf8(M),j.next_out=0,j.avail_out=M),(I=u.inflate(j,p.Z_NO_FLUSH))===p.Z_NEED_DICT&&O&&(ae=typeof O=="string"?d.string2buf(O):E.call(O)==="[object ArrayBuffer]"?new Uint8Array(O):O,I=u.inflateSetDictionary(this.strm,ae)),I===p.Z_BUF_ERROR&&H===!0&&(I=p.Z_OK,H=!1),I!==p.Z_STREAM_END&&I!==p.Z_OK)return this.onEnd(I),!(this.ended=!0);j.next_out&&(j.avail_out!==0&&I!==p.Z_STREAM_END&&(j.avail_in!==0||P!==p.Z_FINISH&&P!==p.Z_SYNC_FLUSH)||(this.options.to==="string"?(z=d.utf8border(j.output,j.next_out),K=j.next_out-z,X=d.buf2string(j.output,z),j.next_out=K,j.avail_out=M-K,K&&c.arraySet(j.output,j.output,z,K,0),this.onData(X)):this.onData(c.shrinkBuf(j.output,j.next_out)))),j.avail_in===0&&j.avail_out===0&&(H=!0)}while((0<j.avail_in||j.avail_out===0)&&I!==p.Z_STREAM_END);return I===p.Z_STREAM_END&&(P=p.Z_FINISH),P===p.Z_FINISH?(I=u.inflateEnd(this.strm),this.onEnd(I),this.ended=!0,I===p.Z_OK):P!==p.Z_SYNC_FLUSH||(this.onEnd(p.Z_OK),!(j.avail_out=0))},x.prototype.onData=function(A){this.chunks.push(A)},x.prototype.onEnd=function(A){A===p.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=c.flattenChunks(this.chunks)),this.chunks=[],this.err=A,this.msg=this.strm.msg},o.Inflate=x,o.inflate=k,o.inflateRaw=function(A,C){return(C=C||{}).raw=!0,k(A,C)},o.ungzip=k},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,s,o){var u=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";o.assign=function(p){for(var g=Array.prototype.slice.call(arguments,1);g.length;){var v=g.shift();if(v){if(typeof v!="object")throw new TypeError(v+"must be non-object");for(var b in v)v.hasOwnProperty(b)&&(p[b]=v[b])}}return p},o.shrinkBuf=function(p,g){return p.length===g?p:p.subarray?p.subarray(0,g):(p.length=g,p)};var c={arraySet:function(p,g,v,b,E){if(g.subarray&&p.subarray)p.set(g.subarray(v,v+b),E);else for(var x=0;x<b;x++)p[E+x]=g[v+x]},flattenChunks:function(p){var g,v,b,E,x,k;for(g=b=0,v=p.length;g<v;g++)b+=p[g].length;for(k=new Uint8Array(b),g=E=0,v=p.length;g<v;g++)x=p[g],k.set(x,E),E+=x.length;return k}},d={arraySet:function(p,g,v,b,E){for(var x=0;x<b;x++)p[E+x]=g[v+x]},flattenChunks:function(p){return[].concat.apply([],p)}};o.setTyped=function(p){p?(o.Buf8=Uint8Array,o.Buf16=Uint16Array,o.Buf32=Int32Array,o.assign(o,c)):(o.Buf8=Array,o.Buf16=Array,o.Buf32=Array,o.assign(o,d))},o.setTyped(u)},{}],42:[function(n,s,o){var u=n("./common"),c=!0,d=!0;try{String.fromCharCode.apply(null,[0])}catch{c=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{d=!1}for(var p=new u.Buf8(256),g=0;g<256;g++)p[g]=252<=g?6:248<=g?5:240<=g?4:224<=g?3:192<=g?2:1;function v(b,E){if(E<65537&&(b.subarray&&d||!b.subarray&&c))return String.fromCharCode.apply(null,u.shrinkBuf(b,E));for(var x="",k=0;k<E;k++)x+=String.fromCharCode(b[k]);return x}p[254]=p[254]=1,o.string2buf=function(b){var E,x,k,A,C,I=b.length,P=0;for(A=0;A<I;A++)(64512&(x=b.charCodeAt(A)))==55296&&A+1<I&&(64512&(k=b.charCodeAt(A+1)))==56320&&(x=65536+(x-55296<<10)+(k-56320),A++),P+=x<128?1:x<2048?2:x<65536?3:4;for(E=new u.Buf8(P),A=C=0;C<P;A++)(64512&(x=b.charCodeAt(A)))==55296&&A+1<I&&(64512&(k=b.charCodeAt(A+1)))==56320&&(x=65536+(x-55296<<10)+(k-56320),A++),x<128?E[C++]=x:(x<2048?E[C++]=192|x>>>6:(x<65536?E[C++]=224|x>>>12:(E[C++]=240|x>>>18,E[C++]=128|x>>>12&63),E[C++]=128|x>>>6&63),E[C++]=128|63&x);return E},o.buf2binstring=function(b){return v(b,b.length)},o.binstring2buf=function(b){for(var E=new u.Buf8(b.length),x=0,k=E.length;x<k;x++)E[x]=b.charCodeAt(x);return E},o.buf2string=function(b,E){var x,k,A,C,I=E||b.length,P=new Array(2*I);for(x=k=0;x<I;)if((A=b[x++])<128)P[k++]=A;else if(4<(C=p[A]))P[k++]=65533,x+=C-1;else{for(A&=C===2?31:C===3?15:7;1<C&&x<I;)A=A<<6|63&b[x++],C--;1<C?P[k++]=65533:A<65536?P[k++]=A:(A-=65536,P[k++]=55296|A>>10&1023,P[k++]=56320|1023&A)}return v(P,k)},o.utf8border=function(b,E){var x;for((E=E||b.length)>b.length&&(E=b.length),x=E-1;0<=x&&(192&b[x])==128;)x--;return x<0||x===0?E:x+p[b[x]]>E?x:E}},{"./common":41}],43:[function(n,s,o){s.exports=function(u,c,d,p){for(var g=65535&u|0,v=u>>>16&65535|0,b=0;d!==0;){for(d-=b=2e3<d?2e3:d;v=v+(g=g+c[p++]|0)|0,--b;);g%=65521,v%=65521}return g|v<<16|0}},{}],44:[function(n,s,o){s.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,s,o){var u=(function(){for(var c,d=[],p=0;p<256;p++){c=p;for(var g=0;g<8;g++)c=1&c?3988292384^c>>>1:c>>>1;d[p]=c}return d})();s.exports=function(c,d,p,g){var v=u,b=g+p;c^=-1;for(var E=g;E<b;E++)c=c>>>8^v[255&(c^d[E])];return-1^c}},{}],46:[function(n,s,o){var u,c=n("../utils/common"),d=n("./trees"),p=n("./adler32"),g=n("./crc32"),v=n("./messages"),b=0,E=4,x=0,k=-2,A=-1,C=4,I=2,P=8,z=9,K=286,X=30,ae=19,j=2*K+1,M=15,O=3,H=258,B=H+O+1,N=42,D=113,R=1,ie=2,$=3,te=4;function Se(S,J){return S.msg=v[J],J}function ge(S){return(S<<1)-(4<S?9:0)}function Ne(S){for(var J=S.length;0<=--J;)S[J]=0}function V(S){var J=S.state,ne=J.pending;ne>S.avail_out&&(ne=S.avail_out),ne!==0&&(c.arraySet(S.output,J.pending_buf,J.pending_out,ne,S.next_out),S.next_out+=ne,J.pending_out+=ne,S.total_out+=ne,S.avail_out-=ne,J.pending-=ne,J.pending===0&&(J.pending_out=0))}function G(S,J){d._tr_flush_block(S,0<=S.block_start?S.block_start:-1,S.strstart-S.block_start,J),S.block_start=S.strstart,V(S.strm)}function me(S,J){S.pending_buf[S.pending++]=J}function de(S,J){S.pending_buf[S.pending++]=J>>>8&255,S.pending_buf[S.pending++]=255&J}function pe(S,J){var ne,q,F=S.max_chain_length,Y=S.strstart,ce=S.prev_length,_e=S.nice_match,re=S.strstart>S.w_size-B?S.strstart-(S.w_size-B):0,Te=S.window,Re=S.w_mask,Ae=S.prev,je=S.strstart+H,Je=Te[Y+ce-1],qe=Te[Y+ce];S.prev_length>=S.good_match&&(F>>=2),_e>S.lookahead&&(_e=S.lookahead);do if(Te[(ne=J)+ce]===qe&&Te[ne+ce-1]===Je&&Te[ne]===Te[Y]&&Te[++ne]===Te[Y+1]){Y+=2,ne++;do;while(Te[++Y]===Te[++ne]&&Te[++Y]===Te[++ne]&&Te[++Y]===Te[++ne]&&Te[++Y]===Te[++ne]&&Te[++Y]===Te[++ne]&&Te[++Y]===Te[++ne]&&Te[++Y]===Te[++ne]&&Te[++Y]===Te[++ne]&&Y<je);if(q=H-(je-Y),Y=je-H,ce<q){if(S.match_start=J,_e<=(ce=q))break;Je=Te[Y+ce-1],qe=Te[Y+ce]}}while((J=Ae[J&Re])>re&&--F!=0);return ce<=S.lookahead?ce:S.lookahead}function Ie(S){var J,ne,q,F,Y,ce,_e,re,Te,Re,Ae=S.w_size;do{if(F=S.window_size-S.lookahead-S.strstart,S.strstart>=Ae+(Ae-B)){for(c.arraySet(S.window,S.window,Ae,Ae,0),S.match_start-=Ae,S.strstart-=Ae,S.block_start-=Ae,J=ne=S.hash_size;q=S.head[--J],S.head[J]=Ae<=q?q-Ae:0,--ne;);for(J=ne=Ae;q=S.prev[--J],S.prev[J]=Ae<=q?q-Ae:0,--ne;);F+=Ae}if(S.strm.avail_in===0)break;if(ce=S.strm,_e=S.window,re=S.strstart+S.lookahead,Te=F,Re=void 0,Re=ce.avail_in,Te<Re&&(Re=Te),ne=Re===0?0:(ce.avail_in-=Re,c.arraySet(_e,ce.input,ce.next_in,Re,re),ce.state.wrap===1?ce.adler=p(ce.adler,_e,Re,re):ce.state.wrap===2&&(ce.adler=g(ce.adler,_e,Re,re)),ce.next_in+=Re,ce.total_in+=Re,Re),S.lookahead+=ne,S.lookahead+S.insert>=O)for(Y=S.strstart-S.insert,S.ins_h=S.window[Y],S.ins_h=(S.ins_h<<S.hash_shift^S.window[Y+1])&S.hash_mask;S.insert&&(S.ins_h=(S.ins_h<<S.hash_shift^S.window[Y+O-1])&S.hash_mask,S.prev[Y&S.w_mask]=S.head[S.ins_h],S.head[S.ins_h]=Y,Y++,S.insert--,!(S.lookahead+S.insert<O)););}while(S.lookahead<B&&S.strm.avail_in!==0)}function Pe(S,J){for(var ne,q;;){if(S.lookahead<B){if(Ie(S),S.lookahead<B&&J===b)return R;if(S.lookahead===0)break}if(ne=0,S.lookahead>=O&&(S.ins_h=(S.ins_h<<S.hash_shift^S.window[S.strstart+O-1])&S.hash_mask,ne=S.prev[S.strstart&S.w_mask]=S.head[S.ins_h],S.head[S.ins_h]=S.strstart),ne!==0&&S.strstart-ne<=S.w_size-B&&(S.match_length=pe(S,ne)),S.match_length>=O)if(q=d._tr_tally(S,S.strstart-S.match_start,S.match_length-O),S.lookahead-=S.match_length,S.match_length<=S.max_lazy_match&&S.lookahead>=O){for(S.match_length--;S.strstart++,S.ins_h=(S.ins_h<<S.hash_shift^S.window[S.strstart+O-1])&S.hash_mask,ne=S.prev[S.strstart&S.w_mask]=S.head[S.ins_h],S.head[S.ins_h]=S.strstart,--S.match_length!=0;);S.strstart++}else S.strstart+=S.match_length,S.match_length=0,S.ins_h=S.window[S.strstart],S.ins_h=(S.ins_h<<S.hash_shift^S.window[S.strstart+1])&S.hash_mask;else q=d._tr_tally(S,0,S.window[S.strstart]),S.lookahead--,S.strstart++;if(q&&(G(S,!1),S.strm.avail_out===0))return R}return S.insert=S.strstart<O-1?S.strstart:O-1,J===E?(G(S,!0),S.strm.avail_out===0?$:te):S.last_lit&&(G(S,!1),S.strm.avail_out===0)?R:ie}function Le(S,J){for(var ne,q,F;;){if(S.lookahead<B){if(Ie(S),S.lookahead<B&&J===b)return R;if(S.lookahead===0)break}if(ne=0,S.lookahead>=O&&(S.ins_h=(S.ins_h<<S.hash_shift^S.window[S.strstart+O-1])&S.hash_mask,ne=S.prev[S.strstart&S.w_mask]=S.head[S.ins_h],S.head[S.ins_h]=S.strstart),S.prev_length=S.match_length,S.prev_match=S.match_start,S.match_length=O-1,ne!==0&&S.prev_length<S.max_lazy_match&&S.strstart-ne<=S.w_size-B&&(S.match_length=pe(S,ne),S.match_length<=5&&(S.strategy===1||S.match_length===O&&4096<S.strstart-S.match_start)&&(S.match_length=O-1)),S.prev_length>=O&&S.match_length<=S.prev_length){for(F=S.strstart+S.lookahead-O,q=d._tr_tally(S,S.strstart-1-S.prev_match,S.prev_length-O),S.lookahead-=S.prev_length-1,S.prev_length-=2;++S.strstart<=F&&(S.ins_h=(S.ins_h<<S.hash_shift^S.window[S.strstart+O-1])&S.hash_mask,ne=S.prev[S.strstart&S.w_mask]=S.head[S.ins_h],S.head[S.ins_h]=S.strstart),--S.prev_length!=0;);if(S.match_available=0,S.match_length=O-1,S.strstart++,q&&(G(S,!1),S.strm.avail_out===0))return R}else if(S.match_available){if((q=d._tr_tally(S,0,S.window[S.strstart-1]))&&G(S,!1),S.strstart++,S.lookahead--,S.strm.avail_out===0)return R}else S.match_available=1,S.strstart++,S.lookahead--}return S.match_available&&(q=d._tr_tally(S,0,S.window[S.strstart-1]),S.match_available=0),S.insert=S.strstart<O-1?S.strstart:O-1,J===E?(G(S,!0),S.strm.avail_out===0?$:te):S.last_lit&&(G(S,!1),S.strm.avail_out===0)?R:ie}function Oe(S,J,ne,q,F){this.good_length=S,this.max_lazy=J,this.nice_length=ne,this.max_chain=q,this.func=F}function gt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=P,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new c.Buf16(2*j),this.dyn_dtree=new c.Buf16(2*(2*X+1)),this.bl_tree=new c.Buf16(2*(2*ae+1)),Ne(this.dyn_ltree),Ne(this.dyn_dtree),Ne(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new c.Buf16(M+1),this.heap=new c.Buf16(2*K+1),Ne(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new c.Buf16(2*K+1),Ne(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ft(S){var J;return S&&S.state?(S.total_in=S.total_out=0,S.data_type=I,(J=S.state).pending=0,J.pending_out=0,J.wrap<0&&(J.wrap=-J.wrap),J.status=J.wrap?N:D,S.adler=J.wrap===2?0:1,J.last_flush=b,d._tr_init(J),x):Se(S,k)}function Ut(S){var J=ft(S);return J===x&&(function(ne){ne.window_size=2*ne.w_size,Ne(ne.head),ne.max_lazy_match=u[ne.level].max_lazy,ne.good_match=u[ne.level].good_length,ne.nice_match=u[ne.level].nice_length,ne.max_chain_length=u[ne.level].max_chain,ne.strstart=0,ne.block_start=0,ne.lookahead=0,ne.insert=0,ne.match_length=ne.prev_length=O-1,ne.match_available=0,ne.ins_h=0})(S.state),J}function Vt(S,J,ne,q,F,Y){if(!S)return k;var ce=1;if(J===A&&(J=6),q<0?(ce=0,q=-q):15<q&&(ce=2,q-=16),F<1||z<F||ne!==P||q<8||15<q||J<0||9<J||Y<0||C<Y)return Se(S,k);q===8&&(q=9);var _e=new gt;return(S.state=_e).strm=S,_e.wrap=ce,_e.gzhead=null,_e.w_bits=q,_e.w_size=1<<_e.w_bits,_e.w_mask=_e.w_size-1,_e.hash_bits=F+7,_e.hash_size=1<<_e.hash_bits,_e.hash_mask=_e.hash_size-1,_e.hash_shift=~~((_e.hash_bits+O-1)/O),_e.window=new c.Buf8(2*_e.w_size),_e.head=new c.Buf16(_e.hash_size),_e.prev=new c.Buf16(_e.w_size),_e.lit_bufsize=1<<F+6,_e.pending_buf_size=4*_e.lit_bufsize,_e.pending_buf=new c.Buf8(_e.pending_buf_size),_e.d_buf=1*_e.lit_bufsize,_e.l_buf=3*_e.lit_bufsize,_e.level=J,_e.strategy=Y,_e.method=ne,Ut(S)}u=[new Oe(0,0,0,0,function(S,J){var ne=65535;for(ne>S.pending_buf_size-5&&(ne=S.pending_buf_size-5);;){if(S.lookahead<=1){if(Ie(S),S.lookahead===0&&J===b)return R;if(S.lookahead===0)break}S.strstart+=S.lookahead,S.lookahead=0;var q=S.block_start+ne;if((S.strstart===0||S.strstart>=q)&&(S.lookahead=S.strstart-q,S.strstart=q,G(S,!1),S.strm.avail_out===0)||S.strstart-S.block_start>=S.w_size-B&&(G(S,!1),S.strm.avail_out===0))return R}return S.insert=0,J===E?(G(S,!0),S.strm.avail_out===0?$:te):(S.strstart>S.block_start&&(G(S,!1),S.strm.avail_out),R)}),new Oe(4,4,8,4,Pe),new Oe(4,5,16,8,Pe),new Oe(4,6,32,32,Pe),new Oe(4,4,16,16,Le),new Oe(8,16,32,32,Le),new Oe(8,16,128,128,Le),new Oe(8,32,128,256,Le),new Oe(32,128,258,1024,Le),new Oe(32,258,258,4096,Le)],o.deflateInit=function(S,J){return Vt(S,J,P,15,8,0)},o.deflateInit2=Vt,o.deflateReset=Ut,o.deflateResetKeep=ft,o.deflateSetHeader=function(S,J){return S&&S.state?S.state.wrap!==2?k:(S.state.gzhead=J,x):k},o.deflate=function(S,J){var ne,q,F,Y;if(!S||!S.state||5<J||J<0)return S?Se(S,k):k;if(q=S.state,!S.output||!S.input&&S.avail_in!==0||q.status===666&&J!==E)return Se(S,S.avail_out===0?-5:k);if(q.strm=S,ne=q.last_flush,q.last_flush=J,q.status===N)if(q.wrap===2)S.adler=0,me(q,31),me(q,139),me(q,8),q.gzhead?(me(q,(q.gzhead.text?1:0)+(q.gzhead.hcrc?2:0)+(q.gzhead.extra?4:0)+(q.gzhead.name?8:0)+(q.gzhead.comment?16:0)),me(q,255&q.gzhead.time),me(q,q.gzhead.time>>8&255),me(q,q.gzhead.time>>16&255),me(q,q.gzhead.time>>24&255),me(q,q.level===9?2:2<=q.strategy||q.level<2?4:0),me(q,255&q.gzhead.os),q.gzhead.extra&&q.gzhead.extra.length&&(me(q,255&q.gzhead.extra.length),me(q,q.gzhead.extra.length>>8&255)),q.gzhead.hcrc&&(S.adler=g(S.adler,q.pending_buf,q.pending,0)),q.gzindex=0,q.status=69):(me(q,0),me(q,0),me(q,0),me(q,0),me(q,0),me(q,q.level===9?2:2<=q.strategy||q.level<2?4:0),me(q,3),q.status=D);else{var ce=P+(q.w_bits-8<<4)<<8;ce|=(2<=q.strategy||q.level<2?0:q.level<6?1:q.level===6?2:3)<<6,q.strstart!==0&&(ce|=32),ce+=31-ce%31,q.status=D,de(q,ce),q.strstart!==0&&(de(q,S.adler>>>16),de(q,65535&S.adler)),S.adler=1}if(q.status===69)if(q.gzhead.extra){for(F=q.pending;q.gzindex<(65535&q.gzhead.extra.length)&&(q.pending!==q.pending_buf_size||(q.gzhead.hcrc&&q.pending>F&&(S.adler=g(S.adler,q.pending_buf,q.pending-F,F)),V(S),F=q.pending,q.pending!==q.pending_buf_size));)me(q,255&q.gzhead.extra[q.gzindex]),q.gzindex++;q.gzhead.hcrc&&q.pending>F&&(S.adler=g(S.adler,q.pending_buf,q.pending-F,F)),q.gzindex===q.gzhead.extra.length&&(q.gzindex=0,q.status=73)}else q.status=73;if(q.status===73)if(q.gzhead.name){F=q.pending;do{if(q.pending===q.pending_buf_size&&(q.gzhead.hcrc&&q.pending>F&&(S.adler=g(S.adler,q.pending_buf,q.pending-F,F)),V(S),F=q.pending,q.pending===q.pending_buf_size)){Y=1;break}Y=q.gzindex<q.gzhead.name.length?255&q.gzhead.name.charCodeAt(q.gzindex++):0,me(q,Y)}while(Y!==0);q.gzhead.hcrc&&q.pending>F&&(S.adler=g(S.adler,q.pending_buf,q.pending-F,F)),Y===0&&(q.gzindex=0,q.status=91)}else q.status=91;if(q.status===91)if(q.gzhead.comment){F=q.pending;do{if(q.pending===q.pending_buf_size&&(q.gzhead.hcrc&&q.pending>F&&(S.adler=g(S.adler,q.pending_buf,q.pending-F,F)),V(S),F=q.pending,q.pending===q.pending_buf_size)){Y=1;break}Y=q.gzindex<q.gzhead.comment.length?255&q.gzhead.comment.charCodeAt(q.gzindex++):0,me(q,Y)}while(Y!==0);q.gzhead.hcrc&&q.pending>F&&(S.adler=g(S.adler,q.pending_buf,q.pending-F,F)),Y===0&&(q.status=103)}else q.status=103;if(q.status===103&&(q.gzhead.hcrc?(q.pending+2>q.pending_buf_size&&V(S),q.pending+2<=q.pending_buf_size&&(me(q,255&S.adler),me(q,S.adler>>8&255),S.adler=0,q.status=D)):q.status=D),q.pending!==0){if(V(S),S.avail_out===0)return q.last_flush=-1,x}else if(S.avail_in===0&&ge(J)<=ge(ne)&&J!==E)return Se(S,-5);if(q.status===666&&S.avail_in!==0)return Se(S,-5);if(S.avail_in!==0||q.lookahead!==0||J!==b&&q.status!==666){var _e=q.strategy===2?(function(re,Te){for(var Re;;){if(re.lookahead===0&&(Ie(re),re.lookahead===0)){if(Te===b)return R;break}if(re.match_length=0,Re=d._tr_tally(re,0,re.window[re.strstart]),re.lookahead--,re.strstart++,Re&&(G(re,!1),re.strm.avail_out===0))return R}return re.insert=0,Te===E?(G(re,!0),re.strm.avail_out===0?$:te):re.last_lit&&(G(re,!1),re.strm.avail_out===0)?R:ie})(q,J):q.strategy===3?(function(re,Te){for(var Re,Ae,je,Je,qe=re.window;;){if(re.lookahead<=H){if(Ie(re),re.lookahead<=H&&Te===b)return R;if(re.lookahead===0)break}if(re.match_length=0,re.lookahead>=O&&0<re.strstart&&(Ae=qe[je=re.strstart-1])===qe[++je]&&Ae===qe[++je]&&Ae===qe[++je]){Je=re.strstart+H;do;while(Ae===qe[++je]&&Ae===qe[++je]&&Ae===qe[++je]&&Ae===qe[++je]&&Ae===qe[++je]&&Ae===qe[++je]&&Ae===qe[++je]&&Ae===qe[++je]&&je<Je);re.match_length=H-(Je-je),re.match_length>re.lookahead&&(re.match_length=re.lookahead)}if(re.match_length>=O?(Re=d._tr_tally(re,1,re.match_length-O),re.lookahead-=re.match_length,re.strstart+=re.match_length,re.match_length=0):(Re=d._tr_tally(re,0,re.window[re.strstart]),re.lookahead--,re.strstart++),Re&&(G(re,!1),re.strm.avail_out===0))return R}return re.insert=0,Te===E?(G(re,!0),re.strm.avail_out===0?$:te):re.last_lit&&(G(re,!1),re.strm.avail_out===0)?R:ie})(q,J):u[q.level].func(q,J);if(_e!==$&&_e!==te||(q.status=666),_e===R||_e===$)return S.avail_out===0&&(q.last_flush=-1),x;if(_e===ie&&(J===1?d._tr_align(q):J!==5&&(d._tr_stored_block(q,0,0,!1),J===3&&(Ne(q.head),q.lookahead===0&&(q.strstart=0,q.block_start=0,q.insert=0))),V(S),S.avail_out===0))return q.last_flush=-1,x}return J!==E?x:q.wrap<=0?1:(q.wrap===2?(me(q,255&S.adler),me(q,S.adler>>8&255),me(q,S.adler>>16&255),me(q,S.adler>>24&255),me(q,255&S.total_in),me(q,S.total_in>>8&255),me(q,S.total_in>>16&255),me(q,S.total_in>>24&255)):(de(q,S.adler>>>16),de(q,65535&S.adler)),V(S),0<q.wrap&&(q.wrap=-q.wrap),q.pending!==0?x:1)},o.deflateEnd=function(S){var J;return S&&S.state?(J=S.state.status)!==N&&J!==69&&J!==73&&J!==91&&J!==103&&J!==D&&J!==666?Se(S,k):(S.state=null,J===D?Se(S,-3):x):k},o.deflateSetDictionary=function(S,J){var ne,q,F,Y,ce,_e,re,Te,Re=J.length;if(!S||!S.state||(Y=(ne=S.state).wrap)===2||Y===1&&ne.status!==N||ne.lookahead)return k;for(Y===1&&(S.adler=p(S.adler,J,Re,0)),ne.wrap=0,Re>=ne.w_size&&(Y===0&&(Ne(ne.head),ne.strstart=0,ne.block_start=0,ne.insert=0),Te=new c.Buf8(ne.w_size),c.arraySet(Te,J,Re-ne.w_size,ne.w_size,0),J=Te,Re=ne.w_size),ce=S.avail_in,_e=S.next_in,re=S.input,S.avail_in=Re,S.next_in=0,S.input=J,Ie(ne);ne.lookahead>=O;){for(q=ne.strstart,F=ne.lookahead-(O-1);ne.ins_h=(ne.ins_h<<ne.hash_shift^ne.window[q+O-1])&ne.hash_mask,ne.prev[q&ne.w_mask]=ne.head[ne.ins_h],ne.head[ne.ins_h]=q,q++,--F;);ne.strstart=q,ne.lookahead=O-1,Ie(ne)}return ne.strstart+=ne.lookahead,ne.block_start=ne.strstart,ne.insert=ne.lookahead,ne.lookahead=0,ne.match_length=ne.prev_length=O-1,ne.match_available=0,S.next_in=_e,S.input=re,S.avail_in=ce,ne.wrap=Y,x},o.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,s,o){s.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,s,o){s.exports=function(u,c){var d,p,g,v,b,E,x,k,A,C,I,P,z,K,X,ae,j,M,O,H,B,N,D,R,ie;d=u.state,p=u.next_in,R=u.input,g=p+(u.avail_in-5),v=u.next_out,ie=u.output,b=v-(c-u.avail_out),E=v+(u.avail_out-257),x=d.dmax,k=d.wsize,A=d.whave,C=d.wnext,I=d.window,P=d.hold,z=d.bits,K=d.lencode,X=d.distcode,ae=(1<<d.lenbits)-1,j=(1<<d.distbits)-1;e:do{z<15&&(P+=R[p++]<<z,z+=8,P+=R[p++]<<z,z+=8),M=K[P&ae];t:for(;;){if(P>>>=O=M>>>24,z-=O,(O=M>>>16&255)===0)ie[v++]=65535&M;else{if(!(16&O)){if((64&O)==0){M=K[(65535&M)+(P&(1<<O)-1)];continue t}if(32&O){d.mode=12;break e}u.msg="invalid literal/length code",d.mode=30;break e}H=65535&M,(O&=15)&&(z<O&&(P+=R[p++]<<z,z+=8),H+=P&(1<<O)-1,P>>>=O,z-=O),z<15&&(P+=R[p++]<<z,z+=8,P+=R[p++]<<z,z+=8),M=X[P&j];n:for(;;){if(P>>>=O=M>>>24,z-=O,!(16&(O=M>>>16&255))){if((64&O)==0){M=X[(65535&M)+(P&(1<<O)-1)];continue n}u.msg="invalid distance code",d.mode=30;break e}if(B=65535&M,z<(O&=15)&&(P+=R[p++]<<z,(z+=8)<O&&(P+=R[p++]<<z,z+=8)),x<(B+=P&(1<<O)-1)){u.msg="invalid distance too far back",d.mode=30;break e}if(P>>>=O,z-=O,(O=v-b)<B){if(A<(O=B-O)&&d.sane){u.msg="invalid distance too far back",d.mode=30;break e}if(D=I,(N=0)===C){if(N+=k-O,O<H){for(H-=O;ie[v++]=I[N++],--O;);N=v-B,D=ie}}else if(C<O){if(N+=k+C-O,(O-=C)<H){for(H-=O;ie[v++]=I[N++],--O;);if(N=0,C<H){for(H-=O=C;ie[v++]=I[N++],--O;);N=v-B,D=ie}}}else if(N+=C-O,O<H){for(H-=O;ie[v++]=I[N++],--O;);N=v-B,D=ie}for(;2<H;)ie[v++]=D[N++],ie[v++]=D[N++],ie[v++]=D[N++],H-=3;H&&(ie[v++]=D[N++],1<H&&(ie[v++]=D[N++]))}else{for(N=v-B;ie[v++]=ie[N++],ie[v++]=ie[N++],ie[v++]=ie[N++],2<(H-=3););H&&(ie[v++]=ie[N++],1<H&&(ie[v++]=ie[N++]))}break}}break}}while(p<g&&v<E);p-=H=z>>3,P&=(1<<(z-=H<<3))-1,u.next_in=p,u.next_out=v,u.avail_in=p<g?g-p+5:5-(p-g),u.avail_out=v<E?E-v+257:257-(v-E),d.hold=P,d.bits=z}},{}],49:[function(n,s,o){var u=n("../utils/common"),c=n("./adler32"),d=n("./crc32"),p=n("./inffast"),g=n("./inftrees"),v=1,b=2,E=0,x=-2,k=1,A=852,C=592;function I(N){return(N>>>24&255)+(N>>>8&65280)+((65280&N)<<8)+((255&N)<<24)}function P(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new u.Buf16(320),this.work=new u.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function z(N){var D;return N&&N.state?(D=N.state,N.total_in=N.total_out=D.total=0,N.msg="",D.wrap&&(N.adler=1&D.wrap),D.mode=k,D.last=0,D.havedict=0,D.dmax=32768,D.head=null,D.hold=0,D.bits=0,D.lencode=D.lendyn=new u.Buf32(A),D.distcode=D.distdyn=new u.Buf32(C),D.sane=1,D.back=-1,E):x}function K(N){var D;return N&&N.state?((D=N.state).wsize=0,D.whave=0,D.wnext=0,z(N)):x}function X(N,D){var R,ie;return N&&N.state?(ie=N.state,D<0?(R=0,D=-D):(R=1+(D>>4),D<48&&(D&=15)),D&&(D<8||15<D)?x:(ie.window!==null&&ie.wbits!==D&&(ie.window=null),ie.wrap=R,ie.wbits=D,K(N))):x}function ae(N,D){var R,ie;return N?(ie=new P,(N.state=ie).window=null,(R=X(N,D))!==E&&(N.state=null),R):x}var j,M,O=!0;function H(N){if(O){var D;for(j=new u.Buf32(512),M=new u.Buf32(32),D=0;D<144;)N.lens[D++]=8;for(;D<256;)N.lens[D++]=9;for(;D<280;)N.lens[D++]=7;for(;D<288;)N.lens[D++]=8;for(g(v,N.lens,0,288,j,0,N.work,{bits:9}),D=0;D<32;)N.lens[D++]=5;g(b,N.lens,0,32,M,0,N.work,{bits:5}),O=!1}N.lencode=j,N.lenbits=9,N.distcode=M,N.distbits=5}function B(N,D,R,ie){var $,te=N.state;return te.window===null&&(te.wsize=1<<te.wbits,te.wnext=0,te.whave=0,te.window=new u.Buf8(te.wsize)),ie>=te.wsize?(u.arraySet(te.window,D,R-te.wsize,te.wsize,0),te.wnext=0,te.whave=te.wsize):(ie<($=te.wsize-te.wnext)&&($=ie),u.arraySet(te.window,D,R-ie,$,te.wnext),(ie-=$)?(u.arraySet(te.window,D,R-ie,ie,0),te.wnext=ie,te.whave=te.wsize):(te.wnext+=$,te.wnext===te.wsize&&(te.wnext=0),te.whave<te.wsize&&(te.whave+=$))),0}o.inflateReset=K,o.inflateReset2=X,o.inflateResetKeep=z,o.inflateInit=function(N){return ae(N,15)},o.inflateInit2=ae,o.inflate=function(N,D){var R,ie,$,te,Se,ge,Ne,V,G,me,de,pe,Ie,Pe,Le,Oe,gt,ft,Ut,Vt,S,J,ne,q,F=0,Y=new u.Buf8(4),ce=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!N||!N.state||!N.output||!N.input&&N.avail_in!==0)return x;(R=N.state).mode===12&&(R.mode=13),Se=N.next_out,$=N.output,Ne=N.avail_out,te=N.next_in,ie=N.input,ge=N.avail_in,V=R.hold,G=R.bits,me=ge,de=Ne,J=E;e:for(;;)switch(R.mode){case k:if(R.wrap===0){R.mode=13;break}for(;G<16;){if(ge===0)break e;ge--,V+=ie[te++]<<G,G+=8}if(2&R.wrap&&V===35615){Y[R.check=0]=255&V,Y[1]=V>>>8&255,R.check=d(R.check,Y,2,0),G=V=0,R.mode=2;break}if(R.flags=0,R.head&&(R.head.done=!1),!(1&R.wrap)||(((255&V)<<8)+(V>>8))%31){N.msg="incorrect header check",R.mode=30;break}if((15&V)!=8){N.msg="unknown compression method",R.mode=30;break}if(G-=4,S=8+(15&(V>>>=4)),R.wbits===0)R.wbits=S;else if(S>R.wbits){N.msg="invalid window size",R.mode=30;break}R.dmax=1<<S,N.adler=R.check=1,R.mode=512&V?10:12,G=V=0;break;case 2:for(;G<16;){if(ge===0)break e;ge--,V+=ie[te++]<<G,G+=8}if(R.flags=V,(255&R.flags)!=8){N.msg="unknown compression method",R.mode=30;break}if(57344&R.flags){N.msg="unknown header flags set",R.mode=30;break}R.head&&(R.head.text=V>>8&1),512&R.flags&&(Y[0]=255&V,Y[1]=V>>>8&255,R.check=d(R.check,Y,2,0)),G=V=0,R.mode=3;case 3:for(;G<32;){if(ge===0)break e;ge--,V+=ie[te++]<<G,G+=8}R.head&&(R.head.time=V),512&R.flags&&(Y[0]=255&V,Y[1]=V>>>8&255,Y[2]=V>>>16&255,Y[3]=V>>>24&255,R.check=d(R.check,Y,4,0)),G=V=0,R.mode=4;case 4:for(;G<16;){if(ge===0)break e;ge--,V+=ie[te++]<<G,G+=8}R.head&&(R.head.xflags=255&V,R.head.os=V>>8),512&R.flags&&(Y[0]=255&V,Y[1]=V>>>8&255,R.check=d(R.check,Y,2,0)),G=V=0,R.mode=5;case 5:if(1024&R.flags){for(;G<16;){if(ge===0)break e;ge--,V+=ie[te++]<<G,G+=8}R.length=V,R.head&&(R.head.extra_len=V),512&R.flags&&(Y[0]=255&V,Y[1]=V>>>8&255,R.check=d(R.check,Y,2,0)),G=V=0}else R.head&&(R.head.extra=null);R.mode=6;case 6:if(1024&R.flags&&(ge<(pe=R.length)&&(pe=ge),pe&&(R.head&&(S=R.head.extra_len-R.length,R.head.extra||(R.head.extra=new Array(R.head.extra_len)),u.arraySet(R.head.extra,ie,te,pe,S)),512&R.flags&&(R.check=d(R.check,ie,pe,te)),ge-=pe,te+=pe,R.length-=pe),R.length))break e;R.length=0,R.mode=7;case 7:if(2048&R.flags){if(ge===0)break e;for(pe=0;S=ie[te+pe++],R.head&&S&&R.length<65536&&(R.head.name+=String.fromCharCode(S)),S&&pe<ge;);if(512&R.flags&&(R.check=d(R.check,ie,pe,te)),ge-=pe,te+=pe,S)break e}else R.head&&(R.head.name=null);R.length=0,R.mode=8;case 8:if(4096&R.flags){if(ge===0)break e;for(pe=0;S=ie[te+pe++],R.head&&S&&R.length<65536&&(R.head.comment+=String.fromCharCode(S)),S&&pe<ge;);if(512&R.flags&&(R.check=d(R.check,ie,pe,te)),ge-=pe,te+=pe,S)break e}else R.head&&(R.head.comment=null);R.mode=9;case 9:if(512&R.flags){for(;G<16;){if(ge===0)break e;ge--,V+=ie[te++]<<G,G+=8}if(V!==(65535&R.check)){N.msg="header crc mismatch",R.mode=30;break}G=V=0}R.head&&(R.head.hcrc=R.flags>>9&1,R.head.done=!0),N.adler=R.check=0,R.mode=12;break;case 10:for(;G<32;){if(ge===0)break e;ge--,V+=ie[te++]<<G,G+=8}N.adler=R.check=I(V),G=V=0,R.mode=11;case 11:if(R.havedict===0)return N.next_out=Se,N.avail_out=Ne,N.next_in=te,N.avail_in=ge,R.hold=V,R.bits=G,2;N.adler=R.check=1,R.mode=12;case 12:if(D===5||D===6)break e;case 13:if(R.last){V>>>=7&G,G-=7&G,R.mode=27;break}for(;G<3;){if(ge===0)break e;ge--,V+=ie[te++]<<G,G+=8}switch(R.last=1&V,G-=1,3&(V>>>=1)){case 0:R.mode=14;break;case 1:if(H(R),R.mode=20,D!==6)break;V>>>=2,G-=2;break e;case 2:R.mode=17;break;case 3:N.msg="invalid block type",R.mode=30}V>>>=2,G-=2;break;case 14:for(V>>>=7&G,G-=7&G;G<32;){if(ge===0)break e;ge--,V+=ie[te++]<<G,G+=8}if((65535&V)!=(V>>>16^65535)){N.msg="invalid stored block lengths",R.mode=30;break}if(R.length=65535&V,G=V=0,R.mode=15,D===6)break e;case 15:R.mode=16;case 16:if(pe=R.length){if(ge<pe&&(pe=ge),Ne<pe&&(pe=Ne),pe===0)break e;u.arraySet($,ie,te,pe,Se),ge-=pe,te+=pe,Ne-=pe,Se+=pe,R.length-=pe;break}R.mode=12;break;case 17:for(;G<14;){if(ge===0)break e;ge--,V+=ie[te++]<<G,G+=8}if(R.nlen=257+(31&V),V>>>=5,G-=5,R.ndist=1+(31&V),V>>>=5,G-=5,R.ncode=4+(15&V),V>>>=4,G-=4,286<R.nlen||30<R.ndist){N.msg="too many length or distance symbols",R.mode=30;break}R.have=0,R.mode=18;case 18:for(;R.have<R.ncode;){for(;G<3;){if(ge===0)break e;ge--,V+=ie[te++]<<G,G+=8}R.lens[ce[R.have++]]=7&V,V>>>=3,G-=3}for(;R.have<19;)R.lens[ce[R.have++]]=0;if(R.lencode=R.lendyn,R.lenbits=7,ne={bits:R.lenbits},J=g(0,R.lens,0,19,R.lencode,0,R.work,ne),R.lenbits=ne.bits,J){N.msg="invalid code lengths set",R.mode=30;break}R.have=0,R.mode=19;case 19:for(;R.have<R.nlen+R.ndist;){for(;Oe=(F=R.lencode[V&(1<<R.lenbits)-1])>>>16&255,gt=65535&F,!((Le=F>>>24)<=G);){if(ge===0)break e;ge--,V+=ie[te++]<<G,G+=8}if(gt<16)V>>>=Le,G-=Le,R.lens[R.have++]=gt;else{if(gt===16){for(q=Le+2;G<q;){if(ge===0)break e;ge--,V+=ie[te++]<<G,G+=8}if(V>>>=Le,G-=Le,R.have===0){N.msg="invalid bit length repeat",R.mode=30;break}S=R.lens[R.have-1],pe=3+(3&V),V>>>=2,G-=2}else if(gt===17){for(q=Le+3;G<q;){if(ge===0)break e;ge--,V+=ie[te++]<<G,G+=8}G-=Le,S=0,pe=3+(7&(V>>>=Le)),V>>>=3,G-=3}else{for(q=Le+7;G<q;){if(ge===0)break e;ge--,V+=ie[te++]<<G,G+=8}G-=Le,S=0,pe=11+(127&(V>>>=Le)),V>>>=7,G-=7}if(R.have+pe>R.nlen+R.ndist){N.msg="invalid bit length repeat",R.mode=30;break}for(;pe--;)R.lens[R.have++]=S}}if(R.mode===30)break;if(R.lens[256]===0){N.msg="invalid code -- missing end-of-block",R.mode=30;break}if(R.lenbits=9,ne={bits:R.lenbits},J=g(v,R.lens,0,R.nlen,R.lencode,0,R.work,ne),R.lenbits=ne.bits,J){N.msg="invalid literal/lengths set",R.mode=30;break}if(R.distbits=6,R.distcode=R.distdyn,ne={bits:R.distbits},J=g(b,R.lens,R.nlen,R.ndist,R.distcode,0,R.work,ne),R.distbits=ne.bits,J){N.msg="invalid distances set",R.mode=30;break}if(R.mode=20,D===6)break e;case 20:R.mode=21;case 21:if(6<=ge&&258<=Ne){N.next_out=Se,N.avail_out=Ne,N.next_in=te,N.avail_in=ge,R.hold=V,R.bits=G,p(N,de),Se=N.next_out,$=N.output,Ne=N.avail_out,te=N.next_in,ie=N.input,ge=N.avail_in,V=R.hold,G=R.bits,R.mode===12&&(R.back=-1);break}for(R.back=0;Oe=(F=R.lencode[V&(1<<R.lenbits)-1])>>>16&255,gt=65535&F,!((Le=F>>>24)<=G);){if(ge===0)break e;ge--,V+=ie[te++]<<G,G+=8}if(Oe&&(240&Oe)==0){for(ft=Le,Ut=Oe,Vt=gt;Oe=(F=R.lencode[Vt+((V&(1<<ft+Ut)-1)>>ft)])>>>16&255,gt=65535&F,!(ft+(Le=F>>>24)<=G);){if(ge===0)break e;ge--,V+=ie[te++]<<G,G+=8}V>>>=ft,G-=ft,R.back+=ft}if(V>>>=Le,G-=Le,R.back+=Le,R.length=gt,Oe===0){R.mode=26;break}if(32&Oe){R.back=-1,R.mode=12;break}if(64&Oe){N.msg="invalid literal/length code",R.mode=30;break}R.extra=15&Oe,R.mode=22;case 22:if(R.extra){for(q=R.extra;G<q;){if(ge===0)break e;ge--,V+=ie[te++]<<G,G+=8}R.length+=V&(1<<R.extra)-1,V>>>=R.extra,G-=R.extra,R.back+=R.extra}R.was=R.length,R.mode=23;case 23:for(;Oe=(F=R.distcode[V&(1<<R.distbits)-1])>>>16&255,gt=65535&F,!((Le=F>>>24)<=G);){if(ge===0)break e;ge--,V+=ie[te++]<<G,G+=8}if((240&Oe)==0){for(ft=Le,Ut=Oe,Vt=gt;Oe=(F=R.distcode[Vt+((V&(1<<ft+Ut)-1)>>ft)])>>>16&255,gt=65535&F,!(ft+(Le=F>>>24)<=G);){if(ge===0)break e;ge--,V+=ie[te++]<<G,G+=8}V>>>=ft,G-=ft,R.back+=ft}if(V>>>=Le,G-=Le,R.back+=Le,64&Oe){N.msg="invalid distance code",R.mode=30;break}R.offset=gt,R.extra=15&Oe,R.mode=24;case 24:if(R.extra){for(q=R.extra;G<q;){if(ge===0)break e;ge--,V+=ie[te++]<<G,G+=8}R.offset+=V&(1<<R.extra)-1,V>>>=R.extra,G-=R.extra,R.back+=R.extra}if(R.offset>R.dmax){N.msg="invalid distance too far back",R.mode=30;break}R.mode=25;case 25:if(Ne===0)break e;if(pe=de-Ne,R.offset>pe){if((pe=R.offset-pe)>R.whave&&R.sane){N.msg="invalid distance too far back",R.mode=30;break}Ie=pe>R.wnext?(pe-=R.wnext,R.wsize-pe):R.wnext-pe,pe>R.length&&(pe=R.length),Pe=R.window}else Pe=$,Ie=Se-R.offset,pe=R.length;for(Ne<pe&&(pe=Ne),Ne-=pe,R.length-=pe;$[Se++]=Pe[Ie++],--pe;);R.length===0&&(R.mode=21);break;case 26:if(Ne===0)break e;$[Se++]=R.length,Ne--,R.mode=21;break;case 27:if(R.wrap){for(;G<32;){if(ge===0)break e;ge--,V|=ie[te++]<<G,G+=8}if(de-=Ne,N.total_out+=de,R.total+=de,de&&(N.adler=R.check=R.flags?d(R.check,$,de,Se-de):c(R.check,$,de,Se-de)),de=Ne,(R.flags?V:I(V))!==R.check){N.msg="incorrect data check",R.mode=30;break}G=V=0}R.mode=28;case 28:if(R.wrap&&R.flags){for(;G<32;){if(ge===0)break e;ge--,V+=ie[te++]<<G,G+=8}if(V!==(4294967295&R.total)){N.msg="incorrect length check",R.mode=30;break}G=V=0}R.mode=29;case 29:J=1;break e;case 30:J=-3;break e;case 31:return-4;case 32:default:return x}return N.next_out=Se,N.avail_out=Ne,N.next_in=te,N.avail_in=ge,R.hold=V,R.bits=G,(R.wsize||de!==N.avail_out&&R.mode<30&&(R.mode<27||D!==4))&&B(N,N.output,N.next_out,de-N.avail_out)?(R.mode=31,-4):(me-=N.avail_in,de-=N.avail_out,N.total_in+=me,N.total_out+=de,R.total+=de,R.wrap&&de&&(N.adler=R.check=R.flags?d(R.check,$,de,N.next_out-de):c(R.check,$,de,N.next_out-de)),N.data_type=R.bits+(R.last?64:0)+(R.mode===12?128:0)+(R.mode===20||R.mode===15?256:0),(me==0&&de===0||D===4)&&J===E&&(J=-5),J)},o.inflateEnd=function(N){if(!N||!N.state)return x;var D=N.state;return D.window&&(D.window=null),N.state=null,E},o.inflateGetHeader=function(N,D){var R;return N&&N.state?(2&(R=N.state).wrap)==0?x:((R.head=D).done=!1,E):x},o.inflateSetDictionary=function(N,D){var R,ie=D.length;return N&&N.state?(R=N.state).wrap!==0&&R.mode!==11?x:R.mode===11&&c(1,D,ie,0)!==R.check?-3:B(N,D,ie,ie)?(R.mode=31,-4):(R.havedict=1,E):x},o.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,s,o){var u=n("../utils/common"),c=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],d=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],p=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],g=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];s.exports=function(v,b,E,x,k,A,C,I){var P,z,K,X,ae,j,M,O,H,B=I.bits,N=0,D=0,R=0,ie=0,$=0,te=0,Se=0,ge=0,Ne=0,V=0,G=null,me=0,de=new u.Buf16(16),pe=new u.Buf16(16),Ie=null,Pe=0;for(N=0;N<=15;N++)de[N]=0;for(D=0;D<x;D++)de[b[E+D]]++;for($=B,ie=15;1<=ie&&de[ie]===0;ie--);if(ie<$&&($=ie),ie===0)return k[A++]=20971520,k[A++]=20971520,I.bits=1,0;for(R=1;R<ie&&de[R]===0;R++);for($<R&&($=R),N=ge=1;N<=15;N++)if(ge<<=1,(ge-=de[N])<0)return-1;if(0<ge&&(v===0||ie!==1))return-1;for(pe[1]=0,N=1;N<15;N++)pe[N+1]=pe[N]+de[N];for(D=0;D<x;D++)b[E+D]!==0&&(C[pe[b[E+D]]++]=D);if(j=v===0?(G=Ie=C,19):v===1?(G=c,me-=257,Ie=d,Pe-=257,256):(G=p,Ie=g,-1),N=R,ae=A,Se=D=V=0,K=-1,X=(Ne=1<<(te=$))-1,v===1&&852<Ne||v===2&&592<Ne)return 1;for(;;){for(M=N-Se,H=C[D]<j?(O=0,C[D]):C[D]>j?(O=Ie[Pe+C[D]],G[me+C[D]]):(O=96,0),P=1<<N-Se,R=z=1<<te;k[ae+(V>>Se)+(z-=P)]=M<<24|O<<16|H|0,z!==0;);for(P=1<<N-1;V&P;)P>>=1;if(P!==0?(V&=P-1,V+=P):V=0,D++,--de[N]==0){if(N===ie)break;N=b[E+C[D]]}if($<N&&(V&X)!==K){for(Se===0&&(Se=$),ae+=R,ge=1<<(te=N-Se);te+Se<ie&&!((ge-=de[te+Se])<=0);)te++,ge<<=1;if(Ne+=1<<te,v===1&&852<Ne||v===2&&592<Ne)return 1;k[K=V&X]=$<<24|te<<16|ae-A|0}}return V!==0&&(k[ae+V]=N-Se<<24|64<<16|0),I.bits=$,0}},{"../utils/common":41}],51:[function(n,s,o){s.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,s,o){var u=n("../utils/common"),c=0,d=1;function p(F){for(var Y=F.length;0<=--Y;)F[Y]=0}var g=0,v=29,b=256,E=b+1+v,x=30,k=19,A=2*E+1,C=15,I=16,P=7,z=256,K=16,X=17,ae=18,j=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],M=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],O=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],H=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],B=new Array(2*(E+2));p(B);var N=new Array(2*x);p(N);var D=new Array(512);p(D);var R=new Array(256);p(R);var ie=new Array(v);p(ie);var $,te,Se,ge=new Array(x);function Ne(F,Y,ce,_e,re){this.static_tree=F,this.extra_bits=Y,this.extra_base=ce,this.elems=_e,this.max_length=re,this.has_stree=F&&F.length}function V(F,Y){this.dyn_tree=F,this.max_code=0,this.stat_desc=Y}function G(F){return F<256?D[F]:D[256+(F>>>7)]}function me(F,Y){F.pending_buf[F.pending++]=255&Y,F.pending_buf[F.pending++]=Y>>>8&255}function de(F,Y,ce){F.bi_valid>I-ce?(F.bi_buf|=Y<<F.bi_valid&65535,me(F,F.bi_buf),F.bi_buf=Y>>I-F.bi_valid,F.bi_valid+=ce-I):(F.bi_buf|=Y<<F.bi_valid&65535,F.bi_valid+=ce)}function pe(F,Y,ce){de(F,ce[2*Y],ce[2*Y+1])}function Ie(F,Y){for(var ce=0;ce|=1&F,F>>>=1,ce<<=1,0<--Y;);return ce>>>1}function Pe(F,Y,ce){var _e,re,Te=new Array(C+1),Re=0;for(_e=1;_e<=C;_e++)Te[_e]=Re=Re+ce[_e-1]<<1;for(re=0;re<=Y;re++){var Ae=F[2*re+1];Ae!==0&&(F[2*re]=Ie(Te[Ae]++,Ae))}}function Le(F){var Y;for(Y=0;Y<E;Y++)F.dyn_ltree[2*Y]=0;for(Y=0;Y<x;Y++)F.dyn_dtree[2*Y]=0;for(Y=0;Y<k;Y++)F.bl_tree[2*Y]=0;F.dyn_ltree[2*z]=1,F.opt_len=F.static_len=0,F.last_lit=F.matches=0}function Oe(F){8<F.bi_valid?me(F,F.bi_buf):0<F.bi_valid&&(F.pending_buf[F.pending++]=F.bi_buf),F.bi_buf=0,F.bi_valid=0}function gt(F,Y,ce,_e){var re=2*Y,Te=2*ce;return F[re]<F[Te]||F[re]===F[Te]&&_e[Y]<=_e[ce]}function ft(F,Y,ce){for(var _e=F.heap[ce],re=ce<<1;re<=F.heap_len&&(re<F.heap_len&&gt(Y,F.heap[re+1],F.heap[re],F.depth)&&re++,!gt(Y,_e,F.heap[re],F.depth));)F.heap[ce]=F.heap[re],ce=re,re<<=1;F.heap[ce]=_e}function Ut(F,Y,ce){var _e,re,Te,Re,Ae=0;if(F.last_lit!==0)for(;_e=F.pending_buf[F.d_buf+2*Ae]<<8|F.pending_buf[F.d_buf+2*Ae+1],re=F.pending_buf[F.l_buf+Ae],Ae++,_e===0?pe(F,re,Y):(pe(F,(Te=R[re])+b+1,Y),(Re=j[Te])!==0&&de(F,re-=ie[Te],Re),pe(F,Te=G(--_e),ce),(Re=M[Te])!==0&&de(F,_e-=ge[Te],Re)),Ae<F.last_lit;);pe(F,z,Y)}function Vt(F,Y){var ce,_e,re,Te=Y.dyn_tree,Re=Y.stat_desc.static_tree,Ae=Y.stat_desc.has_stree,je=Y.stat_desc.elems,Je=-1;for(F.heap_len=0,F.heap_max=A,ce=0;ce<je;ce++)Te[2*ce]!==0?(F.heap[++F.heap_len]=Je=ce,F.depth[ce]=0):Te[2*ce+1]=0;for(;F.heap_len<2;)Te[2*(re=F.heap[++F.heap_len]=Je<2?++Je:0)]=1,F.depth[re]=0,F.opt_len--,Ae&&(F.static_len-=Re[2*re+1]);for(Y.max_code=Je,ce=F.heap_len>>1;1<=ce;ce--)ft(F,Te,ce);for(re=je;ce=F.heap[1],F.heap[1]=F.heap[F.heap_len--],ft(F,Te,1),_e=F.heap[1],F.heap[--F.heap_max]=ce,F.heap[--F.heap_max]=_e,Te[2*re]=Te[2*ce]+Te[2*_e],F.depth[re]=(F.depth[ce]>=F.depth[_e]?F.depth[ce]:F.depth[_e])+1,Te[2*ce+1]=Te[2*_e+1]=re,F.heap[1]=re++,ft(F,Te,1),2<=F.heap_len;);F.heap[--F.heap_max]=F.heap[1],(function(qe,be){var Ge,dt,ct,Qe,nt,Ot,rt=be.dyn_tree,fr=be.max_code,Ln=be.stat_desc.static_tree,It=be.stat_desc.has_stree,$n=be.stat_desc.extra_bits,Ir=be.stat_desc.extra_base,Ct=be.stat_desc.max_length,Sn=0;for(Qe=0;Qe<=C;Qe++)qe.bl_count[Qe]=0;for(rt[2*qe.heap[qe.heap_max]+1]=0,Ge=qe.heap_max+1;Ge<A;Ge++)Ct<(Qe=rt[2*rt[2*(dt=qe.heap[Ge])+1]+1]+1)&&(Qe=Ct,Sn++),rt[2*dt+1]=Qe,fr<dt||(qe.bl_count[Qe]++,nt=0,Ir<=dt&&(nt=$n[dt-Ir]),Ot=rt[2*dt],qe.opt_len+=Ot*(Qe+nt),It&&(qe.static_len+=Ot*(Ln[2*dt+1]+nt)));if(Sn!==0){do{for(Qe=Ct-1;qe.bl_count[Qe]===0;)Qe--;qe.bl_count[Qe]--,qe.bl_count[Qe+1]+=2,qe.bl_count[Ct]--,Sn-=2}while(0<Sn);for(Qe=Ct;Qe!==0;Qe--)for(dt=qe.bl_count[Qe];dt!==0;)fr<(ct=qe.heap[--Ge])||(rt[2*ct+1]!==Qe&&(qe.opt_len+=(Qe-rt[2*ct+1])*rt[2*ct],rt[2*ct+1]=Qe),dt--)}})(F,Y),Pe(Te,Je,F.bl_count)}function S(F,Y,ce){var _e,re,Te=-1,Re=Y[1],Ae=0,je=7,Je=4;for(Re===0&&(je=138,Je=3),Y[2*(ce+1)+1]=65535,_e=0;_e<=ce;_e++)re=Re,Re=Y[2*(_e+1)+1],++Ae<je&&re===Re||(Ae<Je?F.bl_tree[2*re]+=Ae:re!==0?(re!==Te&&F.bl_tree[2*re]++,F.bl_tree[2*K]++):Ae<=10?F.bl_tree[2*X]++:F.bl_tree[2*ae]++,Te=re,Je=(Ae=0)===Re?(je=138,3):re===Re?(je=6,3):(je=7,4))}function J(F,Y,ce){var _e,re,Te=-1,Re=Y[1],Ae=0,je=7,Je=4;for(Re===0&&(je=138,Je=3),_e=0;_e<=ce;_e++)if(re=Re,Re=Y[2*(_e+1)+1],!(++Ae<je&&re===Re)){if(Ae<Je)for(;pe(F,re,F.bl_tree),--Ae!=0;);else re!==0?(re!==Te&&(pe(F,re,F.bl_tree),Ae--),pe(F,K,F.bl_tree),de(F,Ae-3,2)):Ae<=10?(pe(F,X,F.bl_tree),de(F,Ae-3,3)):(pe(F,ae,F.bl_tree),de(F,Ae-11,7));Te=re,Je=(Ae=0)===Re?(je=138,3):re===Re?(je=6,3):(je=7,4)}}p(ge);var ne=!1;function q(F,Y,ce,_e){de(F,(g<<1)+(_e?1:0),3),(function(re,Te,Re,Ae){Oe(re),me(re,Re),me(re,~Re),u.arraySet(re.pending_buf,re.window,Te,Re,re.pending),re.pending+=Re})(F,Y,ce)}o._tr_init=function(F){ne||((function(){var Y,ce,_e,re,Te,Re=new Array(C+1);for(re=_e=0;re<v-1;re++)for(ie[re]=_e,Y=0;Y<1<<j[re];Y++)R[_e++]=re;for(R[_e-1]=re,re=Te=0;re<16;re++)for(ge[re]=Te,Y=0;Y<1<<M[re];Y++)D[Te++]=re;for(Te>>=7;re<x;re++)for(ge[re]=Te<<7,Y=0;Y<1<<M[re]-7;Y++)D[256+Te++]=re;for(ce=0;ce<=C;ce++)Re[ce]=0;for(Y=0;Y<=143;)B[2*Y+1]=8,Y++,Re[8]++;for(;Y<=255;)B[2*Y+1]=9,Y++,Re[9]++;for(;Y<=279;)B[2*Y+1]=7,Y++,Re[7]++;for(;Y<=287;)B[2*Y+1]=8,Y++,Re[8]++;for(Pe(B,E+1,Re),Y=0;Y<x;Y++)N[2*Y+1]=5,N[2*Y]=Ie(Y,5);$=new Ne(B,j,b+1,E,C),te=new Ne(N,M,0,x,C),Se=new Ne(new Array(0),O,0,k,P)})(),ne=!0),F.l_desc=new V(F.dyn_ltree,$),F.d_desc=new V(F.dyn_dtree,te),F.bl_desc=new V(F.bl_tree,Se),F.bi_buf=0,F.bi_valid=0,Le(F)},o._tr_stored_block=q,o._tr_flush_block=function(F,Y,ce,_e){var re,Te,Re=0;0<F.level?(F.strm.data_type===2&&(F.strm.data_type=(function(Ae){var je,Je=4093624447;for(je=0;je<=31;je++,Je>>>=1)if(1&Je&&Ae.dyn_ltree[2*je]!==0)return c;if(Ae.dyn_ltree[18]!==0||Ae.dyn_ltree[20]!==0||Ae.dyn_ltree[26]!==0)return d;for(je=32;je<b;je++)if(Ae.dyn_ltree[2*je]!==0)return d;return c})(F)),Vt(F,F.l_desc),Vt(F,F.d_desc),Re=(function(Ae){var je;for(S(Ae,Ae.dyn_ltree,Ae.l_desc.max_code),S(Ae,Ae.dyn_dtree,Ae.d_desc.max_code),Vt(Ae,Ae.bl_desc),je=k-1;3<=je&&Ae.bl_tree[2*H[je]+1]===0;je--);return Ae.opt_len+=3*(je+1)+5+5+4,je})(F),re=F.opt_len+3+7>>>3,(Te=F.static_len+3+7>>>3)<=re&&(re=Te)):re=Te=ce+5,ce+4<=re&&Y!==-1?q(F,Y,ce,_e):F.strategy===4||Te===re?(de(F,2+(_e?1:0),3),Ut(F,B,N)):(de(F,4+(_e?1:0),3),(function(Ae,je,Je,qe){var be;for(de(Ae,je-257,5),de(Ae,Je-1,5),de(Ae,qe-4,4),be=0;be<qe;be++)de(Ae,Ae.bl_tree[2*H[be]+1],3);J(Ae,Ae.dyn_ltree,je-1),J(Ae,Ae.dyn_dtree,Je-1)})(F,F.l_desc.max_code+1,F.d_desc.max_code+1,Re+1),Ut(F,F.dyn_ltree,F.dyn_dtree)),Le(F),_e&&Oe(F)},o._tr_tally=function(F,Y,ce){return F.pending_buf[F.d_buf+2*F.last_lit]=Y>>>8&255,F.pending_buf[F.d_buf+2*F.last_lit+1]=255&Y,F.pending_buf[F.l_buf+F.last_lit]=255&ce,F.last_lit++,Y===0?F.dyn_ltree[2*ce]++:(F.matches++,Y--,F.dyn_ltree[2*(R[ce]+b+1)]++,F.dyn_dtree[2*G(Y)]++),F.last_lit===F.lit_bufsize-1},o._tr_align=function(F){de(F,2,3),pe(F,z,B),(function(Y){Y.bi_valid===16?(me(Y,Y.bi_buf),Y.bi_buf=0,Y.bi_valid=0):8<=Y.bi_valid&&(Y.pending_buf[Y.pending++]=255&Y.bi_buf,Y.bi_buf>>=8,Y.bi_valid-=8)})(F)}},{"../utils/common":41}],53:[function(n,s,o){s.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,s,o){(function(u){(function(c,d){if(!c.setImmediate){var p,g,v,b,E=1,x={},k=!1,A=c.document,C=Object.getPrototypeOf&&Object.getPrototypeOf(c);C=C&&C.setTimeout?C:c,p={}.toString.call(c.process)==="[object process]"?function(K){process.nextTick(function(){P(K)})}:(function(){if(c.postMessage&&!c.importScripts){var K=!0,X=c.onmessage;return c.onmessage=function(){K=!1},c.postMessage("","*"),c.onmessage=X,K}})()?(b="setImmediate$"+Math.random()+"$",c.addEventListener?c.addEventListener("message",z,!1):c.attachEvent("onmessage",z),function(K){c.postMessage(b+K,"*")}):c.MessageChannel?((v=new MessageChannel).port1.onmessage=function(K){P(K.data)},function(K){v.port2.postMessage(K)}):A&&"onreadystatechange"in A.createElement("script")?(g=A.documentElement,function(K){var X=A.createElement("script");X.onreadystatechange=function(){P(K),X.onreadystatechange=null,g.removeChild(X),X=null},g.appendChild(X)}):function(K){setTimeout(P,0,K)},C.setImmediate=function(K){typeof K!="function"&&(K=new Function(""+K));for(var X=new Array(arguments.length-1),ae=0;ae<X.length;ae++)X[ae]=arguments[ae+1];var j={callback:K,args:X};return x[E]=j,p(E),E++},C.clearImmediate=I}function I(K){delete x[K]}function P(K){if(k)setTimeout(P,0,K);else{var X=x[K];if(X){k=!0;try{(function(ae){var j=ae.callback,M=ae.args;switch(M.length){case 0:j();break;case 1:j(M[0]);break;case 2:j(M[0],M[1]);break;case 3:j(M[0],M[1],M[2]);break;default:j.apply(d,M)}})(X)}finally{I(K),k=!1}}}}function z(K){K.source===c&&typeof K.data=="string"&&K.data.indexOf(b)===0&&P(+K.data.slice(b.length))}})(typeof self>"u"?u===void 0?this:u:self)}).call(this,typeof gs<"u"?gs:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(hm)),hm.exports}var jT=OT();const MT=ep(jT);var nh={exports:{}},LT=nh.exports,jv;function VT(){return jv||(jv=1,(function(i,e){(function(n,s){s()})(LT,function(){function n(g,v){return typeof v>"u"?v={autoBom:!1}:typeof v!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),v={autoBom:!v}),v.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(g.type)?new Blob(["\uFEFF",g],{type:g.type}):g}function s(g,v,b){var E=new XMLHttpRequest;E.open("GET",g),E.responseType="blob",E.onload=function(){p(E.response,v,b)},E.onerror=function(){console.error("could not download file")},E.send()}function o(g){var v=new XMLHttpRequest;v.open("HEAD",g,!1);try{v.send()}catch{}return 200<=v.status&&299>=v.status}function u(g){try{g.dispatchEvent(new MouseEvent("click"))}catch{var v=document.createEvent("MouseEvents");v.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),g.dispatchEvent(v)}}var c=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof gs=="object"&&gs.global===gs?gs:void 0,d=c.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),p=c.saveAs||(typeof window!="object"||window!==c?function(){}:"download"in HTMLAnchorElement.prototype&&!d?function(g,v,b){var E=c.URL||c.webkitURL,x=document.createElement("a");v=v||g.name||"download",x.download=v,x.rel="noopener",typeof g=="string"?(x.href=g,x.origin===location.origin?u(x):o(x.href)?s(g,v,b):u(x,x.target="_blank")):(x.href=E.createObjectURL(g),setTimeout(function(){E.revokeObjectURL(x.href)},4e4),setTimeout(function(){u(x)},0))}:"msSaveOrOpenBlob"in navigator?function(g,v,b){if(v=v||g.name||"download",typeof g!="string")navigator.msSaveOrOpenBlob(n(g,b),v);else if(o(g))s(g,v,b);else{var E=document.createElement("a");E.href=g,E.target="_blank",setTimeout(function(){u(E)})}}:function(g,v,b,E){if(E=E||open("","_blank"),E&&(E.document.title=E.document.body.innerText="downloading..."),typeof g=="string")return s(g,v,b);var x=g.type==="application/octet-stream",k=/constructor/i.test(c.HTMLElement)||c.safari,A=/CriOS\/[\d]+/.test(navigator.userAgent);if((A||x&&k||d)&&typeof FileReader<"u"){var C=new FileReader;C.onloadend=function(){var z=C.result;z=A?z:z.replace(/^data:[^;]*;/,"data:attachment/file;"),E?E.location.href=z:location=z,E=null},C.readAsDataURL(g)}else{var I=c.URL||c.webkitURL,P=I.createObjectURL(g);E?E.location=P:location.href=P,E=null,setTimeout(function(){I.revokeObjectURL(P)},4e4)}});c.saveAs=p.saveAs=p,i.exports=p})})(nh)),nh.exports}var Mv=VT();const PT=({profile:i,onSignOut:e})=>{var Je,qe;const n=uu(),[s,o]=Z.useState(()=>localStorage.getItem("contributor_active_tab")||"hdl");Z.useEffect(()=>{localStorage.setItem("contributor_active_tab",s)},[s]);const[u,c]=Z.useState(!1),[d,p]=Z.useState(!1),[g,v]=Z.useState([]),[b,E]=Z.useState([]),[x,k]=Z.useState(!1),[A,C]=Z.useState(null),[I,P]=Z.useState(null),[z,K]=Z.useState(""),[X,ae]=Z.useState("Medium"),[j,M]=Z.useState(["","","",""]),[O,H]=Z.useState(0),[B,N]=Z.useState(""),[D,R]=Z.useState(null),[ie,$]=Z.useState([]),[te,Se]=Z.useState(null),[ge,Ne]=Z.useState(!0),[V,G]=Z.useState(!1),[me,de]=Z.useState([]),[pe,Ie]=Z.useState(!1),[Pe,Le]=Z.useState(null);Z.useEffect(()=>{Oe();const be=setInterval(Oe,15e3);return()=>clearInterval(be)},[]),Z.useEffect(()=>{let be;return V&&Pe&&(be=setInterval(()=>{Re(Pe,!0)},5e3)),()=>clearInterval(be)},[V,Pe]);const Oe=async()=>{try{const be=localStorage.getItem("hdlbase_mock_session"),Ge=JSON.parse(be),ct={Authorization:`Bearer ${Ge.token||Ge.uid}`},nt=await(await fetch("https://hdlbase-backen.onrender.com/api/v1/modules",{headers:ct})).json();nt.status==="success"&&(v(nt.data.map(It=>({id:It.id,name:It.name,type:It.type,size:It.size||"1 KB",date:It.createdAt?new Date(It.createdAt).toLocaleDateString():"Recent",code:It.code||"",files:It.files||(It.code?[{name:"source.v",content:It.code}]:[])}))),nt.message&&nt.message.includes("Mock Mode")&&alert("WARNING: Backend is in MOCK MODE. Data will NOT be saved. Please configure Firebase Credentials on Render."));const rt=await(await fetch("https://hdlbase-backen.onrender.com/api/v1/quizzes",{headers:ct})).json();rt.status==="success"&&E(rt.data.map(It=>({id:It.id,text:It.text,title:It.title||"Untitled Quiz",submissionCount:It.submissionCount||0,difficulty:It.difficulty,date:It.createdAt?new Date(It.createdAt).toLocaleDateString():"Recent"})));const Ln=await(await fetch("https://hdlbase-backen.onrender.com/api/v1/users/stats",{headers:ct})).json();Ln.status==="success"&&C(Ln.data)}catch(be){console.error("Failed to fetch dashboard data",be)}finally{Ne(!1)}},gt=()=>{n("/dashboard")},ft=async be=>{be.preventDefault(),k(!0);const Ge=be.target,dt=new FormData(Ge);try{const ct=localStorage.getItem("hdlbase_mock_session"),Qe=JSON.parse(ct),nt=Qe.token||Qe.uid,Ot={name:dt.get("moduleName"),language:dt.get("language"),files:ie,type:"IP Core",description:"Uploaded from Contributor Dashboard"},rt=D?`https://hdlbase-backen.onrender.com/api/v1/modules/${D}`:"https://hdlbase-backen.onrender.com/api/v1/modules",fr=await fetch(rt,{method:D?"PUT":"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${nt}`},body:JSON.stringify(Ot)});if(fr.ok)await Oe(),c(!1),c(!1),R(null),N(""),$([]),Ge.reset();else{const Ln=await fr.json();alert(`Upload Failed: ${Ln.message||"Unknown error"}`)}}catch(ct){console.error("Upload failed",ct),alert("Upload error: Check console")}finally{k(!1)}},Ut=be=>{be.target.files&&Array.from(be.target.files).forEach(Ge=>{const dt=new FileReader;dt.onload=ct=>{var nt;const Qe=(nt=ct.target)==null?void 0:nt.result;$(Ot=>[...Ot,{name:Ge.name,content:Qe}])},dt.readAsText(Ge)})},Vt=be=>{$(Ge=>Ge.filter((dt,ct)=>ct!==be))},S=be=>{R(be.id),N(be.code||""),$(be.files||(be.code?[{name:`${be.name}.v`,content:be.code}]:[])),c(!0)},J=(be=null)=>{be?(P(be.id),K(be.text),ae(be.difficulty)):(P(null),K(""),ae("Medium"),M(["","","",""]),H(0)),p(!0)},[ne,q]=Z.useState(""),[F,Y]=Z.useState([]),[ce,_e]=Z.useState({text:"",difficulty:"Medium",correct:0,options:["","","",""]}),re=()=>{Y([...F,{...ce,id:Date.now().toString()}]),_e({text:"",difficulty:"Medium",correct:0,options:["","","",""]})},Te=async()=>{if(!ne||F.length===0){alert("Title and at least one question required.");return}k(!0);try{const be=localStorage.getItem("hdlbase_mock_session"),Ge=JSON.parse(be),dt=Ge.token||Ge.uid,ct={title:ne,description:"Custom Quiz",questions:F},Qe=await fetch("https://hdlbase-backen.onrender.com/api/v1/quizzes",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${dt}`},body:JSON.stringify(ct)});if(Qe.ok)p(!1),q(""),Y([]),Oe(),alert("Quiz published successfully!");else{const nt=await Qe.json();console.error("Publish Error:",nt),alert(`Failed to publish quiz (Status: ${Qe.status}): ${nt.message||"Unknown server error"}`)}}catch(be){console.error("Network/Client Error:",be),alert(`Failed to publish quiz (Client Error): ${be.message}`)}finally{k(!1)}},Re=async(be,Ge=!1)=>{Ge||Ie(!0),Ge||G(!0),Le(be),Ge||de([]);try{const dt=localStorage.getItem("hdlbase_mock_session"),ct=JSON.parse(dt),Qe=ct.token||ct.uid,Ot=await(await fetch(`https://hdlbase-backen.onrender.com/api/v1/quizzes/${be}/results`,{headers:{Authorization:`Bearer ${Qe}`}})).json();Ot.status==="success"&&de(Ot.data)}catch(dt){console.error("Failed to fetch submissions",dt)}finally{Ge||Ie(!1)}},Ae=be=>{Se(be)},je=()=>{if(te){const be=b.filter(Ge=>Ge.id!==te);E(be),localStorage.setItem("hdlbase_mock_mcq_admin",JSON.stringify(be)),Se(null)}};return y.jsxs("div",{className:"min-h-screen bg-matte text-offwhite flex flex-col",children:[y.jsx("nav",{className:"border-b border-white/5 bg-gunmetal/30 p-4 sticky top-0 backdrop-blur-md z-20",children:y.jsxs("div",{className:"max-w-7xl mx-auto flex justify-between items-center",children:[y.jsxs("div",{className:"flex items-center gap-8",children:[y.jsx("div",{onClick:gt,className:"flex items-center cursor-pointer group",children:y.jsx("h1",{className:"text-xl font-black tracking-tighter",children:y.jsx("a",{href:"/",className:"logo-text",children:y.jsx("img",{src:wo,alt:"LOGO",className:"w-32 h-auto"})})})}),y.jsxs("div",{className:"flex bg-white/5 p-1 rounded-xl",children:[y.jsx("button",{onClick:()=>o("hdl"),className:`text-[10px] uppercase tracking-widest px-4 py-2 rounded-lg font-black transition-all ${s==="hdl"?"bg-contributor text-white shadow-lg":"text-gray-500 hover:text-gray-300"}`,children:"Repo"}),y.jsx("button",{onClick:()=>o("mcq"),className:`text-[10px] uppercase tracking-widest px-4 py-2 rounded-lg font-black transition-all ${s==="mcq"?"bg-contributor text-white shadow-lg":"text-gray-500 hover:text-gray-300"}`,children:"Quizzes"}),y.jsx("button",{onClick:()=>o("team"),className:`text-[10px] uppercase tracking-widest px-4 py-2 rounded-lg font-black transition-all ${s==="team"?"bg-contributor text-white shadow-lg":"text-gray-500 hover:text-gray-300"}`,children:"Team"}),y.jsx("button",{onClick:()=>o("profile"),className:`text-[10px] uppercase tracking-widest px-4 py-2 rounded-lg font-black transition-all ${s==="profile"?"bg-contributor text-white shadow-lg":"text-gray-500 hover:text-gray-300"}`,children:"Profile"})]})]}),y.jsxs("div",{className:"flex items-center gap-6",children:[y.jsxs("div",{className:"text-right hidden sm:block",children:[y.jsx("p",{className:"text-xs font-black uppercase text-accent",children:i.displayName}),y.jsx("p",{className:"text-[9px] text-gray-500 font-bold uppercase tracking-widest",children:"Contributor Mode"})]}),y.jsx("button",{onClick:e,className:"text-[10px] font-black text-gray-500 hover:text-red-400 uppercase tracking-widest transition-colors",children:"Sign Out"})]})]})}),y.jsxs("main",{className:"flex-grow max-w-7xl mx-auto w-full p-6 md:p-12",children:[s==="hdl"&&y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"flex justify-between items-end mb-12",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-4xl font-black tracking-tight",children:"IP Repository"}),y.jsx("p",{className:"text-gray-400 font-medium",children:"Manage your verified hardware description blocks."})]}),y.jsx("button",{onClick:()=>c(!0),className:"bg-contributor text-white px-8 py-3 rounded-2xl font-black text-sm hover:brightness-110 shadow-2xl shadow-contributor/20 transition-all flex items-center gap-2",children:"New Module"})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[ge?y.jsx("div",{className:"col-span-full py-40 text-center text-gray-500 font-bold animate-pulse",children:"Loading repository..."}):g.map(be=>y.jsxs("div",{className:"bg-gunmetal p-8 rounded-[32px] border border-white/5 hover:border-contributor/50 transition-all group cursor-default",children:[y.jsxs("div",{className:"flex justify-between items-start mb-6",children:[y.jsx("div",{className:"w-12 h-12 bg-contributor/10 rounded-2xl flex items-center justify-center text-contributor",children:y.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"})})}),y.jsx("span",{className:"text-[10px] font-black text-gray-600 uppercase tracking-widest border border-white/5 px-2 py-1 rounded-lg",children:be.type})]}),y.jsx("h3",{className:"text-xl font-bold mb-1",children:be.name}),y.jsxs("p",{className:"text-xs text-gray-500 mb-8 font-medium",children:[be.size,"  Verified ",be.date]}),y.jsx("div",{className:"flex gap-3",children:y.jsx("button",{onClick:()=>S(be),className:"flex-1 text-[10px] font-black uppercase tracking-widest py-3 bg-white/5 rounded-xl hover:bg-white/10 transition-colors",children:"Edit"})})]},be.id)),!ge&&g.length===0&&y.jsx("div",{className:"col-span-full py-40 text-center border-2 border-dashed border-white/5 rounded-[40px] text-gray-600 font-black uppercase tracking-widest text-xs",children:"Repository Empty. Initializing Required."})]})]}),s==="mcq"&&y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"flex justify-between items-end mb-12",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-4xl font-black tracking-tight",children:"Assessment Hub"}),y.jsx("p",{className:"text-gray-400 font-medium",children:"Curate digital logic challenges for learners."})]}),y.jsx("button",{onClick:()=>J(),className:"bg-contributor text-white px-8 py-3 rounded-2xl font-black text-sm hover:brightness-110 shadow-2xl transition-all",children:"Add Question"})]}),y.jsxs("div",{className:"bg-gunmetal rounded-[40px] border border-white/5 overflow-hidden",children:[y.jsxs("table",{className:"w-full text-left text-sm",children:[y.jsx("thead",{className:"bg-white/5 uppercase text-[10px] font-black tracking-widest text-gray-500",children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-8 py-6",children:"ID"}),y.jsx("th",{className:"px-8 py-6",children:"Title"}),y.jsx("th",{className:"px-8 py-6",children:"Attempts"}),y.jsx("th",{className:"px-8 py-6",children:"Difficulty"}),y.jsx("th",{className:"px-8 py-6",children:"Created"}),y.jsx("th",{className:"px-8 py-6 text-right",children:"Actions"})]})}),y.jsx("tbody",{className:"divide-y divide-white/5",children:b.map(be=>y.jsxs("tr",{className:"hover:bg-white/2 transition-colors",children:[y.jsxs("td",{className:"px-8 py-6 font-mono text-gray-600",children:[be.id.slice(0,8),"..."]}),y.jsx("td",{className:"px-8 py-6 font-bold",children:be.title||be.text.slice(0,30)}),y.jsx("td",{className:"px-8 py-6",children:y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"font-black text-white",children:be.submissionCount}),y.jsx("button",{onClick:()=>Re(be.id),className:"text-[9px] uppercase font-bold text-contributor hover:underline",children:"View"})]})}),y.jsx("td",{className:"px-8 py-6",children:y.jsx("span",{className:"px-3 py-1 rounded-full bg-orange-500/10 text-orange-500 text-[10px] font-black uppercase tracking-widest border border-orange-500/20",children:be.difficulty})}),y.jsx("td",{className:"px-8 py-6 text-gray-500 font-medium",children:be.date}),y.jsx("td",{className:"px-8 py-6",children:y.jsxs("div",{className:"flex justify-end gap-6",children:[y.jsx("button",{onClick:()=>J(be),className:"text-contributor hover:text-white font-black uppercase text-[10px] tracking-widest transition-colors",children:"Edit"}),y.jsx("button",{onClick:()=>Ae(be.id),className:"text-red-500 hover:text-red-400 font-black uppercase text-[10px] tracking-widest transition-colors",children:"Delete"})]})})]},be.id))})]}),b.length===0&&y.jsx("div",{className:"p-20 text-center text-gray-600 font-black uppercase tracking-[0.2em] text-[10px]",children:"No Assessment data found."})]})]}),s==="team"&&y.jsxs("div",{className:"max-w-3xl mx-auto py-24 text-center",children:[y.jsx("div",{className:"w-24 h-24 bg-contributor/10 rounded-[32px] flex items-center justify-center mx-auto mb-10 text-contributor border border-contributor/20",children:y.jsx("svg",{className:"w-10 h-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})}),y.jsx("h2",{className:"text-3xl font-black tracking-tight mb-4",children:"Enterprise Controls"}),y.jsx("p",{className:"text-gray-400 font-medium mb-12 text-lg",children:"Manage faculty permissions and multi-user IP access."}),y.jsx("button",{className:"bg-white text-matte px-10 py-4 rounded-2xl font-black text-sm hover:scale-105 active:scale-95 transition-all",children:"Invite Engineer"})]}),u&&y.jsx("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:y.jsxs("div",{className:"bg-gunmetal w-full max-w-lg rounded-[48px] p-12 border border-white/10 shadow-2xl transform animate-in zoom-in duration-300",children:[y.jsx("h3",{className:"text-3xl font-black tracking-tighter mb-8",children:D?"Update RTL":"Deploy RTL"}),y.jsxs("form",{onSubmit:ft,className:"space-y-6",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-gray-500",children:"Module Name"}),y.jsx("input",{name:"moduleName",required:!0,defaultValue:(Je=g.find(be=>be.id===D))==null?void 0:Je.name,className:"w-full bg-matte border border-white/10 rounded-2xl px-6 py-4 text-offwhite focus:border-contributor outline-none transition-colors font-medium",placeholder:"e.g. FIFO_Controller"})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-gray-500",children:"Target Language"}),y.jsxs("select",{name:"language",defaultValue:(((qe=g.find(be=>be.id===D))==null?void 0:qe.type)==="IP Config","Verilog"),className:"w-full bg-matte border border-white/10 rounded-2xl px-6 py-4 text-offwhite focus:border-contributor outline-none transition-colors appearance-none font-medium",children:[y.jsx("option",{value:"Verilog",children:"Verilog HDL"}),y.jsx("option",{value:"VHDL",children:"VHDL"}),y.jsx("option",{value:"SystemVerilog",children:"SystemVerilog"})]})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsxs("label",{className:"text-[10px] font-black uppercase tracking-widest text-gray-500",children:["Source Files (",ie.length,")"]}),y.jsxs("label",{className:"cursor-pointer text-[9px] font-black uppercase tracking-widest text-contributor hover:bg-contributor/10 px-2 py-1 rounded-md transition-all",children:[y.jsx("input",{type:"file",multiple:!0,accept:".v,.sv,.vhd,.txt",className:"hidden",onChange:Ut}),"+ Add Files"]})]}),y.jsx("div",{className:"w-full bg-matte border border-white/10 rounded-2xl px-2 py-2 min-h-[120px] max-h-[200px] overflow-y-auto",children:ie.length===0?y.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-600 space-y-2 py-8",children:[y.jsx("span",{className:"text-2xl",children:""}),y.jsx("span",{className:"text-xs font-bold uppercase tracking-widest",children:"No files uploaded"})]}):y.jsx("div",{className:"space-y-1",children:ie.map((be,Ge)=>y.jsxs("div",{className:"flex justify-between items-center bg-white/5 px-3 py-2 rounded-lg group",children:[y.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[y.jsx("span",{className:"text-xs",children:""}),y.jsx("span",{className:"text-xs font-medium text-offwhite truncate max-w-[200px]",children:be.name}),y.jsxs("span",{className:"text-[10px] text-gray-500",children:[(be.content.length/1024).toFixed(1)," KB"]})]}),y.jsx("button",{type:"button",onClick:()=>Vt(Ge),className:"text-gray-500 hover:text-red-500 transition-colors p-1",children:y.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},Ge))})})]}),y.jsxs("div",{className:"flex gap-4 pt-6",children:[y.jsx("button",{type:"button",onClick:()=>{c(!1),R(null),N(""),$([])},className:"flex-1 py-4 text-xs font-black uppercase tracking-widest bg-white/5 rounded-2xl hover:bg-white/10 transition-colors",children:"Abort"}),y.jsx("button",{type:"submit",disabled:x,className:"flex-1 py-4 text-xs font-black uppercase tracking-widest bg-contributor text-white rounded-2xl shadow-xl shadow-contributor/20 active:scale-95 transition-all",children:x?"Processing...":D?"Update IP":"Deploy IP"})]})]})]})}),d&&y.jsx("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:y.jsxs("div",{className:"bg-gunmetal w-full max-w-lg rounded-[48px] p-12 border border-white/10 shadow-2xl transform animate-in zoom-in duration-300",children:[y.jsx("h3",{className:"text-3xl font-black tracking-tighter mb-8",children:I?"Update Challenge":"New Assessment"}),y.jsx("h3",{className:"text-3xl font-black tracking-tighter mb-8",children:"Quiz Builder"}),y.jsxs("div",{className:"space-y-6 overflow-y-auto max-h-[70vh] custom-scrollbar pr-2",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-gray-500",children:"Quiz Title"}),y.jsx("input",{value:ne,onChange:be=>q(be.target.value),className:"w-full bg-matte border border-white/10 rounded-2xl px-6 py-4 text-offwhite focus:border-contributor outline-none transition-colors font-bold text-lg",placeholder:"e.g. Verilog Finite State Machines"})]}),y.jsxs("div",{className:"space-y-3",children:[y.jsxs("label",{className:"text-[10px] font-black uppercase tracking-widest text-gray-500",children:["Questions Added (",F.length,")"]}),F.map((be,Ge)=>y.jsxs("div",{className:"bg-matte/50 p-4 rounded-xl border border-white/5 flex justify-between items-center group",children:[y.jsxs("div",{children:[y.jsxs("div",{className:"text-xs font-bold text-white mb-1",children:["Q",Ge+1,". ",be.text.substring(0,40),be.text.length>40&&"..."]}),y.jsx("div",{className:"text-[9px] uppercase tracking-widest text-gray-500",children:be.difficulty})]}),y.jsx("button",{onClick:()=>Y(F.filter((dt,ct)=>ct!==Ge)),className:"text-red-500 opacity-0 group-hover:opacity-100 transition-opacity",children:y.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},Ge)),F.length===0&&y.jsx("div",{className:"text-xs text-gray-600 italic text-center py-4 border border-dashed border-white/5 rounded-xl",children:"No questions added yet."})]}),y.jsxs("div",{className:"border-t border-white/10 pt-6",children:[y.jsx("h4",{className:"text-xs font-black uppercase tracking-widest text-contributor mb-4",children:"Add New Question"}),y.jsxs("div",{className:"space-y-4",children:[y.jsx("textarea",{value:ce.text,onChange:be=>_e({...ce,text:be.target.value}),className:"w-full h-24 bg-matte border border-white/10 rounded-2xl px-4 py-3 text-offwhite focus:border-contributor outline-none transition-colors resize-none text-xs",placeholder:"Question text..."}),y.jsx("div",{className:"flex gap-2",children:["Entry","Medium","Senior"].map(be=>y.jsx("button",{type:"button",onClick:()=>_e({...ce,difficulty:be}),className:`flex-1 py-2 rounded-xl text-[9px] font-black uppercase tracking-widest border transition-all ${ce.difficulty===be?"bg-contributor text-white border-contributor":"bg-matte text-gray-600 border-white/5"}`,children:be},be))}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-gray-500",children:"Options (Select Correct Answer)"}),ce.options.map((be,Ge)=>y.jsxs("div",{className:"flex gap-2 items-center",children:[y.jsx("input",{type:"radio",name:"correctOption",checked:ce.correct===Ge,onChange:()=>_e({...ce,correct:Ge}),className:"appearance-none w-4 h-4 rounded-full border border-white/20 checked:bg-contributor checked:border-contributor cursor-pointer transition-all"}),y.jsx("input",{value:be,onChange:dt=>{const ct=[...ce.options];ct[Ge]=dt.target.value,_e({...ce,options:ct})},className:"flex-grow bg-matte border border-white/10 rounded-xl px-4 py-2 text-xs text-offwhite focus:border-contributor outline-none transition-colors",placeholder:`Option ${String.fromCharCode(65+Ge)}`})]},Ge))]}),y.jsx("button",{type:"button",onClick:re,disabled:!ce.text||ce.options.some(be=>!be),className:"w-full py-3 text-[10px] font-black uppercase tracking-widest bg-white/10 hover:bg-white/20 text-white rounded-xl transition-all disabled:opacity-50",children:"+ Add Question to Quiz"})]})]}),y.jsxs("div",{className:"flex gap-4 pt-6 border-t border-white/10",children:[y.jsx("button",{type:"button",onClick:()=>p(!1),className:"flex-1 py-4 text-xs font-black uppercase tracking-widest bg-white/5 rounded-2xl hover:bg-white/10 transition-colors",children:"Discard"}),y.jsx("button",{type:"button",onClick:Te,className:"flex-1 py-4 text-xs font-black uppercase tracking-widest bg-contributor text-white rounded-2xl shadow-xl shadow-contributor/20 hover:brightness-110 active:scale-95 transition-all",children:x?"Publishing...":"Publish Full Quiz"})]})]})]})}),V&&y.jsx("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:y.jsxs("div",{className:"bg-gunmetal w-full max-w-2xl rounded-[32px] p-8 border border-white/10 shadow-2xl h-[80vh] flex flex-col",children:[y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsx("h3",{className:"text-2xl font-black tracking-tight",children:"Quiz Submissions"}),y.jsx("button",{onClick:()=>G(!1),className:"bg-white/5 p-2 rounded-full hover:bg-white/10 transition-colors",children:y.jsx("svg",{className:"w-6 h-6 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),y.jsx("div",{className:"flex-grow overflow-auto",children:pe?y.jsx("div",{className:"text-center py-20 text-gray-500 font-bold animate-pulse",children:"Loading data..."}):y.jsxs("table",{className:"w-full text-left text-sm",children:[y.jsx("thead",{className:"bg-white/5 uppercase text-[10px] font-black tracking-widest text-gray-500 sticky top-0",children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-6 py-4",children:"Student"}),y.jsx("th",{className:"px-6 py-4",children:"Score"}),y.jsx("th",{className:"px-6 py-4 text-right",children:"Date"})]})}),y.jsx("tbody",{className:"divide-y divide-white/5",children:me.length>0?me.map((be,Ge)=>y.jsxs("tr",{className:"hover:bg-white/2",children:[y.jsx("td",{className:"px-6 py-4 font-bold text-white",children:be.userName||"Anonymous"}),y.jsx("td",{className:"px-6 py-4",children:y.jsxs("span",{className:`px-2 py-1 rounded-md text-[10px] font-black uppercase ${be.score===be.total?"bg-green-500/20 text-green-500":"bg-white/5 text-gray-400"}`,children:[be.score," / ",be.total]})}),y.jsx("td",{className:"px-6 py-4 text-gray-500 font-mono text-xs text-right",children:new Date(be.timestamp).toLocaleString()})]},Ge)):y.jsx("tr",{children:y.jsx("td",{colSpan:3,className:"px-6 py-12 text-center text-gray-600 font-bold uppercase tracking-widest text-xs",children:"No submissions yet."})})})]})})]})}),te&&y.jsx("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:y.jsxs("div",{className:"bg-gunmetal w-full max-w-md rounded-[40px] p-10 border border-white/10 shadow-2xl transform animate-in zoom-in duration-300 text-center",children:[y.jsx("div",{className:"w-16 h-16 bg-red-500/10 text-red-500 rounded-2xl flex items-center justify-center mx-auto mb-6",children:y.jsx("svg",{className:"w-8 h-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}),y.jsx("h3",{className:"text-2xl font-black tracking-tight mb-2",children:"Confirm Deletion"}),y.jsx("p",{className:"text-gray-400 font-medium mb-8",children:"Are you sure you want to permanently remove this assessment item? This action cannot be undone."}),y.jsxs("div",{className:"flex gap-3",children:[y.jsx("button",{onClick:()=>Se(null),className:"flex-1 py-3 text-[10px] font-black uppercase tracking-widest bg-white/5 rounded-xl hover:bg-white/10 transition-colors",children:"Cancel"}),y.jsx("button",{onClick:je,className:"flex-1 py-3 text-[10px] font-black uppercase tracking-widest bg-red-500 text-white rounded-xl shadow-xl shadow-red-500/20 hover:brightness-110 transition-all",children:"Delete Forever"})]})]})}),s==="profile"&&y.jsx("div",{className:"max-w-6xl mx-auto py-8 text-offwhite animate-fade-in",children:y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-8",children:[y.jsx("div",{className:"md:col-span-4 lg:col-span-3 space-y-6",children:y.jsxs("div",{className:"bg-gunmetal rounded-[24px] border border-white/5 overflow-hidden shadow-2xl relative",children:[y.jsx("div",{className:"h-24 bg-gradient-to-br from-contributor to-emerald-900 relative",children:y.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:"linear-gradient(45deg, white 1px, transparent 0)",backgroundSize:"10px 10px"}})}),y.jsxs("div",{className:"px-6 pb-6 relative",children:[y.jsx("div",{className:"w-24 h-24 rounded-2xl bg-contributor border-4 border-gunmetal shadow-xl -mt-12 mb-4 flex items-center justify-center text-3xl select-none text-white",children:A!=null&&A.username?A.username[0].toUpperCase():"C"}),y.jsx("h2",{className:"text-xl font-black text-white tracking-tight mb-1",children:(A==null?void 0:A.username)||"Verified Sponsor"}),y.jsx("div",{className:"text-[10px] font-black uppercase tracking-widest text-gray-500 mb-4",children:"Enterprise Edition"}),y.jsxs("div",{className:"bg-white/5 rounded-xl p-3 border border-white/5 mb-6",children:[y.jsx("div",{className:"text-[9px] font-bold text-gray-400 uppercase tracking-widest mb-1",children:"Vendor Tier"}),y.jsx("div",{className:"text-lg font-black text-contributor",children:"Silicon Architect"}),y.jsx("div",{className:"text-[9px] text-gray-600 font-mono mt-1",children:"Level 4 Partner"})]}),y.jsxs("div",{className:"space-y-3 text-xs text-gray-400 font-medium",children:[y.jsxs("div",{className:"flex justify-between border-b border-white/5 pb-2",children:[y.jsx("span",{children:"Joined"}),y.jsx("span",{className:"text-white",children:"Mar 2026"})]}),y.jsxs("div",{className:"flex justify-between border-b border-white/5 pb-2",children:[y.jsx("span",{children:"IP License"}),y.jsx("span",{className:"text-white",children:"Open Source"})]})]})]})]})}),y.jsxs("div",{className:"md:col-span-8 lg:col-span-9 space-y-8",children:[y.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[y.jsxs("div",{className:"bg-gunmetal p-6 rounded-[24px] border border-white/5 relative overflow-hidden group",children:[y.jsx("div",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest mb-2",children:"Deployed Artifacts"}),y.jsx("div",{className:"text-3xl font-black text-white mb-1",children:((A==null?void 0:A.modules)||0)+((A==null?void 0:A.quizzes)||0)}),y.jsx("div",{className:"text-[10px] text-contributor font-bold",children:"Total Contributions"})]}),y.jsxs("div",{className:"bg-gunmetal p-6 rounded-[24px] border border-white/5 relative overflow-hidden group",children:[y.jsx("div",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest mb-2",children:"IP Cores"}),y.jsx("div",{className:"text-3xl font-black text-white mb-1",children:(A==null?void 0:A.modules)||0}),y.jsx("div",{className:"text-[10px] text-emerald-500 font-bold",children:"RTL Modules"})]}),y.jsxs("div",{className:"bg-gunmetal p-6 rounded-[24px] border border-white/5 relative overflow-hidden group",children:[y.jsx("div",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest mb-2",children:"Assessments"}),y.jsx("div",{className:"text-3xl font-black text-white mb-1",children:(A==null?void 0:A.quizzes)||0}),y.jsx("div",{className:"text-[10px] text-blue-500 font-bold",children:"Challenges Created"})]})]}),y.jsxs("div",{className:"bg-gunmetal p-8 rounded-[32px] border border-white/5 overflow-hidden",children:[y.jsxs("h3",{className:"text-lg font-black tracking-tight mb-6 flex items-center gap-2",children:[y.jsx("span",{className:"text-contributor",children:"///"})," Deployment Frequency"]}),y.jsx("div",{className:"flex gap-1 flex-wrap justify-between opacity-50 hover:opacity-100 transition-opacity",children:Array.from({length:52}).map((be,Ge)=>y.jsx("div",{className:"w-2 h-8 rounded-sm bg-white/5 flex flex-col gap-1",children:Array.from({length:7}).map((dt,ct)=>y.jsx("div",{className:`w-2 h-2 rounded-sm ${Math.random()>.8?"bg-contributor/80":"bg-transparent"}`},ct))},Ge))}),y.jsx("div",{className:"text-[10px] text-gray-600 font-mono mt-4 text-right",children:"Last 12 Months"})]}),y.jsxs("div",{className:"bg-gunmetal p-8 rounded-[32px] border border-white/5",children:[y.jsxs("h3",{className:"text-lg font-black tracking-tight mb-6 flex items-center gap-2",children:[y.jsx("span",{className:"text-gray-500",children:"///"})," Latest IP Releases"]}),y.jsxs("div",{className:"space-y-4",children:[g.slice(0,3).map(be=>y.jsxs("div",{className:"flex items-center gap-4 p-4 bg-white/2 rounded-2xl hover:bg-white/5 transition-colors border border-white/5",children:[y.jsx("div",{className:"w-10 h-10 bg-contributor/10 rounded-lg flex items-center justify-center text-contributor",children:""}),y.jsxs("div",{className:"flex-grow",children:[y.jsx("div",{className:"text-sm font-bold text-white",children:be.name}),y.jsxs("div",{className:"text-[10px] text-gray-500 uppercase tracking-widest",children:[be.type,"  ",be.size]})]}),y.jsx("div",{className:"text-right",children:y.jsx("div",{className:"text-[10px] bg-white/10 px-2 py-1 rounded text-white font-mono",children:be.date})})]},be.id)),g.length===0&&y.jsx("div",{className:"text-gray-500 italic text-sm",children:"No recent uploads."})]})]})]})]})})]})]})},zT=({profile:i,onSignOut:e})=>{var Vt,S;const n=uu(),[s,o]=Z.useState(()=>localStorage.getItem("learner_active_tab")||"modules");Z.useEffect(()=>{localStorage.setItem("learner_active_tab",s)},[s]);const[u,c]=Z.useState([]),[d,p]=Z.useState(new Set),[g,v]=Z.useState(null),[b,E]=Z.useState([]),[x,k]=Z.useState(0),[A,C]=Z.useState(0),[I,P]=Z.useState(!1),[z,K]=Z.useState(`// Implementation
module my_design(output a);
  assign a = 1;
endmodule`),[X,ae]=Z.useState(`// Testbench
module tb;
  wire a;
  my_design uut(a);
  initial begin
    $monitor("Time=%0d a=%b", $time, a);
    #10 $finish;
  end
endmodule`),[j,M]=Z.useState(""),[O,H]=Z.useState(!1),[B,N]=Z.useState(null),[D,R]=Z.useState([]),[ie,$]=Z.useState(null),[te,Se]=Z.useState("Verilog"),[ge,Ne]=Z.useState(!0),[V,G]=Z.useState("");Z.useEffect(()=>{(async()=>{try{const ne=localStorage.getItem("hdlbase_mock_session"),q=JSON.parse(ne),Y={Authorization:`Bearer ${q.token||q.uid}`},_e=await(await fetch("https://hdlbase-backen.onrender.com/api/v1/users/stats",{headers:Y})).json();_e.status==="success"&&N(_e.data);const Te=await(await fetch("https://hdlbase-backen.onrender.com/api/v1/modules",{headers:Y})).json();Te.status==="success"&&R(Te.data);const Ae=await(await fetch("https://hdlbase-backen.onrender.com/api/v1/quizzes",{headers:Y})).json();Ae.status==="success"&&c(Ae.data);try{const Je=await(await fetch("https://hdlbase-backen.onrender.com/api/v1/quizzes/my-results",{headers:Y})).json();if(Je.status==="success"){const qe=new Set(Je.data.map(be=>be.quizId));p(qe)}}catch{console.warn("Failed to fetch my-results")}}catch(ne){console.error("Failed to fetch learner data",ne)}finally{Ne(!1)}})()},[]);const me=()=>{n("/dashboard")},de=J=>{v(J),E(J.questions||[]),k(0),C(0),P(!1)},pe=async J=>{let ne=A;if(J===b[x].correct&&(ne=A+1,C(ne)),x+1<b.length)k(x+1);else{P(!0);try{const q=localStorage.getItem("hdlbase_mock_session");if(q){const F=JSON.parse(q),Y=F.token||F.uid,ce=await fetch("https://hdlbase-backen.onrender.com/api/v1/quizzes/results",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Y}`},body:JSON.stringify({score:ne,total:b.length,details:`Quiz: ${(g==null?void 0:g.title)||"Unknown"}`,quizId:(g==null?void 0:g.id)||null})});if(!ce.ok){const Te=await ce.json();console.warn("Result submission warning:",Te)}const re=await(await fetch("https://hdlbase-backen.onrender.com/api/v1/users/stats",{headers:{Authorization:`Bearer ${Y}`}})).json();re.status==="success"&&N(re.data),g!=null&&g.id&&p(Te=>new Set(Te).add(g.id))}}catch(q){console.error("Failed to submit results",q)}}},Ie=J=>{$(J),Se("Verilog")},Pe=async()=>{if(!ie)return;if(ie.files&&ie.files.length>0){const q=new MT;ie.files.forEach(Y=>q.file(Y.name,Y.content));const F=await q.generateAsync({type:"blob"});Mv.saveAs(F,`${ie.name.replace(/\s+/g,"_")}.zip`),$(null);return}if(!ie.code){alert("No code available to download.");return}let J=".v";switch(te){case"VHDL":J=".vhd";break;case"SystemVerilog":J=".sv";break;default:J=".v"}const ne=new Blob([ie.code],{type:"text/plain;charset=utf-8"});Mv.saveAs(ne,`${ie.name.replace(/\s+/g,"_")}${J}`),$(null)},Le=()=>{v(null),P(!1)},Oe=async()=>{H(!0),M(`Initializing simulation environment...
`);try{const J=localStorage.getItem("hdlbase_mock_session");if(!J){M("Error: No active session found. Please log in."),H(!1);return}const ne=JSON.parse(J),q=ne.token||ne.uid,F=await fetch("https://hdlbase-backen.onrender.com/api/v1/simulation/run",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${q}`},body:JSON.stringify({code:z,testbenchCode:X,language:"Verilog"})}),Y=await F.json();if(!F.ok)throw new Error(Y.message||"Compilation failed");M(ce=>{var _e;return ce+(((_e=Y.data)==null?void 0:_e.output)||"No output received.")})}catch(J){M(ne=>ne+`
[Error] ${J.message}`)}finally{H(!1)}},gt=Z.useRef(null),ft=Z.useRef(null),Ut=(J,ne)=>{var Y;const q=(Y=J.target.files)==null?void 0:Y[0];if(!q)return;const F=new FileReader;F.onload=ce=>{var re;const _e=(re=ce.target)==null?void 0:re.result;ne(_e)},F.readAsText(q),J.target.value=""};return y.jsxs("div",{className:"min-h-screen bg-matte text-offwhite flex flex-col",children:[y.jsx("nav",{className:"border-b border-white/5 bg-gunmetal/30 p-4 sticky top-0 backdrop-blur-md z-20",children:y.jsxs("div",{className:"max-w-7xl mx-auto flex justify-between items-center",children:[y.jsxs("div",{className:"flex items-center gap-10",children:[y.jsx("div",{onClick:me,className:"flex items-center cursor-pointer group",children:y.jsx("h1",{className:"text-xl font-black tracking-tighter",children:y.jsx("a",{href:"",className:"logo-text",children:y.jsx("img",{src:wo,alt:"LOGO",className:"w-32 h-auto"})})})}),y.jsx("div",{className:"flex bg-white/5 p-1 rounded-xl",children:["modules","quiz","playground","progress"].map(J=>y.jsx("button",{onClick:()=>o(J),className:`text-[9px] px-4 py-2 rounded-lg font-black uppercase tracking-widest transition-all ${s===J?"bg-learner text-white shadow-lg":"text-gray-500 hover:text-gray-300"}`,children:J},J))})]}),y.jsxs("div",{className:"flex items-center gap-6",children:[y.jsxs("div",{className:"text-right hidden sm:block",children:[y.jsx("span",{className:"text-xs font-black uppercase text-accent block",children:i.displayName}),y.jsx("span",{className:"text-[9px] text-gray-500 font-bold uppercase tracking-widest",children:"Learner Mode"})]}),y.jsx("button",{onClick:e,className:"text-[10px] font-black text-gray-500 hover:text-white uppercase tracking-widest transition-colors",children:"Exit"})]})]})}),y.jsxs("main",{className:"flex-grow max-w-7xl mx-auto w-full p-6 md:p-12",children:[s==="modules"&&y.jsxs("div",{className:"space-y-12",children:[y.jsxs("header",{className:"flex flex-col md:flex-row justify-between items-end gap-6",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-4xl font-black tracking-tight mb-2",children:"Knowledge Base"}),y.jsx("p",{className:"text-gray-400 font-medium",children:"Download verified RTL building blocks for your student projects."})]}),y.jsxs("div",{className:"relative w-full md:w-96",children:[y.jsx("input",{type:"text",placeholder:"Search modules...",value:V,onChange:J=>G(J.target.value),className:"w-full bg-gunmetal border border-white/10 rounded-2xl px-6 py-4 pl-12 text-offwhite focus:border-learner outline-none transition-colors font-bold shadow-lg shadow-black/20"}),y.jsx("svg",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})]}),y.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:ge?y.jsx("div",{className:"col-span-full py-20 text-center text-gray-500 font-bold animate-pulse",children:"Loading modules..."}):D.filter(J=>J.name.toLowerCase().includes(V.toLowerCase())).length>0?D.filter(J=>J.name.toLowerCase().includes(V.toLowerCase())).map(J=>y.jsxs("div",{className:"bg-gunmetal p-8 rounded-[32px] border border-white/5 hover:border-learner/50 transition-all group animate-fade-in",children:[y.jsx("div",{className:"text-[10px] text-gray-600 mb-3 font-black uppercase tracking-widest",children:"Educational IP"}),y.jsx("h4",{className:"text-xl font-bold text-accent mb-8 group-hover:text-learner transition-colors",children:J.name}),y.jsx("button",{onClick:()=>Ie(J),className:"w-full py-3 bg-white/5 text-[10px] font-black rounded-xl uppercase tracking-widest hover:bg-learner hover:text-white transition-all",children:"Download Source"})]},J.name)):y.jsxs("div",{className:"col-span-full py-20 text-center text-gray-500 font-bold border border-dashed border-white/5 rounded-3xl",children:['No modules found matching "',V,'".']})})]}),s==="quiz"&&y.jsx("section",{className:"max-w-7xl mx-auto",children:g?y.jsx("div",{className:"max-w-2xl mx-auto",children:I?y.jsxs("div",{className:"bg-gunmetal p-16 rounded-[48px] border border-white/10 text-center shadow-2xl animate-fade-in",children:[y.jsx("div",{className:"w-20 h-20 bg-learner/10 text-learner rounded-3xl flex items-center justify-center mx-auto mb-8",children:y.jsx("svg",{className:"w-10 h-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),y.jsx("h3",{className:"text-3xl font-black tracking-tighter mb-2",children:"Assessment Complete"}),y.jsxs("p",{className:"text-gray-400 mb-10 text-xl font-medium",children:["You scored ",y.jsx("span",{className:"text-learner font-black",children:A})," out of ",b.length]}),y.jsxs("div",{className:"flex gap-4 justify-center",children:[y.jsx("button",{onClick:()=>{k(0),C(0),P(!1)},className:"px-8 py-3 rounded-2xl font-bold text-sm border border-white/10 hover:bg-white/5 transition-all",children:"Retry"}),y.jsx("button",{onClick:Le,className:"bg-learner text-white px-8 py-3 rounded-2xl font-black text-sm shadow-xl shadow-learner/20 hover:scale-105 transition-all",children:"Back to Quizzes"})]})]}):y.jsx("div",{className:"bg-gunmetal rounded-[48px] border border-white/10 overflow-hidden shadow-2xl animate-fade-in",children:y.jsxs("div",{className:"p-12",children:[y.jsxs("div",{className:"flex justify-between items-center mb-10",children:[y.jsxs("div",{className:"flex flex-col",children:[y.jsx("span",{className:"text-[10px] font-black text-learner uppercase tracking-widest mb-1",children:g.title}),y.jsxs("span",{className:"text-2xl font-black text-white",children:["Question ",x+1]})]}),y.jsxs("div",{className:"text-right",children:[y.jsx("span",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest block mb-1",children:"Progress"}),y.jsx("div",{className:"w-24 h-1 bg-white/10 rounded-full overflow-hidden",children:y.jsx("div",{className:"h-full bg-learner transition-all duration-500",style:{width:`${x/b.length*100}%`}})})]})]}),y.jsx("h3",{className:"text-xl font-medium mb-12 leading-relaxed text-gray-200",children:(Vt=b[x])==null?void 0:Vt.text}),y.jsx("div",{className:"space-y-4",children:(S=b[x])==null?void 0:S.options.map((J,ne)=>y.jsxs("button",{onClick:()=>pe(ne),className:"w-full text-left p-6 rounded-2xl bg-matte border border-white/5 hover:border-learner/50 hover:bg-white/5 transition-all flex items-center gap-6 group active:scale-[0.98]",children:[y.jsx("span",{className:"w-10 h-10 rounded-xl bg-white/5 flex items-center justify-center font-black text-gray-600 group-hover:text-learner group-hover:bg-learner/10 transition-colors",children:String.fromCharCode(65+ne)}),y.jsx("span",{className:"font-bold text-gray-400 group-hover:text-white transition-colors",children:J})]},ne))})]})})}):y.jsxs("div",{children:[y.jsxs("div",{className:"mb-12",children:[y.jsx("h2",{className:"text-4xl font-black tracking-tight",children:"Available Quizzes"}),y.jsx("p",{className:"text-gray-400 font-medium",children:"Verify your skills with community-curated assessments."})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:u.map(J=>{var ne;return y.jsxs("div",{onClick:()=>de(J),className:"bg-gunmetal p-8 rounded-[32px] border border-white/5 hover:border-learner/50 hover:bg-white/5 transition-all cursor-pointer group",children:[y.jsxs("div",{className:"text-[10px] text-gray-500 mb-4 font-black uppercase tracking-widest",children:[((ne=J.questions)==null?void 0:ne.length)||0," Questions"]}),y.jsx("h3",{className:"text-2xl font-bold mb-4 group-hover:text-learner transition-colors",children:J.title}),y.jsx("p",{className:"text-sm text-gray-400 mb-8 line-clamp-2",children:J.description}),y.jsx("div",{className:"flex justify-between items-center",children:d.has(J.id)?y.jsxs("div",{className:"flex gap-2",children:[y.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest bg-green-500/10 text-green-500 px-3 py-3 rounded-xl border border-green-500/20",children:"Done "}),y.jsx("button",{className:"text-[10px] font-black uppercase tracking-widest bg-white/5 text-gray-400 px-4 py-3 rounded-xl hover:bg-white/10 transition-all",children:"Retry"})]}):y.jsx("button",{className:"text-[10px] font-black uppercase tracking-widest bg-learner text-white px-6 py-3 rounded-xl shadow-lg shadow-learner/20 hover:scale-105 transition-all",children:"Start Quiz"})})]},J.id)})})]})}),s==="playground"&&y.jsxs("div",{className:"h-[70vh] flex flex-col",children:[y.jsxs("div",{className:"flex justify-between items-end mb-8",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"text-3xl font-black tracking-tight",children:"RTL Sandbox"}),y.jsx("p",{className:"text-gray-400 text-sm font-medium",children:"Draft and test logic blocks with real-time feedback."})]}),y.jsx("button",{onClick:Oe,disabled:O,className:"bg-learner text-white px-8 py-3 rounded-2xl font-black text-xs shadow-xl shadow-learner/20 hover:brightness-110 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:O?"Compiling...":"Compile & Test"})]}),y.jsxs("div",{className:"flex-grow flex flex-col gap-6",children:[y.jsxs("div",{className:"flex-grow grid grid-cols-1 lg:grid-cols-2 gap-6 min-h-[400px]",children:[y.jsxs("div",{className:"flex flex-col gap-2",children:[y.jsx("input",{type:"file",accept:".v,.sv,.txt",className:"hidden",ref:gt,onChange:J=>Ut(J,K)}),y.jsxs("div",{className:"flex justify-between items-center px-2",children:[y.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-gray-500",children:"design.sv"}),y.jsxs("button",{onClick:()=>{var J;return(J=gt.current)==null?void 0:J.click()},className:"text-[10px] font-bold text-learner hover:text-white uppercase tracking-widest transition-colors flex items-center gap-1",children:[y.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),"Upload"]})]}),y.jsx("textarea",{className:"w-full h-full bg-gunmetal border border-white/10 rounded-[20px] p-6 font-mono text-sm text-accent/80 focus:border-learner outline-none transition-all resize-none shadow-inner leading-relaxed overflow-auto",value:z,onChange:J=>K(J.target.value),spellCheck:!1,placeholder:"// Design Code"})]}),y.jsxs("div",{className:"flex flex-col gap-2",children:[y.jsx("input",{type:"file",accept:".v,.sv,.txt",className:"hidden",ref:ft,onChange:J=>Ut(J,ae)}),y.jsxs("div",{className:"flex justify-between items-center px-2",children:[y.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-gray-500",children:"testbench.sv"}),y.jsxs("button",{onClick:()=>{var J;return(J=ft.current)==null?void 0:J.click()},className:"text-[10px] font-bold text-learner hover:text-white uppercase tracking-widest transition-colors flex items-center gap-1",children:[y.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),"Upload"]})]}),y.jsx("textarea",{className:"w-full h-full bg-gunmetal border border-white/10 rounded-[20px] p-6 font-mono text-sm text-accent/80 focus:border-learner outline-none transition-all resize-none shadow-inner leading-relaxed overflow-auto",value:X,onChange:J=>ae(J.target.value),spellCheck:!1,placeholder:"// Testbench Code"})]})]}),y.jsxs("div",{className:"h-[200px] bg-black/40 border-t-2 border-white/5 p-0 flex flex-col",children:[y.jsxs("div",{className:"bg-white/5 px-6 py-2 flex items-center gap-2",children:[y.jsx("span",{className:"w-2 h-2 rounded-full bg-learner"}),y.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Console"})]}),y.jsx("div",{className:"flex-grow font-mono text-xs text-green-400/90 p-6 overflow-auto whitespace-pre-wrap font-medium",children:j||y.jsx("span",{className:"text-gray-600 opacity-50",children:"// Output will appear here after compilation..."})})]})]})]}),ie&&y.jsx("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:y.jsxs("div",{className:"bg-gunmetal w-full max-w-sm rounded-[32px] p-8 border border-white/10 shadow-2xl transform animate-in zoom-in duration-300",children:[y.jsx("h3",{className:"text-xl font-black tracking-tight mb-6",children:"Download Module"}),y.jsxs("div",{className:"space-y-4 mb-8",children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-gray-500 block mb-2",children:"Module"}),y.jsx("div",{className:"text-white font-bold",children:ie.name})]}),(!ie.files||ie.files.length===0)&&y.jsxs("div",{children:[y.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-gray-500 block mb-2",children:"Format"}),y.jsxs("select",{value:te,onChange:J=>Se(J.target.value),className:"w-full bg-matte border border-white/10 rounded-xl px-4 py-3 text-offwhite focus:border-learner outline-none transition-colors appearance-none font-bold text-sm",children:[y.jsx("option",{value:"Verilog",children:"Verilog (.v)"}),y.jsx("option",{value:"VHDL",children:"VHDL (.vhd)"}),y.jsx("option",{value:"SystemVerilog",children:"SystemVerilog (.sv)"})]})]}),ie.files&&ie.files.length>0&&y.jsxs("div",{className:"text-xs text-gray-400 font-bold bg-white/5 p-4 rounded-xl border border-white/5",children:[" Contains ",ie.files.length," source files. Will download as ZIP."]})]}),y.jsxs("div",{className:"flex gap-3",children:[y.jsx("button",{onClick:()=>$(null),className:"flex-1 py-3 text-[10px] font-black uppercase tracking-widest bg-white/5 rounded-xl hover:bg-white/10 transition-colors",children:"Cancel"}),y.jsx("button",{onClick:Pe,className:"flex-1 py-3 text-[10px] font-black uppercase tracking-widest bg-learner text-white rounded-xl shadow-xl shadow-learner/20 hover:brightness-110 transition-all",children:"Download"})]})]})}),s==="progress"&&y.jsx("div",{className:"max-w-6xl mx-auto py-8 text-offwhite animate-fade-in",children:y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-8",children:[y.jsxs("div",{className:"md:col-span-4 lg:col-span-3 space-y-6",children:[y.jsxs("div",{className:"bg-gunmetal rounded-[24px] border border-white/5 overflow-hidden shadow-2xl relative",children:[y.jsx("div",{className:"h-24 bg-gradient-to-br from-gray-800 to-black relative overflow-hidden",children:y.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:"radial-gradient(circle at 2px 2px, white 1px, transparent 0)",backgroundSize:"20px 20px"}})}),y.jsxs("div",{className:"px-6 pb-6 relative",children:[y.jsx("div",{className:"w-24 h-24 rounded-2xl bg-learner border-4 border-gunmetal shadow-xl -mt-12 mb-4 flex items-center justify-center text-3xl select-none",children:B!=null&&B.username?B.username[0].toUpperCase():"L"}),y.jsx("h2",{className:"text-xl font-black text-white tracking-tight mb-1",children:(B==null?void 0:B.username)||"Unknown Learner"}),y.jsx("div",{className:"text-[10px] font-black uppercase tracking-widest text-gray-500 mb-4",children:"Learner Profile"}),y.jsxs("div",{className:"bg-white/5 rounded-xl p-3 border border-white/5 mb-6",children:[y.jsx("div",{className:"text-[9px] font-bold text-gray-400 uppercase tracking-widest mb-1",children:"Rank"}),y.jsx("div",{className:"text-lg font-black text-learner",children:((B==null?void 0:B.solved)||0)<5?"Beginner":((B==null?void 0:B.solved)||0)<15?"Intermediate":"Advanced"}),y.jsx("div",{className:"text-[9px] text-gray-600 font-mono mt-1",children:((B==null?void 0:B.solved)||0)<5?"Level 1":((B==null?void 0:B.solved)||0)<15?"Level 5":"Level 10"})]}),y.jsxs("div",{className:"space-y-3 text-xs text-gray-400 font-medium",children:[y.jsxs("div",{className:"flex justify-between border-b border-white/5 pb-2",children:[y.jsx("span",{children:"Member Since"}),y.jsx("span",{className:"text-white",children:"Jan 2026"})]}),y.jsxs("div",{className:"flex justify-between border-b border-white/5 pb-2",children:[y.jsx("span",{children:"Last Active"}),y.jsx("span",{className:"text-white",children:"Today"})]}),y.jsxs("div",{className:"flex justify-between border-b border-white/5 pb-2",children:[y.jsx("span",{children:"Status"}),y.jsx("span",{className:"text-green-500",children:"Online"})]})]})]})]}),y.jsxs("div",{className:"bg-gunmetal rounded-[24px] border border-white/5 p-6",children:[y.jsx("h4",{className:"text-[10px] font-black uppercase tracking-widest text-gray-500 mb-4",children:"Achievements"}),y.jsxs("div",{className:"flex flex-wrap gap-2",children:[((B==null?void 0:B.solved)||0)>0?y.jsx("span",{className:"w-8 h-8 bg-learner/20 rounded-lg flex items-center justify-center text-lg border border-learner/30 grayscale-0",title:"First Solved",children:""}):y.jsx("span",{className:"w-8 h-8 bg-white/5 rounded-lg flex items-center justify-center text-lg border border-white/5 grayscale opacity-50",title:"First Solved (Locked)",children:""}),((B==null?void 0:B.accuracy)||0)>80?y.jsx("span",{className:"w-8 h-8 bg-blue-500/20 rounded-lg flex items-center justify-center text-lg border border-blue-500/30",title:"High Accuracy",children:""}):y.jsx("span",{className:"w-8 h-8 bg-white/5 rounded-lg flex items-center justify-center text-lg border border-white/5 grayscale opacity-50",title:"High Accuracy (Locked)",children:""}),((B==null?void 0:B.solved)||0)>10?y.jsx("span",{className:"w-8 h-8 bg-orange-500/20 rounded-lg flex items-center justify-center text-lg border border-orange-500/30",title:"Consistent Learner",children:""}):y.jsx("span",{className:"w-8 h-8 bg-white/5 rounded-lg flex items-center justify-center text-lg border border-white/5 grayscale opacity-50",title:"Consistent Learner (Locked)",children:""})]})]})]}),y.jsxs("div",{className:"md:col-span-8 lg:col-span-9 space-y-8",children:[y.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[y.jsxs("div",{className:"bg-gunmetal p-6 rounded-[24px] border border-white/5 relative overflow-hidden group",children:[y.jsx("div",{className:"absolute right-0 top-0 w-24 h-24 bg-learner/5 rounded-bl-full -mr-4 -mt-4 transition-transform group-hover:scale-110"}),y.jsx("div",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest mb-2",children:"Honor Points"}),y.jsx("div",{className:"text-3xl font-black text-white mb-1",children:((B==null?void 0:B.solved)||0)*150+((B==null?void 0:B.accuracy)||0)*10}),y.jsx("div",{className:"text-[10px] text-learner font-bold",children:"Total Score"})]}),y.jsxs("div",{className:"bg-gunmetal p-6 rounded-[24px] border border-white/5 relative overflow-hidden group",children:[y.jsx("div",{className:"absolute right-0 top-0 w-24 h-24 bg-blue-500/5 rounded-bl-full -mr-4 -mt-4 transition-transform group-hover:scale-110"}),y.jsx("div",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest mb-2",children:"Challenges Solved"}),y.jsx("div",{className:"text-3xl font-black text-white mb-1",children:(B==null?void 0:B.solved)||0}),y.jsx("div",{className:"text-[10px] text-blue-500 font-bold",children:"Problems Completed"})]}),y.jsxs("div",{className:"bg-gunmetal p-6 rounded-[24px] border border-white/5 relative overflow-hidden group",children:[y.jsx("div",{className:"absolute right-0 top-0 w-24 h-24 bg-purple-500/5 rounded-bl-full -mr-4 -mt-4 transition-transform group-hover:scale-110"}),y.jsx("div",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest mb-2",children:"Accuracy"}),y.jsxs("div",{className:"text-3xl font-black text-white mb-1",children:[(B==null?void 0:B.accuracy)||0,"%"]}),y.jsx("div",{className:"text-[10px] text-purple-500 font-bold",children:"Success Rate"})]})]}),y.jsxs("div",{className:"bg-gunmetal p-8 rounded-[32px] border border-white/5",children:[y.jsxs("h3",{className:"text-lg font-black tracking-tight mb-6 flex items-center gap-2",children:[y.jsx("span",{className:"text-gray-500",children:"///"})," Recent Activity"]}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"flex items-center gap-4 p-4 bg-white/2 rounded-2xl hover:bg-white/5 transition-colors border border-white/5",children:[y.jsx("div",{className:"text-2xl opacity-50",children:""}),y.jsxs("div",{className:"flex-grow",children:[y.jsx("div",{className:"text-sm font-bold text-white",children:"Visited Knowledge Base"}),y.jsx("div",{className:"text-[10px] text-gray-500 uppercase tracking-widest",children:"Studying"})]}),y.jsxs("div",{className:"text-right",children:[y.jsx("div",{className:"text-xs font-black text-blue-500",children:"VIEW"}),y.jsx("div",{className:"text-[10px] text-gray-600",children:"Just now"})]})]}),((B==null?void 0:B.solved)||0)>0&&y.jsxs("div",{className:"flex items-center gap-4 p-4 bg-white/2 rounded-2xl hover:bg-white/5 transition-colors border border-white/5",children:[y.jsx("div",{className:"text-2xl opacity-50",children:""}),y.jsxs("div",{className:"flex-grow",children:[y.jsx("div",{className:"text-sm font-bold text-white",children:"Solved a Challenge"}),y.jsx("div",{className:"text-[10px] text-gray-500 uppercase tracking-widest",children:"Progress Update"})]}),y.jsxs("div",{className:"text-right",children:[y.jsx("div",{className:"text-xs font-black text-green-500",children:"+150 XP"}),y.jsx("div",{className:"text-[10px] text-gray-600",children:"Recently"})]})]})]})]})]})]})})]})]})},UT=({onLoginSuccess:i})=>{const[e,n]=Z.useState(""),[s,o]=Z.useState(""),[u,c]=Z.useState(""),[d,p]=Z.useState(""),[g,v]=Z.useState(!1),[b,E]=Z.useState(!1),[x,k]=Z.useState(hn.LEARNER),[A,C]=Z.useState(!1),I=async z=>{if(z.preventDefault(),u!==d){alert("Passwords do not match!");return}C(!0);try{const{createUserWithEmailAndPassword:K,updateProfile:X}=await Tr(async()=>{const{createUserWithEmailAndPassword:ie,updateProfile:$}=await Promise.resolve().then(()=>wh);return{createUserWithEmailAndPassword:ie,updateProfile:$}},void 0),{doc:ae,setDoc:j}=await Tr(async()=>{const{doc:ie,setDoc:$}=await Promise.resolve().then(()=>Zm);return{doc:ie,setDoc:$}},void 0),{auth:M,db:O}=await Tr(async()=>{const{auth:ie,db:$}=await Promise.resolve().then(()=>jh);return{auth:ie,db:$}},void 0),B=(await K(M,e,u)).user,N=s||`user_${Date.now()}`;await X(B,{displayName:N});const D=ae(O,"users",B.uid),R={uid:B.uid,email:B.email||"",role:x,displayName:N,username:N.toLowerCase().replace(/\s+/g,"_"),category:x===hn.CONTRIBUTOR?"HDL Designer":"Learner"};await j(D,R)}catch(K){console.error("Signup Error:",K),alert("Signup failed: "+K.message),C(!1)}},P=async()=>{C(!0);try{const{signInWithPopup:z}=await Tr(async()=>{const{signInWithPopup:R}=await Promise.resolve().then(()=>wh);return{signInWithPopup:R}},void 0),{doc:K,setDoc:X,getDoc:ae}=await Tr(async()=>{const{doc:R,setDoc:ie,getDoc:$}=await Promise.resolve().then(()=>Zm);return{doc:R,setDoc:ie,getDoc:$}},void 0),{auth:j,googleProvider:M,db:O}=await Tr(async()=>{const{auth:R,googleProvider:ie,db:$}=await Promise.resolve().then(()=>jh);return{auth:R,googleProvider:ie,db:$}},void 0),B=(await z(j,M)).user,N=K(O,"users",B.uid);if(!(await ae(N)).exists()){const R={uid:B.uid,email:B.email||"",role:x,displayName:B.displayName||"User",username:(B.displayName||"User").toLowerCase().replace(/\s+/g,"_"),category:x===hn.CONTRIBUTOR?"HDL Designer":"Learner"};await X(N,R)}}catch(z){console.error("Google Login Error:",z),alert("Google Login failed: "+z.message),C(!1)}};return y.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 bg-matte relative overflow-hidden",children:[y.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-contributor/10 rounded-full blur-[120px]"}),y.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-learner/10 rounded-full blur-[120px]"}),y.jsxs("div",{className:"w-full max-w-md frosted-glass rounded-2xl p-8 shadow-2xl z-10",children:[y.jsxs("div",{className:"text-center mb-8",children:[y.jsx("h1",{className:"text-4xl font-black tracking-tighter text-accent mb-1",children:y.jsx(_s,{to:"/",className:"logo-text",children:y.jsx("img",{src:wo,alt:"LOGO",className:"w-32 h-auto mx-auto block"})})}),y.jsx("p",{className:"text-gray-400 text-xs font-bold uppercase tracking-widest",children:"Create New Account"})]}),y.jsxs("div",{className:"space-y-6",children:[y.jsxs("form",{onSubmit:I,className:"space-y-4",children:[y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Username"}),y.jsx("input",{type:"text",required:!0,className:"w-full bg-gunmetal/50 border border-white/10 rounded-xl px-4 py-3 focus:outline-none focus:border-accent transition-colors text-offwhite font-medium",placeholder:"chip_wizard",value:s,onChange:z=>o(z.target.value)})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Email Address"}),y.jsx("input",{type:"email",required:!0,className:"w-full bg-gunmetal/50 border border-white/10 rounded-xl px-4 py-3 focus:outline-none focus:border-accent transition-colors text-offwhite font-medium",placeholder:"engineer@chipcrafters.com",value:e,onChange:z=>n(z.target.value)})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Password"}),y.jsxs("div",{className:"relative",children:[y.jsx("input",{type:g?"text":"password",required:!0,className:"w-full bg-gunmetal/50 border border-white/10 rounded-xl px-4 py-3 focus:outline-none focus:border-accent transition-colors text-offwhite font-medium pr-10",placeholder:"",value:u,onChange:z=>c(z.target.value)}),y.jsx("button",{type:"button",onClick:()=>v(!g),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white transition-colors",children:g?y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Confirm Password"}),y.jsxs("div",{className:"relative",children:[y.jsx("input",{type:b?"text":"password",required:!0,className:"w-full bg-gunmetal/50 border border-white/10 rounded-xl px-4 py-3 focus:outline-none focus:border-accent transition-colors text-offwhite font-medium pr-10",placeholder:"",value:d,onChange:z=>p(z.target.value)}),y.jsx("button",{type:"button",onClick:()=>E(!b),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white transition-colors",children:b?y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Select Role"}),y.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[y.jsx("button",{type:"button",onClick:()=>k(hn.CONTRIBUTOR),className:`py-2 px-4 rounded-xl border text-[10px] font-black uppercase tracking-widest transition-all ${x===hn.CONTRIBUTOR?"bg-contributor/20 border-contributor text-contributor":"bg-gunmetal border-white/5 text-gray-600"}`,children:"Contributor"}),y.jsx("button",{type:"button",onClick:()=>k(hn.LEARNER),className:`py-2 px-4 rounded-xl border text-[10px] font-black uppercase tracking-widest transition-all ${x===hn.LEARNER?"bg-learner/20 border-learner text-learner":"bg-gunmetal border-white/5 text-gray-600"}`,children:"Learner"})]})]}),y.jsx("button",{type:"submit",disabled:A,className:"w-full bg-accent text-matte font-black py-4 rounded-xl hover:scale-[1.02] active:scale-[0.98] transition-all disabled:opacity-50 shadow-2xl shadow-white/5 uppercase text-xs tracking-widest",children:A?"Processing...":"Sign Up"})]}),y.jsxs("div",{className:"relative flex items-center py-2",children:[y.jsx("div",{className:"flex-grow border-t border-white/10"}),y.jsx("span",{className:"flex-shrink mx-4 text-gray-500 text-[9px] uppercase font-black tracking-widest",children:"Or Continue With"}),y.jsx("div",{className:"flex-grow border-t border-white/10"})]}),y.jsxs("button",{onClick:P,className:"w-full bg-white text-gray-800 font-bold py-4 rounded-xl hover:scale-[1.02] active:scale-[0.98] transition-all shadow-2xl flex items-center justify-center gap-3",children:[y.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[y.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),y.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),y.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.84z",fill:"#FBBC05"}),y.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),y.jsx("span",{className:"text-xs uppercase tracking-widest",children:"Google Direct Login"})]}),y.jsxs("div",{className:"flex items-center justify-center gap-2 mt-4",children:[y.jsx("p",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-widest",children:"Already have an account?"}),y.jsx(_s,{to:"/login",className:"text-[10px] text-accent font-black uppercase tracking-widest hover:underline",children:"Log In"})]})]})]})]})},BT=()=>{};var Lv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},FT=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],c=i[n++],d=i[n++],p=((o&7)<<18|(u&63)<<12|(c&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],c=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return e.join("")},Sb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],c=o+1<i.length,d=c?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,v=u>>2,b=(u&3)<<4|d>>4;let E=(d&15)<<2|g>>6,x=g&63;p||(x=64,c||(E=64)),s.push(n[v],n[b],n[E],n[x])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(Tb(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):FT(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],d=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const b=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||d==null||g==null||b==null)throw new HT;const E=u<<2|d>>4;if(s.push(E),g!==64){const x=d<<4&240|g>>2;if(s.push(x),b!==64){const k=g<<6&192|b;s.push(k)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class HT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qT=function(i){const e=Tb(i);return Sb.encodeByteArray(e,!0)},dh=function(i){return qT(i).replace(/\./g,"")},Ab=function(i){try{return Sb.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT=()=>GT().__FIREBASE_DEFAULTS__,KT=()=>{if(typeof process>"u"||typeof Lv>"u")return;const i=Lv.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},YT=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&Ab(i[1]);return e&&JSON.parse(e)},Vh=()=>{try{return BT()||QT()||KT()||YT()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},Rb=i=>{var e,n;return(n=(e=Vh())==null?void 0:e.emulatorHosts)==null?void 0:n[i]},XT=i=>{const e=Rb(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Cb=()=>{var i;return(i=Vh())==null?void 0:i.config},Nb=i=>{var e;return(e=Vh())==null?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mo(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Ib(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $T(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[dh(JSON.stringify(n)),dh(JSON.stringify(c)),""].join(".")}const Yl={};function ZT(){const i={prod:[],emulator:[]};for(const e of Object.keys(Yl))Yl[e]?i.emulator.push(e):i.prod.push(e);return i}function JT(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let Vv=!1;function kb(i,e){if(typeof window>"u"||typeof document>"u"||!Mo(window.location.host)||Yl[i]===e||Yl[i]||Vv)return;Yl[i]=e;function n(E){return`__firebase__banner__${E}`}const s="__firebase__banner",u=ZT().prod.length>0;function c(){const E=document.getElementById(s);E&&E.remove()}function d(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function p(E,x){E.setAttribute("width","24"),E.setAttribute("id",x),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function g(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{Vv=!0,c()},E}function v(E,x){E.setAttribute("id",x),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function b(){const E=JT(s),x=n("text"),k=document.getElementById(x)||document.createElement("span"),A=n("learnmore"),C=document.getElementById(A)||document.createElement("a"),I=n("preprendIcon"),P=document.getElementById(I)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const z=E.element;d(z),v(C,A);const K=g();p(P,I),z.append(P,k,C,K),document.body.appendChild(z)}u?(k.innerText="Preview backend disconnected.",P.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(P.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function eS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Tn())}function tS(){var e;const i=(e=Vh())==null?void 0:e.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function rS(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function iS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function sS(){const i=Tn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function aS(){return!tS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function oS(){try{return typeof indexedDB=="object"}catch{return!1}}function lS(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)==null?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS="FirebaseError";class Li extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=uS,Object.setPrototypeOf(this,Li.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hu.prototype.create)}}class hu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],c=u?cS(u,s):"Error",d=`${this.serviceName}: ${c} (${o}).`;return new Li(o,d,s)}}function cS(i,e){return i.replace(hS,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const hS=/\{\$([^}]+)}/g;function fS(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function ha(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=i[o],c=e[o];if(Pv(u)&&Pv(c)){if(!ha(u,c))return!1}else if(u!==c)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Pv(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fu(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Hl(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function ql(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function dS(i,e){const n=new mS(i,e);return n.subscribe.bind(n)}class mS{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");pS(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=fm),o.error===void 0&&(o.error=fm),o.complete===void 0&&(o.complete=fm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pS(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function fm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xn(i){return i&&i._delegate?i._delegate:i}class fa{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new WT;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_S(e))try{this.getOrInitializeService({instanceIdentifier:la})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=la){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=la){return this.instances.has(e)}getOptions(e=la){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);s===d&&c.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:yS(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=la){return this.component?this.component.multipleInstances?e:la:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function yS(i){return i===la?void 0:i}function _S(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new gS(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(at||(at={}));const bS={debug:at.DEBUG,verbose:at.VERBOSE,info:at.INFO,warn:at.WARN,error:at.ERROR,silent:at.SILENT},wS=at.INFO,xS={[at.DEBUG]:"log",[at.VERBOSE]:"log",[at.INFO]:"info",[at.WARN]:"warn",[at.ERROR]:"error"},ES=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=xS[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class up{constructor(e){this.name=e,this._logLevel=wS,this._logHandler=ES,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in at))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,at.DEBUG,...e),this._logHandler(this,at.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,at.VERBOSE,...e),this._logHandler(this,at.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,at.INFO,...e),this._logHandler(this,at.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,at.WARN,...e),this._logHandler(this,at.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,at.ERROR,...e),this._logHandler(this,at.ERROR,...e)}}const TS=(i,e)=>e.some(n=>i instanceof n);let zv,Uv;function SS(){return zv||(zv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function AS(){return Uv||(Uv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Db=new WeakMap,Am=new WeakMap,Ob=new WeakMap,dm=new WeakMap,cp=new WeakMap;function RS(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",c)},u=()=>{n(vs(i.result)),o()},c=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&Db.set(n,i)}).catch(()=>{}),cp.set(e,i),e}function CS(i){if(Am.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",c),i.removeEventListener("abort",c)},u=()=>{n(),o()},c=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",c),i.addEventListener("abort",c)});Am.set(i,e)}let Rm={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Am.get(i);if(e==="objectStoreNames")return i.objectStoreNames||Ob.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return vs(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function NS(i){Rm=i(Rm)}function IS(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(mm(this),e,...n);return Ob.set(s,e.sort?e.sort():[e]),vs(s)}:AS().includes(i)?function(...e){return i.apply(mm(this),e),vs(Db.get(this))}:function(...e){return vs(i.apply(mm(this),e))}}function kS(i){return typeof i=="function"?IS(i):(i instanceof IDBTransaction&&CS(i),TS(i,SS())?new Proxy(i,Rm):i)}function vs(i){if(i instanceof IDBRequest)return RS(i);if(dm.has(i))return dm.get(i);const e=kS(i);return e!==i&&(dm.set(i,e),cp.set(e,i)),e}const mm=i=>cp.get(i);function DS(i,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const c=indexedDB.open(i,e),d=vs(c);return s&&c.addEventListener("upgradeneeded",p=>{s(vs(c.result),p.oldVersion,p.newVersion,vs(c.transaction),p)}),n&&c.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),d.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const OS=["get","getKey","getAll","getAllKeys","count"],jS=["put","add","delete","clear"],pm=new Map;function Bv(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(pm.get(e))return pm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=jS.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||OS.includes(n)))return;const u=async function(c,...d){const p=this.transaction(c,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[n](...d),o&&p.done]))[0]};return pm.set(e,u),u}NS(i=>({...i,get:(e,n,s)=>Bv(e,n)||i.get(e,n,s),has:(e,n)=>!!Bv(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(LS(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function LS(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Cm="@firebase/app",Fv="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Di=new up("@firebase/app"),VS="@firebase/app-compat",PS="@firebase/analytics-compat",zS="@firebase/analytics",US="@firebase/app-check-compat",BS="@firebase/app-check",FS="@firebase/auth",HS="@firebase/auth-compat",qS="@firebase/database",GS="@firebase/data-connect",QS="@firebase/database-compat",KS="@firebase/functions",YS="@firebase/functions-compat",XS="@firebase/installations",WS="@firebase/installations-compat",$S="@firebase/messaging",ZS="@firebase/messaging-compat",JS="@firebase/performance",eA="@firebase/performance-compat",tA="@firebase/remote-config",nA="@firebase/remote-config-compat",rA="@firebase/storage",iA="@firebase/storage-compat",sA="@firebase/firestore",aA="@firebase/ai",oA="@firebase/firestore-compat",lA="firebase",uA="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm="[DEFAULT]",cA={[Cm]:"fire-core",[VS]:"fire-core-compat",[zS]:"fire-analytics",[PS]:"fire-analytics-compat",[BS]:"fire-app-check",[US]:"fire-app-check-compat",[FS]:"fire-auth",[HS]:"fire-auth-compat",[qS]:"fire-rtdb",[GS]:"fire-data-connect",[QS]:"fire-rtdb-compat",[KS]:"fire-fn",[YS]:"fire-fn-compat",[XS]:"fire-iid",[WS]:"fire-iid-compat",[$S]:"fire-fcm",[ZS]:"fire-fcm-compat",[JS]:"fire-perf",[eA]:"fire-perf-compat",[tA]:"fire-rc",[nA]:"fire-rc-compat",[rA]:"fire-gcs",[iA]:"fire-gcs-compat",[sA]:"fire-fst",[oA]:"fire-fst-compat",[aA]:"fire-vertex","fire-js":"fire-js",[lA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mh=new Map,hA=new Map,Im=new Map;function Hv(i,e){try{i.container.addComponent(e)}catch(n){Di.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function xo(i){const e=i.name;if(Im.has(e))return Di.debug(`There were multiple attempts to register component ${e}.`),!1;Im.set(e,i);for(const n of mh.values())Hv(n,i);for(const n of hA.values())Hv(n,i);return!0}function hp(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function Qn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},bs=new hu("app","Firebase",fA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new fa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw bs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lo=uA;function jb(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s={name:Nm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw bs.create("bad-app-name",{appName:String(o)});if(n||(n=Cb()),!n)throw bs.create("no-options");const u=mh.get(o);if(u){if(ha(n,u.options)&&ha(s,u.config))return u;throw bs.create("duplicate-app",{appName:o})}const c=new vS(o);for(const p of Im.values())c.addComponent(p);const d=new dA(n,s,c);return mh.set(o,d),d}function Mb(i=Nm){const e=mh.get(i);if(!e&&i===Nm&&Cb())return jb();if(!e)throw bs.create("no-app",{appName:i});return e}function ws(i,e,n){let s=cA[i]??i;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const c=[`Unable to register library "${s}" with version "${e}":`];o&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&c.push("and"),u&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Di.warn(c.join(" "));return}xo(new fa(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mA="firebase-heartbeat-database",pA=1,nu="firebase-heartbeat-store";let gm=null;function Lb(){return gm||(gm=DS(mA,pA,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(nu)}catch(n){console.warn(n)}}}}).catch(i=>{throw bs.create("idb-open",{originalErrorMessage:i.message})})),gm}async function gA(i){try{const n=(await Lb()).transaction(nu),s=await n.objectStore(nu).get(Vb(i));return await n.done,s}catch(e){if(e instanceof Li)Di.warn(e.message);else{const n=bs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Di.warn(n.message)}}}async function qv(i,e){try{const s=(await Lb()).transaction(nu,"readwrite");await s.objectStore(nu).put(e,Vb(i)),await s.done}catch(n){if(n instanceof Li)Di.warn(n.message);else{const s=bs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Di.warn(s.message)}}}function Vb(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA=1024,_A=30;class vA{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new wA(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Gv();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(c=>c.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>_A){const c=xA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Di.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Gv(),{heartbeatsToSend:s,unsentEntries:o}=bA(this._heartbeatsCache.heartbeats),u=dh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Di.warn(n),""}}}function Gv(){return new Date().toISOString().substring(0,10)}function bA(i,e=yA){const n=[];let s=i.slice();for(const o of i){const u=n.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),Qv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Qv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class wA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return oS()?lS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await gA(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return qv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return qv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Qv(i){return dh(JSON.stringify({version:2,heartbeats:i})).length}function xA(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EA(i){xo(new fa("platform-logger",e=>new MS(e),"PRIVATE")),xo(new fa("heartbeat",e=>new vA(e),"PRIVATE")),ws(Cm,Fv,i),ws(Cm,Fv,"esm2020"),ws("fire-js","")}EA("");var TA="firebase",SA="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ws(TA,SA,"app");function Pb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const zb=Pb,Ub=new hu("auth","Firebase",Pb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ph=new up("@firebase/auth");function AA(i,...e){ph.logLevel<=at.WARN&&ph.warn(`Auth (${Lo}): ${i}`,...e)}function rh(i,...e){ph.logLevel<=at.ERROR&&ph.error(`Auth (${Lo}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hr(i,...e){throw dp(i,...e)}function Rr(i,...e){return dp(i,...e)}function fp(i,e,n){const s={...zb(),[e]:n};return new hu("auth","Firebase",s).create(e,{appName:i.name})}function Ni(i){return fp(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function RA(i,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&hr(i,"argument-error"),fp(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function dp(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return Ub.create(i,...e)}function Fe(i,e,...n){if(!i)throw dp(e,...n)}function Ai(i){const e="INTERNAL ASSERTION FAILED: "+i;throw rh(e),new Error(e)}function Oi(i,e){i||Ai(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function km(){var i;return typeof self<"u"&&((i=self.location)==null?void 0:i.href)||""}function CA(){return Kv()==="http:"||Kv()==="https:"}function Kv(){var i;return typeof self<"u"&&((i=self.location)==null?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(CA()||rS()||"connection"in navigator)?navigator.onLine:!0}function IA(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(e,n){this.shortDelay=e,this.longDelay=n,Oi(n>e,"Short delay should be less than long delay!"),this.isMobile=eS()||iS()}get(){return NA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mp(i,e){Oi(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ai("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ai("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ai("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],OA=new du(3e4,6e4);function Os(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function Vi(i,e,n,s,o={}){return Fb(i,o,async()=>{let u={},c={};s&&(e==="GET"?c=s:u={body:JSON.stringify(s)});const d=fu({key:i.config.apiKey,...c}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g={method:e,headers:p,...u};return nS()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&Mo(i.emulatorConfig.host)&&(g.credentials="include"),Bb.fetch()(await Hb(i,i.config.apiHost,n,d),g)})}async function Fb(i,e,n){i._canInitEmulator=!1;const s={...kA,...e};try{const o=new MA(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const c=await u.json();if("needConfirmation"in c)throw Yc(i,"account-exists-with-different-credential",c);if(u.ok&&!("errorMessage"in c))return c;{const d=u.ok?c.errorMessage:c.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yc(i,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw Yc(i,"email-already-in-use",c);if(p==="USER_DISABLED")throw Yc(i,"user-disabled",c);const v=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw fp(i,v,g);hr(i,v)}}catch(o){if(o instanceof Li)throw o;hr(i,"network-request-failed",{message:String(o)})}}async function mu(i,e,n,s,o={}){const u=await Vi(i,e,n,s,o);return"mfaPendingCredential"in u&&hr(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function Hb(i,e,n,s){const o=`${e}${n}?${s}`,u=i,c=u.config.emulator?mp(i.config,o):`${i.config.apiScheme}://${o}`;return DA.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(c).toString():c}function jA(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class MA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Rr(this.auth,"network-request-failed")),OA.get())})}}function Yc(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Rr(i,e,s);return o.customData._tokenResponse=n,o}function Yv(i){return i!==void 0&&i.enterprise!==void 0}class LA{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return jA(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function VA(i,e){return Vi(i,"GET","/v2/recaptchaConfig",Os(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PA(i,e){return Vi(i,"POST","/v1/accounts:delete",e)}async function gh(i,e){return Vi(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xl(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function qb(i,e=!1){const n=Xn(i),s=await n.getIdToken(e),o=pp(s);Fe(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,c=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Xl(ym(o.auth_time)),issuedAtTime:Xl(ym(o.iat)),expirationTime:Xl(ym(o.exp)),signInProvider:c||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function ym(i){return Number(i)*1e3}function pp(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return rh("JWT malformed, contained fewer than 3 sections"),null;try{const o=Ab(n);return o?JSON.parse(o):(rh("Failed to decode base64 JWT payload"),null)}catch(o){return rh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Xv(i){const e=pp(i);return Fe(e,"internal-error"),Fe(typeof e.exp<"u","internal-error"),Fe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eo(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Li&&zA(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function zA({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xl(this.lastLoginAt),this.creationTime=Xl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yh(i){var b;const e=i.auth,n=await i.getIdToken(),s=await Eo(i,gh(e,{idToken:n}));Fe(s==null?void 0:s.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const u=(b=o.providerUserInfo)!=null&&b.length?Qb(o.providerUserInfo):[],c=BA(i.providerData,u),d=i.isAnonymous,p=!(i.email&&o.passwordHash)&&!(c!=null&&c.length),g=d?p:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Dm(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(i,v)}async function Gb(i){const e=Xn(i);await yh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function BA(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function Qb(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FA(i,e){const n=await Fb(i,{},async()=>{const s=fu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,c=await Hb(i,o,"/v1/token",`key=${u}`),d=await i._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:s};return i.emulatorConfig&&Mo(i.emulatorConfig.host)&&(p.credentials="include"),Bb.fetch()(c,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function HA(i,e){return Vi(i,"POST","/v2/accounts:revokeToken",Os(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Fe(e.idToken,"internal-error"),Fe(typeof e.idToken<"u","internal-error"),Fe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Xv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Fe(e.length!==0,"internal-error");const n=Xv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Fe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await FA(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,c=new go;return s&&(Fe(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),o&&(Fe(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),u&&(Fe(typeof u=="number","internal-error",{appName:e}),c.expirationTime=u),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new go,this.toJSON())}_performRefresh(){return Ai("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ps(i,e){Fe(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Sr{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new UA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Dm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Eo(this,this.stsTokenManager.getToken(this.auth,e));return Fe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return qb(this,e)}reload(){return Gb(this)}_assign(e){this!==e&&(Fe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Sr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await yh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Qn(this.auth.app))return Promise.reject(Ni(this.auth));const e=await this.getIdToken();return await Eo(this,PA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,c=n.photoURL??void 0,d=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:b,emailVerified:E,isAnonymous:x,providerData:k,stsTokenManager:A}=n;Fe(b&&A,e,"internal-error");const C=go.fromJSON(this.name,A);Fe(typeof b=="string",e,"internal-error"),ps(s,e.name),ps(o,e.name),Fe(typeof E=="boolean",e,"internal-error"),Fe(typeof x=="boolean",e,"internal-error"),ps(u,e.name),ps(c,e.name),ps(d,e.name),ps(p,e.name),ps(g,e.name),ps(v,e.name);const I=new Sr({uid:b,auth:e,email:o,emailVerified:E,displayName:s,isAnonymous:x,photoURL:c,phoneNumber:u,tenantId:d,stsTokenManager:C,createdAt:g,lastLoginAt:v});return k&&Array.isArray(k)&&(I.providerData=k.map(P=>({...P}))),p&&(I._redirectEventId=p),I}static async _fromIdTokenResponse(e,n,s=!1){const o=new go;o.updateFromServerResponse(n);const u=new Sr({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await yh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Fe(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?Qb(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),d=new go;d.updateFromIdToken(s);const p=new Sr({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:c}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Dm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv=new Map;function Ri(i){Oi(i instanceof Function,"Expected a class definition");let e=Wv.get(i);return e?(Oi(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,Wv.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Kb.type="NONE";const Om=Kb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ih(i,e,n){return`firebase:${i}:${e}:${n}`}class yo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=ih(this.userKey,o.apiKey,u),this.fullPersistenceKey=ih("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await gh(this.auth,{idToken:e}).catch(()=>{});return n?Sr._fromGetAccountInfoResponse(this.auth,n,e):null}return Sr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new yo(Ri(Om),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Ri(Om);const c=ih(s,e.config.apiKey,e.name);let d=null;for(const g of n)try{const v=await g._get(c);if(v){let b;if(typeof v=="string"){const E=await gh(e,{idToken:v}).catch(()=>{});if(!E)break;b=await Sr._fromGetAccountInfoResponse(e,E,v)}else b=Sr._fromJSON(e,v);g!==u&&(d=b),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new yo(u,e,s):(u=p[0],d&&await u._set(c,d.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(c)}catch{}})),new yo(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $v(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if($b(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Yb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Jb(e))return"Blackberry";if(e1(e))return"Webos";if(Xb(e))return"Safari";if((e.includes("chrome/")||Wb(e))&&!e.includes("edge/"))return"Chrome";if(Zb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function Yb(i=Tn()){return/firefox\//i.test(i)}function Xb(i=Tn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Wb(i=Tn()){return/crios\//i.test(i)}function $b(i=Tn()){return/iemobile/i.test(i)}function Zb(i=Tn()){return/android/i.test(i)}function Jb(i=Tn()){return/blackberry/i.test(i)}function e1(i=Tn()){return/webos/i.test(i)}function gp(i=Tn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function qA(i=Tn()){var e;return gp(i)&&!!((e=window.navigator)!=null&&e.standalone)}function GA(){return sS()&&document.documentMode===10}function t1(i=Tn()){return gp(i)||Zb(i)||e1(i)||Jb(i)||/windows phone/i.test(i)||$b(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n1(i,e=[]){let n;switch(i){case"Browser":n=$v(Tn());break;case"Worker":n=`${$v(Tn())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Lo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((c,d)=>{try{const p=e(u);c(p)}catch(p){d(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KA(i,e={}){return Vi(i,"GET","/v2/passwordPolicy",Os(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YA=6;class XA{constructor(e){var s;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??YA,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=e.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Zv(this),this.idTokenSubscription=new Zv(this),this.beforeStateQueue=new QA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ub,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ri(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await yo.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)==null?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await gh(this,{idToken:e}),s=await Sr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var u;if(Qn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(u=this.redirectUser)==null?void 0:u._redirectEventId,d=s==null?void 0:s._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&(p!=null&&p.user)&&(s=p.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Fe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await yh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=IA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Qn(this.app))return Promise.reject(Ni(this));const n=e?Xn(e):null;return n&&Fe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Fe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Qn(this.app)?Promise.reject(Ni(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Qn(this.app)?Promise.reject(Ni(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ri(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await KA(this),n=new XA(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new hu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await HA(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ri(e)||this._popupRedirectResolver;Fe(n,this,"argument-error"),this.redirectPersistenceManager=await yo.create(this,[Ri(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Fe(d,this,"internal-error"),d.then(()=>{c||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{c=!0,p()}}else{const p=e.addObserver(n);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Fe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=n1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var n;if(Qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&AA(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function js(i){return Xn(i)}class Zv{constructor(e){this.auth=e,this.observer=null,this.addObserver=dS(n=>this.observer=n)}get next(){return Fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ph={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $A(i){Ph=i}function r1(i){return Ph.loadJS(i)}function ZA(){return Ph.recaptchaEnterpriseScript}function JA(){return Ph.gapiScript}function eR(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class tR{constructor(){this.enterprise=new nR}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class nR{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const rR="recaptcha-enterprise",i1="NO_RECAPTCHA";class iR{constructor(e){this.type=rR,this.auth=js(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(c,d)=>{VA(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new LA(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,c(g.siteKey)}}).catch(p=>{d(p)})})}function o(u,c,d){const p=window.grecaptcha;Yv(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{c(g)}).catch(()=>{c(i1)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new tR().execute("siteKey",{action:"verify"}):new Promise((u,c)=>{s(this.auth).then(d=>{if(!n&&Yv(window.grecaptcha))o(d,u,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=ZA();p.length!==0&&(p+=d),r1(p).then(()=>{o(d,u,c)}).catch(g=>{c(g)})}}).catch(d=>{c(d)})})}}async function Jv(i,e,n,s=!1,o=!1){const u=new iR(i);let c;if(o)c=i1;else try{c=await u.verify(n)}catch{c=await u.verify(n,!0)}const d={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function jm(i,e,n,s,o){var u;if((u=i._getRecaptchaConfig())!=null&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await Jv(i,e,n,n==="getOobCode");return s(i,c)}else return s(i,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await Jv(i,e,n,n==="getOobCode");return s(i,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(i,e){const n=hp(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ha(u,e??{}))return o;hr(o,"already-initialized")}return n.initialize({options:e})}function sR(i,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Ri);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function a1(i,e,n){const s=js(i);Fe(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=o1(e),{host:c,port:d}=aR(e),p=d===null?"":`:${d}`,g={url:`${u}//${c}${p}/`},v=Object.freeze({host:c,port:d,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Fe(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Fe(ha(g,s.config.emulator)&&ha(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,Mo(c)?(Ib(`${u}//${c}${p}`),kb("Auth",!0)):oR()}function o1(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function aR(i){const e=o1(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:e0(s.substr(u.length+1))}}else{const[u,c]=s.split(":");return{host:u,port:e0(c)}}}function e0(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function oR(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ai("not implemented")}_getIdTokenResponse(e){return Ai("not implemented")}_linkToIdToken(e,n){return Ai("not implemented")}_getReauthenticationResolver(e){return Ai("not implemented")}}async function lR(i,e){return Vi(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uR(i,e){return mu(i,"POST","/v1/accounts:signInWithPassword",Os(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cR(i,e){return mu(i,"POST","/v1/accounts:signInWithEmailLink",Os(i,e))}async function hR(i,e){return mu(i,"POST","/v1/accounts:signInWithEmailLink",Os(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To extends zh{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new To(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new To(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return jm(e,n,"signInWithPassword",uR);case"emailLink":return cR(e,{email:this._email,oobCode:this._password});default:hr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return jm(e,s,"signUpPassword",lR);case"emailLink":return hR(e,{idToken:n,email:this._email,oobCode:this._password});default:hr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _o(i,e){return mu(i,"POST","/v1/accounts:signInWithIdp",Os(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR="http://localhost";class Ss extends zh{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ss(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):hr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const c=new Ss(s,o);return c.idToken=u.idToken||void 0,c.accessToken=u.accessToken||void 0,c.secret=u.secret,c.nonce=u.nonce,c.pendingToken=u.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return _o(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,_o(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,_o(e,n)}buildRequest(){const e={requestUri:fR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=fu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dR(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function mR(i){const e=Hl(ql(i)).link,n=e?Hl(ql(e)).deep_link_id:null,s=Hl(ql(i)).deep_link_id;return(s?Hl(ql(s)).link:null)||s||n||e||i}class Uh{constructor(e){const n=Hl(ql(e)),s=n.apiKey??null,o=n.oobCode??null,u=dR(n.mode??null);Fe(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=mR(e);try{return new Uh(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(){this.providerId=_a.PROVIDER_ID}static credential(e,n){return To._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Uh.parseLink(n);return Fe(s,"argument-error"),To._fromEmailAndCode(e,s.code,s.tenantId)}}_a.PROVIDER_ID="password";_a.EMAIL_PASSWORD_SIGN_IN_METHOD="password";_a.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu extends yp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei extends pu{constructor(){super("facebook.com")}static credential(e){return Ss._fromParams({providerId:Ei.PROVIDER_ID,signInMethod:Ei.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ei.credentialFromTaggedObject(e)}static credentialFromError(e){return Ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ei.credential(e.oauthAccessToken)}catch{return null}}}Ei.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ei.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r extends pu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ss._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return $r.credentialFromTaggedObject(e)}static credentialFromError(e){return $r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return $r.credential(n,s)}catch{return null}}}$r.GOOGLE_SIGN_IN_METHOD="google.com";$r.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti extends pu{constructor(){super("github.com")}static credential(e){return Ss._fromParams({providerId:Ti.PROVIDER_ID,signInMethod:Ti.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ti.credentialFromTaggedObject(e)}static credentialFromError(e){return Ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ti.credential(e.oauthAccessToken)}catch{return null}}}Ti.GITHUB_SIGN_IN_METHOD="github.com";Ti.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si extends pu{constructor(){super("twitter.com")}static credential(e,n){return Ss._fromParams({providerId:Si.PROVIDER_ID,signInMethod:Si.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Si.credentialFromTaggedObject(e)}static credentialFromError(e){return Si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Si.credential(n,s)}catch{return null}}}Si.TWITTER_SIGN_IN_METHOD="twitter.com";Si.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pR(i,e){return mu(i,"POST","/v1/accounts:signUp",Os(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Sr._fromIdTokenResponse(e,s,o),c=t0(s);return new da({user:u,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=t0(s);return new da({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function t0(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h extends Li{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,_h.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new _h(e,n,s,o)}}function l1(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?_h._fromErrorAndOperation(i,u,e,s):u})}async function gR(i,e,n=!1){const s=await Eo(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return da._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yR(i,e,n=!1){const{auth:s}=i;if(Qn(s.app))return Promise.reject(Ni(s));const o="reauthenticate";try{const u=await Eo(i,l1(s,o,e,i),n);Fe(u.idToken,s,"internal-error");const c=pp(u.idToken);Fe(c,s,"internal-error");const{sub:d}=c;return Fe(i.uid===d,s,"user-mismatch"),da._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&hr(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u1(i,e,n=!1){if(Qn(i.app))return Promise.reject(Ni(i));const s="signIn",o=await l1(i,s,e),u=await da._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}async function c1(i,e){return u1(js(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h1(i){const e=js(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function _R(i,e,n){if(Qn(i.app))return Promise.reject(Ni(i));const s=js(i),c=await jm(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",pR).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&h1(i),p}),d=await da._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(d.user),d}function vR(i,e,n){return Qn(i.app)?Promise.reject(Ni(i)):c1(Xn(i),_a.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&h1(i),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bR(i,e){return Vi(i,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wR(i,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=Xn(i),u={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},c=await Eo(s,bR(s.auth,u));s.displayName=c.displayName||null,s.photoURL=c.photoUrl||null;const d=s.providerData.find(({providerId:p})=>p==="password");d&&(d.displayName=s.displayName,d.photoURL=s.photoURL),await s._updateTokensIfNecessary(c)}function f1(i,e,n,s){return Xn(i).onIdTokenChanged(e,n,s)}function d1(i,e,n){return Xn(i).beforeAuthStateChanged(e,n)}function m1(i,e,n,s){return Xn(i).onAuthStateChanged(e,n,s)}const vh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(vh,"1"),this.storage.removeItem(vh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR=1e3,ER=10;class g1 extends p1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=t1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},u=this.storage.getItem(s);GA()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,ER):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},xR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}g1.type="LOCAL";const y1=g1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1 extends p1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}_1.type="SESSION";const _p=_1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TR(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Bh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,c=this.handlersMap[o];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const d=Array.from(c).map(async g=>g(n.origin,u)),p=await TR(d);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Bh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vp(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,c;return new Promise((d,p)=>{const g=vp("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},s);c={messageChannel:o,onMessage(b){const E=b;if(E.data.eventId===g)switch(E.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),d(E.data.response);break;default:clearTimeout(v),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(){return window}function AR(i){Zr().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v1(){return typeof Zr().WorkerGlobalScope<"u"&&typeof Zr().importScripts=="function"}async function RR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function CR(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)==null?void 0:i.controller)||null}function NR(){return v1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1="firebaseLocalStorageDb",IR=1,bh="firebaseLocalStorage",w1="fbase_key";class gu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Fh(i,e){return i.transaction([bh],e?"readwrite":"readonly").objectStore(bh)}function kR(){const i=indexedDB.deleteDatabase(b1);return new gu(i).toPromise()}function Mm(){const i=indexedDB.open(b1,IR);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(bh,{keyPath:w1})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(bh)?e(s):(s.close(),await kR(),e(await Mm()))})})}async function n0(i,e,n){const s=Fh(i,!0).put({[w1]:e,value:n});return new gu(s).toPromise()}async function DR(i,e){const n=Fh(i,!1).get(e),s=await new gu(n).toPromise();return s===void 0?null:s.value}function r0(i,e){const n=Fh(i,!0).delete(e);return new gu(n).toPromise()}const OR=800,jR=3;class x1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Mm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>jR)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return v1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Bh._getInstance(NR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,s;if(this.activeServiceWorker=await RR(),!this.activeServiceWorker)return;this.sender=new SR(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(s=e[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||CR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Mm();return await n0(e,vh,"1"),await r0(e,vh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>n0(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>DR(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>r0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Fh(o,!1).getAll();return new gu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),OR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}x1.type="LOCAL";const E1=x1;new du(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T1(i,e){return e?Ri(e):(Fe(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp extends zh{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return _o(e,this._buildIdpRequest())}_linkToIdToken(e,n){return _o(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return _o(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function MR(i){return u1(i.auth,new bp(i),i.bypassAuthState)}function LR(i){const{auth:e,user:n}=i;return Fe(n,e,"internal-error"),yR(n,new bp(i),i.bypassAuthState)}async function VR(i){const{auth:e,user:n}=i;return Fe(n,e,"internal-error"),gR(n,new bp(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:c,type:d}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return MR;case"linkViaPopup":case"linkViaRedirect":return VR;case"reauthViaPopup":case"reauthViaRedirect":return LR;default:hr(this.auth,"internal-error")}}resolve(e){Oi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Oi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR=new du(2e3,1e4);async function zR(i,e,n){if(Qn(i.app))return Promise.reject(Rr(i,"operation-not-supported-in-this-environment"));const s=js(i);RA(i,e,yp);const o=T1(s,n);return new ua(s,"signInViaPopup",e,o).executeNotNull()}class ua extends S1{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,ua.currentPopupAction&&ua.currentPopupAction.cancel(),ua.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Fe(e,this.auth,"internal-error"),e}async onExecution(){Oi(this.filter.length===1,"Popup operations only handle one event");const e=vp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Rr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Rr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ua.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if((s=(n=this.authWindow)==null?void 0:n.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Rr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,PR.get())};e()}}ua.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR="pendingRedirect",sh=new Map;class BR extends S1{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=sh.get(this.auth._key());if(!e){try{const s=await FR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}sh.set(this.auth._key(),e)}return this.bypassAuthState||sh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function FR(i,e){const n=GR(e),s=qR(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function HR(i,e){sh.set(i._key(),e)}function qR(i){return Ri(i._redirectPersistence)}function GR(i){return ih(UR,i.config.apiKey,i.name)}async function QR(i,e,n=!1){if(Qn(i.app))return Promise.reject(Ni(i));const s=js(i),o=T1(s,e),c=await new BR(s,o,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR=600*1e3;class YR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!XR(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!A1(e)){const o=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";n.onError(Rr(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=KR&&this.cachedEventUids.clear(),this.cachedEventUids.has(i0(e))}saveEventToCache(e){this.cachedEventUids.add(i0(e)),this.lastProcessedEventTime=Date.now()}}function i0(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function A1({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function XR(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return A1(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WR(i,e={}){return Vi(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ZR=/^https?/;async function JR(i){if(i.config.emulator)return;const{authorizedDomains:e}=await WR(i);for(const n of e)try{if(eC(n))return}catch{}hr(i,"unauthorized-domain")}function eC(i){const e=km(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const c=new URL(i);return c.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!ZR.test(n))return!1;if($R.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC=new du(3e4,6e4);function s0(){const i=Zr().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function nC(i){return new Promise((e,n)=>{var o,u,c;function s(){s0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{s0(),n(Rr(i,"network-request-failed"))},timeout:tC.get()})}if((u=(o=Zr().gapi)==null?void 0:o.iframes)!=null&&u.Iframe)e(gapi.iframes.getContext());else if((c=Zr().gapi)!=null&&c.load)s();else{const d=eR("iframefcb");return Zr()[d]=()=>{gapi.load?s():n(Rr(i,"network-request-failed"))},r1(`${JA()}?onload=${d}`).catch(p=>n(p))}}).catch(e=>{throw ah=null,e})}let ah=null;function rC(i){return ah=ah||nC(i),ah}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC=new du(5e3,15e3),sC="__/auth/iframe",aC="emulator/auth/iframe",oC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function uC(i){const e=i.config;Fe(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?mp(e,aC):`https://${i.config.authDomain}/${sC}`,s={apiKey:e.apiKey,appName:i.name,v:Lo},o=lC.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${fu(s).slice(1)}`}async function cC(i){const e=await rC(i),n=Zr().gapi;return Fe(n,i,"internal-error"),e.open({where:document.body,url:uC(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:oC,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const c=Rr(i,"network-request-failed"),d=Zr().setTimeout(()=>{u(c)},iC.get());function p(){Zr().clearTimeout(d),o(s)}s.ping(p).then(p,()=>{u(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},fC=500,dC=600,mC="_blank",pC="http://localhost";class a0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function gC(i,e,n,s=fC,o=dC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const p={...hC,width:s.toString(),height:o.toString(),top:u,left:c},g=Tn().toLowerCase();n&&(d=Wb(g)?mC:n),Yb(g)&&(e=e||pC,p.scrollbars="yes");const v=Object.entries(p).reduce((E,[x,k])=>`${E}${x}=${k},`,"");if(qA(g)&&d!=="_self")return yC(e||"",d),new a0(null);const b=window.open(e||"",d,v);Fe(b,i,"popup-blocked");try{b.focus()}catch{}return new a0(b)}function yC(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C="__/auth/handler",vC="emulator/auth/handler",bC=encodeURIComponent("fac");async function o0(i,e,n,s,o,u){Fe(i.config.authDomain,i,"auth-domain-config-required"),Fe(i.config.apiKey,i,"invalid-api-key");const c={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:Lo,eventId:o};if(e instanceof yp){e.setDefaultLanguage(i.languageCode),c.providerId=e.providerId||"",fS(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,b]of Object.entries({}))c[v]=b}if(e instanceof pu){const v=e.getScopes().filter(b=>b!=="");v.length>0&&(c.scopes=v.join(","))}i.tenantId&&(c.tid=i.tenantId);const d=c;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const p=await i._getAppCheckToken(),g=p?`#${bC}=${encodeURIComponent(p)}`:"";return`${wC(i)}?${fu(d).slice(1)}${g}`}function wC({config:i}){return i.emulator?mp(i,vC):`https://${i.authDomain}/${_C}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _m="webStorageSupport";class xC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_p,this._completeRedirectFn=QR,this._overrideRedirectResult=HR}async _openPopup(e,n,s,o){var c;Oi((c=this.eventManagers[e._key()])==null?void 0:c.manager,"_initialize() not called before _openPopup()");const u=await o0(e,n,s,km(),o);return gC(e,u,vp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await o0(e,n,s,km(),o);return AR(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Oi(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await cC(e),s=new YR(e);return n.register("authEvent",o=>(Fe(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(_m,{type:_m},o=>{var c;const u=(c=o==null?void 0:o[0])==null?void 0:c[_m];u!==void 0&&n(!!u),hr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=JR(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return t1()||Xb()||gp()}}const R1=xC;var l0="@firebase/auth",u0="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TC(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function SC(i){xo(new fa("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=s.options;Fe(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:c,authDomain:d,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:n1(i)},g=new WA(s,o,u,p);return sR(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),xo(new fa("auth-internal",e=>{const n=js(e.getProvider("auth").getImmediate());return(s=>new EC(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ws(l0,u0,TC(i)),ws(l0,u0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC=300,RC=Nb("authIdTokenMaxAge")||AC;let c0=null;const CC=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>RC)return;const o=n==null?void 0:n.token;c0!==o&&(c0=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function C1(i=Mb()){const e=hp(i,"auth");if(e.isInitialized())return e.getImmediate();const n=s1(i,{popupRedirectResolver:R1,persistence:[E1,y1,_p]}),s=Nb("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const c=CC(u.toString());d1(n,c,()=>c(n.currentUser)),f1(n,d=>c(d))}}const o=Rb("auth");return o&&a1(n,`http://${o}`),n}function NC(){var i;return((i=document.getElementsByTagName("head"))==null?void 0:i[0])??document}$A({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=Rr("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",NC().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});SC("Browser");const wh=Object.freeze(Object.defineProperty({__proto__:null,ActionCodeURL:Uh,AuthCredential:zh,EmailAuthCredential:To,EmailAuthProvider:_a,FacebookAuthProvider:Ei,GithubAuthProvider:Ti,GoogleAuthProvider:$r,OAuthCredential:Ss,TwitterAuthProvider:Si,beforeAuthStateChanged:d1,browserLocalPersistence:y1,browserPopupRedirectResolver:R1,browserSessionPersistence:_p,connectAuthEmulator:a1,createUserWithEmailAndPassword:_R,getAuth:C1,getIdTokenResult:qb,inMemoryPersistence:Om,indexedDBLocalPersistence:E1,initializeAuth:s1,onAuthStateChanged:m1,onIdTokenChanged:f1,prodErrorMap:zb,reload:Gb,signInWithCredential:c1,signInWithEmailAndPassword:vR,signInWithPopup:zR,updateProfile:wR},Symbol.toStringTag,{value:"Module"}));var h0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xs,N1;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(j,M){function O(){}O.prototype=M.prototype,j.F=M.prototype,j.prototype=new O,j.prototype.constructor=j,j.D=function(H,B,N){for(var D=Array(arguments.length-2),R=2;R<arguments.length;R++)D[R-2]=arguments[R];return M.prototype[B].apply(H,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(j,M,O){O||(O=0);const H=Array(16);if(typeof M=="string")for(var B=0;B<16;++B)H[B]=M.charCodeAt(O++)|M.charCodeAt(O++)<<8|M.charCodeAt(O++)<<16|M.charCodeAt(O++)<<24;else for(B=0;B<16;++B)H[B]=M[O++]|M[O++]<<8|M[O++]<<16|M[O++]<<24;M=j.g[0],O=j.g[1],B=j.g[2];let N=j.g[3],D;D=M+(N^O&(B^N))+H[0]+3614090360&4294967295,M=O+(D<<7&4294967295|D>>>25),D=N+(B^M&(O^B))+H[1]+3905402710&4294967295,N=M+(D<<12&4294967295|D>>>20),D=B+(O^N&(M^O))+H[2]+606105819&4294967295,B=N+(D<<17&4294967295|D>>>15),D=O+(M^B&(N^M))+H[3]+3250441966&4294967295,O=B+(D<<22&4294967295|D>>>10),D=M+(N^O&(B^N))+H[4]+4118548399&4294967295,M=O+(D<<7&4294967295|D>>>25),D=N+(B^M&(O^B))+H[5]+1200080426&4294967295,N=M+(D<<12&4294967295|D>>>20),D=B+(O^N&(M^O))+H[6]+2821735955&4294967295,B=N+(D<<17&4294967295|D>>>15),D=O+(M^B&(N^M))+H[7]+4249261313&4294967295,O=B+(D<<22&4294967295|D>>>10),D=M+(N^O&(B^N))+H[8]+1770035416&4294967295,M=O+(D<<7&4294967295|D>>>25),D=N+(B^M&(O^B))+H[9]+2336552879&4294967295,N=M+(D<<12&4294967295|D>>>20),D=B+(O^N&(M^O))+H[10]+4294925233&4294967295,B=N+(D<<17&4294967295|D>>>15),D=O+(M^B&(N^M))+H[11]+2304563134&4294967295,O=B+(D<<22&4294967295|D>>>10),D=M+(N^O&(B^N))+H[12]+1804603682&4294967295,M=O+(D<<7&4294967295|D>>>25),D=N+(B^M&(O^B))+H[13]+4254626195&4294967295,N=M+(D<<12&4294967295|D>>>20),D=B+(O^N&(M^O))+H[14]+2792965006&4294967295,B=N+(D<<17&4294967295|D>>>15),D=O+(M^B&(N^M))+H[15]+1236535329&4294967295,O=B+(D<<22&4294967295|D>>>10),D=M+(B^N&(O^B))+H[1]+4129170786&4294967295,M=O+(D<<5&4294967295|D>>>27),D=N+(O^B&(M^O))+H[6]+3225465664&4294967295,N=M+(D<<9&4294967295|D>>>23),D=B+(M^O&(N^M))+H[11]+643717713&4294967295,B=N+(D<<14&4294967295|D>>>18),D=O+(N^M&(B^N))+H[0]+3921069994&4294967295,O=B+(D<<20&4294967295|D>>>12),D=M+(B^N&(O^B))+H[5]+3593408605&4294967295,M=O+(D<<5&4294967295|D>>>27),D=N+(O^B&(M^O))+H[10]+38016083&4294967295,N=M+(D<<9&4294967295|D>>>23),D=B+(M^O&(N^M))+H[15]+3634488961&4294967295,B=N+(D<<14&4294967295|D>>>18),D=O+(N^M&(B^N))+H[4]+3889429448&4294967295,O=B+(D<<20&4294967295|D>>>12),D=M+(B^N&(O^B))+H[9]+568446438&4294967295,M=O+(D<<5&4294967295|D>>>27),D=N+(O^B&(M^O))+H[14]+3275163606&4294967295,N=M+(D<<9&4294967295|D>>>23),D=B+(M^O&(N^M))+H[3]+4107603335&4294967295,B=N+(D<<14&4294967295|D>>>18),D=O+(N^M&(B^N))+H[8]+1163531501&4294967295,O=B+(D<<20&4294967295|D>>>12),D=M+(B^N&(O^B))+H[13]+2850285829&4294967295,M=O+(D<<5&4294967295|D>>>27),D=N+(O^B&(M^O))+H[2]+4243563512&4294967295,N=M+(D<<9&4294967295|D>>>23),D=B+(M^O&(N^M))+H[7]+1735328473&4294967295,B=N+(D<<14&4294967295|D>>>18),D=O+(N^M&(B^N))+H[12]+2368359562&4294967295,O=B+(D<<20&4294967295|D>>>12),D=M+(O^B^N)+H[5]+4294588738&4294967295,M=O+(D<<4&4294967295|D>>>28),D=N+(M^O^B)+H[8]+2272392833&4294967295,N=M+(D<<11&4294967295|D>>>21),D=B+(N^M^O)+H[11]+1839030562&4294967295,B=N+(D<<16&4294967295|D>>>16),D=O+(B^N^M)+H[14]+4259657740&4294967295,O=B+(D<<23&4294967295|D>>>9),D=M+(O^B^N)+H[1]+2763975236&4294967295,M=O+(D<<4&4294967295|D>>>28),D=N+(M^O^B)+H[4]+1272893353&4294967295,N=M+(D<<11&4294967295|D>>>21),D=B+(N^M^O)+H[7]+4139469664&4294967295,B=N+(D<<16&4294967295|D>>>16),D=O+(B^N^M)+H[10]+3200236656&4294967295,O=B+(D<<23&4294967295|D>>>9),D=M+(O^B^N)+H[13]+681279174&4294967295,M=O+(D<<4&4294967295|D>>>28),D=N+(M^O^B)+H[0]+3936430074&4294967295,N=M+(D<<11&4294967295|D>>>21),D=B+(N^M^O)+H[3]+3572445317&4294967295,B=N+(D<<16&4294967295|D>>>16),D=O+(B^N^M)+H[6]+76029189&4294967295,O=B+(D<<23&4294967295|D>>>9),D=M+(O^B^N)+H[9]+3654602809&4294967295,M=O+(D<<4&4294967295|D>>>28),D=N+(M^O^B)+H[12]+3873151461&4294967295,N=M+(D<<11&4294967295|D>>>21),D=B+(N^M^O)+H[15]+530742520&4294967295,B=N+(D<<16&4294967295|D>>>16),D=O+(B^N^M)+H[2]+3299628645&4294967295,O=B+(D<<23&4294967295|D>>>9),D=M+(B^(O|~N))+H[0]+4096336452&4294967295,M=O+(D<<6&4294967295|D>>>26),D=N+(O^(M|~B))+H[7]+1126891415&4294967295,N=M+(D<<10&4294967295|D>>>22),D=B+(M^(N|~O))+H[14]+2878612391&4294967295,B=N+(D<<15&4294967295|D>>>17),D=O+(N^(B|~M))+H[5]+4237533241&4294967295,O=B+(D<<21&4294967295|D>>>11),D=M+(B^(O|~N))+H[12]+1700485571&4294967295,M=O+(D<<6&4294967295|D>>>26),D=N+(O^(M|~B))+H[3]+2399980690&4294967295,N=M+(D<<10&4294967295|D>>>22),D=B+(M^(N|~O))+H[10]+4293915773&4294967295,B=N+(D<<15&4294967295|D>>>17),D=O+(N^(B|~M))+H[1]+2240044497&4294967295,O=B+(D<<21&4294967295|D>>>11),D=M+(B^(O|~N))+H[8]+1873313359&4294967295,M=O+(D<<6&4294967295|D>>>26),D=N+(O^(M|~B))+H[15]+4264355552&4294967295,N=M+(D<<10&4294967295|D>>>22),D=B+(M^(N|~O))+H[6]+2734768916&4294967295,B=N+(D<<15&4294967295|D>>>17),D=O+(N^(B|~M))+H[13]+1309151649&4294967295,O=B+(D<<21&4294967295|D>>>11),D=M+(B^(O|~N))+H[4]+4149444226&4294967295,M=O+(D<<6&4294967295|D>>>26),D=N+(O^(M|~B))+H[11]+3174756917&4294967295,N=M+(D<<10&4294967295|D>>>22),D=B+(M^(N|~O))+H[2]+718787259&4294967295,B=N+(D<<15&4294967295|D>>>17),D=O+(N^(B|~M))+H[9]+3951481745&4294967295,j.g[0]=j.g[0]+M&4294967295,j.g[1]=j.g[1]+(B+(D<<21&4294967295|D>>>11))&4294967295,j.g[2]=j.g[2]+B&4294967295,j.g[3]=j.g[3]+N&4294967295}s.prototype.v=function(j,M){M===void 0&&(M=j.length);const O=M-this.blockSize,H=this.C;let B=this.h,N=0;for(;N<M;){if(B==0)for(;N<=O;)o(this,j,N),N+=this.blockSize;if(typeof j=="string"){for(;N<M;)if(H[B++]=j.charCodeAt(N++),B==this.blockSize){o(this,H),B=0;break}}else for(;N<M;)if(H[B++]=j[N++],B==this.blockSize){o(this,H),B=0;break}}this.h=B,this.o+=M},s.prototype.A=function(){var j=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);j[0]=128;for(var M=1;M<j.length-8;++M)j[M]=0;M=this.o*8;for(var O=j.length-8;O<j.length;++O)j[O]=M&255,M/=256;for(this.v(j),j=Array(16),M=0,O=0;O<4;++O)for(let H=0;H<32;H+=8)j[M++]=this.g[O]>>>H&255;return j};function u(j,M){var O=d;return Object.prototype.hasOwnProperty.call(O,j)?O[j]:O[j]=M(j)}function c(j,M){this.h=M;const O=[];let H=!0;for(let B=j.length-1;B>=0;B--){const N=j[B]|0;H&&N==M||(O[B]=N,H=!1)}this.g=O}var d={};function p(j){return-128<=j&&j<128?u(j,function(M){return new c([M|0],M<0?-1:0)}):new c([j|0],j<0?-1:0)}function g(j){if(isNaN(j)||!isFinite(j))return b;if(j<0)return C(g(-j));const M=[];let O=1;for(let H=0;j>=O;H++)M[H]=j/O|0,O*=4294967296;return new c(M,0)}function v(j,M){if(j.length==0)throw Error("number format error: empty string");if(M=M||10,M<2||36<M)throw Error("radix out of range: "+M);if(j.charAt(0)=="-")return C(v(j.substring(1),M));if(j.indexOf("-")>=0)throw Error('number format error: interior "-" character');const O=g(Math.pow(M,8));let H=b;for(let N=0;N<j.length;N+=8){var B=Math.min(8,j.length-N);const D=parseInt(j.substring(N,N+B),M);B<8?(B=g(Math.pow(M,B)),H=H.j(B).add(g(D))):(H=H.j(O),H=H.add(g(D)))}return H}var b=p(0),E=p(1),x=p(16777216);i=c.prototype,i.m=function(){if(A(this))return-C(this).m();let j=0,M=1;for(let O=0;O<this.g.length;O++){const H=this.i(O);j+=(H>=0?H:4294967296+H)*M,M*=4294967296}return j},i.toString=function(j){if(j=j||10,j<2||36<j)throw Error("radix out of range: "+j);if(k(this))return"0";if(A(this))return"-"+C(this).toString(j);const M=g(Math.pow(j,6));var O=this;let H="";for(;;){const B=K(O,M).g;O=I(O,B.j(M));let N=((O.g.length>0?O.g[0]:O.h)>>>0).toString(j);if(O=B,k(O))return N+H;for(;N.length<6;)N="0"+N;H=N+H}},i.i=function(j){return j<0?0:j<this.g.length?this.g[j]:this.h};function k(j){if(j.h!=0)return!1;for(let M=0;M<j.g.length;M++)if(j.g[M]!=0)return!1;return!0}function A(j){return j.h==-1}i.l=function(j){return j=I(this,j),A(j)?-1:k(j)?0:1};function C(j){const M=j.g.length,O=[];for(let H=0;H<M;H++)O[H]=~j.g[H];return new c(O,~j.h).add(E)}i.abs=function(){return A(this)?C(this):this},i.add=function(j){const M=Math.max(this.g.length,j.g.length),O=[];let H=0;for(let B=0;B<=M;B++){let N=H+(this.i(B)&65535)+(j.i(B)&65535),D=(N>>>16)+(this.i(B)>>>16)+(j.i(B)>>>16);H=D>>>16,N&=65535,D&=65535,O[B]=D<<16|N}return new c(O,O[O.length-1]&-2147483648?-1:0)};function I(j,M){return j.add(C(M))}i.j=function(j){if(k(this)||k(j))return b;if(A(this))return A(j)?C(this).j(C(j)):C(C(this).j(j));if(A(j))return C(this.j(C(j)));if(this.l(x)<0&&j.l(x)<0)return g(this.m()*j.m());const M=this.g.length+j.g.length,O=[];for(var H=0;H<2*M;H++)O[H]=0;for(H=0;H<this.g.length;H++)for(let B=0;B<j.g.length;B++){const N=this.i(H)>>>16,D=this.i(H)&65535,R=j.i(B)>>>16,ie=j.i(B)&65535;O[2*H+2*B]+=D*ie,P(O,2*H+2*B),O[2*H+2*B+1]+=N*ie,P(O,2*H+2*B+1),O[2*H+2*B+1]+=D*R,P(O,2*H+2*B+1),O[2*H+2*B+2]+=N*R,P(O,2*H+2*B+2)}for(j=0;j<M;j++)O[j]=O[2*j+1]<<16|O[2*j];for(j=M;j<2*M;j++)O[j]=0;return new c(O,0)};function P(j,M){for(;(j[M]&65535)!=j[M];)j[M+1]+=j[M]>>>16,j[M]&=65535,M++}function z(j,M){this.g=j,this.h=M}function K(j,M){if(k(M))throw Error("division by zero");if(k(j))return new z(b,b);if(A(j))return M=K(C(j),M),new z(C(M.g),C(M.h));if(A(M))return M=K(j,C(M)),new z(C(M.g),M.h);if(j.g.length>30){if(A(j)||A(M))throw Error("slowDivide_ only works with positive integers.");for(var O=E,H=M;H.l(j)<=0;)O=X(O),H=X(H);var B=ae(O,1),N=ae(H,1);for(H=ae(H,2),O=ae(O,2);!k(H);){var D=N.add(H);D.l(j)<=0&&(B=B.add(O),N=D),H=ae(H,1),O=ae(O,1)}return M=I(j,B.j(M)),new z(B,M)}for(B=b;j.l(M)>=0;){for(O=Math.max(1,Math.floor(j.m()/M.m())),H=Math.ceil(Math.log(O)/Math.LN2),H=H<=48?1:Math.pow(2,H-48),N=g(O),D=N.j(M);A(D)||D.l(j)>0;)O-=H,N=g(O),D=N.j(M);k(N)&&(N=E),B=B.add(N),j=I(j,D)}return new z(B,j)}i.B=function(j){return K(this,j).h},i.and=function(j){const M=Math.max(this.g.length,j.g.length),O=[];for(let H=0;H<M;H++)O[H]=this.i(H)&j.i(H);return new c(O,this.h&j.h)},i.or=function(j){const M=Math.max(this.g.length,j.g.length),O=[];for(let H=0;H<M;H++)O[H]=this.i(H)|j.i(H);return new c(O,this.h|j.h)},i.xor=function(j){const M=Math.max(this.g.length,j.g.length),O=[];for(let H=0;H<M;H++)O[H]=this.i(H)^j.i(H);return new c(O,this.h^j.h)};function X(j){const M=j.g.length+1,O=[];for(let H=0;H<M;H++)O[H]=j.i(H)<<1|j.i(H-1)>>>31;return new c(O,j.h)}function ae(j,M){const O=M>>5;M%=32;const H=j.g.length-O,B=[];for(let N=0;N<H;N++)B[N]=M>0?j.i(N+O)>>>M|j.i(N+O+1)<<32-M:j.i(N+O);return new c(B,j.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,N1=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=v,xs=c}).apply(typeof h0<"u"?h0:typeof self<"u"?self:typeof window<"u"?window:{});var Xc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var I1,Gl,k1,oh,Lm,D1,O1,j1;(function(){var i,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xc=="object"&&Xc];for(var _=0;_<h.length;++_){var T=h[_];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var s=n(this);function o(h,_){if(_)e:{var T=s;h=h.split(".");for(var U=0;U<h.length-1;U++){var se=h[U];if(!(se in T))break e;T=T[se]}h=h[h.length-1],U=T[h],_=_(U),_!=U&&_!=null&&e(T,h,{configurable:!0,writable:!0,value:_})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(_){var T=[],U;for(U in _)Object.prototype.hasOwnProperty.call(_,U)&&T.push([U,_[U]]);return T}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},c=this||self;function d(h){var _=typeof h;return _=="object"&&h!=null||_=="function"}function p(h,_,T){return h.call.apply(h.bind,arguments)}function g(h,_,T){return g=p,g.apply(null,arguments)}function v(h,_){var T=Array.prototype.slice.call(arguments,1);return function(){var U=T.slice();return U.push.apply(U,arguments),h.apply(this,U)}}function b(h,_){function T(){}T.prototype=_.prototype,h.Z=_.prototype,h.prototype=new T,h.prototype.constructor=h,h.Ob=function(U,se,he){for(var Ce=Array(arguments.length-2),We=2;We<arguments.length;We++)Ce[We-2]=arguments[We];return _.prototype[se].apply(U,Ce)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function x(h){const _=h.length;if(_>0){const T=Array(_);for(let U=0;U<_;U++)T[U]=h[U];return T}return[]}function k(h,_){for(let U=1;U<arguments.length;U++){const se=arguments[U];var T=typeof se;if(T=T!="object"?T:se?Array.isArray(se)?"array":T:"null",T=="array"||T=="object"&&typeof se.length=="number"){T=h.length||0;const he=se.length||0;h.length=T+he;for(let Ce=0;Ce<he;Ce++)h[T+Ce]=se[Ce]}else h.push(se)}}class A{constructor(_,T){this.i=_,this.j=T,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function C(h){c.setTimeout(()=>{throw h},0)}function I(){var h=j;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}class P{constructor(){this.h=this.g=null}add(_,T){const U=z.get();U.set(_,T),this.h?this.h.next=U:this.g=U,this.h=U}}var z=new A(()=>new K,h=>h.reset());class K{constructor(){this.next=this.g=this.h=null}set(_,T){this.h=_,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let X,ae=!1,j=new P,M=()=>{const h=Promise.resolve(void 0);X=()=>{h.then(O)}};function O(){for(var h;h=I();){try{h.h.call(h.g)}catch(T){C(T)}var _=z;_.j(h),_.h<100&&(_.h++,h.next=_.g,_.g=h)}ae=!1}function H(){this.u=this.u,this.C=this.C}H.prototype.u=!1,H.prototype.dispose=function(){this.u||(this.u=!0,this.N())},H.prototype[Symbol.dispose]=function(){this.dispose()},H.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function B(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}B.prototype.h=function(){this.defaultPrevented=!0};var N=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};c.addEventListener("test",T,_),c.removeEventListener("test",T,_)}catch{}return h})();function D(h){return/^[\s\xa0]*$/.test(h)}function R(h,_){B.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,_)}b(R,B),R.prototype.init=function(h,_){const T=this.type=h.type,U=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget,_||(T=="mouseover"?_=h.fromElement:T=="mouseout"&&(_=h.toElement)),this.relatedTarget=_,U?(this.clientX=U.clientX!==void 0?U.clientX:U.pageX,this.clientY=U.clientY!==void 0?U.clientY:U.pageY,this.screenX=U.screenX||0,this.screenY=U.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&R.Z.h.call(this)},R.prototype.h=function(){R.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var ie="closure_listenable_"+(Math.random()*1e6|0),$=0;function te(h,_,T,U,se){this.listener=h,this.proxy=null,this.src=_,this.type=T,this.capture=!!U,this.ha=se,this.key=++$,this.da=this.fa=!1}function Se(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function ge(h,_,T){for(const U in h)_.call(T,h[U],U,h)}function Ne(h,_){for(const T in h)_.call(void 0,h[T],T,h)}function V(h){const _={};for(const T in h)_[T]=h[T];return _}const G="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function me(h,_){let T,U;for(let se=1;se<arguments.length;se++){U=arguments[se];for(T in U)h[T]=U[T];for(let he=0;he<G.length;he++)T=G[he],Object.prototype.hasOwnProperty.call(U,T)&&(h[T]=U[T])}}function de(h){this.src=h,this.g={},this.h=0}de.prototype.add=function(h,_,T,U,se){const he=h.toString();h=this.g[he],h||(h=this.g[he]=[],this.h++);const Ce=Ie(h,_,U,se);return Ce>-1?(_=h[Ce],T||(_.fa=!1)):(_=new te(_,this.src,he,!!U,se),_.fa=T,h.push(_)),_};function pe(h,_){const T=_.type;if(T in h.g){var U=h.g[T],se=Array.prototype.indexOf.call(U,_,void 0),he;(he=se>=0)&&Array.prototype.splice.call(U,se,1),he&&(Se(_),h.g[T].length==0&&(delete h.g[T],h.h--))}}function Ie(h,_,T,U){for(let se=0;se<h.length;++se){const he=h[se];if(!he.da&&he.listener==_&&he.capture==!!T&&he.ha==U)return se}return-1}var Pe="closure_lm_"+(Math.random()*1e6|0),Le={};function Oe(h,_,T,U,se){if(Array.isArray(_)){for(let he=0;he<_.length;he++)Oe(h,_[he],T,U,se);return null}return T=F(T),h&&h[ie]?h.J(_,T,d(U)?!!U.capture:!1,se):gt(h,_,T,!1,U,se)}function gt(h,_,T,U,se,he){if(!_)throw Error("Invalid event type");const Ce=d(se)?!!se.capture:!!se;let We=ne(h);if(We||(h[Pe]=We=new de(h)),T=We.add(_,T,U,Ce,he),T.proxy)return T;if(U=ft(),T.proxy=U,U.src=h,U.listener=T,h.addEventListener)N||(se=Ce),se===void 0&&(se=!1),h.addEventListener(_.toString(),U,se);else if(h.attachEvent)h.attachEvent(S(_.toString()),U);else if(h.addListener&&h.removeListener)h.addListener(U);else throw Error("addEventListener and attachEvent are unavailable.");return T}function ft(){function h(T){return _.call(h.src,h.listener,T)}const _=J;return h}function Ut(h,_,T,U,se){if(Array.isArray(_))for(var he=0;he<_.length;he++)Ut(h,_[he],T,U,se);else U=d(U)?!!U.capture:!!U,T=F(T),h&&h[ie]?(h=h.i,he=String(_).toString(),he in h.g&&(_=h.g[he],T=Ie(_,T,U,se),T>-1&&(Se(_[T]),Array.prototype.splice.call(_,T,1),_.length==0&&(delete h.g[he],h.h--)))):h&&(h=ne(h))&&(_=h.g[_.toString()],h=-1,_&&(h=Ie(_,T,U,se)),(T=h>-1?_[h]:null)&&Vt(T))}function Vt(h){if(typeof h!="number"&&h&&!h.da){var _=h.src;if(_&&_[ie])pe(_.i,h);else{var T=h.type,U=h.proxy;_.removeEventListener?_.removeEventListener(T,U,h.capture):_.detachEvent?_.detachEvent(S(T),U):_.addListener&&_.removeListener&&_.removeListener(U),(T=ne(_))?(pe(T,h),T.h==0&&(T.src=null,_[Pe]=null)):Se(h)}}}function S(h){return h in Le?Le[h]:Le[h]="on"+h}function J(h,_){if(h.da)h=!0;else{_=new R(_,this);const T=h.listener,U=h.ha||h.src;h.fa&&Vt(h),h=T.call(U,_)}return h}function ne(h){return h=h[Pe],h instanceof de?h:null}var q="__closure_events_fn_"+(Math.random()*1e9>>>0);function F(h){return typeof h=="function"?h:(h[q]||(h[q]=function(_){return h.handleEvent(_)}),h[q])}function Y(){H.call(this),this.i=new de(this),this.M=this,this.G=null}b(Y,H),Y.prototype[ie]=!0,Y.prototype.removeEventListener=function(h,_,T,U){Ut(this,h,_,T,U)};function ce(h,_){var T,U=h.G;if(U)for(T=[];U;U=U.G)T.push(U);if(h=h.M,U=_.type||_,typeof _=="string")_=new B(_,h);else if(_ instanceof B)_.target=_.target||h;else{var se=_;_=new B(U,h),me(_,se)}se=!0;let he,Ce;if(T)for(Ce=T.length-1;Ce>=0;Ce--)he=_.g=T[Ce],se=_e(he,U,!0,_)&&se;if(he=_.g=h,se=_e(he,U,!0,_)&&se,se=_e(he,U,!1,_)&&se,T)for(Ce=0;Ce<T.length;Ce++)he=_.g=T[Ce],se=_e(he,U,!1,_)&&se}Y.prototype.N=function(){if(Y.Z.N.call(this),this.i){var h=this.i;for(const _ in h.g){const T=h.g[_];for(let U=0;U<T.length;U++)Se(T[U]);delete h.g[_],h.h--}}this.G=null},Y.prototype.J=function(h,_,T,U){return this.i.add(String(h),_,!1,T,U)},Y.prototype.K=function(h,_,T,U){return this.i.add(String(h),_,!0,T,U)};function _e(h,_,T,U){if(_=h.i.g[String(_)],!_)return!0;_=_.concat();let se=!0;for(let he=0;he<_.length;++he){const Ce=_[he];if(Ce&&!Ce.da&&Ce.capture==T){const We=Ce.listener,Ht=Ce.ha||Ce.src;Ce.fa&&pe(h.i,Ce),se=We.call(Ht,U)!==!1&&se}}return se&&!U.defaultPrevented}function re(h,_){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:c.setTimeout(h,_||0)}function Te(h){h.g=re(()=>{h.g=null,h.i&&(h.i=!1,Te(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}class Re extends H{constructor(_,T){super(),this.m=_,this.l=T,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Te(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ae(h){H.call(this),this.h=h,this.g={}}b(Ae,H);var je=[];function Je(h){ge(h.g,function(_,T){this.g.hasOwnProperty(T)&&Vt(_)},h),h.g={}}Ae.prototype.N=function(){Ae.Z.N.call(this),Je(this)},Ae.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qe=c.JSON.stringify,be=c.JSON.parse,Ge=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function dt(){}function ct(){}var Qe={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function nt(){B.call(this,"d")}b(nt,B);function Ot(){B.call(this,"c")}b(Ot,B);var rt={},fr=null;function Ln(){return fr=fr||new Y}rt.Ia="serverreachability";function It(h){B.call(this,rt.Ia,h)}b(It,B);function $n(h){const _=Ln();ce(_,new It(_))}rt.STAT_EVENT="statevent";function Ir(h,_){B.call(this,rt.STAT_EVENT,h),this.stat=_}b(Ir,B);function Ct(h){const _=Ln();ce(_,new Ir(_,h))}rt.Ja="timingevent";function Sn(h,_){B.call(this,rt.Ja,h),this.size=_}b(Sn,B);function kr(h,_){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},_)}function dr(){this.g=!0}dr.prototype.ua=function(){this.g=!1};function af(h,_,T,U,se,he){h.info(function(){if(h.g)if(he){var Ce="",We=he.split("&");for(let yt=0;yt<We.length;yt++){var Ht=We[yt].split("=");if(Ht.length>1){const jt=Ht[0];Ht=Ht[1];const tr=jt.split("_");Ce=tr.length>=2&&tr[1]=="type"?Ce+(jt+"="+Ht+"&"):Ce+(jt+"=redacted&")}}}else Ce=null;else Ce=he;return"XMLHTTP REQ ("+U+") [attempt "+se+"]: "+_+`
`+T+`
`+Ce})}function xu(h,_,T,U,se,he,Ce){h.info(function(){return"XMLHTTP RESP ("+U+") [ attempt "+se+"]: "+_+`
`+T+`
`+he+" "+Ce})}function Dr(h,_,T,U){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+of(h,T)+(U?" "+U:"")})}function Ms(h,_){h.info(function(){return"TIMEOUT: "+_})}dr.prototype.info=function(){};function of(h,_){if(!h.g)return _;if(!_)return null;try{const he=JSON.parse(_);if(he){for(h=0;h<he.length;h++)if(Array.isArray(he[h])){var T=he[h];if(!(T.length<2)){var U=T[1];if(Array.isArray(U)&&!(U.length<1)){var se=U[0];if(se!="noop"&&se!="stop"&&se!="close")for(let Ce=1;Ce<U.length;Ce++)U[Ce]=""}}}}return qe(he)}catch{return _}}var Ls={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Bo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Fo;function Vs(){}b(Vs,dt),Vs.prototype.g=function(){return new XMLHttpRequest},Fo=new Vs;function ii(h){return encodeURIComponent(String(h))}function Eu(h){var _=1;h=h.split(":");const T=[];for(;_>0&&h.length;)T.push(h.shift()),_--;return h.length&&T.push(h.join(":")),T}function mr(h,_,T,U){this.j=h,this.i=_,this.l=T,this.S=U||1,this.V=new Ae(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new pr}function pr(){this.i=null,this.g="",this.h=!1}var Kt={},on={};function Or(h,_,T){h.M=1,h.A=Ps(Xt(_)),h.u=T,h.R=!0,Ea(h,null)}function Ea(h,_){h.F=Date.now(),jr(h),h.B=Xt(h.A);var T=h.B,U=h.S;Array.isArray(U)||(U=[String(U)]),Ra(T.i,"t",U),h.C=0,T=h.j.L,h.h=new pr,h.g=Pu(h.j,T?_:null,!h.u),h.P>0&&(h.O=new Re(g(h.Y,h,h.g),h.P)),_=h.V,T=h.g,U=h.ba;var se="readystatechange";Array.isArray(se)||(se&&(je[0]=se.toString()),se=je);for(let he=0;he<se.length;he++){const Ce=Oe(T,se[he],U||_.handleEvent,!1,_.h||_);if(!Ce)break;_.g[Ce.key]=Ce}_=h.J?V(h.J):{},h.u?(h.v||(h.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,_)):(h.v="GET",h.g.ea(h.B,h.v,null,_)),$n(),af(h.i,h.v,h.B,h.l,h.S,h.u)}mr.prototype.ba=function(h){h=h.target;const _=this.O;_&&_r(h)==3?_.j():this.Y(h)},mr.prototype.Y=function(h){try{if(h==this.g)e:{const We=_r(this.g),Ht=this.g.ya(),yt=this.g.ca();if(!(We<3)&&(We!=3||this.g&&(this.h.h||this.g.la()||mn(this.g)))){this.K||We!=4||Ht==7||(Ht==8||yt<=0?$n(3):$n(2)),Mr(this);var _=this.g.ca();this.X=_;var T=lf(this);if(this.o=_==200,xu(this.i,this.v,this.B,this.l,this.S,We,_),this.o){if(this.U&&!this.L){t:{if(this.g){var U,se=this.g;if((U=se.g?se.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(U)){var he=U;break t}}he=null}if(h=he)Dr(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Lr(this,h);else{this.o=!1,this.m=3,Ct(12),Vn(this),Zn(this);break e}}if(this.R){h=!0;let jt;for(;!this.K&&this.C<T.length;)if(jt=Su(this,T),jt==on){We==4&&(this.m=4,Ct(14),h=!1),Dr(this.i,this.l,null,"[Incomplete Response]");break}else if(jt==Kt){this.m=4,Ct(15),Dr(this.i,this.l,T,"[Invalid Chunk]"),h=!1;break}else Dr(this.i,this.l,jt,null),Lr(this,jt);if(Tu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),We!=4||T.length!=0||this.h.h||(this.m=1,Ct(16),h=!1),this.o=this.o&&h,!h)Dr(this.i,this.l,T,"[Invalid Chunked Response]"),Vn(this),Zn(this);else if(T.length>0&&!this.W){this.W=!0;var Ce=this.j;Ce.g==this&&Ce.aa&&!Ce.P&&(Ce.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),rl(Ce),Ce.P=!0,Ct(11))}}else Dr(this.i,this.l,T,null),Lr(this,T);We==4&&Vn(this),this.o&&!this.K&&(We==4?ju(this.j,this):(this.o=!1,jr(this)))}else ai(this.g),_==400&&T.indexOf("Unknown SID")>0?(this.m=3,Ct(12)):(this.m=0,Ct(13)),Vn(this),Zn(this)}}}catch{}finally{}};function lf(h){if(!Tu(h))return h.g.la();const _=mn(h.g);if(_==="")return"";let T="";const U=_.length,se=_r(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Vn(h),Zn(h),"";h.h.i=new c.TextDecoder}for(let he=0;he<U;he++)h.h.h=!0,T+=h.h.i.decode(_[he],{stream:!(se&&he==U-1)});return _.length=0,h.h.g+=T,h.C=0,h.h.g}function Tu(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Su(h,_){var T=h.C,U=_.indexOf(`
`,T);return U==-1?on:(T=Number(_.substring(T,U)),isNaN(T)?Kt:(U+=1,U+T>_.length?on:(_=_.slice(U,U+T),h.C=U+T,_)))}mr.prototype.cancel=function(){this.K=!0,Vn(this)};function jr(h){h.T=Date.now()+h.H,Ta(h,h.H)}function Ta(h,_){if(h.D!=null)throw Error("WatchDog timer not null");h.D=kr(g(h.aa,h),_)}function Mr(h){h.D&&(c.clearTimeout(h.D),h.D=null)}mr.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Ms(this.i,this.B),this.M!=2&&($n(),Ct(17)),Vn(this),this.m=2,Zn(this)):Ta(this,this.T-h)};function Zn(h){h.j.I==0||h.K||ju(h.j,h)}function Vn(h){Mr(h);var _=h.O;_&&typeof _.dispose=="function"&&_.dispose(),h.O=null,Je(h.V),h.g&&(_=h.g,h.g=null,_.abort(),_.dispose())}function Lr(h,_){try{var T=h.j;if(T.I!=0&&(T.g==h||Pr(T.h,h))){if(!h.L&&Pr(T.h,h)&&T.I==3){try{var U=T.Ba.g.parse(_)}catch{U=null}if(Array.isArray(U)&&U.length==3){var se=U;if(se[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<h.F)Da(T),Gi(T);else break e;Gs(T),Ct(18)}}else T.xa=se[1],0<T.xa-T.K&&se[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=kr(g(T.Va,T),6e3));Vr(T.h)<=1&&T.ta&&(T.ta=void 0)}else qr(T,11)}else if((h.L||T.g==h)&&Da(T),!D(_))for(se=T.Ba.g.parse(_),_=0;_<se.length;_++){let yt=se[_];const jt=yt[0];if(!(jt<=T.K))if(T.K=jt,yt=yt[1],T.I==2)if(yt[0]=="c"){T.M=yt[1],T.ba=yt[2];const tr=yt[3];tr!=null&&(T.ka=tr,T.j.info("VER="+T.ka));const Gr=yt[4];Gr!=null&&(T.za=Gr,T.j.info("SVER="+T.za));const vr=yt[5];vr!=null&&typeof vr=="number"&&vr>0&&(U=1.5*vr,T.O=U,T.j.info("backChannelRequestTimeoutMs_="+U)),U=T;const br=h.g;if(br){const Qs=br.g?br.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qs){var he=U.h;he.g||Qs.indexOf("spdy")==-1&&Qs.indexOf("quic")==-1&&Qs.indexOf("h2")==-1||(he.j=he.l,he.g=new Set,he.h&&(Go(he,he.h),he.h=null))}if(U.G){const Oa=br.g?br.g.getResponseHeader("X-HTTP-Session-Id"):null;Oa&&(U.wa=Oa,bt(U.J,U.G,Oa))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-h.F,T.j.info("Handshake RTT: "+T.T+"ms")),U=T;var Ce=h;if(U.na=Vu(U,U.L?U.ba:null,U.W),Ce.L){Qo(U.h,Ce);var We=Ce,Ht=U.O;Ht&&(We.H=Ht),We.D&&(Mr(We),jr(We)),U.g=Ce}else Du(U);T.i.length>0&&Hr(T)}else yt[0]!="stop"&&yt[0]!="close"||qr(T,7);else T.I==3&&(yt[0]=="stop"||yt[0]=="close"?yt[0]=="stop"?qr(T,7):tl(T):yt[0]!="noop"&&T.l&&T.l.qa(yt),T.A=0)}}$n(4)}catch{}}var Yt=class{constructor(h,_){this.g=h,this.map=_}};function Ho(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function qo(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Vr(h){return h.h?1:h.g?h.g.size:0}function Pr(h,_){return h.h?h.h==_:h.g?h.g.has(_):!1}function Go(h,_){h.g?h.g.add(_):h.h=_}function Qo(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}Ho.prototype.cancel=function(){if(this.i=Ko(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Ko(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let _=h.i;for(const T of h.g.values())_=_.concat(T.G);return _}return x(h.i)}var Au=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Sa(h,_){if(h){h=h.split("&");for(let T=0;T<h.length;T++){const U=h[T].indexOf("=");let se,he=null;U>=0?(se=h[T].substring(0,U),he=h[T].substring(U+1)):se=h[T],_(se,he?decodeURIComponent(he.replace(/\+/g," ")):"")}}}function Pn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;h instanceof Pn?(this.l=h.l,ln(this,h.j),this.o=h.o,this.g=h.g,Pi(this,h.u),this.h=h.h,Yo(this,Iu(h.i)),this.m=h.m):h&&(_=String(h).match(Au))?(this.l=!1,ln(this,_[1]||"",!0),this.o=zr(_[2]||""),this.g=zr(_[3]||"",!0),Pi(this,_[4]),this.h=zr(_[5]||"",!0),Yo(this,_[6]||"",!0),this.m=zr(_[7]||"")):(this.l=!1,this.i=new Ui(null,this.l))}Pn.prototype.toString=function(){const h=[];var _=this.j;_&&h.push(zs(_,Aa,!0),":");var T=this.g;return(T||_=="file")&&(h.push("//"),(_=this.o)&&h.push(zs(_,Aa,!0),"@"),h.push(ii(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&h.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(zs(T,T.charAt(0)=="/"?Xo:Ru,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",zs(T,Cu)),h.join("")},Pn.prototype.resolve=function(h){const _=Xt(this);let T=!!h.j;T?ln(_,h.j):T=!!h.o,T?_.o=h.o:T=!!h.g,T?_.g=h.g:T=h.u!=null;var U=h.h;if(T)Pi(_,h.u);else if(T=!!h.h){if(U.charAt(0)!="/")if(this.g&&!this.h)U="/"+U;else{var se=_.h.lastIndexOf("/");se!=-1&&(U=_.h.slice(0,se+1)+U)}if(se=U,se==".."||se==".")U="";else if(se.indexOf("./")!=-1||se.indexOf("/.")!=-1){U=se.lastIndexOf("/",0)==0,se=se.split("/");const he=[];for(let Ce=0;Ce<se.length;){const We=se[Ce++];We=="."?U&&Ce==se.length&&he.push(""):We==".."?((he.length>1||he.length==1&&he[0]!="")&&he.pop(),U&&Ce==se.length&&he.push("")):(he.push(We),U=!0)}U=he.join("/")}else U=se}return T?_.h=U:T=h.i.toString()!=="",T?Yo(_,Iu(h.i)):T=!!h.m,T&&(_.m=h.m),_};function Xt(h){return new Pn(h)}function ln(h,_,T){h.j=T?zr(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function Pi(h,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);h.u=_}else h.u=null}function Yo(h,_,T){_ instanceof Ui?(h.i=_,Ca(h.i,h.l)):(T||(_=zs(_,zi)),h.i=new Ui(_,h.l))}function bt(h,_,T){h.i.set(_,T)}function Ps(h){return bt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function zr(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function zs(h,_,T){return typeof h=="string"?(h=encodeURI(h).replace(_,Cn),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Cn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Aa=/[#\/\?@]/g,Ru=/[#\?:]/g,Xo=/[#\?]/g,zi=/[#\?@]/g,Cu=/#/g;function Ui(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function Nn(h){h.g||(h.g=new Map,h.h=0,h.i&&Sa(h.i,function(_,T){h.add(decodeURIComponent(_.replace(/\+/g," ")),T)}))}i=Ui.prototype,i.add=function(h,_){Nn(this),this.i=null,h=Bi(this,h);let T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(_),this.h+=1,this};function Nu(h,_){Nn(h),_=Bi(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function Wo(h,_){return Nn(h),_=Bi(h,_),h.g.has(_)}i.forEach=function(h,_){Nn(this),this.g.forEach(function(T,U){T.forEach(function(se){h.call(_,se,U,this)},this)},this)};function $o(h,_){Nn(h);let T=[];if(typeof _=="string")Wo(h,_)&&(T=T.concat(h.g.get(Bi(h,_))));else for(h=Array.from(h.g.values()),_=0;_<h.length;_++)T=T.concat(h[_]);return T}i.set=function(h,_){return Nn(this),this.i=null,h=Bi(this,h),Wo(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},i.get=function(h,_){return h?(h=$o(this,h),h.length>0?String(h[0]):_):_};function Ra(h,_,T){Nu(h,_),T.length>0&&(h.i=null,h.g.set(Bi(h,_),x(T)),h.h+=T.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(let U=0;U<_.length;U++){var T=_[U];const se=ii(T);T=$o(this,T);for(let he=0;he<T.length;he++){let Ce=se;T[he]!==""&&(Ce+="="+ii(T[he])),h.push(Ce)}}return this.i=h.join("&")};function Iu(h){const _=new Ui;return _.i=h.i,h.g&&(_.g=new Map(h.g),_.h=h.h),_}function Bi(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function Ca(h,_){_&&!h.j&&(Nn(h),h.i=null,h.g.forEach(function(T,U){const se=U.toLowerCase();U!=se&&(Nu(this,U),Ra(this,se,T))},h)),h.j=_}function gr(h,_){const T=new dr;if(c.Image){const U=new Image;U.onload=v(Jn,T,"TestLoadImage: loaded",!0,_,U),U.onerror=v(Jn,T,"TestLoadImage: error",!1,_,U),U.onabort=v(Jn,T,"TestLoadImage: abort",!1,_,U),U.ontimeout=v(Jn,T,"TestLoadImage: timeout",!1,_,U),c.setTimeout(function(){U.ontimeout&&U.ontimeout()},1e4),U.src=h}else _(!1)}function Zo(h,_){const T=new dr,U=new AbortController,se=setTimeout(()=>{U.abort(),Jn(T,"TestPingServer: timeout",!1,_)},1e4);fetch(h,{signal:U.signal}).then(he=>{clearTimeout(se),he.ok?Jn(T,"TestPingServer: ok",!0,_):Jn(T,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(se),Jn(T,"TestPingServer: error",!1,_)})}function Jn(h,_,T,U,se){try{se&&(se.onload=null,se.onerror=null,se.onabort=null,se.ontimeout=null),U(T)}catch{}}function Fi(){this.g=new Ge}function Ur(h){this.i=h.Sb||null,this.h=h.ab||!1}b(Ur,dt),Ur.prototype.g=function(){return new Us(this.i,this.h)};function Us(h,_){Y.call(this),this.H=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Us,Y),i=Us.prototype,i.open=function(h,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=_,this.readyState=1,yr(this)},i.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(_.body=h),(this.H||c).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Hi(this)),this.readyState=0},i.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,yr(this)),this.g&&(this.readyState=3,yr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Na(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Na(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}i.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?Hi(this):yr(this),this.readyState==3&&Na(this)}},i.Oa=function(h){this.g&&(this.response=this.responseText=h,Hi(this))},i.Na=function(h){this.g&&(this.response=h,Hi(this))},i.ga=function(){this.g&&Hi(this)};function Hi(h){h.readyState=4,h.l=null,h.j=null,h.B=null,yr(h)}i.setRequestHeader=function(h,_){this.A.append(h,_)},i.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var T=_.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=_.next();return h.join(`\r
`)};function yr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Us.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function er(h){let _="";return ge(h,function(T,U){_+=U,_+=":",_+=T,_+=`\r
`}),_}function Bs(h,_,T){e:{for(U in T){var U=!1;break e}U=!0}U||(T=er(T),typeof h=="string"?T!=null&&ii(T):bt(h,_,T))}function Et(h){Y.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Et,Y);var Br=/^https?$/i,Jo=["POST","PUT"];i=Et.prototype,i.Fa=function(h){this.H=h},i.ea=function(h,_,T,U){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Fo.g(),this.g.onreadystatechange=E(g(this.Ca,this));try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(he){Fs(this,he);return}if(h=T||"",T=new Map(this.headers),U)if(Object.getPrototypeOf(U)===Object.prototype)for(var se in U)T.set(se,U[se]);else if(typeof U.keys=="function"&&typeof U.get=="function")for(const he of U.keys())T.set(he,U.get(he));else throw Error("Unknown input type for opt_headers: "+String(U));U=Array.from(T.keys()).find(he=>he.toLowerCase()=="content-type"),se=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(Jo,_,void 0)>=0)||U||se||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[he,Ce]of T)this.g.setRequestHeader(he,Ce);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(he){Fs(this,he)}};function Fs(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.o=5,el(h),si(h)}function el(h){h.A||(h.A=!0,ce(h,"complete"),ce(h,"error"))}i.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,ce(this,"complete"),ce(this,"abort"),si(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),si(this,!0)),Et.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?Hs(this):this.Xa())},i.Xa=function(){Hs(this)};function Hs(h){if(h.h&&typeof u<"u"){if(h.v&&_r(h)==4)setTimeout(h.Ca.bind(h),0);else if(ce(h,"readystatechange"),_r(h)==4){h.h=!1;try{const he=h.ca();e:switch(he){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var T;if(!(T=_)){var U;if(U=he===0){let Ce=String(h.D).match(Au)[1]||null;!Ce&&c.self&&c.self.location&&(Ce=c.self.location.protocol.slice(0,-1)),U=!Br.test(Ce?Ce.toLowerCase():"")}T=U}if(T)ce(h,"complete"),ce(h,"success");else{h.o=6;try{var se=_r(h)>2?h.g.statusText:""}catch{se=""}h.l=se+" ["+h.ca()+"]",el(h)}}finally{si(h)}}}}function si(h,_){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const T=h.g;h.g=null,_||ce(h,"ready");try{T.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function _r(h){return h.g?h.g.readyState:0}i.ca=function(){try{return _r(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(h){if(this.g){var _=this.g.responseText;return h&&_.indexOf(h)==0&&(_=_.substring(h.length)),be(_)}};function mn(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function ai(h){const _={};h=(h.g&&_r(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let U=0;U<h.length;U++){if(D(h[U]))continue;var T=Eu(h[U]);const se=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const he=_[se]||[];_[se]=he,he.push(T)}Ne(_,function(U){return U.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fr(h,_,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||_}function qi(h){this.za=0,this.i=[],this.j=new dr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Fr("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Fr("baseRetryDelayMs",5e3,h),this.Za=Fr("retryDelaySeedMs",1e4,h),this.Ta=Fr("forwardChannelMaxRetries",2,h),this.va=Fr("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Ho(h&&h.concurrentRequestLimit),this.Ba=new Fi,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=qi.prototype,i.ka=8,i.I=1,i.connect=function(h,_,T,U){Ct(0),this.W=h,this.H=_||{},T&&U!==void 0&&(this.H.OSID=T,this.H.OAID=U),this.F=this.X,this.J=Vu(this,null,this.W),Hr(this)};function tl(h){if(Ia(h),h.I==3){var _=h.V++,T=Xt(h.J);if(bt(T,"SID",h.M),bt(T,"RID",_),bt(T,"TYPE","terminate"),qs(h,T),_=new mr(h,h.j,_),_.M=2,_.A=Ps(Xt(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(_.A.toString(),"")}catch{}!T&&c.Image&&(new Image().src=_.A,T=!0),T||(_.g=Pu(_.j,null),_.g.ea(_.A)),_.F=Date.now(),jr(_)}Lu(h)}function Gi(h){h.g&&(rl(h),h.g.cancel(),h.g=null)}function Ia(h){Gi(h),h.v&&(c.clearTimeout(h.v),h.v=null),Da(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Hr(h){if(!qo(h.h)&&!h.m){h.m=!0;var _=h.Ea;X||M(),ae||(X(),ae=!0),j.add(_,h),h.D=0}}function ka(h,_){return Vr(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=_.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=kr(g(h.Ea,h,_),Mu(h,h.D)),h.D++,!0)}i.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const se=new mr(this,this.j,h);let he=this.o;if(this.U&&(he?(he=V(he),me(he,this.U)):he=this.U),this.u!==null||this.R||(se.J=he,he=null),this.S)e:{for(var _=0,T=0;T<this.i.length;T++){t:{var U=this.i[T];if("__data__"in U.map&&(U=U.map.__data__,typeof U=="string")){U=U.length;break t}U=void 0}if(U===void 0)break;if(_+=U,_>4096){_=T;break e}if(_===4096||T===this.i.length-1){_=T+1;break e}}_=1e3}else _=1e3;_=ku(this,se,_),T=Xt(this.J),bt(T,"RID",h),bt(T,"CVER",22),this.G&&bt(T,"X-HTTP-Session-Id",this.G),qs(this,T),he&&(this.R?_="headers="+ii(er(he))+"&"+_:this.u&&Bs(T,this.u,he)),Go(this.h,se),this.Ra&&bt(T,"TYPE","init"),this.S?(bt(T,"$req",_),bt(T,"SID","null"),se.U=!0,Or(se,T,null)):Or(se,T,_),this.I=2}}else this.I==3&&(h?nl(this,h):this.i.length==0||qo(this.h)||nl(this))};function nl(h,_){var T;_?T=_.l:T=h.V++;const U=Xt(h.J);bt(U,"SID",h.M),bt(U,"RID",T),bt(U,"AID",h.K),qs(h,U),h.u&&h.o&&Bs(U,h.u,h.o),T=new mr(h,h.j,T,h.D+1),h.u===null&&(T.J=h.o),_&&(h.i=_.G.concat(h.i)),_=ku(h,T,1e3),T.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Go(h.h,T),Or(T,U,_)}function qs(h,_){h.H&&ge(h.H,function(T,U){bt(_,U,T)}),h.l&&ge({},function(T,U){bt(_,U,T)})}function ku(h,_,T){T=Math.min(h.i.length,T);const U=h.l?g(h.l.Ka,h.l,h):null;e:{var se=h.i;let We=-1;for(;;){const Ht=["count="+T];We==-1?T>0?(We=se[0].g,Ht.push("ofs="+We)):We=0:Ht.push("ofs="+We);let yt=!0;for(let jt=0;jt<T;jt++){var he=se[jt].g;const tr=se[jt].map;if(he-=We,he<0)We=Math.max(0,se[jt].g-100),yt=!1;else try{he="req"+he+"_"||"";try{var Ce=tr instanceof Map?tr:Object.entries(tr);for(const[Gr,vr]of Ce){let br=vr;d(vr)&&(br=qe(vr)),Ht.push(he+Gr+"="+encodeURIComponent(br))}}catch(Gr){throw Ht.push(he+"type="+encodeURIComponent("_badmap")),Gr}}catch{U&&U(tr)}}if(yt){Ce=Ht.join("&");break e}}Ce=void 0}return h=h.i.splice(0,T),_.G=h,Ce}function Du(h){if(!h.g&&!h.v){h.Y=1;var _=h.Da;X||M(),ae||(X(),ae=!0),j.add(_,h),h.A=0}}function Gs(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=kr(g(h.Da,h),Mu(h,h.A)),h.A++,!0)}i.Da=function(){if(this.v=null,Ou(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=kr(g(this.Wa,this),h)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ct(10),Gi(this),Ou(this))};function rl(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function Ou(h){h.g=new mr(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var _=Xt(h.na);bt(_,"RID","rpc"),bt(_,"SID",h.M),bt(_,"AID",h.K),bt(_,"CI",h.F?"0":"1"),!h.F&&h.ia&&bt(_,"TO",h.ia),bt(_,"TYPE","xmlhttp"),qs(h,_),h.u&&h.o&&Bs(_,h.u,h.o),h.O&&(h.g.H=h.O);var T=h.g;h=h.ba,T.M=1,T.A=Ps(Xt(_)),T.u=null,T.R=!0,Ea(T,h)}i.Va=function(){this.C!=null&&(this.C=null,Gi(this),Gs(this),Ct(19))};function Da(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function ju(h,_){var T=null;if(h.g==_){Da(h),rl(h),h.g=null;var U=2}else if(Pr(h.h,_))T=_.G,Qo(h.h,_),U=1;else return;if(h.I!=0){if(_.o)if(U==1){T=_.u?_.u.length:0,_=Date.now()-_.F;var se=h.D;U=Ln(),ce(U,new Sn(U,T)),Hr(h)}else Du(h);else if(se=_.m,se==3||se==0&&_.X>0||!(U==1&&ka(h,_)||U==2&&Gs(h)))switch(T&&T.length>0&&(_=h.h,_.i=_.i.concat(T)),se){case 1:qr(h,5);break;case 4:qr(h,10);break;case 3:qr(h,6);break;default:qr(h,2)}}}function Mu(h,_){let T=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(T*=2),T*_}function qr(h,_){if(h.j.info("Error code "+_),_==2){var T=g(h.bb,h),U=h.Ua;const se=!U;U=new Pn(U||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||ln(U,"https"),Ps(U),se?gr(U.toString(),T):Zo(U.toString(),T)}else Ct(2);h.I=0,h.l&&h.l.pa(_),Lu(h),Ia(h)}i.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Ct(2)):(this.j.info("Failed to ping google.com"),Ct(1))};function Lu(h){if(h.I=0,h.ja=[],h.l){const _=Ko(h.h);(_.length!=0||h.i.length!=0)&&(k(h.ja,_),k(h.ja,h.i),h.h.i.length=0,x(h.i),h.i.length=0),h.l.oa()}}function Vu(h,_,T){var U=T instanceof Pn?Xt(T):new Pn(T);if(U.g!="")_&&(U.g=_+"."+U.g),Pi(U,U.u);else{var se=c.location;U=se.protocol,_=_?_+"."+se.hostname:se.hostname,se=+se.port;const he=new Pn(null);U&&ln(he,U),_&&(he.g=_),se&&Pi(he,se),T&&(he.h=T),U=he}return T=h.G,_=h.wa,T&&_&&bt(U,T,_),bt(U,"VER",h.ka),qs(h,U),U}function Pu(h,_,T){if(_&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=h.Aa&&!h.ma?new Et(new Ur({ab:T})):new Et(h.ma),_.Fa(h.L),_}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function zu(){}i=zu.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Qi(){}Qi.prototype.g=function(h,_){return new An(h,_)};function An(h,_){Y.call(this),this.g=new qi(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(h?h["X-WebChannel-Client-Profile"]=_.sa:h={"X-WebChannel-Client-Profile":_.sa}),this.g.U=h,(h=_&&_.Qb)&&!D(h)&&(this.g.u=h),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!D(_)&&(this.g.G=_,h=this.h,h!==null&&_ in h&&(h=this.h,_ in h&&delete h[_])),this.j=new oi(this)}b(An,Y),An.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},An.prototype.close=function(){tl(this.g)},An.prototype.o=function(h){var _=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.v&&(T={},T.__data__=qe(h),h=T);_.i.push(new Yt(_.Ya++,h)),_.I==3&&Hr(_)},An.prototype.N=function(){this.g.l=null,delete this.j,tl(this.g),delete this.g,An.Z.N.call(this)};function Uu(h){nt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){e:{for(const T in _){h=T;break e}h=void 0}(this.i=h)&&(h=this.i,_=_!==null&&h in _?_[h]:void 0),this.data=_}else this.data=h}b(Uu,nt);function Bu(){Ot.call(this),this.status=1}b(Bu,Ot);function oi(h){this.g=h}b(oi,zu),oi.prototype.ra=function(){ce(this.g,"a")},oi.prototype.qa=function(h){ce(this.g,new Uu(h))},oi.prototype.pa=function(h){ce(this.g,new Bu)},oi.prototype.oa=function(){ce(this.g,"b")},Qi.prototype.createWebChannel=Qi.prototype.g,An.prototype.send=An.prototype.o,An.prototype.open=An.prototype.m,An.prototype.close=An.prototype.close,j1=function(){return new Qi},O1=function(){return Ln()},D1=rt,Lm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ls.NO_ERROR=0,Ls.TIMEOUT=8,Ls.HTTP_ERROR=6,oh=Ls,Bo.COMPLETE="complete",k1=Bo,ct.EventType=Qe,Qe.OPEN="a",Qe.CLOSE="b",Qe.ERROR="c",Qe.MESSAGE="d",Y.prototype.listen=Y.prototype.J,Gl=ct,Et.prototype.listenOnce=Et.prototype.K,Et.prototype.getLastError=Et.prototype.Ha,Et.prototype.getLastErrorCode=Et.prototype.ya,Et.prototype.getStatus=Et.prototype.ca,Et.prototype.getResponseJson=Et.prototype.La,Et.prototype.getResponseText=Et.prototype.la,Et.prototype.send=Et.prototype.ea,Et.prototype.setWithCredentials=Et.prototype.Fa,I1=Et}).apply(typeof Xc<"u"?Xc:typeof self<"u"?self:typeof window<"u"?window:{});const f0="@firebase/firestore",d0="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}xn.UNAUTHENTICATED=new xn(null),xn.GOOGLE_CREDENTIALS=new xn("google-credentials-uid"),xn.FIRST_PARTY=new xn("first-party-uid"),xn.MOCK_USER=new xn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vo="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma=new up("@firebase/firestore");function co(){return ma.logLevel}function ke(i,...e){if(ma.logLevel<=at.DEBUG){const n=e.map(wp);ma.debug(`Firestore (${Vo}): ${i}`,...n)}}function ji(i,...e){if(ma.logLevel<=at.ERROR){const n=e.map(wp);ma.error(`Firestore (${Vo}): ${i}`,...n)}}function pa(i,...e){if(ma.logLevel<=at.WARN){const n=e.map(wp);ma.warn(`Firestore (${Vo}): ${i}`,...n)}}function wp(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function He(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,M1(i,s,n)}function M1(i,e,n){let s=`FIRESTORE (${Vo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw ji(s),new Error(s)}function vt(i,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||M1(e,o,s)}function Xe(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ve extends Li{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class V1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(xn.UNAUTHENTICATED)))}shutdown(){}}class IC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class kC{constructor(e){this.t=e,this.currentUser=xn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){vt(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Es;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Es,e.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},d=p=>{ke("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>d(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(ke("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Es)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ke("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(vt(typeof s.accessToken=="string",31837,{l:s}),new L1(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return vt(e===null||typeof e=="string",2055,{h:e}),new xn(e)}}class DC{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=xn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class OC{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new DC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(xn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class m0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class jC{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Qn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){vt(this.o===void 0,3512);const s=u=>{u.error!=null&&ke("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.m;return this.m=u.token,ke("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{ke("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ke("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new m0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(vt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new m0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MC(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=MC(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function ot(i,e){return i<e?-1:i>e?1:0}function Vm(i,e){const n=Math.min(i.length,e.length);for(let s=0;s<n;s++){const o=i.charAt(s),u=e.charAt(s);if(o!==u)return vm(o)===vm(u)?ot(o,u):vm(o)?1:-1}return ot(i.length,e.length)}const LC=55296,VC=57343;function vm(i){const e=i.charCodeAt(0);return e>=LC&&e<=VC}function So(i,e,n){return i.length===e.length&&i.every(((s,o)=>n(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0="__name__";class Wr{constructor(e,n,s){n===void 0?n=0:n>e.length&&He(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&He(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Wr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Wr?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Wr.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return ot(e.length,n.length)}static compareSegments(e,n){const s=Wr.isNumericId(e),o=Wr.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Wr.extractNumericId(e).compare(Wr.extractNumericId(n)):Vm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return xs.fromString(e.substring(4,e.length-2))}}class Pt extends Wr{construct(e,n,s){return new Pt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new Ve(Ee.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new Pt(n)}static emptyPath(){return new Pt([])}}const PC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fn extends Wr{construct(e,n,s){return new fn(e,n,s)}static isValidIdentifier(e){return PC.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===p0}static keyField(){return new fn([p0])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new Ve(Ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new Ve(Ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Ve(Ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else d==="`"?(c=!c,o++):d!=="."||c?(s+=d,o++):(u(),o++)}if(u(),c)throw new Ve(Ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new fn(n)}static emptyPath(){return new fn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(e){this.path=e}static fromPath(e){return new Ue(Pt.fromString(e))}static fromName(e){return new Ue(Pt.fromString(e).popFirst(5))}static empty(){return new Ue(Pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Pt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ue(new Pt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zC(i,e,n){if(!n)throw new Ve(Ee.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function P1(i,e,n,s){if(e===!0&&s===!0)throw new Ve(Ee.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function g0(i){if(!Ue.isDocumentKey(i))throw new Ve(Ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function z1(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function xp(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":He(12329,{type:typeof i})}function Ao(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Ve(Ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=xp(i);throw new Ve(Ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(i,e){const n={typeString:i};return e&&(n.value=e),n}function yu(i,e){if(!z1(i))throw new Ve(Ee.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const c=i[s];if(o&&typeof c!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&c!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new Ve(Ee.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0=-62135596800,_0=1e6;class Nt{static now(){return Nt.fromMillis(Date.now())}static fromDate(e){return Nt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*_0);return new Nt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ve(Ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ve(Ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<y0)throw new Ve(Ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ve(Ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/_0}_compareTo(e){return this.seconds===e.seconds?ot(this.nanoseconds,e.nanoseconds):ot(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Nt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(yu(e,Nt._jsonSchema))return new Nt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-y0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Nt._jsonSchemaVersion="firestore/timestamp/1.0",Nt._jsonSchema={type:tn("string",Nt._jsonSchemaVersion),seconds:tn("number"),nanoseconds:tn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{static fromTimestamp(e){return new Ke(e)}static min(){return new Ke(new Nt(0,0))}static max(){return new Ke(new Nt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ru=-1;function UC(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Ke.fromTimestamp(s===1e9?new Nt(n+1,0):new Nt(n,s));return new As(o,Ue.empty(),e)}function BC(i){return new As(i.readTime,i.key,ru)}class As{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new As(Ke.min(),Ue.empty(),ru)}static max(){return new As(Ke.max(),Ue.empty(),ru)}}function FC(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=Ue.comparator(i.documentKey,e.documentKey),n!==0?n:ot(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Po(i){if(i.code!==Ee.FAILED_PRECONDITION||i.message!==HC)throw i;ke("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&He(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new xe(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof xe?n:xe.resolve(n)}catch(n){return xe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):xe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):xe.reject(n)}static resolve(e){return new xe(((n,s)=>{n(e)}))}static reject(e){return new xe(((n,s)=>{s(e)}))}static waitFor(e){return new xe(((n,s)=>{let o=0,u=0,c=!1;e.forEach((d=>{++o,d.next((()=>{++u,c&&u===o&&n()}),(p=>s(p)))})),c=!0,u===o&&n()}))}static or(e){let n=xe.resolve(!1);for(const s of e)n=n.next((o=>o?xe.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new xe(((s,o)=>{const u=e.length,c=new Array(u);let d=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next((v=>{c[g]=v,++d,d===u&&s(c)}),(v=>o(v)))}}))}static doWhile(e,n){return new xe(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function GC(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function zo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}qh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ep=-1;function Gh(i){return i==null}function xh(i){return i===0&&1/i==-1/0}function QC(i){return typeof i=="number"&&Number.isInteger(i)&&!xh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1="";function KC(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=v0(e)),e=YC(i.get(n),e);return v0(e)}function YC(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case U1:n+="";break;default:n+=u}}return n}function v0(i){return i+U1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b0(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function va(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function B1(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e,n){this.comparator=e,this.root=n||vn.EMPTY}insert(e,n){return new zt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,vn.BLACK,null,null))}remove(e){return new zt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wc(this.root,e,this.comparator,!0)}}class Wc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vn{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??vn.RED,this.left=o??vn.EMPTY,this.right=u??vn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new vn(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return vn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return vn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw He(43730,{key:this.key,value:this.value});if(this.right.isRed())throw He(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw He(27949);return e+(this.isRed()?0:1)}}vn.EMPTY=null,vn.RED=!0,vn.BLACK=!1;vn.EMPTY=new class{constructor(){this.size=0}get key(){throw He(57766)}get value(){throw He(16141)}get color(){throw He(16727)}get left(){throw He(29726)}get right(){throw He(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new vn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.comparator=e,this.data=new zt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new w0(this.data.getIterator())}getIteratorFrom(e){return new w0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof an)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new an(this.comparator);return n.data=e,n}}class w0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e){this.fields=e,e.sort(fn.comparator)}static empty(){return new Ar([])}unionWith(e){let n=new an(fn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Ar(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return So(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new F1("Invalid base64 string: "+u):u}})(e);return new dn(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u})(e);return new dn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ot(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dn.EMPTY_BYTE_STRING=new dn("");const XC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Rs(i){if(vt(!!i,39018),typeof i=="string"){let e=0;const n=XC.exec(i);if(vt(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Qt(i.seconds),nanos:Qt(i.nanos)}}function Qt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Cs(i){return typeof i=="string"?dn.fromBase64String(i):dn.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1="server_timestamp",q1="__type__",G1="__previous_value__",Q1="__local_write_time__";function Tp(i){var n,s;return((s=(((n=i==null?void 0:i.mapValue)==null?void 0:n.fields)||{})[q1])==null?void 0:s.stringValue)===H1}function Qh(i){const e=i.mapValue.fields[G1];return Tp(e)?Qh(e):e}function iu(i){const e=Rs(i.mapValue.fields[Q1].timestampValue);return new Nt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e,n,s,o,u,c,d,p,g,v){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v}}const Eh="(default)";class Ro{constructor(e,n){this.projectId=e,this.database=n||Eh}static empty(){return new Ro("","")}get isDefaultDatabase(){return this.database===Eh}isEqual(e){return e instanceof Ro&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1="__type__",$C="__max__",$c={mapValue:{}},Y1="__vector__",Th="value";function Ns(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Tp(i)?4:JC(i)?9007199254740991:ZC(i)?10:11:He(28295,{value:i})}function ti(i,e){if(i===e)return!0;const n=Ns(i);if(n!==Ns(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return iu(i).isEqual(iu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=Rs(o.timestampValue),d=Rs(u.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,u){return Cs(o.bytesValue).isEqual(Cs(u.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,u){return Qt(o.geoPointValue.latitude)===Qt(u.geoPointValue.latitude)&&Qt(o.geoPointValue.longitude)===Qt(u.geoPointValue.longitude)})(i,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Qt(o.integerValue)===Qt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=Qt(o.doubleValue),d=Qt(u.doubleValue);return c===d?xh(c)===xh(d):isNaN(c)&&isNaN(d)}return!1})(i,e);case 9:return So(i.arrayValue.values||[],e.arrayValue.values||[],ti);case 10:case 11:return(function(o,u){const c=o.mapValue.fields||{},d=u.mapValue.fields||{};if(b0(c)!==b0(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!ti(c[p],d[p])))return!1;return!0})(i,e);default:return He(52216,{left:i})}}function su(i,e){return(i.values||[]).find((n=>ti(n,e)))!==void 0}function Co(i,e){if(i===e)return 0;const n=Ns(i),s=Ns(e);if(n!==s)return ot(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return ot(i.booleanValue,e.booleanValue);case 2:return(function(u,c){const d=Qt(u.integerValue||u.doubleValue),p=Qt(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1})(i,e);case 3:return x0(i.timestampValue,e.timestampValue);case 4:return x0(iu(i),iu(e));case 5:return Vm(i.stringValue,e.stringValue);case 6:return(function(u,c){const d=Cs(u),p=Cs(c);return d.compareTo(p)})(i.bytesValue,e.bytesValue);case 7:return(function(u,c){const d=u.split("/"),p=c.split("/");for(let g=0;g<d.length&&g<p.length;g++){const v=ot(d[g],p[g]);if(v!==0)return v}return ot(d.length,p.length)})(i.referenceValue,e.referenceValue);case 8:return(function(u,c){const d=ot(Qt(u.latitude),Qt(c.latitude));return d!==0?d:ot(Qt(u.longitude),Qt(c.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return E0(i.arrayValue,e.arrayValue);case 10:return(function(u,c){var E,x,k,A;const d=u.fields||{},p=c.fields||{},g=(E=d[Th])==null?void 0:E.arrayValue,v=(x=p[Th])==null?void 0:x.arrayValue,b=ot(((k=g==null?void 0:g.values)==null?void 0:k.length)||0,((A=v==null?void 0:v.values)==null?void 0:A.length)||0);return b!==0?b:E0(g,v)})(i.mapValue,e.mapValue);case 11:return(function(u,c){if(u===$c.mapValue&&c===$c.mapValue)return 0;if(u===$c.mapValue)return 1;if(c===$c.mapValue)return-1;const d=u.fields||{},p=Object.keys(d),g=c.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let b=0;b<p.length&&b<v.length;++b){const E=Vm(p[b],v[b]);if(E!==0)return E;const x=Co(d[p[b]],g[v[b]]);if(x!==0)return x}return ot(p.length,v.length)})(i.mapValue,e.mapValue);default:throw He(23264,{he:n})}}function x0(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return ot(i,e);const n=Rs(i),s=Rs(e),o=ot(n.seconds,s.seconds);return o!==0?o:ot(n.nanos,s.nanos)}function E0(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Co(n[o],s[o]);if(u)return u}return ot(n.length,s.length)}function No(i){return Pm(i)}function Pm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const s=Rs(n);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return Cs(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return Ue.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Pm(u);return s+"]"})(i.arrayValue):"mapValue"in i?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const c of s)u?u=!1:o+=",",o+=`${c}:${Pm(n.fields[c])}`;return o+"}"})(i.mapValue):He(61005,{value:i})}function lh(i){switch(Ns(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Qh(i);return e?16+lh(e):16;case 5:return 2*i.stringValue.length;case 6:return Cs(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+lh(u)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return va(s.fields,((u,c)=>{o+=u.length+lh(c)})),o})(i.mapValue);default:throw He(13486,{value:i})}}function zm(i){return!!i&&"integerValue"in i}function Sp(i){return!!i&&"arrayValue"in i}function T0(i){return!!i&&"nullValue"in i}function S0(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function uh(i){return!!i&&"mapValue"in i}function ZC(i){var n,s;return((s=(((n=i==null?void 0:i.mapValue)==null?void 0:n.fields)||{})[K1])==null?void 0:s.stringValue)===Y1}function Wl(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return va(i.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Wl(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Wl(i.arrayValue.values[n]);return e}return{...i}}function JC(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===$C}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e){this.value=e}static empty(){return new cr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!uh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wl(n)}setAll(e){let n=fn.emptyPath(),s={},o=[];e.forEach(((c,d)=>{if(!n.isImmediateParentOf(d)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=d.popLast()}c?s[d.lastSegment()]=Wl(c):o.push(d.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());uh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ti(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];uh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){va(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new cr(Wl(this.value))}}function X1(i){const e=[];return va(i.fields,((n,s)=>{const o=new fn([n]);if(uh(s)){const u=X1(s.mapValue).fields;if(u.length===0)e.push(o);else for(const c of u)e.push(o.child(c))}else e.push(o)})),new Ar(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e,n,s,o,u,c,d){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=c,this.documentState=d}static newInvalidDocument(e){return new En(e,0,Ke.min(),Ke.min(),Ke.min(),cr.empty(),0)}static newFoundDocument(e,n,s,o){return new En(e,1,n,Ke.min(),s,o,0)}static newNoDocument(e,n){return new En(e,2,n,Ke.min(),Ke.min(),cr.empty(),0)}static newUnknownDocument(e,n){return new En(e,3,n,Ke.min(),Ke.min(),cr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=cr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=cr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof En&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new En(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,n){this.position=e,this.inclusive=n}}function A0(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],c=i.position[o];if(u.field.isKeyField()?s=Ue.comparator(Ue.fromName(c.referenceValue),n.key):s=Co(c,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function R0(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!ti(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,n="asc"){this.field=e,this.dir=n}}function eN(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{}class rn extends W1{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new nN(e,n,s):n==="array-contains"?new sN(e,s):n==="in"?new aN(e,s):n==="not-in"?new oN(e,s):n==="array-contains-any"?new lN(e,s):new rn(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new rN(e,s):new iN(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Co(n,this.value)):n!==null&&Ns(this.value)===Ns(n)&&this.matchesComparison(Co(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return He(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ni extends W1{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ni(e,n)}matches(e){return $1(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function $1(i){return i.op==="and"}function Z1(i){return tN(i)&&$1(i)}function tN(i){for(const e of i.filters)if(e instanceof ni)return!1;return!0}function Um(i){if(i instanceof rn)return i.field.canonicalString()+i.op.toString()+No(i.value);if(Z1(i))return i.filters.map((e=>Um(e))).join(",");{const e=i.filters.map((n=>Um(n))).join(",");return`${i.op}(${e})`}}function J1(i,e){return i instanceof rn?(function(s,o){return o instanceof rn&&s.op===o.op&&s.field.isEqual(o.field)&&ti(s.value,o.value)})(i,e):i instanceof ni?(function(s,o){return o instanceof ni&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,c,d)=>u&&J1(c,o.filters[d])),!0):!1})(i,e):void He(19439)}function ew(i){return i instanceof rn?(function(n){return`${n.field.canonicalString()} ${n.op} ${No(n.value)}`})(i):i instanceof ni?(function(n){return n.op.toString()+" {"+n.getFilters().map(ew).join(" ,")+"}"})(i):"Filter"}class nN extends rn{constructor(e,n,s){super(e,n,s),this.key=Ue.fromName(s.referenceValue)}matches(e){const n=Ue.comparator(e.key,this.key);return this.matchesComparison(n)}}class rN extends rn{constructor(e,n){super(e,"in",n),this.keys=tw("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class iN extends rn{constructor(e,n){super(e,"not-in",n),this.keys=tw("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function tw(i,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((s=>Ue.fromName(s.referenceValue)))}class sN extends rn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Sp(n)&&su(n.arrayValue,this.value)}}class aN extends rn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&su(this.value.arrayValue,n)}}class oN extends rn{constructor(e,n){super(e,"not-in",n)}matches(e){if(su(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!su(this.value.arrayValue,n)}}class lN extends rn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Sp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>su(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(e,n=null,s=[],o=[],u=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=c,this.endAt=d,this.Te=null}}function C0(i,e=null,n=[],s=[],o=null,u=null,c=null){return new uN(i,e,n,s,o,u,c)}function Ap(i){const e=Xe(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Um(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Gh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>No(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>No(s))).join(",")),e.Te=n}return e.Te}function Rp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!eN(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!J1(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!R0(i.startAt,e.startAt)&&R0(i.endAt,e.endAt)}function Bm(i){return Ue.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,n=null,s=[],o=[],u=null,c="F",d=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=c,this.startAt=d,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function cN(i,e,n,s,o,u,c,d){return new Kh(i,e,n,s,o,u,c,d)}function Cp(i){return new Kh(i)}function N0(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function hN(i){return i.collectionGroup!==null}function $l(i){const e=Xe(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new an(fn.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(d=d.add(g.field))}))})),d})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Ah(u,s))})),n.has(fn.keyField().canonicalString())||e.Ie.push(new Ah(fn.keyField(),s))}return e.Ie}function Jr(i){const e=Xe(i);return e.Ee||(e.Ee=fN(e,$l(i))),e.Ee}function fN(i,e){if(i.limitType==="F")return C0(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Ah(o.field,u)}));const n=i.endAt?new Sh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Sh(i.startAt.position,i.startAt.inclusive):null;return C0(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function Fm(i,e,n){return new Kh(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Yh(i,e){return Rp(Jr(i),Jr(e))&&i.limitType===e.limitType}function nw(i){return`${Ap(Jr(i))}|lt:${i.limitType}`}function ho(i){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>ew(o))).join(", ")}]`),Gh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>No(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>No(o))).join(",")),`Target(${s})`})(Jr(i))}; limitType=${i.limitType})`}function Xh(i,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Ue.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(i,e)&&(function(s,o){for(const u of $l(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(i,e)&&(function(s,o){return!(s.startAt&&!(function(c,d,p){const g=A0(c,d,p);return c.inclusive?g<=0:g<0})(s.startAt,$l(s),o)||s.endAt&&!(function(c,d,p){const g=A0(c,d,p);return c.inclusive?g>=0:g>0})(s.endAt,$l(s),o))})(i,e)}function dN(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function rw(i){return(e,n)=>{let s=!1;for(const o of $l(i)){const u=mN(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function mN(i,e,n){const s=i.field.isKeyField()?Ue.comparator(e.key,n.key):(function(u,c,d){const p=c.data.field(u),g=d.data.field(u);return p!==null&&g!==null?Co(p,g):He(42886)})(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return He(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){va(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return B1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN=new zt(Ue.comparator);function Mi(){return pN}const iw=new zt(Ue.comparator);function Ql(...i){let e=iw;for(const n of i)e=e.insert(n.key,n);return e}function sw(i){let e=iw;return i.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function ca(){return Zl()}function aw(){return Zl()}function Zl(){return new ba((i=>i.toString()),((i,e)=>i.isEqual(e)))}const gN=new zt(Ue.comparator),yN=new an(Ue.comparator);function lt(...i){let e=yN;for(const n of i)e=e.add(n);return e}const _N=new an(ot);function vN(){return _N}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Np(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xh(e)?"-0":e}}function ow(i){return{integerValue:""+i}}function bN(i,e){return QC(e)?ow(e):Np(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(){this._=void 0}}function wN(i,e,n){return i instanceof Rh?(function(o,u){const c={fields:{[q1]:{stringValue:H1},[Q1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Tp(u)&&(u=Qh(u)),u&&(c.fields[G1]=u),{mapValue:c}})(n,e):i instanceof au?uw(i,e):i instanceof ou?cw(i,e):(function(o,u){const c=lw(o,u),d=I0(c)+I0(o.Ae);return zm(c)&&zm(o.Ae)?ow(d):Np(o.serializer,d)})(i,e)}function xN(i,e,n){return i instanceof au?uw(i,e):i instanceof ou?cw(i,e):n}function lw(i,e){return i instanceof Ch?(function(s){return zm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Rh extends Wh{}class au extends Wh{constructor(e){super(),this.elements=e}}function uw(i,e){const n=hw(e);for(const s of i.elements)n.some((o=>ti(o,s)))||n.push(s);return{arrayValue:{values:n}}}class ou extends Wh{constructor(e){super(),this.elements=e}}function cw(i,e){let n=hw(e);for(const s of i.elements)n=n.filter((o=>!ti(o,s)));return{arrayValue:{values:n}}}class Ch extends Wh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function I0(i){return Qt(i.integerValue||i.doubleValue)}function hw(i){return Sp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function EN(i,e){return i.field.isEqual(e.field)&&(function(s,o){return s instanceof au&&o instanceof au||s instanceof ou&&o instanceof ou?So(s.elements,o.elements,ti):s instanceof Ch&&o instanceof Ch?ti(s.Ae,o.Ae):s instanceof Rh&&o instanceof Rh})(i.transform,e.transform)}class TN{constructor(e,n){this.version=e,this.transformResults=n}}class Ii{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ii}static exists(e){return new Ii(void 0,e)}static updateTime(e){return new Ii(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ch(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class $h{}function fw(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new mw(i.key,Ii.none()):new _u(i.key,i.data,Ii.none());{const n=i.data,s=cr.empty();let o=new an(fn.comparator);for(let u of e.fields)if(!o.has(u)){let c=n.field(u);c===null&&u.length>1&&(u=u.popLast(),c=n.field(u)),c===null?s.delete(u):s.set(u,c),o=o.add(u)}return new wa(i.key,s,new Ar(o.toArray()),Ii.none())}}function SN(i,e,n){i instanceof _u?(function(o,u,c){const d=o.value.clone(),p=D0(o.fieldTransforms,u,c.transformResults);d.setAll(p),u.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(i,e,n):i instanceof wa?(function(o,u,c){if(!ch(o.precondition,u))return void u.convertToUnknownDocument(c.version);const d=D0(o.fieldTransforms,u,c.transformResults),p=u.data;p.setAll(dw(o)),p.setAll(d),u.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(i,e,n):(function(o,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function Jl(i,e,n,s){return i instanceof _u?(function(u,c,d,p){if(!ch(u.precondition,c))return d;const g=u.value.clone(),v=O0(u.fieldTransforms,p,c);return g.setAll(v),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(i,e,n,s):i instanceof wa?(function(u,c,d,p){if(!ch(u.precondition,c))return d;const g=O0(u.fieldTransforms,p,c),v=c.data;return v.setAll(dw(u)),v.setAll(g),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((b=>b.field)))})(i,e,n,s):(function(u,c,d){return ch(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(i,e,n)}function AN(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=lw(s.transform,o||null);u!=null&&(n===null&&(n=cr.empty()),n.set(s.field,u))}return n||null}function k0(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&So(s,o,((u,c)=>EN(u,c)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class _u extends $h{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class wa extends $h{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function dw(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}})),e}function D0(i,e,n){const s=new Map;vt(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let o=0;o<n.length;o++){const u=i[o],c=u.transform,d=e.data.field(u.field);s.set(u.field,xN(c,d,n[o]))}return s}function O0(i,e,n){const s=new Map;for(const o of i){const u=o.transform,c=n.data.field(o.field);s.set(o.field,wN(u,c,e))}return s}class mw extends $h{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class RN extends $h{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&SN(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Jl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Jl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=aw();return this.mutations.forEach((o=>{const u=e.get(o.key),c=u.overlayedDocument;let d=this.applyToLocalView(c,u.mutatedFields);d=n.has(o.key)?null:d;const p=fw(c,d);p!==null&&s.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(Ke.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),lt())}isEqual(e){return this.batchId===e.batchId&&So(this.mutations,e.mutations,((n,s)=>k0(n,s)))&&So(this.baseMutations,e.baseMutations,((n,s)=>k0(n,s)))}}class Ip{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){vt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return gN})();const u=e.mutations;for(let c=0;c<u.length;c++)o=o.insert(u[c].key,s[c].version);return new Ip(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var en,ht;function kN(i){switch(i){case Ee.OK:return He(64938);case Ee.CANCELLED:case Ee.UNKNOWN:case Ee.DEADLINE_EXCEEDED:case Ee.RESOURCE_EXHAUSTED:case Ee.INTERNAL:case Ee.UNAVAILABLE:case Ee.UNAUTHENTICATED:return!1;case Ee.INVALID_ARGUMENT:case Ee.NOT_FOUND:case Ee.ALREADY_EXISTS:case Ee.PERMISSION_DENIED:case Ee.FAILED_PRECONDITION:case Ee.ABORTED:case Ee.OUT_OF_RANGE:case Ee.UNIMPLEMENTED:case Ee.DATA_LOSS:return!0;default:return He(15467,{code:i})}}function pw(i){if(i===void 0)return ji("GRPC error has no .code"),Ee.UNKNOWN;switch(i){case en.OK:return Ee.OK;case en.CANCELLED:return Ee.CANCELLED;case en.UNKNOWN:return Ee.UNKNOWN;case en.DEADLINE_EXCEEDED:return Ee.DEADLINE_EXCEEDED;case en.RESOURCE_EXHAUSTED:return Ee.RESOURCE_EXHAUSTED;case en.INTERNAL:return Ee.INTERNAL;case en.UNAVAILABLE:return Ee.UNAVAILABLE;case en.UNAUTHENTICATED:return Ee.UNAUTHENTICATED;case en.INVALID_ARGUMENT:return Ee.INVALID_ARGUMENT;case en.NOT_FOUND:return Ee.NOT_FOUND;case en.ALREADY_EXISTS:return Ee.ALREADY_EXISTS;case en.PERMISSION_DENIED:return Ee.PERMISSION_DENIED;case en.FAILED_PRECONDITION:return Ee.FAILED_PRECONDITION;case en.ABORTED:return Ee.ABORTED;case en.OUT_OF_RANGE:return Ee.OUT_OF_RANGE;case en.UNIMPLEMENTED:return Ee.UNIMPLEMENTED;case en.DATA_LOSS:return Ee.DATA_LOSS;default:return He(39323,{code:i})}}(ht=en||(en={}))[ht.OK=0]="OK",ht[ht.CANCELLED=1]="CANCELLED",ht[ht.UNKNOWN=2]="UNKNOWN",ht[ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ht[ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ht[ht.NOT_FOUND=5]="NOT_FOUND",ht[ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",ht[ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",ht[ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",ht[ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ht[ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ht[ht.ABORTED=10]="ABORTED",ht[ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",ht[ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",ht[ht.INTERNAL=13]="INTERNAL",ht[ht.UNAVAILABLE=14]="UNAVAILABLE",ht[ht.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON=new xs([4294967295,4294967295],0);function j0(i){const e=DN().encode(i),n=new N1;return n.update(e),new Uint8Array(n.digest())}function M0(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new xs([n,s],0),new xs([o,u],0)]}class kp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Kl(`Invalid padding: ${n}`);if(s<0)throw new Kl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Kl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Kl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=xs.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(xs.fromNumber(s)));return o.compare(ON)===1&&(o=new xs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=j0(e),[s,o]=M0(n);for(let u=0;u<this.hashCount;u++){const c=this.ye(s,o,u);if(!this.we(c))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),c=new kp(u,o,n);return s.forEach((d=>c.insert(d))),c}insert(e){if(this.ge===0)return;const n=j0(e),[s,o]=M0(n);for(let u=0;u<this.hashCount;u++){const c=this.ye(s,o,u);this.Se(c)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,vu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Zh(Ke.min(),o,new zt(ot),Mi(),lt())}}class vu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new vu(s,n,lt(),lt(),lt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class gw{constructor(e,n){this.targetId=e,this.Ce=n}}class yw{constructor(e,n,s=dn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class L0{constructor(){this.ve=0,this.Fe=V0(),this.Me=dn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=lt(),n=lt(),s=lt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:He(38017,{changeType:u})}})),new vu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=V0()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,vt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class jN{constructor(e){this.Ge=e,this.ze=new Map,this.je=Mi(),this.Je=Zc(),this.He=Zc(),this.Ye=new zt(ot)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:He(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Bm(u))if(s===0){const c=new Ue(u.path);this.et(n,c,En.newNoDocument(c,Ke.min()))}else vt(s===1,20013,{expectedCount:s});else{const c=this._t(n);if(c!==s){const d=this.ut(e),p=d?this.ct(d,e,c):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let c,d;try{c=Cs(s).toUint8Array()}catch(p){if(p instanceof F1)return pa("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new kp(c,o,u)}catch(p){return pa(p instanceof Kl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.ge===0?null:d}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;e.mightContain(d)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,c)=>{const d=this.ot(c);if(d){if(u.current&&Bm(d.target)){const p=new Ue(d.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,En.newNoDocument(p,e))}u.Be&&(n.set(c,u.ke()),u.qe())}}));let s=lt();this.He.forEach(((u,c)=>{let d=!0;c.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(s=s.add(u))})),this.je.forEach(((u,c)=>c.setReadTime(e)));const o=new Zh(e,n,this.Ye,this.je,s);return this.je=Mi(),this.Je=Zc(),this.He=Zc(),this.Ye=new zt(ot),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new L0,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new an(ot),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new an(ot),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ke("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new L0),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Zc(){return new zt(Ue.comparator)}function V0(){return new zt(Ue.comparator)}const MN={asc:"ASCENDING",desc:"DESCENDING"},LN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},VN={and:"AND",or:"OR"};class PN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Hm(i,e){return i.useProto3Json||Gh(e)?e:{value:e}}function Nh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _w(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function zN(i,e){return Nh(i,e.toTimestamp())}function ei(i){return vt(!!i,49232),Ke.fromTimestamp((function(n){const s=Rs(n);return new Nt(s.seconds,s.nanos)})(i))}function Dp(i,e){return qm(i,e).canonicalString()}function qm(i,e){const n=(function(o){return new Pt(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?n:n.child(e)}function vw(i){const e=Pt.fromString(i);return vt(Tw(e),10190,{key:e.toString()}),e}function Gm(i,e){return Dp(i.databaseId,e.path)}function bm(i,e){const n=vw(e);if(n.get(1)!==i.databaseId.projectId)throw new Ve(Ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new Ve(Ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new Ue(ww(n))}function bw(i,e){return Dp(i.databaseId,e)}function UN(i){const e=vw(i);return e.length===4?Pt.emptyPath():ww(e)}function Qm(i){return new Pt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function ww(i){return vt(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function P0(i,e,n){return{name:Gm(i,e),fields:n.value.mapValue.fields}}function BN(i,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:He(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,v){return g.useProto3Json?(vt(v===void 0||typeof v=="string",58123),dn.fromBase64String(v||"")):(vt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),dn.fromUint8Array(v||new Uint8Array))})(i,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(g){const v=g.code===void 0?Ee.UNKNOWN:pw(g.code);return new Ve(v,g.message||"")})(c);n=new yw(s,o,u,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=bm(i,s.document.name),u=ei(s.document.updateTime),c=s.document.createTime?ei(s.document.createTime):Ke.min(),d=new cr({mapValue:{fields:s.document.fields}}),p=En.newFoundDocument(o,u,c,d),g=s.targetIds||[],v=s.removedTargetIds||[];n=new hh(g,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=bm(i,s.document),u=s.readTime?ei(s.readTime):Ke.min(),c=En.newNoDocument(o,u),d=s.removedTargetIds||[];n=new hh([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=bm(i,s.document),u=s.removedTargetIds||[];n=new hh([],u,o,null)}else{if(!("filter"in e))return He(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,c=new IN(o,u),d=s.targetId;n=new gw(d,c)}}return n}function FN(i,e){let n;if(e instanceof _u)n={update:P0(i,e.key,e.value)};else if(e instanceof mw)n={delete:Gm(i,e.key)};else if(e instanceof wa)n={update:P0(i,e.key,e.data),updateMask:$N(e.fieldMask)};else{if(!(e instanceof RN))return He(16599,{Vt:e.type});n={verify:Gm(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,c){const d=c.transform;if(d instanceof Rh)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof au)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof ou)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Ch)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw He(20930,{transform:c.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:zN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:He(27497)})(i,e.precondition)),n}function HN(i,e){return i&&i.length>0?(vt(e!==void 0,14353),i.map((n=>(function(o,u){let c=o.updateTime?ei(o.updateTime):ei(u);return c.isEqual(Ke.min())&&(c=ei(u)),new TN(c,o.transformResults||[])})(n,e)))):[]}function qN(i,e){return{documents:[bw(i,e.path)]}}function GN(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=bw(i,o);const u=(function(g){if(g.length!==0)return Ew(ni.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const c=(function(g){if(g.length!==0)return g.map((v=>(function(E){return{field:fo(E.field),direction:YN(E.dir)}})(v)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const d=Hm(i,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function QN(i){let e=UN(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){vt(s===1,65062);const v=n.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let u=[];n.where&&(u=(function(b){const E=xw(b);return E instanceof ni&&Z1(E)?E.getFilters():[E]})(n.where));let c=[];n.orderBy&&(c=(function(b){return b.map((E=>(function(k){return new Ah(mo(k.field),(function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(k.direction))})(E)))})(n.orderBy));let d=null;n.limit&&(d=(function(b){let E;return E=typeof b=="object"?b.value:b,Gh(E)?null:E})(n.limit));let p=null;n.startAt&&(p=(function(b){const E=!!b.before,x=b.values||[];return new Sh(x,E)})(n.startAt));let g=null;return n.endAt&&(g=(function(b){const E=!b.before,x=b.values||[];return new Sh(x,E)})(n.endAt)),cN(e,o,c,u,d,"F",p,g)}function KN(i,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return He(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function xw(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=mo(n.unaryFilter.field);return rn.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=mo(n.unaryFilter.field);return rn.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=mo(n.unaryFilter.field);return rn.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=mo(n.unaryFilter.field);return rn.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return He(61313);default:return He(60726)}})(i):i.fieldFilter!==void 0?(function(n){return rn.create(mo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return He(58110);default:return He(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return ni.create(n.compositeFilter.filters.map((s=>xw(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return He(1026)}})(n.compositeFilter.op))})(i):He(30097,{filter:i})}function YN(i){return MN[i]}function XN(i){return LN[i]}function WN(i){return VN[i]}function fo(i){return{fieldPath:i.canonicalString()}}function mo(i){return fn.fromServerFormat(i.fieldPath)}function Ew(i){return i instanceof rn?(function(n){if(n.op==="=="){if(S0(n.value))return{unaryFilter:{field:fo(n.field),op:"IS_NAN"}};if(T0(n.value))return{unaryFilter:{field:fo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(S0(n.value))return{unaryFilter:{field:fo(n.field),op:"IS_NOT_NAN"}};if(T0(n.value))return{unaryFilter:{field:fo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fo(n.field),op:XN(n.op),value:n.value}}})(i):i instanceof ni?(function(n){const s=n.getFilters().map((o=>Ew(o)));return s.length===1?s[0]:{compositeFilter:{op:WN(n.op),filters:s}}})(i):He(54877,{filter:i})}function $N(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Tw(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e,n,s,o,u=Ke.min(),c=Ke.min(),d=dn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new ys(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ys(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ys(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ys(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(e){this.yt=e}}function JN(i){const e=QN({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Fm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(){this.Cn=new t4}addToCollectionParentIndex(e,n){return this.Cn.add(n),xe.resolve()}getCollectionParents(e,n){return xe.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return xe.resolve()}deleteFieldIndex(e,n){return xe.resolve()}deleteAllFieldIndexes(e){return xe.resolve()}createTargetIndexes(e,n){return xe.resolve()}getDocumentsMatchingTarget(e,n){return xe.resolve(null)}getIndexType(e,n){return xe.resolve(0)}getFieldIndexes(e,n){return xe.resolve([])}getNextCollectionGroupToUpdate(e){return xe.resolve(null)}getMinOffset(e,n){return xe.resolve(As.min())}getMinOffsetFromCollectionGroup(e,n){return xe.resolve(As.min())}updateCollectionGroup(e,n,s){return xe.resolve()}updateIndexEntries(e,n){return xe.resolve()}}class t4{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new an(Pt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new an(Pt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Sw=41943040;class Mn{static withCacheSize(e){return new Mn(e,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mn.DEFAULT_COLLECTION_PERCENTILE=10,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mn.DEFAULT=new Mn(Sw,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mn.DISABLED=new Mn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Io(0)}static cr(){return new Io(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0="LruGarbageCollector",n4=1048576;function B0([i,e],[n,s]){const o=ot(i,n);return o===0?ot(e,s):o}class r4{constructor(e){this.Ir=e,this.buffer=new an(B0),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();B0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class i4{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ke(U0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){zo(n)?ke(U0,"Ignoring IndexedDB error during garbage collection: ",n):await Po(n)}await this.Vr(3e5)}))}}class s4{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return xe.resolve(qh.ce);const s=new r4(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ke("LruGarbageCollector","Garbage collection skipped; disabled"),xe.resolve(z0)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ke("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),z0):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,c,d,p,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(ke("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,c=Date.now(),this.nthSequenceNumber(e,o)))).next((b=>(s=b,d=Date.now(),this.removeTargets(e,s,n)))).next((b=>(u=b,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((b=>(g=Date.now(),co()<=at.DEBUG&&ke("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${o} in `+(d-c)+`ms
	Removed ${u} targets in `+(p-d)+`ms
	Removed ${b} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),xe.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b}))))}}function a4(i,e){return new s4(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(){this.changes=new ba((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,En.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?xe.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Jl(s.mutation,o,Ar.empty(),Nt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,lt()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=lt()){const o=ca();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let c=Ql();return u.forEach(((d,p)=>{c=c.insert(d,p.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const s=ca();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,lt())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((c,d)=>{n.set(c,d)}))}))}computeViews(e,n,s,o){let u=Mi();const c=Zl(),d=(function(){return Zl()})();return n.forEach(((p,g)=>{const v=s.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof wa)?u=u.insert(g.key,g):v!==void 0?(c.set(g.key,v.mutation.getFieldMask()),Jl(v.mutation,g,v.mutation.getFieldMask(),Nt.now())):c.set(g.key,Ar.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,v)=>c.set(g,v))),n.forEach(((g,v)=>d.set(g,new l4(v,c.get(g)??null)))),d)))}recalculateAndSaveOverlays(e,n){const s=Zl();let o=new zt(((c,d)=>c-d)),u=lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const d of c)d.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let v=s.get(p)||Ar.empty();v=d.applyToLocalView(g,v),s.set(p,v);const b=(o.get(d.batchId)||lt()).add(p);o=o.insert(d.batchId,b)}))})).next((()=>{const c=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,v=p.value,b=aw();v.forEach((E=>{if(!u.has(E)){const x=fw(n.get(E),s.get(E));x!==null&&b.set(E,x),u=u.add(E)}})),c.push(this.documentOverlayCache.saveOverlays(e,g,b))}return xe.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(c){return Ue.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):hN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const c=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):xe.resolve(ca());let d=ru,p=u;return c.next((g=>xe.forEach(g,((v,b)=>(d<b.largestBatchId&&(d=b.largestBatchId),u.get(v)?xe.resolve():this.remoteDocumentCache.getEntry(e,v).next((E=>{p=p.insert(v,E)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,lt()))).next((v=>({batchId:d,changes:sw(v)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ue(n)).next((s=>{let o=Ql();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let c=Ql();return this.indexManager.getCollectionParents(e,u).next((d=>xe.forEach(d,(p=>{const g=(function(b,E){return new Kh(E,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((v=>{v.forEach(((b,E)=>{c=c.insert(b,E)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((c=>{u.forEach(((p,g)=>{const v=g.getKey();c.get(v)===null&&(c=c.insert(v,En.newInvalidDocument(v)))}));let d=Ql();return c.forEach(((p,g)=>{const v=u.get(p);v!==void 0&&Jl(v.mutation,g,Ar.empty(),Nt.now()),Xh(n,g)&&(d=d.insert(p,g))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return xe.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:ei(o.createTime)}})(n)),xe.resolve()}getNamedQuery(e,n){return xe.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:JN(o.bundledQuery),readTime:ei(o.readTime)}})(n)),xe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(){this.overlays=new zt(Ue.comparator),this.qr=new Map}getOverlay(e,n){return xe.resolve(this.overlays.get(n))}getOverlays(e,n){const s=ca();return xe.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),xe.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),xe.resolve()}getOverlaysForCollection(e,n,s){const o=ca(),u=n.length+1,c=new Ue(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return xe.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new zt(((g,v)=>g-v));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let v=u.get(g.largestBatchId);v===null&&(v=ca(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const d=ca(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,v)=>d.set(g,v))),!(d.size()>=o)););return xe.resolve(d)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new NN(n,s));let u=this.qr.get(n);u===void 0&&(u=lt(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(){this.sessionToken=dn.EMPTY_BYTE_STRING}getSessionToken(e){return xe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,xe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(){this.Qr=new an(cn.$r),this.Ur=new an(cn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new cn(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new cn(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new Ue(new Pt([])),s=new cn(n,e),o=new cn(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(c=>{this.Gr(c),u.push(c.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ue(new Pt([])),s=new cn(n,e),o=new cn(n,e+1);let u=lt();return this.Ur.forEachInRange([s,o],(c=>{u=u.add(c.key)})),u}containsKey(e){const n=new cn(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class cn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ue.comparator(e.key,n.key)||ot(e.Yr,n.Yr)}static Kr(e,n){return ot(e.Yr,n.Yr)||Ue.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new an(cn.$r)}checkEmpty(e){return xe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new CN(u,n,s,o);this.mutationQueue.push(c);for(const d of o)this.Zr=this.Zr.add(new cn(d.key,u)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return xe.resolve(c)}lookupMutationBatch(e,n){return xe.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return xe.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return xe.resolve(this.mutationQueue.length===0?Ep:this.tr-1)}getAllMutationBatches(e){return xe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new cn(n,0),o=new cn(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(c=>{const d=this.Xr(c.Yr);u.push(d)})),xe.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new an(ot);return n.forEach((o=>{const u=new cn(o,0),c=new cn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,c],(d=>{s=s.add(d.Yr)}))})),xe.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;Ue.isDocumentKey(u)||(u=u.child(""));const c=new cn(new Ue(u),0);let d=new an(ot);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(d=d.add(p.Yr)),!0)}),c),xe.resolve(this.ti(d))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){vt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return xe.forEach(n.mutations,(o=>{const u=new cn(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new cn(n,0),o=this.Zr.firstAfterOrEqual(s);return xe.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,xe.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(e){this.ri=e,this.docs=(function(){return new zt(Ue.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,c=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return xe.resolve(s?s.document.mutableCopy():En.newInvalidDocument(n))}getEntries(e,n){let s=Mi();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():En.newInvalidDocument(o))})),xe.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=Mi();const c=n.path,d=new Ue(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||FC(BC(v),s)<=0||(o.has(v.key)||Xh(n,v))&&(u=u.insert(v.key,v.mutableCopy()))}return xe.resolve(u)}getAllFromCollectionGroup(e,n,s,o){He(9500)}ii(e,n){return xe.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new p4(this)}getSize(e){return xe.resolve(this.size)}}class p4 extends o4{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),xe.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(e){this.persistence=e,this.si=new ba((n=>Ap(n)),Rp),this.lastRemoteSnapshotVersion=Ke.min(),this.highestTargetId=0,this.oi=0,this._i=new Op,this.targetCount=0,this.ai=Io.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),xe.resolve()}getLastRemoteSnapshotVersion(e){return xe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return xe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),xe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),xe.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Io(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,xe.resolve()}updateTargetData(e,n){return this.Pr(n),xe.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,xe.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=n&&s.get(d.targetId)===null&&(this.si.delete(c),u.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)})),xe.waitFor(u).next((()=>o))}getTargetCount(e){return xe.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return xe.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),xe.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((c=>{u.push(o.markPotentiallyOrphaned(e,c))})),xe.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),xe.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return xe.resolve(s)}containsKey(e,n){return xe.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(e,n){this.ui={},this.overlays={},this.ci=new qh(0),this.li=!1,this.li=!0,this.hi=new f4,this.referenceDelegate=e(this),this.Pi=new g4(this),this.indexManager=new e4,this.remoteDocumentCache=(function(o){return new m4(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new ZN(n),this.Ii=new c4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new h4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new d4(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){ke("MemoryPersistence","Starting transaction:",e);const o=new y4(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return xe.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class y4 extends qC{constructor(e){super(),this.currentSequenceNumber=e}}class jp{constructor(e){this.persistence=e,this.Ri=new Op,this.Vi=null}static mi(e){return new jp(e)}get fi(){if(this.Vi)return this.Vi;throw He(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),xe.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),xe.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),xe.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return xe.forEach(this.fi,(s=>{const o=Ue.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,Ke.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return xe.or([()=>xe.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Ih{constructor(e,n){this.persistence=e,this.pi=new ba((s=>KC(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=a4(this,n)}static mi(e,n){return new Ih(e,n)}Ei(){}di(e){return xe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return xe.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?xe.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(c=>this.br(e,c,n).next((d=>{d||(s++,u.removeEntry(c,Ke.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),xe.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),xe.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),xe.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),xe.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=lh(e.data.value)),n}br(e,n,s){return xe.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return xe.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=lt(),o=lt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Mp(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return aS()?8:GC(Tn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((c=>{u.result=c})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((c=>{u.result=c}))})).next((()=>{if(u.result)return;const c=new _4;return this.Ss(e,n,c).next((d=>{if(u.result=d,this.Vs)return this.bs(e,n,c,d.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(co()<=at.DEBUG&&ke("QueryEngine","SDK will not create cache indexes for query:",ho(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),xe.resolve()):(co()<=at.DEBUG&&ke("QueryEngine","Query:",ho(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(co()<=at.DEBUG&&ke("QueryEngine","The SDK decides to create cache indexes for query:",ho(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Jr(n))):xe.resolve())}ys(e,n){if(N0(n))return xe.resolve(null);let s=Jr(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Fm(n,null,"F"),s=Jr(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const c=lt(...u);return this.ps.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.Ds(n,d);return this.Cs(n,g,c,p.readTime)?this.ys(e,Fm(n,null,"F")):this.vs(e,g,n,p)}))))})))))}ws(e,n,s,o){return N0(n)||o.isEqual(Ke.min())?xe.resolve(null):this.ps.getDocuments(e,s).next((u=>{const c=this.Ds(n,u);return this.Cs(n,c,s,o)?xe.resolve(null):(co()<=at.DEBUG&&ke("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ho(n)),this.vs(e,c,n,UC(o,ru)).next((d=>d)))}))}Ds(e,n){let s=new an(rw(e));return n.forEach(((o,u)=>{Xh(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return co()<=at.DEBUG&&ke("QueryEngine","Using full collection scan to execute query:",ho(n)),this.ps.getDocumentsMatchingQuery(e,n,As.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((c=>{u=u.insert(c.key,c)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lp="LocalStore",b4=3e8;class w4{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new zt(ot),this.xs=new ba((u=>Ap(u)),Rp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new u4(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function x4(i,e,n,s){return new w4(i,e,n,s)}async function Rw(i,e){const n=Xe(i);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const c=[],d=[];let p=lt();for(const g of o){c.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of u){d.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:d})))}))}))}function E4(i,e){const n=Xe(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,p,g,v){const b=g.batch,E=b.keys();let x=xe.resolve();return E.forEach((k=>{x=x.next((()=>v.getEntry(p,k))).next((A=>{const C=g.docVersions.get(k);vt(C!==null,48541),A.version.compareTo(C)<0&&(b.applyToRemoteDocument(A,g),A.isValidDocument()&&(A.setReadTime(g.commitVersion),v.addEntry(A)))}))})),x.next((()=>d.mutationQueue.removeMutationBatch(p,b)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(d){let p=lt();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function Cw(i){const e=Xe(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function T4(i,e){const n=Xe(i),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const d=[];e.targetChanges.forEach(((v,b)=>{const E=o.get(b);if(!E)return;d.push(n.Pi.removeMatchingKeys(u,v.removedDocuments,b).next((()=>n.Pi.addMatchingKeys(u,v.addedDocuments,b))));let x=E.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?x=x.withResumeToken(dn.EMPTY_BYTE_STRING,Ke.min()).withLastLimboFreeSnapshotVersion(Ke.min()):v.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(v.resumeToken,s)),o=o.insert(b,x),(function(A,C,I){return A.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=b4?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0})(E,x,v)&&d.push(n.Pi.updateTargetData(u,x))}));let p=Mi(),g=lt();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(u,v))})),d.push(S4(u,c,e.documentUpdates).next((v=>{p=v.ks,g=v.qs}))),!s.isEqual(Ke.min())){const v=n.Pi.getLastRemoteSnapshotVersion(u).next((b=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));d.push(v)}return xe.waitFor(d).next((()=>c.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function S4(i,e,n){let s=lt(),o=lt();return n.forEach((u=>s=s.add(u))),e.getEntries(i,s).next((u=>{let c=Mi();return n.forEach(((d,p)=>{const g=u.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(Ke.min())?(e.removeEntry(d,p.readTime),c=c.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),c=c.insert(d,p)):ke(Lp,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)})),{ks:c,qs:o}}))}function A4(i,e){const n=Xe(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Ep),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function R4(i,e){const n=Xe(i);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,xe.resolve(o)):n.Pi.allocateTargetId(s).next((c=>(o=new ys(e,c,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Km(i,e,n){const s=Xe(i),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(c=>s.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!zo(c))throw c;ke(Lp,`Failed to update sequence numbers for target ${e}: ${c}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function F0(i,e,n){const s=Xe(i);let o=Ke.min(),u=lt();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,g,v){const b=Xe(p),E=b.xs.get(v);return E!==void 0?xe.resolve(b.Ms.get(E)):b.Pi.getTargetData(g,v)})(s,c,Jr(e)).next((d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,d.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(c,e,n?o:Ke.min(),n?u:lt()))).next((d=>(C4(s,dN(e),d),{documents:d,Qs:u})))))}function C4(i,e,n){let s=i.Os.get(e)||Ke.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),i.Os.set(e,s)}class H0{constructor(){this.activeTargetIds=vN()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class N4{constructor(){this.Mo=new H0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new H0,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0="ConnectivityMonitor";class G0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ke(q0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ke(q0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jc=null;function Ym(){return Jc===null?Jc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Jc++,"0x"+Jc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wm="RestConnection",k4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class D4{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Eh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const c=Ym(),d=this.zo(e,n.toUriEncodedString());ke(wm,`Sending RPC '${e}' ${c}:`,d,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(d),v=Mo(g);return this.Jo(e,d,p,s,v).then((b=>(ke(wm,`Received RPC '${e}' ${c}: `,b),b)),(b=>{throw pa(wm,`RPC '${e}' ${c} failed with error: `,b,"url: ",d,"request:",s),b}))}Ho(e,n,s,o,u,c){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Vo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=k4[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wn="WebChannelConnection";class j4 extends D4{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const c=Ym();return new Promise(((d,p)=>{const g=new I1;g.setWithCredentials(!0),g.listenOnce(k1.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case oh.NO_ERROR:const b=g.getResponseJson();ke(wn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(b)),d(b);break;case oh.TIMEOUT:ke(wn,`RPC '${e}' ${c} timed out`),p(new Ve(Ee.DEADLINE_EXCEEDED,"Request time out"));break;case oh.HTTP_ERROR:const E=g.getStatus();if(ke(wn,`RPC '${e}' ${c} failed with status:`,E,"response text:",g.getResponseText()),E>0){let x=g.getResponseJson();Array.isArray(x)&&(x=x[0]);const k=x==null?void 0:x.error;if(k&&k.status&&k.message){const A=(function(I){const P=I.toLowerCase().replace(/_/g,"-");return Object.values(Ee).indexOf(P)>=0?P:Ee.UNKNOWN})(k.status);p(new Ve(A,k.message))}else p(new Ve(Ee.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new Ve(Ee.UNAVAILABLE,"Connection failed."));break;default:He(9055,{l_:e,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ke(wn,`RPC '${e}' ${c} completed.`)}}));const v=JSON.stringify(o);ke(wn,`RPC '${e}' ${c} sending request:`,o),g.send(n,"POST",v,s,15)}))}T_(e,n,s){const o=Ym(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=j1(),d=O1(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const v=u.join("");ke(wn,`Creating RPC '${e}' stream ${o}: ${v}`,p);const b=c.createWebChannel(v,p);this.I_(b);let E=!1,x=!1;const k=new O4({Yo:C=>{x?ke(wn,`Not sending because RPC '${e}' stream ${o} is closed:`,C):(E||(ke(wn,`Opening RPC '${e}' stream ${o} transport.`),b.open(),E=!0),ke(wn,`RPC '${e}' stream ${o} sending:`,C),b.send(C))},Zo:()=>b.close()}),A=(C,I,P)=>{C.listen(I,(z=>{try{P(z)}catch(K){setTimeout((()=>{throw K}),0)}}))};return A(b,Gl.EventType.OPEN,(()=>{x||(ke(wn,`RPC '${e}' stream ${o} transport opened.`),k.o_())})),A(b,Gl.EventType.CLOSE,(()=>{x||(x=!0,ke(wn,`RPC '${e}' stream ${o} transport closed`),k.a_(),this.E_(b))})),A(b,Gl.EventType.ERROR,(C=>{x||(x=!0,pa(wn,`RPC '${e}' stream ${o} transport errored. Name:`,C.name,"Message:",C.message),k.a_(new Ve(Ee.UNAVAILABLE,"The operation could not be completed")))})),A(b,Gl.EventType.MESSAGE,(C=>{var I;if(!x){const P=C.data[0];vt(!!P,16349);const z=P,K=(z==null?void 0:z.error)||((I=z[0])==null?void 0:I.error);if(K){ke(wn,`RPC '${e}' stream ${o} received error:`,K);const X=K.status;let ae=(function(O){const H=en[O];if(H!==void 0)return pw(H)})(X),j=K.message;ae===void 0&&(ae=Ee.INTERNAL,j="Unknown error status: "+X+" with message "+K.message),x=!0,k.a_(new Ve(ae,j)),b.close()}else ke(wn,`RPC '${e}' stream ${o} received:`,P),k.u_(P)}})),A(d,D1.STAT_EVENT,(C=>{C.stat===Lm.PROXY?ke(wn,`RPC '${e}' stream ${o} detected buffering proxy`):C.stat===Lm.NOPROXY&&ke(wn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{k.__()}),0),k}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function xm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jh(i){return new PN(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ke("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0="PersistentStream";class Iw{constructor(e,n,s,o,u,c,d,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Nw(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Ee.RESOURCE_EXHAUSTED?(ji(n.toString()),ji("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new Ve(Ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ke(Q0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ke(Q0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class M4 extends Iw{constructor(e,n,s,o,u,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,c),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=BN(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Ke.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?Ke.min():c.readTime?ei(c.readTime):Ke.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Qm(this.serializer),n.addTarget=(function(u,c){let d;const p=c.target;if(d=Bm(p)?{documents:qN(u,p)}:{query:GN(u,p).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=_w(u,c.resumeToken);const g=Hm(u,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(Ke.min())>0){d.readTime=Nh(u,c.snapshotVersion.toTimestamp());const g=Hm(u,c.expectedCount);g!==null&&(d.expectedCount=g)}return d})(this.serializer,e);const s=KN(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Qm(this.serializer),n.removeTarget=e,this.q_(n)}}class L4 extends Iw{constructor(e,n,s,o,u,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,c),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return vt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,vt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){vt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=HN(e.writeResults,e.commitTime),s=ei(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Qm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>FN(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{}class P4 extends V4{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new Ve(Ee.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.Go(e,qm(n,s),o,u,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ve(Ee.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(e,qm(n,s),o,c,d,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ve(Ee.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class z4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ji(n),this.aa=!1):ke("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga="RemoteStore";class U4{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((c=>{s.enqueueAndForget((async()=>{xa(this)&&(ke(ga,"Restarting streams for network reachability change."),await(async function(p){const g=Xe(p);g.Ea.add(4),await bu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await ef(g)})(this))}))})),this.Ra=new z4(s,o)}}async function ef(i){if(xa(i))for(const e of i.da)await e(!0)}async function bu(i){for(const e of i.da)await e(!1)}function kw(i,e){const n=Xe(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Up(n)?zp(n):Uo(n).O_()&&Pp(n,e))}function Vp(i,e){const n=Xe(i),s=Uo(n);n.Ia.delete(e),s.O_()&&Dw(n,e),n.Ia.size===0&&(s.O_()?s.L_():xa(n)&&n.Ra.set("Unknown"))}function Pp(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ke.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Uo(i).Y_(e)}function Dw(i,e){i.Va.Ue(e),Uo(i).Z_(e)}function zp(i){i.Va=new jN({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),Uo(i).start(),i.Ra.ua()}function Up(i){return xa(i)&&!Uo(i).x_()&&i.Ia.size>0}function xa(i){return Xe(i).Ea.size===0}function Ow(i){i.Va=void 0}async function B4(i){i.Ra.set("Online")}async function F4(i){i.Ia.forEach(((e,n)=>{Pp(i,e)}))}async function H4(i,e){Ow(i),Up(i)?(i.Ra.ha(e),zp(i)):i.Ra.set("Unknown")}async function q4(i,e,n){if(i.Ra.set("Online"),e instanceof yw&&e.state===2&&e.cause)try{await(async function(o,u){const c=u.cause;for(const d of u.targetIds)o.Ia.has(d)&&(await o.remoteSyncer.rejectListen(d,c),o.Ia.delete(d),o.Va.removeTarget(d))})(i,e)}catch(s){ke(ga,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await kh(i,s)}else if(e instanceof hh?i.Va.Ze(e):e instanceof gw?i.Va.st(e):i.Va.tt(e),!n.isEqual(Ke.min()))try{const s=await Cw(i.localStore);n.compareTo(s)>=0&&await(function(u,c){const d=u.Va.Tt(c);return d.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=u.Ia.get(g);v&&u.Ia.set(g,v.withResumeToken(p.resumeToken,c))}})),d.targetMismatches.forEach(((p,g)=>{const v=u.Ia.get(p);if(!v)return;u.Ia.set(p,v.withResumeToken(dn.EMPTY_BYTE_STRING,v.snapshotVersion)),Dw(u,p);const b=new ys(v.target,p,g,v.sequenceNumber);Pp(u,b)})),u.remoteSyncer.applyRemoteEvent(d)})(i,n)}catch(s){ke(ga,"Failed to raise snapshot:",s),await kh(i,s)}}async function kh(i,e,n){if(!zo(e))throw e;i.Ea.add(1),await bu(i),i.Ra.set("Offline"),n||(n=()=>Cw(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{ke(ga,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await ef(i)}))}function jw(i,e){return e().catch((n=>kh(i,n,e)))}async function tf(i){const e=Xe(i),n=Is(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ep;for(;G4(e);)try{const o=await A4(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,Q4(e,o)}catch(o){await kh(e,o)}Mw(e)&&Lw(e)}function G4(i){return xa(i)&&i.Ta.length<10}function Q4(i,e){i.Ta.push(e);const n=Is(i);n.O_()&&n.X_&&n.ea(e.mutations)}function Mw(i){return xa(i)&&!Is(i).x_()&&i.Ta.length>0}function Lw(i){Is(i).start()}async function K4(i){Is(i).ra()}async function Y4(i){const e=Is(i);for(const n of i.Ta)e.ea(n.mutations)}async function X4(i,e,n){const s=i.Ta.shift(),o=Ip.from(s,e,n);await jw(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await tf(i)}async function W4(i,e){e&&Is(i).X_&&await(async function(s,o){if((function(c){return kN(c)&&c!==Ee.ABORTED})(o.code)){const u=s.Ta.shift();Is(s).B_(),await jw(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await tf(s)}})(i,e),Mw(i)&&Lw(i)}async function K0(i,e){const n=Xe(i);n.asyncQueue.verifyOperationInProgress(),ke(ga,"RemoteStore received new credentials");const s=xa(n);n.Ea.add(3),await bu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await ef(n)}async function $4(i,e){const n=Xe(i);e?(n.Ea.delete(2),await ef(n)):e||(n.Ea.add(2),await bu(n),n.Ra.set("Unknown"))}function Uo(i){return i.ma||(i.ma=(function(n,s,o){const u=Xe(n);return u.sa(),new M4(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:B4.bind(null,i),t_:F4.bind(null,i),r_:H4.bind(null,i),H_:q4.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),Up(i)?zp(i):i.Ra.set("Unknown")):(await i.ma.stop(),Ow(i))}))),i.ma}function Is(i){return i.fa||(i.fa=(function(n,s,o){const u=Xe(n);return u.sa(),new L4(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:K4.bind(null,i),r_:W4.bind(null,i),ta:Y4.bind(null,i),na:X4.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await tf(i)):(await i.fa.stop(),i.Ta.length>0&&(ke(ga,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Es,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const c=Date.now()+s,d=new Bp(e,n,c,o,u);return d.start(s),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ve(Ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fp(i,e){if(ji("AsyncQueue",`${e}: ${i}`),zo(i))return new Ve(Ee.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{static emptySet(e){return new vo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Ue.comparator(n.key,s.key):(n,s)=>Ue.comparator(n.key,s.key),this.keyedMap=Ql(),this.sortedSet=new zt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof vo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new vo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(){this.ga=new zt(Ue.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):He(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class ko{constructor(e,n,s,o,u,c,d,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const c=[];return n.forEach((d=>{c.push({type:0,doc:d})})),new ko(e,n,vo.emptySet(n),c,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class J4{constructor(){this.queries=X0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Xe(n),u=o.queries;o.queries=X0(),u.forEach(((c,d)=>{for(const p of d.Sa)p.onError(s)}))})(this,new Ve(Ee.ABORTED,"Firestore shutting down"))}}function X0(){return new ba((i=>nw(i)),Yh)}async function eI(i,e){const n=Xe(i);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new Z4,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(c){const d=Fp(c,`Initialization of query '${ho(e.query)}' failed`);return void e.onError(d)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Hp(n)}async function tI(i,e){const n=Xe(i),s=e.query;let o=3;const u=n.queries.get(s);if(u){const c=u.Sa.indexOf(e);c>=0&&(u.Sa.splice(c,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function nI(i,e){const n=Xe(i);let s=!1;for(const o of e){const u=o.query,c=n.queries.get(u);if(c){for(const d of c.Sa)d.Fa(o)&&(s=!0);c.wa=o}}s&&Hp(n)}function rI(i,e,n){const s=Xe(i),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function Hp(i){i.Ca.forEach((e=>{e.next()}))}var Xm,W0;(W0=Xm||(Xm={})).Ma="default",W0.Cache="cache";class iI{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new ko(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ko.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Xm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(e){this.key=e}}class Pw{constructor(e){this.key=e}}class sI{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=lt(),this.mutatedKeys=lt(),this.eu=rw(e),this.tu=new vo(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new Y0,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,c=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((v,b)=>{const E=o.get(v),x=Xh(this.query,b)?b:null,k=!!E&&this.mutatedKeys.has(E.key),A=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let C=!1;E&&x?E.data.isEqual(x.data)?k!==A&&(s.track({type:3,doc:x}),C=!0):this.su(E,x)||(s.track({type:2,doc:x}),C=!0,(p&&this.eu(x,p)>0||g&&this.eu(x,g)<0)&&(d=!0)):!E&&x?(s.track({type:0,doc:x}),C=!0):E&&!x&&(s.track({type:1,doc:E}),C=!0,(p||g)&&(d=!0)),C&&(x?(c=c.add(x),u=A?u.add(v):u.delete(v)):(c=c.delete(v),u=u.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),u=u.delete(v.key),s.track({type:1,doc:v})}return{tu:c,iu:s,Cs:d,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((v,b)=>(function(x,k){const A=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return He(20277,{Rt:C})}};return A(x)-A(k)})(v.type,b.type)||this.eu(v.doc,b.doc))),this.ou(s),o=o??!1;const d=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,c.length!==0||g?{snapshot:new ko(this.query,e.tu,u,c,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Y0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=lt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new Pw(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new Vw(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=lt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ko.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const qp="SyncEngine";class aI{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class oI{constructor(e){this.key=e,this.hu=!1}}class lI{constructor(e,n,s,o,u,c){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new ba((d=>nw(d)),Yh),this.Iu=new Map,this.Eu=new Set,this.du=new zt(Ue.comparator),this.Au=new Map,this.Ru=new Op,this.Vu={},this.mu=new Map,this.fu=Io.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function uI(i,e,n=!0){const s=qw(i);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await zw(s,e,n,!0),o}async function cI(i,e){const n=qw(i);await zw(n,e,!0,!1)}async function zw(i,e,n,s){const o=await R4(i.localStore,Jr(e)),u=o.targetId,c=i.sharedClientState.addLocalQueryTarget(u,n);let d;return s&&(d=await hI(i,e,u,c==="current",o.resumeToken)),i.isPrimaryClient&&n&&kw(i.remoteStore,o),d}async function hI(i,e,n,s,o){i.pu=(b,E,x)=>(async function(A,C,I,P){let z=C.view.ru(I);z.Cs&&(z=await F0(A.localStore,C.query,!1).then((({documents:j})=>C.view.ru(j,z))));const K=P&&P.targetChanges.get(C.targetId),X=P&&P.targetMismatches.get(C.targetId)!=null,ae=C.view.applyChanges(z,A.isPrimaryClient,K,X);return Z0(A,C.targetId,ae.au),ae.snapshot})(i,b,E,x);const u=await F0(i.localStore,e,!0),c=new sI(e,u.Qs),d=c.ru(u.documents),p=vu.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),g=c.applyChanges(d,i.isPrimaryClient,p);Z0(i,n,g.au);const v=new aI(e,n,c);return i.Tu.set(e,v),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),g.snapshot}async function fI(i,e,n){const s=Xe(i),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((c=>!Yh(c,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Km(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Vp(s.remoteStore,o.targetId),Wm(s,o.targetId)})).catch(Po)):(Wm(s,o.targetId),await Km(s.localStore,o.targetId,!0))}async function dI(i,e){const n=Xe(i),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Vp(n.remoteStore,s.targetId))}async function mI(i,e,n){const s=wI(i);try{const o=await(function(c,d){const p=Xe(c),g=Nt.now(),v=d.reduce(((x,k)=>x.add(k.key)),lt());let b,E;return p.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let k=Mi(),A=lt();return p.Ns.getEntries(x,v).next((C=>{k=C,k.forEach(((I,P)=>{P.isValidDocument()||(A=A.add(I))}))})).next((()=>p.localDocuments.getOverlayedDocuments(x,k))).next((C=>{b=C;const I=[];for(const P of d){const z=AN(P,b.get(P.key).overlayedDocument);z!=null&&I.push(new wa(P.key,z,X1(z.value.mapValue),Ii.exists(!0)))}return p.mutationQueue.addMutationBatch(x,g,I,d)})).next((C=>{E=C;const I=C.applyToLocalDocumentSet(b,A);return p.documentOverlayCache.saveOverlays(x,C.batchId,I)}))})).then((()=>({batchId:E.batchId,changes:sw(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(c,d,p){let g=c.Vu[c.currentUser.toKey()];g||(g=new zt(ot)),g=g.insert(d,p),c.Vu[c.currentUser.toKey()]=g})(s,o.batchId,n),await wu(s,o.changes),await tf(s.remoteStore)}catch(o){const u=Fp(o,"Failed to persist write");n.reject(u)}}async function Uw(i,e){const n=Xe(i);try{const s=await T4(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const c=n.Au.get(u);c&&(vt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?vt(c.hu,14607):o.removedDocuments.size>0&&(vt(c.hu,42227),c.hu=!1))})),await wu(n,s,e)}catch(s){await Po(s)}}function $0(i,e,n){const s=Xe(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,c)=>{const d=c.view.va(e);d.snapshot&&o.push(d.snapshot)})),(function(c,d){const p=Xe(c);p.onlineState=d;let g=!1;p.queries.forEach(((v,b)=>{for(const E of b.Sa)E.va(d)&&(g=!0)})),g&&Hp(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function pI(i,e,n){const s=Xe(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let c=new zt(Ue.comparator);c=c.insert(u,En.newNoDocument(u,Ke.min()));const d=lt().add(u),p=new Zh(Ke.min(),new Map,new zt(ot),c,d);await Uw(s,p),s.du=s.du.remove(u),s.Au.delete(e),Gp(s)}else await Km(s.localStore,e,!1).then((()=>Wm(s,e,n))).catch(Po)}async function gI(i,e){const n=Xe(i),s=e.batch.batchId;try{const o=await E4(n.localStore,e);Fw(n,s,null),Bw(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await wu(n,o)}catch(o){await Po(o)}}async function yI(i,e,n){const s=Xe(i);try{const o=await(function(c,d){const p=Xe(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return p.mutationQueue.lookupMutationBatch(g,d).next((b=>(vt(b!==null,37113),v=b.keys(),p.mutationQueue.removeMutationBatch(g,b)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,d))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>p.localDocuments.getDocuments(g,v)))}))})(s.localStore,e);Fw(s,e,n),Bw(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await wu(s,o)}catch(o){await Po(o)}}function Bw(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function Fw(i,e,n){const s=Xe(i);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Wm(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),n&&i.Pu.yu(s,n);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((s=>{i.Ru.containsKey(s)||Hw(i,s)}))}function Hw(i,e){i.Eu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(Vp(i.remoteStore,n),i.du=i.du.remove(e),i.Au.delete(n),Gp(i))}function Z0(i,e,n){for(const s of n)s instanceof Vw?(i.Ru.addReference(s.key,e),_I(i,s)):s instanceof Pw?(ke(qp,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||Hw(i,s.key)):He(19791,{wu:s})}function _I(i,e){const n=e.key,s=n.path.canonicalString();i.du.get(n)||i.Eu.has(s)||(ke(qp,"New document in limbo: "+n),i.Eu.add(s),Gp(i))}function Gp(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new Ue(Pt.fromString(e)),s=i.fu.next();i.Au.set(s,new oI(n)),i.du=i.du.insert(n,s),kw(i.remoteStore,new ys(Jr(Cp(n.path)),s,"TargetPurposeLimboResolution",qh.ce))}}async function wu(i,e,n){const s=Xe(i),o=[],u=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((d,p)=>{c.push(s.pu(p,e,n).then((g=>{var v;if((g||n)&&s.isPrimaryClient){const b=g?!g.fromCache:(v=n==null?void 0:n.targetChanges.get(p.targetId))==null?void 0:v.current;s.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(g){o.push(g);const b=Mp.As(p.targetId,g);u.push(b)}})))})),await Promise.all(c),s.Pu.H_(o),await(async function(p,g){const v=Xe(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>xe.forEach(g,(E=>xe.forEach(E.Es,(x=>v.persistence.referenceDelegate.addReference(b,E.targetId,x))).next((()=>xe.forEach(E.ds,(x=>v.persistence.referenceDelegate.removeReference(b,E.targetId,x)))))))))}catch(b){if(!zo(b))throw b;ke(Lp,"Failed to update sequence numbers: "+b)}for(const b of g){const E=b.targetId;if(!b.fromCache){const x=v.Ms.get(E),k=x.snapshotVersion,A=x.withLastLimboFreeSnapshotVersion(k);v.Ms=v.Ms.insert(E,A)}}})(s.localStore,u))}async function vI(i,e){const n=Xe(i);if(!n.currentUser.isEqual(e)){ke(qp,"User change. New user:",e.toKey());const s=await Rw(n.localStore,e);n.currentUser=e,(function(u,c){u.mu.forEach((d=>{d.forEach((p=>{p.reject(new Ve(Ee.CANCELLED,c))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await wu(n,s.Ls)}}function bI(i,e){const n=Xe(i),s=n.Au.get(e);if(s&&s.hu)return lt().add(s.key);{let o=lt();const u=n.Iu.get(e);if(!u)return o;for(const c of u){const d=n.Tu.get(c);o=o.unionWith(d.view.nu)}return o}}function qw(i){const e=Xe(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Uw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=bI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pI.bind(null,e),e.Pu.H_=nI.bind(null,e.eventManager),e.Pu.yu=rI.bind(null,e.eventManager),e}function wI(i){const e=Xe(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=yI.bind(null,e),e}class Dh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Jh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return x4(this.persistence,new v4,e.initialUser,this.serializer)}Cu(e){return new Aw(jp.mi,this.serializer)}Du(e){return new N4}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Dh.provider={build:()=>new Dh};class xI extends Dh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){vt(this.persistence.referenceDelegate instanceof Ih,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new i4(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Mn.withCacheSize(this.cacheSizeBytes):Mn.DEFAULT;return new Aw((s=>Ih.mi(s,n)),this.serializer)}}class $m{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>$0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=vI.bind(null,this.syncEngine),await $4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new J4})()}createDatastore(e){const n=Jh(e.databaseInfo.databaseId),s=(function(u){return new j4(u)})(e.databaseInfo);return(function(u,c,d,p){return new P4(u,c,d,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,c,d){return new U4(s,o,u,c,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>$0(this.syncEngine,n,0)),(function(){return G0.v()?new G0:new I4})())}createSyncEngine(e,n){return(function(o,u,c,d,p,g,v){const b=new lI(o,u,c,d,p,g);return v&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(o){const u=Xe(o);ke(ga,"RemoteStore shutting down."),u.Ea.add(5),await bu(u),u.Aa.shutdown(),u.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}$m.provider={build:()=>new $m};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ji("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks="FirestoreClient";class TI{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=xn.UNAUTHENTICATED,this.clientId=Hh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async c=>{ke(ks,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(ke(ks,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Es;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Fp(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Em(i,e){i.asyncQueue.verifyOperationInProgress(),ke(ks,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await Rw(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function J0(i,e){i.asyncQueue.verifyOperationInProgress();const n=await SI(i);ke(ks,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((s=>K0(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>K0(e.remoteStore,o))),i._onlineComponents=e}async function SI(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ke(ks,"Using user provided OfflineComponentProvider");try{await Em(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Ee.FAILED_PRECONDITION||o.code===Ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;pa("Error using user provided cache. Falling back to memory cache: "+n),await Em(i,new Dh)}}else ke(ks,"Using default OfflineComponentProvider"),await Em(i,new xI(void 0));return i._offlineComponents}async function Gw(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ke(ks,"Using user provided OnlineComponentProvider"),await J0(i,i._uninitializedComponentsProvider._online)):(ke(ks,"Using default OnlineComponentProvider"),await J0(i,new $m))),i._onlineComponents}function AI(i){return Gw(i).then((e=>e.syncEngine))}async function RI(i){const e=await Gw(i),n=e.eventManager;return n.onListen=uI.bind(null,e.syncEngine),n.onUnlisten=fI.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=cI.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=dI.bind(null,e.syncEngine),n}function CI(i,e,n={}){const s=new Es;return i.asyncQueue.enqueueAndForget((async()=>(function(u,c,d,p,g){const v=new EI({next:E=>{v.Nu(),c.enqueueAndForget((()=>tI(u,b)));const x=E.docs.has(d);!x&&E.fromCache?g.reject(new Ve(Ee.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&E.fromCache&&p&&p.source==="server"?g.reject(new Ve(Ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(E)},error:E=>g.reject(E)}),b=new iI(Cp(d.path),v,{includeMetadataChanges:!0,qa:!0});return eI(u,b)})(await RI(i),i.asyncQueue,e,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qw(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw="firestore.googleapis.com",tb=!0;class nb{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ve(Ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Kw,this.ssl=tb}else this.host=e.host,this.ssl=e.ssl??tb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Sw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<n4)throw new Ve(Ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}P1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Qw(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Ve(Ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Ve(Ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Ve(Ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Qp{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ve(Ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ve(Ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new V1;switch(s.type){case"firstParty":return new OC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Ve(Ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=eb.get(n);s&&(ke("ComponentProvider","Removing Datastore"),eb.delete(n),s.terminate())})(this),Promise.resolve()}}function Yw(i,e,n,s={}){var g;i=Ao(i,Qp);const o=Mo(e),u=i._getSettings(),c={...u,emulatorOptions:i._getEmulatorOptions()},d=`${e}:${n}`;o&&(Ib(`https://${d}`),kb("Firestore",!0)),u.host!==Kw&&u.host!==d&&pa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:d,ssl:o,emulatorOptions:s};if(!ha(p,c)&&(i._setSettings(p),s.mockUserToken)){let v,b;if(typeof s.mockUserToken=="string")v=s.mockUserToken,b=xn.MOCK_USER;else{v=$T(s.mockUserToken,(g=i._app)==null?void 0:g.options.projectId);const E=s.mockUserToken.sub||s.mockUserToken.user_id;if(!E)throw new Ve(Ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new xn(E)}i._authCredentials=new IC(new L1(v,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new nf(this.firestore,e,this._query)}}class sn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Do(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new sn(this.firestore,e,this._key)}toJSON(){return{type:sn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(yu(n,sn._jsonSchema))return new sn(e,s||null,new Ue(Pt.fromString(n.referencePath)))}}sn._jsonSchemaVersion="firestore/documentReference/1.0",sn._jsonSchema={type:tn("string",sn._jsonSchemaVersion),referencePath:tn("string")};class Do extends nf{constructor(e,n,s){super(e,n,Cp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new sn(this.firestore,null,new Ue(e))}withConverter(e){return new Do(this.firestore,e,this._path)}}function Xw(i,e,...n){if(i=Xn(i),arguments.length===1&&(e=Hh.newId()),zC("doc","path",e),i instanceof Qp){const s=Pt.fromString(e,...n);return g0(s),new sn(i,null,new Ue(s))}{if(!(i instanceof sn||i instanceof Do))throw new Ve(Ee.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Pt.fromString(e,...n));return g0(s),new sn(i.firestore,i instanceof Do?i.converter:null,new Ue(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb="AsyncQueue";class ib{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Nw(this,"async_queue_retry"),this._c=()=>{const s=xm();s&&ke(rb,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=xm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=xm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Es;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!zo(e))throw e;ke(rb,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,ji("INTERNAL UNHANDLED ERROR: ",sb(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Bp.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&He(47125,{Pc:sb(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function sb(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class rf extends Qp{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new ib,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ib(e),this._firestoreClient=void 0,await e}}}function Ww(i,e){const n=typeof i=="object"?i:Mb(),s=typeof i=="string"?i:Eh,o=hp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=XT("firestore");u&&Yw(o,...u)}return o}function Kp(i){if(i._terminated)throw new Ve(Ee.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||NI(i),i._firestoreClient}function NI(i){var s,o,u;const e=i._freezeSettings(),n=(function(d,p,g,v){return new WC(d,p,g,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,Qw(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)})(i._databaseId,((s=i._app)==null?void 0:s.options.appId)||"",i._persistenceKey,e);i._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((u=e.localCache)!=null&&u._onlineComponentProvider)&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new TI(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Kn(dn.fromBase64String(e))}catch(n){throw new Ve(Ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Kn(dn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Kn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(yu(e,Kn._jsonSchema))return Kn.fromBase64String(e.bytes)}}Kn._jsonSchemaVersion="firestore/bytes/1.0",Kn._jsonSchema={type:tn("string",Kn._jsonSchemaVersion),bytes:tn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ve(Ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ve(Ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ve(Ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ot(this._lat,e._lat)||ot(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Cr._jsonSchemaVersion}}static fromJSON(e){if(yu(e,Cr._jsonSchema))return new Cr(e.latitude,e.longitude)}}Cr._jsonSchemaVersion="firestore/geoPoint/1.0",Cr._jsonSchema={type:tn("string",Cr._jsonSchemaVersion),latitude:tn("number"),longitude:tn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Nr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(yu(e,Nr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Nr(e.vectorValues);throw new Ve(Ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Nr._jsonSchemaVersion="firestore/vectorValue/1.0",Nr._jsonSchema={type:tn("string",Nr._jsonSchemaVersion),vectorValues:tn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II=/^__.*__$/;class kI{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new wa(e,this.data,this.fieldMask,n,this.fieldTransforms):new _u(e,this.data,n,this.fieldTransforms)}}function $w(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw He(40011,{Ac:i})}}class Xp{constructor(e,n,s,o,u,c){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Xp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var o;const n=(o=this.path)==null?void 0:o.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){var o;const n=(o=this.path)==null?void 0:o.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Oh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if($w(this.Ac)&&II.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class DI{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Jh(e)}Cc(e,n,s,o=!1){return new Xp({Ac:e,methodName:n,Dc:s,path:fn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function OI(i){const e=i._freezeSettings(),n=Jh(i._databaseId);return new DI(i._databaseId,!!e.ignoreUndefinedProperties,n)}function jI(i,e,n,s,o,u={}){const c=i.Cc(u.merge||u.mergeFields?2:0,e,n,o);tx("Data must be an object, but it was:",c,s);const d=Jw(s,c);let p,g;if(u.merge)p=new Ar(c.fieldMask),g=c.fieldTransforms;else if(u.mergeFields){const v=[];for(const b of u.mergeFields){const E=MI(e,b,n);if(!c.contains(E))throw new Ve(Ee.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);VI(v,E)||v.push(E)}p=new Ar(v),g=c.fieldTransforms.filter((b=>p.covers(b.field)))}else p=null,g=c.fieldTransforms;return new kI(new cr(d),p,g)}function Zw(i,e){if(ex(i=Xn(i)))return tx("Unsupported field value:",e,i),Jw(i,e);if(i instanceof Yp)return(function(s,o){if(!$w(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let c=0;for(const d of s){let p=Zw(d,o.wc(c));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),c++}return{arrayValue:{values:u}}})(i,e)}return(function(s,o){if((s=Xn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return bN(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Nt.fromDate(s);return{timestampValue:Nh(o.serializer,u)}}if(s instanceof Nt){const u=new Nt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Nh(o.serializer,u)}}if(s instanceof Cr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Kn)return{bytesValue:_w(o.serializer,s._byteString)};if(s instanceof sn){const u=o.databaseId,c=s.firestore._databaseId;if(!c.isEqual(u))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Dp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Nr)return(function(c,d){return{mapValue:{fields:{[K1]:{stringValue:Y1},[Th]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw d.Sc("VectorValues must only contain numeric values.");return Np(d.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${xp(s)}`)})(i,e)}function Jw(i,e){const n={};return B1(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):va(i,((s,o)=>{const u=Zw(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function ex(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Nt||i instanceof Cr||i instanceof Kn||i instanceof sn||i instanceof Yp||i instanceof Nr)}function tx(i,e,n){if(!ex(n)||!z1(n)){const s=xp(n);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function MI(i,e,n){if((e=Xn(e))instanceof sf)return e._internalPath;if(typeof e=="string")return nx(i,e);throw Oh("Field path arguments must be of type string or ",i,!1,void 0,n)}const LI=new RegExp("[~\\*/\\[\\]]");function nx(i,e,n){if(e.search(LI)>=0)throw Oh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new sf(...e.split("."))._internalPath}catch{throw Oh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Oh(i,e,n,s,o){const u=s&&!s.isEmpty(),c=o!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(u||c)&&(p+=" (found",u&&(p+=` in field ${s}`),c&&(p+=` in document ${o}`),p+=")"),new Ve(Ee.INVALID_ARGUMENT,d+i+p)}function VI(i,e){return i.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new sn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new PI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ix("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class PI extends rx{data(){return super.data()}}function ix(i,e){return typeof e=="string"?nx(i,e):e instanceof sf?e._internalPath:e._delegate._internalPath}class sx{convertValue(e,n="none"){switch(Ns(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Cs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw He(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return va(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){var s,o,u;const n=(u=(o=(s=e.fields)==null?void 0:s[Th].arrayValue)==null?void 0:o.values)==null?void 0:u.map((c=>Qt(c.doubleValue)));return new Nr(n)}convertGeoPoint(e){return new Cr(Qt(e.latitude),Qt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Qh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(iu(e));default:return null}}convertTimestamp(e){const n=Rs(e);return new Nt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Pt.fromString(e);vt(Tw(s),9688,{name:e});const o=new Ro(s.get(1),s.get(3)),u=new Ue(s.popFirst(5));return o.isEqual(n)||ji(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zI(i,e,n){let s;return s=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,s}class po{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ts extends rx{constructor(e,n,s,o,u,c){super(e,n,s,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new eu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(ix("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ve(Ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ts._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ts._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ts._jsonSchema={type:tn("string",Ts._jsonSchemaVersion),bundleSource:tn("string","DocumentSnapshot"),bundleName:tn("string"),bundle:tn("string")};class eu extends Ts{data(e={}){return super.data(e)}}class bo{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new po(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new eu(this._firestore,this._userDataWriter,s.key,s,new po(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ve(Ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((d=>{const p=new eu(o._firestore,o._userDataWriter,d.doc.key,d.doc,new po(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((d=>u||d.type!==3)).map((d=>{const p=new eu(o._firestore,o._userDataWriter,d.doc.key,d.doc,new po(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),v=c.indexOf(d.doc.key)),{type:UI(d.type),doc:p,oldIndex:g,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ve(Ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=bo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Hh.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function UI(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return He(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ax(i){i=Ao(i,sn);const e=Ao(i.firestore,rf);return CI(Kp(e),i._key).then((n=>HI(e,i,n)))}bo._jsonSchemaVersion="firestore/querySnapshot/1.0",bo._jsonSchema={type:tn("string",bo._jsonSchemaVersion),bundleSource:tn("string","QuerySnapshot"),bundleName:tn("string"),bundle:tn("string")};class BI extends sx{constructor(e){super(),this.firestore=e}convertBytes(e){return new Kn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new sn(this.firestore,null,n)}}function FI(i,e,n){i=Ao(i,sn);const s=Ao(i.firestore,rf),o=zI(i.converter,e,n);return ox(s,[jI(OI(s),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,Ii.none())])}function ox(i,e){return(function(s,o){const u=new Es;return s.asyncQueue.enqueueAndForget((async()=>mI(await AI(s),o,u))),u.promise})(Kp(i),e)}function HI(i,e,n){const s=n.docs.get(e._key),o=new BI(i);return new Ts(i,o,e._key,s,new po(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){Vo=o})(Lo),xo(new fa("firestore",((s,{instanceIdentifier:o,options:u})=>{const c=s.getProvider("app").getImmediate(),d=new rf(new kC(s.getProvider("auth-internal")),new jC(c,s.getProvider("app-check-internal")),(function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new Ve(Ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ro(g.options.projectId,v)})(c,o),c);return u={useFetchStreams:n,...u},d._setSettings(u),d}),"PUBLIC").setMultipleInstances(!0)),ws(f0,d0,e),ws(f0,d0,"esm2020")})();const Zm=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:sx,Bytes:Kn,CollectionReference:Do,DocumentReference:sn,DocumentSnapshot:Ts,FieldPath:sf,FieldValue:Yp,Firestore:rf,FirestoreError:Ve,GeoPoint:Cr,Query:nf,QueryDocumentSnapshot:eu,QuerySnapshot:bo,SnapshotMetadata:po,Timestamp:Nt,VectorValue:Nr,_AutoId:Hh,_ByteString:dn,_DatabaseId:Ro,_DocumentKey:Ue,_EmptyAuthCredentialsProvider:V1,_FieldPath:fn,_cast:Ao,_logWarn:pa,_validateIsNotUsedTogether:P1,connectFirestoreEmulator:Yw,doc:Xw,ensureFirestoreConfigured:Kp,executeWrite:ox,getDoc:ax,getFirestore:Ww,setDoc:FI},Symbol.toStringTag,{value:"Module"})),qI={apiKey:"AIzaSyBSUJ3y6PFrdN7QF2kPgPX95BjJtZ0hrws",authDomain:"hdlbase-4098c.firebaseapp.com",projectId:"hdlbase-4098c",storageBucket:"hdlbase-4098c.firebasestorage.app",messagingSenderId:"90007737592",appId:"1:90007737592:web:301578908a7fcb55ae570d"},lx=jb(qI),Jm=C1(lx),ux=Ww(lx),GI=new $r,jh=Object.freeze(Object.defineProperty({__proto__:null,auth:Jm,db:ux,googleProvider:GI},Symbol.toStringTag,{value:"Module"})),QI=()=>{const[i,e]=Z.useState(null),[n,s]=Z.useState(null),[o,u]=Z.useState(!0);Z.useEffect(()=>{console.log("App mounted, setting up auth listener...");const p=m1(Jm,async g=>{if(console.log("Auth State Changed:",g?"User Found":"No User"),g)try{const v=Xw(ux,"users",g.uid),b=await ax(v);if(b.exists()){const E=b.data();console.log("Profile loaded:",E.role),e(g),s(E);const x=await g.getIdToken();localStorage.setItem("hdlbase_mock_session",JSON.stringify({uid:g.uid,token:x,role:E.role,email:g.email}))}else{console.log("User exists but no profile doc found."),e(g);let E=hn.LEARNER;try{const k=localStorage.getItem("hdlbase_mock_session");if(k){const A=JSON.parse(k);A.role&&(E=A.role)}}catch(k){console.warn("Session parse error",k)}const x=await g.getIdToken();localStorage.setItem("hdlbase_mock_session",JSON.stringify({uid:g.uid,token:x,role:E,email:g.email}))}}catch(v){console.error("Error fetching user profile:",v)}else e(null),s(null);u(!1)});return()=>p()},[]);const c=()=>{},d=async()=>{try{await Jm.signOut(),window.location.hash="#/"}catch(p){console.error("Error signing out:",p)}};return o?y.jsx("div",{className:"min-h-screen bg-matte flex items-center justify-center",children:y.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-accent"})}):y.jsx(vT,{children:y.jsxs(X2,{children:[y.jsx(uo,{path:"/",element:y.jsx(NT,{currentUser:i,onSignOut:d})}),y.jsx(uo,{path:"/login",element:i?y.jsx(Gc,{to:"/dashboard"}):y.jsx(DT,{onLoginSuccess:c})}),y.jsx(uo,{path:"/signup",element:i?y.jsx(Gc,{to:"/dashboard"}):y.jsx(UT,{onLoginSuccess:c})}),y.jsx(uo,{path:"/dashboard",element:i?(n==null?void 0:n.role)===hn.CONTRIBUTOR?y.jsx(PT,{profile:n,onSignOut:d}):y.jsx(zT,{profile:n||{uid:i.uid,email:i.email,role:hn.LEARNER,displayName:"User",username:"user123",category:"Learner"},onSignOut:d}):y.jsx(Gc,{to:"/"})}),y.jsx(uo,{path:"*",element:y.jsx(Gc,{to:"/"})})]})})},cx=document.getElementById("root");if(!cx)throw new Error("Could not find root element to mount to");const KI=ZE.createRoot(cx);KI.render(y.jsx(qE.StrictMode,{children:y.jsx(QI,{})}));
